/*! For license information please see main.e486a47f.js.LICENSE.txt */
(()=>{var e={8500:(e,t,i)=>{"use strict";i.d(t,{z1:()=>D,cM:()=>v,UA:()=>T,uy:()=>b});var n=i(5445),o=i(3143),a=2,r=.16,s=.05,l=.05,c=.15,d=5,u=4,h=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function p(e){var t=e.r,i=e.g,o=e.b,a=(0,n.wE)(t,i,o);return{h:360*a.h,s:a.s,v:a.v}}function g(e){var t=e.r,i=e.g,o=e.b;return"#".concat((0,n.Ob)(t,i,o,!1))}function f(e,t,i){var n;return(n=Math.round(e.h)>=60&&Math.round(e.h)<=240?i?Math.round(e.h)-a*t:Math.round(e.h)+a*t:i?Math.round(e.h)+a*t:Math.round(e.h)-a*t)<0?n+=360:n>=360&&(n-=360),n}function m(e,t,i){return 0===e.h&&0===e.s?e.s:((n=i?e.s-r*t:t===u?e.s+r:e.s+s*t)>1&&(n=1),i&&t===d&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function y(e,t,i){var n;return(n=i?e.v+l*t:e.v-c*t)>1&&(n=1),Number(n.toFixed(2))}function v(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],n=(0,o.RO)(e),a=d;a>0;a-=1){var r=p(n),s=g((0,o.RO)({h:f(r,a,!0),s:m(r,a,!0),v:y(r,a,!0)}));i.push(s)}i.push(g(n));for(var l=1;l<=u;l+=1){var c=p(n),v=g((0,o.RO)({h:f(c,l),s:m(c,l),v:y(c,l)}));i.push(v)}return"dark"===t.theme?h.map((function(e){var n=e.index,a=e.opacity;return g(function(e,t,i){var n=i/100;return{r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b}}((0,o.RO)(t.backgroundColor||"#141414"),(0,o.RO)(i[n]),100*a))})):i}var b={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},x=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];x.primary=x[5];var S=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];S.primary=S[5];var M=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];M.primary=M[5];var A=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];A.primary=A[5];var k=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];k.primary=k[5];var w=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];w.primary=w[5];var C=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];C.primary=C[5];var I=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];I.primary=I[5];var D=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];D.primary=D[5];var N=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];N.primary=N[5];var E=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];E.primary=E[5];var O=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];O.primary=O[5];var L=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];L.primary=L[5];var T={red:x,volcano:S,orange:M,gold:A,yellow:k,lime:w,green:C,cyan:I,blue:D,geekblue:N,purple:E,magenta:O,grey:L},R=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];R.primary=R[5];var P=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];P.primary=P[5];var z=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];z.primary=z[5];var j=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];j.primary=j[5];var B=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];B.primary=B[5];var $=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];$.primary=$[5];var F=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];F.primary=F[5];var _=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];_.primary=_[5];var H=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];H.primary=H[5];var W=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];W.primary=W[5];var G=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];G.primary=G[5];var V=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];V.primary=V[5];var U=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];U.primary=U[5]},8446:(e,t,i)=>{"use strict";i.d(t,{L_:()=>R,oX:()=>w});var n=i(2284),o=i(5544),a=i(4467),r=i(9379),s=i(5043),l=i(3944),c=i(3029),d=i(2901),u=i(9417),h=i(5501),p=i(9640);const g=(0,d.A)((function e(){(0,c.A)(this,e)}));var f="CALC_UNIT",m=new RegExp(f,"g");function y(e){return"number"===typeof e?"".concat(e).concat(f):e}var v=function(e){(0,h.A)(i,e);var t=(0,p.A)(i);function i(e,o){var r;(0,c.A)(this,i),r=t.call(this),(0,a.A)((0,u.A)(r),"result",""),(0,a.A)((0,u.A)(r),"unitlessCssVar",void 0),(0,a.A)((0,u.A)(r),"lowPriority",void 0);var s=(0,n.A)(e);return r.unitlessCssVar=o,e instanceof i?r.result="(".concat(e.result,")"):"number"===s?r.result=y(e):"string"===s&&(r.result=e),r}return(0,d.A)(i,[{key:"add",value:function(e){return e instanceof i?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(y(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof i?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(y(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof i?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof i?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,i=(e||{}).unit,n=!0;return"boolean"===typeof i?n=i:Array.from(this.unitlessCssVar).some((function(e){return t.result.includes(e)}))&&(n=!1),this.result=this.result.replace(m,n?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),i}(g);const b=function(e){(0,h.A)(i,e);var t=(0,p.A)(i);function i(e){var n;return(0,c.A)(this,i),n=t.call(this),(0,a.A)((0,u.A)(n),"result",0),e instanceof i?n.result=e.result:"number"===typeof e&&(n.result=e),n}return(0,d.A)(i,[{key:"add",value:function(e){return e instanceof i?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof i?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof i?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof i?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),i}(g);const x=function(e,t){var i="css"===e?v:b;return function(e){return new i(e,t)}};const S=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};i(7483);const M=function(e,t,i,n){var a=(0,r.A)({},t[e]);null!==n&&void 0!==n&&n.deprecatedTokens&&n.deprecatedTokens.forEach((function(e){var t,i=(0,o.A)(e,2),n=i[0],r=i[1];(null!==a&&void 0!==a&&a[n]||null!==a&&void 0!==a&&a[r])&&(null!==(t=a[r])&&void 0!==t||(a[r]=null===a||void 0===a?void 0:a[n]))}));var s=(0,r.A)((0,r.A)({},i),a);return Object.keys(s).forEach((function(e){s[e]===t[e]&&delete s[e]})),s};var A="undefined"!==typeof CSSINJS_STATISTIC,k=!0;function w(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!A)return Object.assign.apply(Object,[{}].concat(t));k=!1;var o={};return t.forEach((function(e){"object"===(0,n.A)(e)&&Object.keys(e).forEach((function(t){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),k=!0,o}var C={};function I(){}const D=function(e){var t,i=e,n=I;return A&&"undefined"!==typeof Proxy&&(t=new Set,i=new Proxy(e,{get:function(e,i){var n;k&&(null===(n=t)||void 0===n||n.add(i));return e[i]}}),n=function(e,i){var n;C[e]={global:Array.from(t),component:(0,r.A)((0,r.A)({},null===(n=C[e])||void 0===n?void 0:n.component),i)}}),{token:i,keys:t,flush:n}};const N=function(e,t,i){var n;return"function"===typeof i?i(w(t,null!==(n=t[e])&&void 0!==n?n:{})):null!==i&&void 0!==i?i:{}};const E=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"max(".concat(t.map((function(e){return(0,l.zA)(e)})).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"min(".concat(t.map((function(e){return(0,l.zA)(e)})).join(","),")")}}};var O=new(function(){function e(){(0,c.A)(this,e),(0,a.A)(this,"map",new Map),(0,a.A)(this,"objectIDMap",new WeakMap),(0,a.A)(this,"nextID",0),(0,a.A)(this,"lastAccessBeat",new Map),(0,a.A)(this,"accessBeat",0)}return(0,d.A)(e,[{key:"set",value:function(e,t){this.clear();var i=this.getCompositeKey(e);this.map.set(i,t),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),i=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(e){var t=this;return e.map((function(e){return e&&"object"===(0,n.A)(e)?"obj_".concat(t.getObjectID(e)):"".concat((0,n.A)(e),"_").concat(e)})).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach((function(i,n){t-i>6e5&&(e.map.delete(n),e.lastAccessBeat.delete(n))})),this.accessBeat=0}}}]),e}());const L=function(e,t){return s.useMemo((function(){var i=O.get(t);if(i)return i;var n=e();return O.set(t,n),n}),t)};const T=function(){return{}};const R=function(e){var t=e.useCSP,i=void 0===t?T:t,c=e.useToken,d=e.usePrefix,u=e.getResetStyles,h=e.getCommonStyle,p=e.getCompUnitless;function g(t,a,s){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=Array.isArray(t)?t:[t,t],f=(0,o.A)(g,1)[0],m=g.join("-"),y=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=c(),g=o.theme,v=o.realToken,b=o.hashId,A=o.token,k=o.cssVar,C=d(),I=C.rootPrefixCls,O=C.iconPrefixCls,T=i(),R=k?"css":"js",P=L((function(){var e=new Set;return k&&Object.keys(p.unitless||{}).forEach((function(t){e.add((0,l.Ki)(t,k.prefix)),e.add((0,l.Ki)(t,S(f,k.prefix)))})),x(R,e)}),[R,f,null===k||void 0===k?void 0:k.prefix]),z=E(R),j=z.max,B=z.min,$={theme:g,token:A,hashId:b,nonce:function(){return T.nonce},clientOnly:p.clientOnly,layer:y,order:p.order||-999};return(0,l.IV)((0,r.A)((0,r.A)({},$),{},{clientOnly:!1,path:["Shared",I]}),(function(){return"function"===typeof u?u(A):[]})),[(0,l.IV)((0,r.A)((0,r.A)({},$),{},{path:[m,e,O]}),(function(){if(!1===p.injectStyle)return[];var i=D(A),o=i.token,r=i.flush,c=N(f,v,s),d=".".concat(e),u=M(f,v,c,{deprecatedTokens:p.deprecatedTokens});k&&c&&"object"===(0,n.A)(c)&&Object.keys(c).forEach((function(e){c[e]="var(".concat((0,l.Ki)(e,S(f,k.prefix)),")")}));var g=w(o,{componentCls:d,prefixCls:e,iconCls:".".concat(O),antCls:".".concat(I),calc:P,max:j,min:B},k?c:u),m=a(g,{hashId:b,prefixCls:e,rootPrefixCls:I,iconPrefixCls:O});r(f,u);var y="function"===typeof h?h(g,e,t,p.resetFont):null;return[!1===p.resetStyle?null:y,m]})),b]}}return{genStyleHooks:function(e,t,i,n){var d=Array.isArray(e)?e[0]:e;function u(e){return"".concat(String(d)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var h=(null===n||void 0===n?void 0:n.unitless)||{},f="function"===typeof p?p(e):{},m=(0,r.A)((0,r.A)({},f),{},(0,a.A)({},u("zIndexPopup"),!0));Object.keys(h).forEach((function(e){m[u(e)]=h[e]}));var y=(0,r.A)((0,r.A)({},n),{},{unitless:m,prefixToken:u}),v=g(e,t,i,y),b=function(e,t,i){var n=i.unitless,o=i.injectStyle,a=void 0===o||o,r=i.prefixToken,d=i.ignore,u=function(o){var a=o.rootCls,s=o.cssVar,u=void 0===s?{}:s,h=c().realToken;return(0,l.RC)({path:[e],prefix:u.prefix,key:u.key,unitless:n,ignore:d,token:h,scope:a},(function(){var n=N(e,h,t),o=M(e,h,n,{deprecatedTokens:null===i||void 0===i?void 0:i.deprecatedTokens});return Object.keys(n).forEach((function(e){o[r(e)]=o[e],delete o[e]})),o})),null},h=function(t){var i=c().cssVar;return[function(n){return a&&i?s.createElement(s.Fragment,null,s.createElement(u,{rootCls:t,cssVar:i,component:e}),n):n},null===i||void 0===i?void 0:i.key]};return h}(d,i,y);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=v(e,t),n=(0,o.A)(i,2)[1],a=b(t),r=(0,o.A)(a,2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=g(e,t,i,(0,r.A)({resetStyle:!1,order:-998},n));return function(e){var t=e.prefixCls,i=e.rootCls;return o(t,void 0===i?t:i),null}},genComponentStyleHook:g}}},3944:(e,t,i)=>{"use strict";i.d(t,{Mo:()=>ct,an:()=>E,lO:()=>J,Ki:()=>$,zA:()=>j,RC:()=>st,hV:()=>te,IV:()=>at});var n=i(4467),o=i(5544),a=i(436),r=i(9379);const s=function(e){for(var t,i=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),i=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(o){case 3:i^=(255&e.charCodeAt(n+2))<<16;case 2:i^=(255&e.charCodeAt(n+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(n)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)};var l=i(930),c=i(5043),d=i.t(c,2),u=(i(3709),i(2231),i(3029)),h=i(2901),p="%";function g(e){return e.join(p)}const f=function(){function e(t){(0,u.A)(this,e),(0,n.A)(this,"instanceId",void 0),(0,n.A)(this,"cache",new Map),this.instanceId=t}return(0,h.A)(e,[{key:"get",value:function(e){return this.opGet(g(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(g(e),t)}},{key:"opUpdate",value:function(e,t){var i=t(this.cache.get(e));null===i?this.cache.delete(e):this.cache.set(e,i)}}]),e}();var m="data-token-hash",y="data-css-hash",v="__cssinjs_instance__";function b(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(y,"]"))||[],i=document.head.firstChild;Array.from(t).forEach((function(t){t[v]=t[v]||e,t[v]===e&&document.head.insertBefore(t,i)}));var n={};Array.from(document.querySelectorAll("style[".concat(y,"]"))).forEach((function(t){var i,o=t.getAttribute(y);n[o]?t[v]===e&&(null===(i=t.parentNode)||void 0===i||i.removeChild(t)):n[o]=!0}))}return new f(e)}var x=c.createContext({hashPriority:"low",cache:b(),defaultCache:!0});const S=x;var M=i(2284),A=i(2931),k="CALC_UNIT";new RegExp(k,"g");var w=function(){function e(){(0,u.A)(this,e),(0,n.A)(this,"cache",void 0),(0,n.A)(this,"keys",void 0),(0,n.A)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,h.A)(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach((function(e){var t;o?o=null===(t=o)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):o=void 0})),null!==(t=o)&&void 0!==t&&t.value&&n&&(o.value[1]=this.cacheCallTimes++),null===(i=o)||void 0===i?void 0:i.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,i){var n=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var a=this.keys.reduce((function(e,t){var i=(0,o.A)(e,2)[1];return n.internalGet(t)[1]<i?[t,n.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),r=(0,o.A)(a,1)[0];this.delete(r)}this.keys.push(t)}var s=this.cache;t.forEach((function(e,o){if(o===t.length-1)s.set(e,{value:[i,n.cacheCallTimes++]});else{var a=s.get(e);a?a.map||(a.map=new Map):s.set(e,{map:new Map}),s=s.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var i,n=e.get(t[0]);if(1===t.length)return n.map?e.set(t[0],{map:n.map}):e.delete(t[0]),null===(i=n.value)||void 0===i?void 0:i[0];var o=this.deleteByPath(n.map,t.slice(1));return n.map&&0!==n.map.size||n.value||e.delete(t[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();(0,n.A)(w,"MAX_CACHE_SIZE",20),(0,n.A)(w,"MAX_CACHE_OFFSET",5);var C=i(7907),I=0,D=function(){function e(t){(0,u.A)(this,e),(0,n.A)(this,"derivatives",void 0),(0,n.A)(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=I,0===t.length&&(0,C.$e)(t.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),I+=1}return(0,h.A)(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,i){return i(e,t)}),void 0)}}]),e}(),N=new w;function E(e){var t=Array.isArray(e)?e:[e];return N.has(t)||N.set(t,new D(t)),N.get(t)}var O=new WeakMap,L={};var T=new WeakMap;function R(e){var t=T.get(e)||"";return t||(Object.keys(e).forEach((function(i){var n=e[i];t+=i,n instanceof D?t+=n.id:n&&"object"===(0,M.A)(n)?t+=R(n):t+=n})),t=s(t),T.set(e,t)),t}function P(e,t){return s("".concat(t,"_").concat(R(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var z=(0,A.A)();function j(e){return"number"===typeof e?"".concat(e,"px"):e}function B(e,t,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var s=(0,r.A)((0,r.A)({},a),{},(o={},(0,n.A)(o,m,t),(0,n.A)(o,y,i),o)),l=Object.keys(s).map((function(e){var t=s[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(l,">").concat(e,"</style>")}var $=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},F=function(e,t,i){return Object.keys(e).length?".".concat(t).concat(null!==i&&void 0!==i&&i.scope?".".concat(i.scope):"","{").concat(Object.entries(e).map((function(e){var t=(0,o.A)(e,2),i=t[0],n=t[1];return"".concat(i,":").concat(n,";")})).join(""),"}"):""},_=function(e,t,i){var n={},a={};return Object.entries(e).forEach((function(e){var t,r,s=(0,o.A)(e,2),l=s[0],c=s[1];if(null!==i&&void 0!==i&&null!==(t=i.preserve)&&void 0!==t&&t[l])a[l]=c;else if(("string"===typeof c||"number"===typeof c)&&(null===i||void 0===i||null===(r=i.ignore)||void 0===r||!r[l])){var d,u=$(l,null===i||void 0===i?void 0:i.prefix);n[u]="number"!==typeof c||null!==i&&void 0!==i&&null!==(d=i.unitless)&&void 0!==d&&d[l]?String(c):"".concat(c,"px"),a[l]="var(".concat(u,")")}})),[a,F(n,t,{scope:null===i||void 0===i?void 0:i.scope})]},H=i(2664),W=(0,r.A)({},d).useInsertionEffect;const G=W?function(e,t,i){return W((function(){return e(),t()}),i)}:function(e,t,i){c.useMemo(e,i),(0,H.A)((function(){return t(!0)}),i)};const V="undefined"!==typeof(0,r.A)({},d).useInsertionEffect?function(e){var t=[],i=!1;return c.useEffect((function(){return i=!1,function(){i=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){i||t.push(e)}}:function(){return function(e){e()}};const U=function(){return!1};function K(e,t,i,n,r){var s=c.useContext(S).cache,l=g([e].concat((0,a.A)(t))),d=V([l]),u=(U(),function(e){s.opUpdate(l,(function(t){var n=t||[void 0,void 0],a=(0,o.A)(n,2),r=a[0];var s=[void 0===r?0:r,a[1]||i()];return e?e(s):s}))});c.useMemo((function(){u()}),[l]);var h=s.opGet(l)[1];return G((function(){null===r||void 0===r||r(h)}),(function(e){return u((function(t){var i=(0,o.A)(t,2),n=i[0],a=i[1];return e&&0===n&&(null===r||void 0===r||r(h)),[n+1,a]})),function(){s.opUpdate(l,(function(t){var i=t||[],a=(0,o.A)(i,2),r=a[0],c=void 0===r?0:r,u=a[1];return 0===c-1?(d((function(){!e&&s.opGet(l)||null===n||void 0===n||n(u,!1)})),null):[c-1,u]}))}}),[l]),h}var Y={},X="css",Z=new Map;var q=0;function Q(e,t){Z.set(e,(Z.get(e)||0)-1);var i=Array.from(Z.keys()),n=i.filter((function(e){return(Z.get(e)||0)<=0}));i.length-n.length>q&&n.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(m,'="').concat(e,'"]')).forEach((function(e){var i;e[v]===t&&(null===(i=e.parentNode)||void 0===i||i.removeChild(e))}))}(e,t),Z.delete(e)}))}var J=function(e,t,i,n){var o=i.getDerivativeToken(e),a=(0,r.A)((0,r.A)({},o),t);return n&&(a=n(a)),a},ee="token";function te(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,c.useContext)(S),d=n.cache.instanceId,u=n.container,h=i.salt,p=void 0===h?"":h,g=i.override,f=void 0===g?Y:g,b=i.formatToken,x=i.getComputedToken,M=i.cssVar,A=function(e,t){for(var i=O,n=0;n<t.length;n+=1){var o=t[n];i.has(o)||i.set(o,new WeakMap),i=i.get(o)}return i.has(L)||i.set(L,e()),i.get(L)}((function(){return Object.assign.apply(Object,[{}].concat((0,a.A)(t)))}),t),k=R(A),w=R(f),C=M?R(M):"",I=K(ee,[p,e.id,k,w,C],(function(){var t,i=x?x(A,f,e):J(A,f,e,b),n=(0,r.A)({},i),a="";if(M){var l=_(i,M.key,{prefix:M.prefix,ignore:M.ignore,unitless:M.unitless,preserve:M.preserve}),c=(0,o.A)(l,2);i=c[0],a=c[1]}var d=P(i,p);i._tokenKey=d,n._tokenKey=P(n,p);var u=null!==(t=null===M||void 0===M?void 0:M.key)&&void 0!==t?t:d;i._themeKey=u,function(e){Z.set(e,(Z.get(e)||0)+1)}(u);var h="".concat(X,"-").concat(s(d));return i._hashId=h,[i,h,n,a,(null===M||void 0===M?void 0:M.key)||""]}),(function(e){Q(e[0]._themeKey,d)}),(function(e){var t=(0,o.A)(e,4),i=t[0],n=t[3];if(M&&n){var a=(0,l.BD)(n,s("css-variables-".concat(i._themeKey)),{mark:y,prepend:"queue",attachTo:u,priority:-999});a[v]=d,a.setAttribute(m,i._themeKey)}}));return I}var ie=i(8168);const ne={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var oe="comm",ae="rule",re="decl",se="@import",le="@keyframes",ce="@layer",de=Math.abs,ue=String.fromCharCode;Object.assign;function he(e){return e.trim()}function pe(e,t,i){return e.replace(t,i)}function ge(e,t,i){return e.indexOf(t,i)}function fe(e,t){return 0|e.charCodeAt(t)}function me(e,t,i){return e.slice(t,i)}function ye(e){return e.length}function ve(e,t){return t.push(e),e}function be(e,t){for(var i="",n=0;n<e.length;n++)i+=t(e[n],n,e,t)||"";return i}function xe(e,t,i,n){switch(e.type){case ce:if(e.children.length)break;case se:case re:return e.return=e.return||e.value;case oe:return"";case le:return e.return=e.value+"{"+be(e.children,n)+"}";case ae:if(!ye(e.value=e.props.join(",")))return""}return ye(i=be(e.children,n))?e.return=e.value+"{"+i+"}":""}var Se=1,Me=1,Ae=0,ke=0,we=0,Ce="";function Ie(e,t,i,n,o,a,r,s){return{value:e,root:t,parent:i,type:n,props:o,children:a,line:Se,column:Me,length:r,return:"",siblings:s}}function De(){return we=ke>0?fe(Ce,--ke):0,Me--,10===we&&(Me=1,Se--),we}function Ne(){return we=ke<Ae?fe(Ce,ke++):0,Me++,10===we&&(Me=1,Se++),we}function Ee(){return fe(Ce,ke)}function Oe(){return ke}function Le(e,t){return me(Ce,e,t)}function Te(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Re(e){return Se=Me=1,Ae=ye(Ce=e),ke=0,[]}function Pe(e){return Ce="",e}function ze(e){return he(Le(ke-1,$e(91===e?e+2:40===e?e+1:e)))}function je(e){for(;(we=Ee())&&we<33;)Ne();return Te(e)>2||Te(we)>3?"":" "}function Be(e,t){for(;--t&&Ne()&&!(we<48||we>102||we>57&&we<65||we>70&&we<97););return Le(e,Oe()+(t<6&&32==Ee()&&32==Ne()))}function $e(e){for(;Ne();)switch(we){case e:return ke;case 34:case 39:34!==e&&39!==e&&$e(we);break;case 40:41===e&&$e(e);break;case 92:Ne()}return ke}function Fe(e,t){for(;Ne()&&e+we!==57&&(e+we!==84||47!==Ee()););return"/*"+Le(t,ke-1)+"*"+ue(47===e?e:Ne())}function _e(e){for(;!Te(Ee());)Ne();return Le(e,ke)}function He(e){return Pe(We("",null,null,null,[""],e=Re(e),0,[0],e))}function We(e,t,i,n,o,a,r,s,l){for(var c=0,d=0,u=r,h=0,p=0,g=0,f=1,m=1,y=1,v=0,b="",x=o,S=a,M=n,A=b;m;)switch(g=v,v=Ne()){case 40:if(108!=g&&58==fe(A,u-1)){-1!=ge(A+=pe(ze(v),"&","&\f"),"&\f",de(c?s[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:A+=ze(v);break;case 9:case 10:case 13:case 32:A+=je(g);break;case 92:A+=Be(Oe()-1,7);continue;case 47:switch(Ee()){case 42:case 47:ve(Ve(Fe(Ne(),Oe()),t,i,l),l),5!=Te(g||1)&&5!=Te(Ee()||1)||!ye(A)||" "===me(A,-1,void 0)||(A+=" ");break;default:A+="/"}break;case 123*f:s[c++]=ye(A)*y;case 125*f:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+d:-1==y&&(A=pe(A,/\f/g,"")),p>0&&(ye(A)-u||0===f&&47===g)&&ve(p>32?Ue(A+";",n,i,u-1,l):Ue(pe(A," ","")+";",n,i,u-2,l),l);break;case 59:A+=";";default:if(ve(M=Ge(A,t,i,c,d,o,s,b,x=[],S=[],u,a),a),123===v)if(0===d)We(A,t,M,M,x,a,u,s,S);else switch(99===h&&110===fe(A,3)?100:h){case 100:case 108:case 109:case 115:We(e,M,M,n&&ve(Ge(e,M,M,0,0,o,s,b,o,x=[],u,S),S),o,S,u,s,n?x:S);break;default:We(A,M,M,M,[""],S,0,s,S)}}c=d=p=0,f=y=1,b=A="",u=r;break;case 58:u=1+ye(A),p=g;default:if(f<1)if(123==v)--f;else if(125==v&&0==f++&&125==De())continue;switch(A+=ue(v),v*f){case 38:y=d>0?1:(A+="\f",-1);break;case 44:s[c++]=(ye(A)-1)*y,y=1;break;case 64:45===Ee()&&(A+=ze(Ne())),h=Ee(),d=u=ye(b=A+=_e(Oe())),v++;break;case 45:45===g&&2==ye(A)&&(f=0)}}return a}function Ge(e,t,i,n,o,a,r,s,l,c,d,u){for(var h=o-1,p=0===o?a:[""],g=function(e){return e.length}(p),f=0,m=0,y=0;f<n;++f)for(var v=0,b=me(e,h+1,h=de(m=r[f])),x=e;v<g;++v)(x=he(m>0?p[v]+" "+b:pe(b,/&\f/g,p[v])))&&(l[y++]=x);return Ie(e,t,i,0===o?ae:s,l,c,d,u)}function Ve(e,t,i,n){return Ie(e,t,i,oe,ue(we),me(e,2,-2),0,n)}function Ue(e,t,i,n,o){return Ie(e,t,i,re,me(e,0,n),me(e,n+1,-1),n,o)}var Ke,Ye="data-ant-cssinjs-cache-path",Xe="_FILE_STYLE__";var Ze=!0;function qe(e){return function(){if(!Ke&&(Ke={},(0,A.A)())){var e=document.createElement("div");e.className=Ye,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=e.split(":"),i=(0,o.A)(t,2),n=i[0],a=i[1];Ke[n]=a}));var i,n=document.querySelector("style[".concat(Ye,"]"));n&&(Ze=!1,null===(i=n.parentNode)||void 0===i||i.removeChild(n)),document.body.removeChild(e)}}(),!!Ke[e]}var Qe="_multi_value_";function Je(e){return be(He(e),xe).replace(/\{%%%\:[^;];}/g,";")}function et(e,t,i){if(!t)return e;var n=".".concat(t),o="low"===i?":where(".concat(n,")"):n;return e.split(",").map((function(e){var t,i=e.trim().split(/\s+/),n=i[0]||"",r=(null===(t=n.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[n="".concat(r).concat(o).concat(n.slice(r.length))].concat((0,a.A)(i.slice(1))).join(" ")})).join(",")}var tt=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},s=n.root,l=n.injectHash,c=n.parentSelectors,d=i.hashId,u=i.layer,h=(i.path,i.hashPriority),p=i.transformers,g=void 0===p?[]:p,f=(i.linters,""),m={};function y(t){var n=t.getName(d);if(!m[n]){var a=e(t.style,i,{root:!1,parentSelectors:c}),r=(0,o.A)(a,1)[0];m[n]="@keyframes ".concat(t.getName(d)).concat(r)}}var v=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,i):t&&i.push(t)})),i}(Array.isArray(t)?t:[t]);return v.forEach((function(t){var n="string"!==typeof t||s?t:{};if("string"===typeof n)f+="".concat(n,"\n");else if(n._keyframe)y(n);else{var u=g.reduce((function(e,t){var i;return(null===t||void 0===t||null===(i=t.visit)||void 0===i?void 0:i.call(t,e))||e}),n);Object.keys(u).forEach((function(t){var n=u[t];if("object"!==(0,M.A)(n)||!n||"animationName"===t&&n._keyframe||function(e){return"object"===(0,M.A)(e)&&e&&("_skip_check_"in e||Qe in e)}(n)){var p;function C(e,t){var i=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),n=t;ne[e]||"number"!==typeof n||0===n||(n="".concat(n,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(y(t),n=t.getName(d)),f+="".concat(i,":").concat(n,";")}var g=null!==(p=null===n||void 0===n?void 0:n.value)&&void 0!==p?p:n;"object"===(0,M.A)(n)&&null!==n&&void 0!==n&&n[Qe]&&Array.isArray(g)?g.forEach((function(e){C(t,e)})):C(t,g)}else{var v=!1,b=t.trim(),x=!1;(s||l)&&d?b.startsWith("@")?v=!0:b=et("&"===b?"":t,d,h):!s||d||"&"!==b&&""!==b||(b="",x=!0);var S=e(n,i,{root:x,injectHash:v,parentSelectors:[].concat((0,a.A)(c),[b])}),A=(0,o.A)(S,2),k=A[0],w=A[1];m=(0,r.A)((0,r.A)({},m),w),f+="".concat(b).concat(k)}}))}})),s?u&&(f="@layer ".concat(u.name," {").concat(f,"}"),u.dependencies&&(m["@layer ".concat(u.name)]=u.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(u.name,";")})).join("\n"))):f="{".concat(f,"}"),[f,m]};function it(e,t){return s("".concat(e.join("%")).concat(t))}function nt(){return null}var ot="style";function at(e,t){var i=e.token,s=e.path,d=e.hashId,u=e.layer,h=e.nonce,p=e.clientOnly,g=e.order,f=void 0===g?0:g,b=c.useContext(S),x=b.autoClear,M=(b.mock,b.defaultCache),k=b.hashPriority,w=b.container,C=b.ssrInline,I=b.transformers,D=b.linters,N=b.cache,E=b.layer,O=i._tokenKey,L=[O];E&&L.push("layer"),L.push.apply(L,(0,a.A)(s));var T=z;var R=K(ot,L,(function(){var e=L.join("|");if(qe(e)){var i=function(e){var t=Ke[e],i=null;if(t&&(0,A.A)())if(Ze)i=Xe;else{var n=document.querySelector("style[".concat(y,'="').concat(Ke[e],'"]'));n?i=n.innerHTML:delete Ke[e]}return[i,t]}(e),n=(0,o.A)(i,2),a=n[0],r=n[1];if(a)return[a,O,r,{},p,f]}var l=t(),c=tt(l,{hashId:d,hashPriority:k,layer:E?u:void 0,path:s.join("-"),transformers:I,linters:D}),h=(0,o.A)(c,2),g=h[0],m=h[1],v=Je(g),b=it(L,v);return[v,O,b,m,p,f]}),(function(e,t){var i=(0,o.A)(e,3)[2];(t||x)&&z&&(0,l.m6)(i,{mark:y})}),(function(e){var t=(0,o.A)(e,4),i=t[0],n=(t[1],t[2]),a=t[3];if(T&&i!==Xe){var s={mark:y,prepend:!E&&"queue",attachTo:w,priority:f},c="function"===typeof h?h():h;c&&(s.csp={nonce:c});var d=[],u=[];Object.keys(a).forEach((function(e){e.startsWith("@layer")?d.push(e):u.push(e)})),d.forEach((function(e){(0,l.BD)(Je(a[e]),"_layer-".concat(e),(0,r.A)((0,r.A)({},s),{},{prepend:!0}))}));var p=(0,l.BD)(i,n,s);p[v]=N.instanceId,p.setAttribute(m,O),u.forEach((function(e){(0,l.BD)(Je(a[e]),"_effect-".concat(e),s)}))}})),P=(0,o.A)(R,3),j=P[0],B=P[1],$=P[2];return function(e){var t,i;C&&!T&&M?t=c.createElement("style",(0,ie.A)({},(i={},(0,n.A)(i,m,B),(0,n.A)(i,y,$),i),{dangerouslySetInnerHTML:{__html:j}})):t=c.createElement(nt,null);return c.createElement(c.Fragment,null,t,e)}}var rt="cssVar";const st=function(e,t){var i=e.key,n=e.prefix,r=e.unitless,s=e.ignore,d=e.token,u=e.scope,h=void 0===u?"":u,p=(0,c.useContext)(S),g=p.cache.instanceId,f=p.container,b=d._tokenKey,x=[].concat((0,a.A)(e.path),[i,h,b]);return K(rt,x,(function(){var e=t(),a=_(e,i,{prefix:n,unitless:r,ignore:s,scope:h}),l=(0,o.A)(a,2),c=l[0],d=l[1];return[c,d,it(x,d),i]}),(function(e){var t=(0,o.A)(e,3)[2];z&&(0,l.m6)(t,{mark:y})}),(function(e){var t=(0,o.A)(e,3),n=t[1],a=t[2];if(n){var r=(0,l.BD)(n,a,{mark:y,prepend:"queue",attachTo:f,priority:-999});r[v]=g,r.setAttribute(m,i)}}))};var lt;lt={},(0,n.A)(lt,ot,(function(e,t,i){var n=(0,o.A)(e,6),a=n[0],r=n[1],s=n[2],l=n[3],c=n[4],d=n[5],u=(i||{}).plain;if(c)return null;var h=a,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)};return h=B(a,r,s,p,u),l&&Object.keys(l).forEach((function(e){if(!t[e]){t[e]=!0;var i=B(Je(l[e]),r,"_effect-".concat(e),p,u);e.startsWith("@layer")?h=i+h:h+=i}})),[d,s,h]})),(0,n.A)(lt,ee,(function(e,t,i){var n=(0,o.A)(e,5),a=n[2],r=n[3],s=n[4],l=(i||{}).plain;if(!r)return null;var c=a._tokenKey;return[-999,c,B(r,s,c,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},l)]})),(0,n.A)(lt,rt,(function(e,t,i){var n=(0,o.A)(e,4),a=n[1],r=n[2],s=n[3],l=(i||{}).plain;if(!a)return null;return[-999,r,B(a,s,r,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},l)]}));const ct=function(){function e(t,i){(0,u.A)(this,e),(0,n.A)(this,"name",void 0),(0,n.A)(this,"style",void 0),(0,n.A)(this,"_keyframe",!0),this.name=t,this.style=i}return(0,h.A)(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();function dt(e){return e.notSplit=!0,e}dt(["borderTop","borderBottom"]),dt(["borderTop"]),dt(["borderBottom"]),dt(["borderLeft","borderRight"]),dt(["borderLeft"]),dt(["borderRight"])},5445:(e,t,i)=>{"use strict";i.d(t,{H:()=>u,K6:()=>a,Me:()=>c,Ob:()=>d,YL:()=>s,_:()=>o,g8:()=>g,n6:()=>p,oS:()=>f,wE:()=>l});var n=i(5433);function o(e,t,i){return{r:255*(0,n.Cg)(e,255),g:255*(0,n.Cg)(t,255),b:255*(0,n.Cg)(i,255)}}function a(e,t,i){e=(0,n.Cg)(e,255),t=(0,n.Cg)(t,255),i=(0,n.Cg)(i,255);var o=Math.max(e,t,i),a=Math.min(e,t,i),r=0,s=0,l=(o+a)/2;if(o===a)s=0,r=0;else{var c=o-a;switch(s=l>.5?c/(2-o-a):c/(o+a),o){case e:r=(t-i)/c+(t<i?6:0);break;case t:r=(i-e)/c+2;break;case i:r=(e-t)/c+4}r/=6}return{h:r,s:s,l:l}}function r(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*i*(t-e):i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function s(e,t,i){var o,a,s;if(e=(0,n.Cg)(e,360),t=(0,n.Cg)(t,100),i=(0,n.Cg)(i,100),0===t)a=i,s=i,o=i;else{var l=i<.5?i*(1+t):i+t-i*t,c=2*i-l;o=r(c,l,e+1/3),a=r(c,l,e),s=r(c,l,e-1/3)}return{r:255*o,g:255*a,b:255*s}}function l(e,t,i){e=(0,n.Cg)(e,255),t=(0,n.Cg)(t,255),i=(0,n.Cg)(i,255);var o=Math.max(e,t,i),a=Math.min(e,t,i),r=0,s=o,l=o-a,c=0===o?0:l/o;if(o===a)r=0;else{switch(o){case e:r=(t-i)/l+(t<i?6:0);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:c,v:s}}function c(e,t,i){e=6*(0,n.Cg)(e,360),t=(0,n.Cg)(t,100),i=(0,n.Cg)(i,100);var o=Math.floor(e),a=e-o,r=i*(1-t),s=i*(1-a*t),l=i*(1-(1-a)*t),c=o%6;return{r:255*[i,s,r,r,l,i][c],g:255*[l,i,i,s,r,r][c],b:255*[r,r,l,i,i,s][c]}}function d(e,t,i,o){var a=[(0,n.wl)(Math.round(e).toString(16)),(0,n.wl)(Math.round(t).toString(16)),(0,n.wl)(Math.round(i).toString(16))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function u(e,t,i,o,a){var r=[(0,n.wl)(Math.round(e).toString(16)),(0,n.wl)(Math.round(t).toString(16)),(0,n.wl)(Math.round(i).toString(16)),(0,n.wl)(h(o))];return a&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function h(e){return Math.round(255*parseFloat(e)).toString(16)}function p(e){return g(e)/255}function g(e){return parseInt(e,16)}function f(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},2345:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},3143:(e,t,i)=>{"use strict";i.d(t,{RO:()=>r});var n=i(5445),o=i(2345),a=i(5433);function r(e){var t={r:0,g:0,b:0},i=1,r=null,s=null,l=null,c=!1,h=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(o.D[e])e=o.D[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var i=d.rgb.exec(e);if(i)return{r:i[1],g:i[2],b:i[3]};if(i=d.rgba.exec(e),i)return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=d.hsl.exec(e),i)return{h:i[1],s:i[2],l:i[3]};if(i=d.hsla.exec(e),i)return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=d.hsv.exec(e),i)return{h:i[1],s:i[2],v:i[3]};if(i=d.hsva.exec(e),i)return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=d.hex8.exec(e),i)return{r:(0,n.g8)(i[1]),g:(0,n.g8)(i[2]),b:(0,n.g8)(i[3]),a:(0,n.n6)(i[4]),format:t?"name":"hex8"};if(i=d.hex6.exec(e),i)return{r:(0,n.g8)(i[1]),g:(0,n.g8)(i[2]),b:(0,n.g8)(i[3]),format:t?"name":"hex"};if(i=d.hex4.exec(e),i)return{r:(0,n.g8)(i[1]+i[1]),g:(0,n.g8)(i[2]+i[2]),b:(0,n.g8)(i[3]+i[3]),a:(0,n.n6)(i[4]+i[4]),format:t?"name":"hex8"};if(i=d.hex3.exec(e),i)return{r:(0,n.g8)(i[1]+i[1]),g:(0,n.g8)(i[2]+i[2]),b:(0,n.g8)(i[3]+i[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(u(e.r)&&u(e.g)&&u(e.b)?(t=(0,n._)(e.r,e.g,e.b),c=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):u(e.h)&&u(e.s)&&u(e.v)?(r=(0,a.Px)(e.s),s=(0,a.Px)(e.v),t=(0,n.Me)(e.h,r,s),c=!0,h="hsv"):u(e.h)&&u(e.s)&&u(e.l)&&(r=(0,a.Px)(e.s),l=(0,a.Px)(e.l),t=(0,n.YL)(e.h,r,l),c=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=(0,a.TV)(i),{ok:c,format:e.format||h,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}var s="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),l="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),c="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),d={CSS_UNIT:new RegExp(s),rgb:new RegExp("rgb"+l),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+l),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+l),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function u(e){return Boolean(d.CSS_UNIT.exec(String(e)))}},97:(e,t,i)=>{"use strict";i.d(t,{q:()=>s});var n=i(5445),o=i(2345),a=i(3143),r=i(5433),s=function(){function e(t,i){var o;if(void 0===t&&(t=""),void 0===i&&(i={}),t instanceof e)return t;"number"===typeof t&&(t=(0,n.oS)(t)),this.originalInput=t;var r=(0,a.RO)(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=i.format)&&void 0!==o?o:r.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,i=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=(0,r.TV)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=(0,n.wE)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=(0,n.wE)(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(i,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=(0,n.K6)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=(0,n.K6)(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(i,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),(0,n.Ob)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),(0,n.H)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*(0,r.Cg)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*(0,r.Cg)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+(0,n.Ob)(this.r,this.g,this.b,!1),t=0,i=Object.entries(o.D);t<i.length;t++){var a=i[t],r=a[0];if(e===a[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var i=!1,n=this.a<1&&this.a>=0;return t||!n||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.l+=t/100,i.l=(0,r.J$)(i.l),new e(i)},e.prototype.brighten=function(t){void 0===t&&(t=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-t/100*255))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-t/100*255))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-t/100*255))),new e(i)},e.prototype.darken=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.l-=t/100,i.l=(0,r.J$)(i.l),new e(i)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.s-=t/100,i.s=(0,r.J$)(i.s),new e(i)},e.prototype.saturate=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.s+=t/100,i.s=(0,r.J$)(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var i=this.toHsl(),n=(i.h+t)%360;return i.h=n<0?360+n:n,new e(i)},e.prototype.mix=function(t,i){void 0===i&&(i=50);var n=this.toRgb(),o=new e(t).toRgb(),a=i/100;return new e({r:(o.r-n.r)*a+n.r,g:(o.g-n.g)*a+n.g,b:(o.b-n.b)*a+n.b,a:(o.a-n.a)*a+n.a})},e.prototype.analogous=function(t,i){void 0===t&&(t=6),void 0===i&&(i=30);var n=this.toHsl(),o=360/i,a=[this];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,a.push(new e(n));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var i=this.toHsv(),n=i.h,o=i.s,a=i.v,r=[],s=1/t;t--;)r.push(new e({h:n,s:o,v:a})),a=(a+s)%1;return r},e.prototype.splitcomplement=function(){var t=this.toHsl(),i=t.h;return[this,new e({h:(i+72)%360,s:t.s,l:t.l}),new e({h:(i+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var i=this.toRgb(),n=new e(t).toRgb(),o=i.a+n.a*(1-i.a);return new e({r:(i.r*i.a+n.r*n.a*(1-i.a))/o,g:(i.g*i.a+n.g*n.a*(1-i.a))/o,b:(i.b*i.a+n.b*n.a*(1-i.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var i=this.toHsl(),n=i.h,o=[this],a=360/t,r=1;r<t;r++)o.push(new e({h:(n+r*a)%360,s:i.s,l:i.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}()},5433:(e,t,i)=>{"use strict";function n(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function o(e){return Math.min(1,Math.max(0,e))}function a(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function r(e){return e<=1?"".concat(100*Number(e),"%"):e}function s(e){return 1===e.length?"0"+e:String(e)}i.d(t,{Cg:()=>n,J$:()=>o,Px:()=>r,TV:()=>a,wl:()=>s})},5296:(e,t,i)=>{"use strict";i.d(t,{QO:()=>s,lJ:()=>r,pM:()=>a,yH:()=>o});var n=i(5043);const o="ant",a="anticon",r=["outlined","borderless","filled"],s=n.createContext({getPrefixCls:(e,t)=>t||(e?`${o}-${e}`:o),iconPrefixCls:a}),{Consumer:l}=s},4414:(e,t,i)=>{"use strict";i.d(t,{K8:()=>u,L9:()=>o,Nk:()=>r,av:()=>l,dF:()=>a,jk:()=>d,t6:()=>s,vj:()=>c});var n=i(3944);const o={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},r=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),s=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),l=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),c=(e,t,i,n)=>{const o=`[class^="${t}"], [class*=" ${t}"]`,a=i?`.${i}`:o,r={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==n&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},s),r),{[o]:r})}},d=e=>({outline:`${(0,n.zA)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),u=e=>({"&:focus-visible":Object.assign({},d(e))})},3405:(e,t,i)=>{"use strict";i.d(t,{sb:()=>l,vG:()=>c,zQ:()=>s});var n=i(5043),o=i(3944),a=i(944),r=i(4580);const s=(0,o.an)(a.A),l={token:r.A,override:{override:r.A},hashed:!0},c=n.createContext(l)},944:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(8500),o=i(4580),a=i(6925);const r=e=>{let t=e,i=e,n=e,o=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?i=4:e<8&&e>=7?i=5:e<14&&e>=8?i=6:e<16&&e>=14?i=7:e>=16&&(i=8),e<6&&e>=2?n=1:e>=6&&(n=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e,borderRadiusXS:n,borderRadiusSM:i,borderRadiusLG:t,borderRadiusOuter:o}};var s=i(355),l=i(2411);var c=i(97);const d=(e,t)=>new c.q(e).setAlpha(t).toRgbString(),u=(e,t)=>new c.q(e).darken(t).toHexString(),h=e=>{const t=(0,n.cM)(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},p=(e,t)=>{const i=e||"#fff",n=t||"#000";return{colorBgBase:i,colorTextBase:n,colorText:d(n,.88),colorTextSecondary:d(n,.65),colorTextTertiary:d(n,.45),colorTextQuaternary:d(n,.25),colorFill:d(n,.15),colorFillSecondary:d(n,.06),colorFillTertiary:d(n,.04),colorFillQuaternary:d(n,.02),colorBgSolid:d(n,1),colorBgSolidHover:d(n,.75),colorBgSolidActive:d(n,.95),colorBgLayout:u(i,4),colorBgContainer:u(i,0),colorBgElevated:u(i,0),colorBgSpotlight:d(n,.85),colorBgBlur:"transparent",colorBorder:u(i,15),colorBorderSecondary:u(i,6)}};function g(e){n.uy.pink=n.uy.magenta,n.UA.pink=n.UA.magenta;const t=Object.keys(o.r).map((t=>{const i=e[t]===n.uy[t]?n.UA[t]:(0,n.cM)(e[t]);return new Array(10).fill(1).reduce(((e,n,o)=>(e[`${t}-${o+1}`]=i[o],e[`${t}${o+1}`]=i[o],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),(0,a.A)(e,{generateColorPalettes:h,generateNeutralColorPalettes:p})),(0,l.A)(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:i}=e;return{sizeXXL:t*(i+8),sizeXL:t*(i+4),sizeLG:t*(i+2),sizeMD:t*(i+1),sizeMS:t*i,size:t*i,sizeSM:t*(i-1),sizeXS:t*(i-2),sizeXXS:t*(i-3)}}(e)),(0,s.A)(e)),function(e){const{motionUnit:t,motionBase:i,borderRadius:n,lineWidth:o}=e;return Object.assign({motionDurationFast:`${(i+t).toFixed(1)}s`,motionDurationMid:`${(i+2*t).toFixed(1)}s`,motionDurationSlow:`${(i+3*t).toFixed(1)}s`,lineWidthBold:o+1},r(n))}(e))}},4580:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,r:()=>n});const n={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},o=Object.assign(Object.assign({},n),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0})},6925:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(97);function o(e,t){let{generateColorPalettes:i,generateNeutralColorPalettes:o}=t;const{colorSuccess:a,colorWarning:r,colorError:s,colorInfo:l,colorPrimary:c,colorBgBase:d,colorTextBase:u}=e,h=i(c),p=i(a),g=i(r),f=i(s),m=i(l),y=o(d,u),v=i(e.colorLink||e.colorInfo),b=new n.q(f[1]).mix(new n.q(f[3]),50).toHexString();return Object.assign(Object.assign({},y),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBgFilledHover:b,colorErrorBgActive:f[3],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:g[1],colorWarningBgHover:g[2],colorWarningBorder:g[3],colorWarningBorderHover:g[4],colorWarningHover:g[4],colorWarning:g[6],colorWarningActive:g[7],colorWarningTextHover:g[8],colorWarningText:g[9],colorWarningTextActive:g[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new n.q("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}},355:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}}},2411:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(1140);const o=e=>{const t=(0,n.A)(e),i=t.map((e=>e.size)),o=t.map((e=>e.lineHeight)),a=i[1],r=i[0],s=i[2],l=o[1],c=o[0],d=o[2];return{fontSizeSM:r,fontSize:a,fontSizeLG:s,fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:l,lineHeightLG:d,lineHeightSM:c,fontHeight:Math.round(l*a),fontHeightLG:Math.round(d*s),fontHeightSM:Math.round(c*r),lineHeightHeading1:o[6],lineHeightHeading2:o[5],lineHeightHeading3:o[4],lineHeightHeading4:o[3],lineHeightHeading5:o[2]}}},1140:(e,t,i)=>{"use strict";function n(e){return(e+8)/e}function o(e){const t=new Array(10).fill(null).map(((t,i)=>{const n=i-1,o=e*Math.pow(Math.E,n/5),a=i>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(a/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:n(e)})))}i.d(t,{A:()=>o,k:()=>n})},167:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>g,Is:()=>d});var n=i(5043),o=i(3944);const a="5.22.2";var r=i(3405),s=i(4580),l=i(2339),c=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const d={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},u={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},h={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},p=(e,t,i)=>{const n=i.getDerivativeToken(e),{override:o}=t,a=c(t,["override"]);let r=Object.assign(Object.assign({},n),{override:o});return r=(0,l.A)(r),a&&Object.entries(a).forEach((e=>{let[t,i]=e;const{theme:n}=i,o=c(i,["theme"]);let a=o;n&&(a=p(Object.assign(Object.assign({},r),o),{override:o},n)),r[t]=a})),r};function g(){const{token:e,hashed:t,theme:i,override:c,cssVar:g}=n.useContext(r.vG),f=`${a}-${t||""}`,m=i||r.zQ,[y,v,b]=(0,o.hV)(m,[s.A,e],{salt:f,override:c,getComputedToken:p,formatToken:l.A,cssVar:g&&{prefix:g.prefix,key:g.key,unitless:d,ignore:u,preserve:h}});return[m,b,t?v:"",y,g]}},2339:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(97),o=i(4580);function a(e){return e>=0&&e<=255}const r=function(e,t){const{r:i,g:o,b:r,a:s}=new n.q(e).toRgb();if(s<1)return e;const{r:l,g:c,b:d}=new n.q(t).toRgb();for(let u=.01;u<=1;u+=.01){const e=Math.round((i-l*(1-u))/u),t=Math.round((o-c*(1-u))/u),s=Math.round((r-d*(1-u))/u);if(a(e)&&a(t)&&a(s))return new n.q({r:e,g:t,b:s,a:Math.round(100*u)/100}).toRgbString()}return new n.q({r:i,g:o,b:r,a:1}).toRgbString()};var s=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function l(e){const{override:t}=e,i=s(e,["override"]),a=Object.assign({},t);Object.keys(o.A).forEach((e=>{delete a[e]}));const l=Object.assign(Object.assign({},i),a),c=1200,d=1600;if(!1===l.motion){const e="0s";l.motionDurationFast=e,l.motionDurationMid=e,l.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},l),{colorFillContent:l.colorFillSecondary,colorFillContentHover:l.colorFill,colorFillAlter:l.colorFillQuaternary,colorBgContainerDisabled:l.colorFillTertiary,colorBorderBg:l.colorBgContainer,colorSplit:r(l.colorBorderSecondary,l.colorBgContainer),colorTextPlaceholder:l.colorTextQuaternary,colorTextDisabled:l.colorTextQuaternary,colorTextHeading:l.colorText,colorTextLabel:l.colorTextSecondary,colorTextDescription:l.colorTextTertiary,colorTextLightSolid:l.colorWhite,colorHighlight:l.colorError,colorBgTextHover:l.colorFillSecondary,colorBgTextActive:l.colorFill,colorIcon:l.colorTextTertiary,colorIconHover:l.colorText,colorErrorOutline:r(l.colorErrorBg,l.colorBgContainer),colorWarningOutline:r(l.colorWarningBg,l.colorBgContainer),fontSizeIcon:l.fontSizeSM,lineWidthFocus:3*l.lineWidth,lineWidth:l.lineWidth,controlOutlineWidth:2*l.lineWidth,controlInteractiveSize:l.controlHeight/2,controlItemBgHover:l.colorFillTertiary,controlItemBgActive:l.colorPrimaryBg,controlItemBgActiveHover:l.colorPrimaryBgHover,controlItemBgActiveDisabled:l.colorFill,controlTmpOutline:l.colorFillQuaternary,controlOutline:r(l.colorPrimaryBg,l.colorBgContainer),lineType:l.lineType,borderRadius:l.borderRadius,borderRadiusXS:l.borderRadiusXS,borderRadiusSM:l.borderRadiusSM,borderRadiusLG:l.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:l.sizeXXS,paddingXS:l.sizeXS,paddingSM:l.sizeSM,padding:l.size,paddingMD:l.sizeMD,paddingLG:l.sizeLG,paddingXL:l.sizeXL,paddingContentHorizontalLG:l.sizeLG,paddingContentVerticalLG:l.sizeMS,paddingContentHorizontal:l.sizeMS,paddingContentVertical:l.sizeSM,paddingContentHorizontalSM:l.size,paddingContentVerticalSM:l.sizeXS,marginXXS:l.sizeXXS,marginXS:l.sizeXS,marginSM:l.sizeSM,margin:l.size,marginMD:l.sizeMD,marginLG:l.sizeLG,marginXL:l.sizeXL,marginXXL:l.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:c,screenXLMin:c,screenXLMax:1599,screenXXL:d,screenXXLMin:d,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new n.q("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new n.q("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new n.q("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}},8855:(e,t,i)=>{"use strict";i.d(t,{OF:()=>c,Or:()=>d,bf:()=>u});var n=i(5043),o=i(8446),a=i(5296),r=i(4414),s=i(167),l=i(439);const{genStyleHooks:c,genComponentStyleHook:d,genSubStyleComponent:u}=(0,o.L_)({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=(0,n.useContext)(a.QO);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,i,n,o]=(0,s.Ay)();return{theme:e,realToken:t,hashId:i,token:n,cssVar:o}},useCSP:()=>{const{csp:e,iconPrefixCls:t}=(0,n.useContext)(a.QO);return(0,l.A)(t,e),null!==e&&void 0!==e?e:{}},getResetStyles:e=>[{"&":(0,r.av)(e)}],getCommonStyle:r.vj,getCompUnitless:()=>s.Is})},439:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(3944),o=i(4414),a=i(167);const r=(e,t)=>{const[i,r]=(0,a.Ay)();return(0,n.IV)({theme:i,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},(()=>[{[`.${e}`]:Object.assign(Object.assign({},(0,o.Nk)()),{[`.${e} .${e}-icon`]:{display:"block"}})}]))}},2931:(e,t,i)=>{"use strict";function n(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}i.d(t,{A:()=>n})},3739:(e,t,i)=>{"use strict";function n(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1}i.d(t,{A:()=>n})},930:(e,t,i)=>{"use strict";i.d(t,{BD:()=>m,m6:()=>f});var n=i(9379),o=i(2931),a=i(3739),r="data-rc-order",s="data-rc-priority",l="rc-util-key",c=new Map;function d(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):l}function u(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function h(e){return Array.from((c.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,o.A)())return null;var i=t.csp,n=t.prepend,a=t.priority,l=void 0===a?0:a,c=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(n),d="prependQueue"===c,p=document.createElement("style");p.setAttribute(r,c),d&&l&&p.setAttribute(s,"".concat(l)),null!==i&&void 0!==i&&i.nonce&&(p.nonce=null===i||void 0===i?void 0:i.nonce),p.innerHTML=e;var g=u(t),f=g.firstChild;if(n){if(d){var m=(t.styles||h(g)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(r)))return!1;var t=Number(e.getAttribute(s)||0);return l>=t}));if(m.length)return g.insertBefore(p,m[m.length-1].nextSibling),p}g.insertBefore(p,f)}else g.appendChild(p);return p}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u(t);return(t.styles||h(i)).find((function(i){return i.getAttribute(d(t))===e}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=g(e,t);i&&u(t).removeChild(i)}function m(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=u(i),r=h(o),s=(0,n.A)((0,n.A)({},i),{},{styles:r});!function(e,t){var i=c.get(e);if(!i||!(0,a.A)(document,i)){var n=p("",t),o=n.parentNode;c.set(e,o),e.removeChild(n)}}(o,s);var l=g(t,s);if(l){var f,m,y;if(null!==(f=s.csp)&&void 0!==f&&f.nonce&&l.nonce!==(null===(m=s.csp)||void 0===m?void 0:m.nonce))l.nonce=null===(y=s.csp)||void 0===y?void 0:y.nonce;return l.innerHTML!==e&&(l.innerHTML=e),l}var v=p(e,s);return v.setAttribute(d(s),t),v}},2375:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5043);function o(e){var t=n.useRef();t.current=e;var i=n.useCallback((function(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[]);return i}},2664:(e,t,i)=>{"use strict";i.d(t,{A:()=>s,o:()=>r});var n=i(5043),o=(0,i(2931).A)()?n.useLayoutEffect:n.useEffect,a=function(e,t){var i=n.useRef(!0);o((function(){return e(i.current)}),t),o((function(){return i.current=!1,function(){i.current=!0}}),[])},r=function(e,t){a((function(t){if(!t)return e()}),t)};const s=a},3709:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5043);function o(e,t,i){var o=n.useRef({});return"value"in o.current&&!i(o.current.condition,t)||(o.current.value=e(),o.current.condition=t),o.current.value}},8678:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(5544),o=i(2375),a=i(2664),r=i(8566);function s(e){return void 0!==e}function l(e,t){var i=t||{},l=i.defaultValue,c=i.value,d=i.onChange,u=i.postState,h=(0,r.A)((function(){return s(c)?c:s(l)?"function"===typeof l?l():l:"function"===typeof e?e():e})),p=(0,n.A)(h,2),g=p[0],f=p[1],m=void 0!==c?c:g,y=u?u(m):m,v=(0,o.A)(d),b=(0,r.A)([m]),x=(0,n.A)(b,2),S=x[0],M=x[1];return(0,a.o)((function(){var e=S[0];g!==e&&v(g,e)}),[S]),(0,a.o)((function(){s(c)||f(c)}),[c]),[y,(0,o.A)((function(e,t){f(e,t),M([m],t)}))]}},8566:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(5544),o=i(5043);function a(e){var t=o.useRef(!1),i=o.useState(e),a=(0,n.A)(i,2),r=a[0],s=a[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,i){i&&t.current||s(e)}]}},7483:(e,t,i)=>{"use strict";i.d(t,{Jt:()=>a.A,_q:()=>n.A,hZ:()=>r.A,vz:()=>o.A});var n=i(2375),o=i(8678),a=(i(3758),i(1725)),r=i(6793);i(7907)},2231:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2284),o=i(7907);const a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Set;return function e(t,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=a.has(t);if((0,o.Ay)(!l,"Warning: There may be circular references"),l)return!1;if(t===r)return!0;if(i&&s>1)return!1;a.add(t);var c=s+1;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var d=0;d<t.length;d++)if(!e(t[d],r[d],c))return!1;return!0}if(t&&r&&"object"===(0,n.A)(t)&&"object"===(0,n.A)(r)){var u=Object.keys(t);return u.length===Object.keys(r).length&&u.every((function(i){return e(t[i],r[i],c)}))}return!1}(e,t)}},8574:(e,t,i)=>{"use strict";function n(e,t){var i=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete i[e]})),i}i.d(t,{A:()=>n})},3758:(e,t,i)=>{"use strict";i.d(t,{H3:()=>h,K4:()=>l,Xf:()=>s,f3:()=>d,xK:()=>c});var n=i(2284),o=i(5043),a=i(6816),r=i(3709),s=function(e,t){"function"===typeof e?e(t):"object"===(0,n.A)(e)&&e&&"current"in e&&(e.current=t)},l=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.filter(Boolean);return n.length<=1?n[0]:function(e){t.forEach((function(t){s(t,e)}))}},c=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,r.A)((function(){return l.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,i){return e!==t[i]}))}))},d=function(e){var t,i,n=(0,a.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof n||null!==(t=n.prototype)&&void 0!==t&&t.render||n.$$typeof===a.ForwardRef)&&!!("function"!==typeof e||null!==(i=e.prototype)&&void 0!==i&&i.render||e.$$typeof===a.ForwardRef)};function u(e){return(0,o.isValidElement)(e)&&!(0,a.isFragment)(e)}var h=function(e){return u(e)&&d(e)};Number(o.version.split(".")[0])},1725:(e,t,i)=>{"use strict";function n(e,t){for(var i=e,n=0;n<t.length;n+=1){if(null===i||void 0===i)return;i=i[t[n]]}return i}i.d(t,{A:()=>n})},6793:(e,t,i)=>{"use strict";i.d(t,{A:()=>c,h:()=>h});var n=i(2284),o=i(9379),a=i(436),r=i(7695),s=i(1725);function l(e,t,i,n){if(!t.length)return i;var s,c=(0,r.A)(t),d=c[0],u=c.slice(1);return s=e||"number"!==typeof d?Array.isArray(e)?(0,a.A)(e):(0,o.A)({},e):[],n&&void 0===i&&1===u.length?delete s[d][u[0]]:s[d]=l(s[d],u,i,n),s}function c(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&n&&void 0===i&&!(0,s.A)(e,t.slice(0,-1))?e:l(e,t,i,n)}function d(e){return Array.isArray(e)?[]:{}}var u="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function h(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=d(t[0]);return t.forEach((function(e){!function t(i,r){var l,h=new Set(r),p=(0,s.A)(e,i),g=Array.isArray(p);if(g||(l=p,"object"===(0,n.A)(l)&&null!==l&&Object.getPrototypeOf(l)===Object.prototype)){if(!h.has(p)){h.add(p);var f=(0,s.A)(o,i);g?o=c(o,i,[]):f&&"object"===(0,n.A)(f)||(o=c(o,i,d(p))),u(p).forEach((function(e){t([].concat((0,a.A)(i),[e]),h)}))}}else o=c(o,i,p)}([])})),o}},7907:(e,t,i)=>{"use strict";i.d(t,{$e:()=>a,Ay:()=>c});var n={},o=[];function a(e,t){}function r(e,t){}function s(e,t,i){t||n[i]||(e(!1,i),n[i]=!0)}function l(e,t){s(a,e,t)}l.preMessage=function(e){o.push(e)},l.resetWarned=function(){n={}},l.noteOnce=function(e,t){s(r,e,t)};const c=l},1132:(e,t)=>{"use strict";var i,n=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case r:case h:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case g:case l:return e;default:return t}}case o:return t}}}i=Symbol.for("react.module.reference"),t.ForwardRef=u,t.isFragment=function(e){return y(e)===a},t.isMemo=function(e){return y(e)===g}},6816:(e,t,i)=>{"use strict";e.exports=i(1132)},2730:(e,t,i)=>{"use strict";var n=i(5043),o=i(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,i,n,o,a,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=r}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,i,n){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,o,n)&&(i=null),n||null===o?function(e){return!!u.call(g,e)||!u.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):o.mustUseProperty?e[o.propertyName]=null===i?3!==o.type&&"":i:(t=o.attributeName,n=o.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(o=o.type)||4===o&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),M=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var z,j=Object.assign;function B(e){if(void 0===z)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var $=!1;function F(e,t){if(!e||$)return"";$=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=n.stack.split("\n"),r=o.length-1,s=a.length-1;1<=r&&0<=s&&o[r]!==a[s];)s--;for(;1<=r&&0<=s;r--,s--)if(o[r]!==a[s]){if(1!==r||1!==s)do{if(r--,0>--s||o[r]!==a[s]){var l="\n"+o[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function _(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case M:return"Portal";case w:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return H(e(t))}catch(i){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var o=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Z(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=G(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){q(e,t);var i=G(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&Y(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&n&&(e[i].defaultSelected=!0)}else{for(i=""+G(i),t=null,o=0;o<e.length;o++){if(e[o].value===i)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(a(92));if(te(i)){if(1<i.length)throw Error(a(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:G(i)}}function ae(e,t){var i=G(t.value),n=G(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),o=fe(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,o):e[i]=o}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Ae=null,ke=null;function we(e){if(e=xo(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=Mo(t),Me(e.stateNode,e.type,t))}}function Ce(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function Ie(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function De(e,t){return e(t)}function Ne(){}var Ee=!1;function Oe(e,t,i){if(Ee)return e(t,i);Ee=!0;try{return De(e,t,i)}finally{Ee=!1,(null!==Ae||null!==ke)&&(Ne(),Ie())}}function Le(e,t){var i=e.stateNode;if(null===i)return null;var n=Mo(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(a(231,t,typeof i));return i}var Te=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Te=!1}function Pe(e,t,i,n,o,a,r,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(d){this.onError(d)}}var ze=!1,je=null,Be=!1,$e=null,Fe={onError:function(e){ze=!0,je=e}};function _e(e,t,i,n,o,a,r,s,l){ze=!1,je=null,Pe.apply(Fe,arguments)}function He(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var i=e,n=t;;){var o=i.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(n=o.return)){i=n;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===i)return Ge(o),e;if(r===n)return Ge(o),t;r=r.sibling}throw Error(a(188))}if(i.return!==n.return)i=o,n=r;else{for(var s=!1,l=o.child;l;){if(l===i){s=!0,i=o,n=r;break}if(l===n){s=!0,n=o,i=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===i){s=!0,i=r,n=o;break}if(l===n){s=!0,n=r,i=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(i.alternate!==n)throw Error(a(190))}if(3!==i.tag)throw Error(a(188));return i.stateNode.current===i?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ze=o.unstable_requestPaint,qe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,it=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,at=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,r=268435455&i;if(0!==r){var s=r&~o;0!==s?n=ut(s):0!==(a&=r)&&(n=ut(a))}else 0!==(r=i&~o)?n=ut(r):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(i=31-rt(t)),n|=e[i],t&=~o;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function yt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=i}function vt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-rt(i),o=1<<n;o&t|e[n]&t&&(e[n]|=t),i&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Mt,At,kt,wt,Ct=!1,It=[],Dt=null,Nt=null,Et=null,Ot=new Map,Lt=new Map,Tt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function zt(e,t,i,n,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&Mt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function jt(e){var t=bo(e.target);if(null!==t){var i=He(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=We(i)))return e.blockedOn=t,void wt(e.priority,(function(){At(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=xo(i))&&Mt(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);xe=n,i.target.dispatchEvent(n),xe=null,t.shift()}return!0}function $t(e,t,i){Bt(e)&&i.delete(t)}function Ft(){Ct=!1,null!==Dt&&Bt(Dt)&&(Dt=null),null!==Nt&&Bt(Nt)&&(Nt=null),null!==Et&&Bt(Et)&&(Et=null),Ot.forEach($t),Lt.forEach($t)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return _t(t,e)}if(0<It.length){_t(It[0],e);for(var i=1;i<It.length;i++){var n=It[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Dt&&_t(Dt,e),null!==Nt&&_t(Nt,e),null!==Et&&_t(Et,e),Ot.forEach(t),Lt.forEach(t),i=0;i<Tt.length;i++)(n=Tt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(i=Tt[0]).blockedOn;)jt(i),null===i.blockedOn&&Tt.shift()}var Wt=x.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,i,n){var o=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,i,n)}finally{bt=o,Wt.transition=a}}function Ut(e,t,i,n){var o=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,i,n)}finally{bt=o,Wt.transition=a}}function Kt(e,t,i,n){if(Gt){var o=Xt(e,t,i,n);if(null===o)Gn(e,t,n,Yt,i),Pt(e,n);else if(function(e,t,i,n,o){switch(t){case"focusin":return Dt=zt(Dt,e,t,i,n,o),!0;case"dragenter":return Nt=zt(Nt,e,t,i,n,o),!0;case"mouseover":return Et=zt(Et,e,t,i,n,o),!0;case"pointerover":var a=o.pointerId;return Ot.set(a,zt(Ot.get(a)||null,e,t,i,n,o)),!0;case"gotpointercapture":return a=o.pointerId,Lt.set(a,zt(Lt.get(a)||null,e,t,i,n,o)),!0}return!1}(o,e,t,i,n))n.stopPropagation();else if(Pt(e,n),4&t&&-1<Rt.indexOf(e)){for(;null!==o;){var a=xo(o);if(null!==a&&St(a),null===(a=Xt(e,t,i,n))&&Gn(e,t,n,Yt,i),a===o)break;o=a}null!==o&&n.stopPropagation()}else Gn(e,t,n,null,i)}}var Yt=null;function Xt(e,t,i,n){if(Yt=null,null!==(e=bo(e=Se(n))))if(null===(t=He(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var qt=null,Qt=null,Jt=null;function ei(){if(Jt)return Jt;var e,t,i=Qt,n=i.length,o="value"in qt?qt.value:qt.textContent,a=o.length;for(e=0;e<n&&i[e]===o[e];e++);var r=n-e;for(t=1;t<=r&&i[n-t]===o[a-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function oi(e){function t(t,i,n,o,a){for(var r in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(o):o[r]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var ai,ri,si,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=oi(li),di=j({},li,{view:0,detail:0}),ui=oi(di),hi=j({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&"mousemove"===e.type?(ai=e.screenX-si.screenX,ri=e.screenY-si.screenY):ri=ai=0,si=e),ai)},movementY:function(e){return"movementY"in e?e.movementY:ri}}),pi=oi(hi),gi=oi(j({},hi,{dataTransfer:0})),fi=oi(j({},di,{relatedTarget:0})),mi=oi(j({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),yi=j({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vi=oi(yi),bi=oi(j({},li,{data:0})),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ai(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mi[e])&&!!t[e]}function ki(){return Ai}var wi=j({},di,{key:function(e){if(e.key){var t=xi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Si[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ci=oi(wi),Ii=oi(j({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Di=oi(j({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki})),Ni=oi(j({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ei=j({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oi=oi(Ei),Li=[9,13,27,32],Ti=d&&"CompositionEvent"in window,Ri=null;d&&"documentMode"in document&&(Ri=document.documentMode);var Pi=d&&"TextEvent"in window&&!Ri,zi=d&&(!Ti||Ri&&8<Ri&&11>=Ri),ji=String.fromCharCode(32),Bi=!1;function $i(e,t){switch(e){case"keyup":return-1!==Li.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _i=!1;var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hi[e.type]:"textarea"===t}function Gi(e,t,i,n){Ce(n),0<(t=Un(t,"onChange")).length&&(i=new ci("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Vi=null,Ui=null;function Ki(e){Bn(e,0)}function Yi(e){if(K(So(e)))return e}function Xi(e,t){if("change"===e)return t}var Zi=!1;if(d){var qi;if(d){var Qi="oninput"in document;if(!Qi){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),Qi="function"===typeof Ji.oninput}qi=Qi}else qi=!1;Zi=qi&&(!document.documentMode||9<document.documentMode)}function en(){Vi&&(Vi.detachEvent("onpropertychange",tn),Ui=Vi=null)}function tn(e){if("value"===e.propertyName&&Yi(Ui)){var t=[];Gi(t,Ui,e,Se(e)),Oe(Ki,t)}}function nn(e,t,i){"focusin"===e?(en(),Ui=i,(Vi=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function on(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yi(Ui)}function an(e,t){if("click"===e)return Yi(t)}function rn(e,t){if("input"===e||"change"===e)return Yi(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var o=i[n];if(!u.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var i,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=Y((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=hn(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&un(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=i.textContent.length,a=Math.min(n.start,o);n=void 0===n.end?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=dn(i,a);var r=dn(i,n);o&&r&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,vn=null,bn=!1;function xn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==mn||mn!==Y(n)||("selectionStart"in(n=mn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Un(yn,"onSelect")).length&&(t=new ci("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=mn)))}function Sn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Mn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionend:Sn("Transition","TransitionEnd")},An={},kn={};function wn(e){if(An[e])return An[e];if(!Mn[e])return e;var t,i=Mn[e];for(t in i)if(i.hasOwnProperty(t)&&t in kn)return An[e]=i[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);var Cn=wn("animationend"),In=wn("animationiteration"),Dn=wn("animationstart"),Nn=wn("transitionend"),En=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){En.set(e,t),l(t,[e])}for(var Tn=0;Tn<On.length;Tn++){var Rn=On[Tn];Ln(Rn.toLowerCase(),"on"+(Rn[0].toUpperCase()+Rn.slice(1)))}Ln(Cn,"onAnimationEnd"),Ln(In,"onAnimationIteration"),Ln(Dn,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Nn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function jn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,o,r,s,l,c){if(_e.apply(this,arguments),ze){if(!ze)throw Error(a(198));var d=je;ze=!1,je=null,Be||(Be=!0,$e=d)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var r=n.length-1;0<=r;r--){var s=n[r],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;jn(o,s,c),a=l}else for(r=0;r<n.length;r++){if(l=(s=n[r]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;jn(o,s,c),a=l}}}if(Be)throw e=$e,Be=!1,$e=null,e}function $n(e,t){var i=t[mo];void 0===i&&(i=t[mo]=new Set);var n=e+"__bubble";i.has(n)||(Wn(t,e,2,!1),i.add(n))}function Fn(e,t,i){var n=0;t&&(n|=4),Wn(i,e,n,t)}var _n="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[_n]){e[_n]=!0,r.forEach((function(t){"selectionchange"!==t&&(zn.has(t)||Fn(t,!1,e),Fn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_n]||(t[_n]=!0,Fn("selectionchange",!1,t))}}function Wn(e,t,i,n){switch(Zt(t)){case 1:var o=Vt;break;case 4:o=Ut;break;default:o=Kt}i=o.bind(null,t,i,e),o=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):void 0!==o?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Gn(e,t,i,n,o){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===r)for(r=n.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;r=r.return}for(;null!==s;){if(null===(r=bo(s)))return;if(5===(l=r.tag)||6===l){n=a=r;continue e}s=s.parentNode}}n=n.return}Oe((function(){var n=a,o=Se(i),r=[];e:{var s=En.get(e);if(void 0!==s){var l=ci,c=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=Ci;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Di;break;case Cn:case In:case Dn:l=mi;break;case Nn:l=Ni;break;case"scroll":l=ui;break;case"wheel":l=Oi;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ii}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==s?s+"Capture":null:s;d=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Le(g,h))&&d.push(Vn(g,f,p)))),u)break;g=g.return}0<d.length&&(s=new l(s,c,null,i,o),r.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||i===xe||!(c=i.relatedTarget||i.fromElement)||!bo(c)&&!c[fo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?bo(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=pi,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ii,f="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?s:So(l),p=null==c?s:So(c),(s=new d(f,g+"leave",l,i,o)).target=u,s.relatedTarget=p,f=null,bo(o)===n&&((d=new d(h,g+"enter",c,i,o)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,g=0,p=d=l;p;p=Kn(p))g++;for(p=0,f=h;f;f=Kn(f))p++;for(;0<g-p;)d=Kn(d),g--;for(;0<p-g;)h=Kn(h),p--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kn(d),h=Kn(h)}d=null}else d=null;null!==l&&Yn(r,s,l,d,!1),null!==c&&null!==u&&Yn(r,u,c,d,!0)}if("select"===(l=(s=n?So(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xi;else if(Wi(s))if(Zi)m=rn;else{m=on;var y=nn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=an);switch(m&&(m=m(e,n))?Gi(r,m,i,o):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=n?So(n):window,e){case"focusin":(Wi(y)||"true"===y.contentEditable)&&(mn=y,yn=n,vn=null);break;case"focusout":vn=yn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(r,i,o);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":xn(r,i,o)}var v;if(Ti)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _i?$i(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(zi&&"ko"!==i.locale&&(_i||"onCompositionStart"!==b?"onCompositionEnd"===b&&_i&&(v=ei()):(Qt="value"in(qt=o)?qt.value:qt.textContent,_i=!0)),0<(y=Un(n,b)).length&&(b=new bi(b,e,null,i,o),r.push({event:b,listeners:y}),v?b.data=v:null!==(v=Fi(i))&&(b.data=v))),(v=Pi?function(e,t){switch(e){case"compositionend":return Fi(t);case"keypress":return 32!==t.which?null:(Bi=!0,ji);case"textInput":return(e=t.data)===ji&&Bi?null:e;default:return null}}(e,i):function(e,t){if(_i)return"compositionend"===e||!Ti&&$i(e,t)?(e=ei(),Jt=Qt=qt=null,_i=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Un(n,"onBeforeInput")).length&&(o=new bi("onBeforeInput","beforeinput",null,i,o),r.push({event:o,listeners:n}),o.data=v))}Bn(r,t)}))}function Vn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Un(e,t){for(var i=t+"Capture",n=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Le(e,i))&&n.unshift(Vn(e,a,o)),null!=(a=Le(e,t))&&n.push(Vn(e,a,o))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,i,n,o){for(var a=t._reactName,r=[];null!==i&&i!==n;){var s=i,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Le(i,a))&&r.unshift(Vn(i,l,s)):o||null!=(l=Le(i,a))&&r.push(Vn(i,l,s))),i=i.return}0!==r.length&&e.push({event:t,listeners:r})}var Xn=/\r\n?/g,Zn=/\u0000|\uFFFD/g;function qn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Zn,"")}function Qn(e,t,i){if(t=qn(t),qn(e)!==t&&i)throw Error(a(425))}function Jn(){}var eo=null,to=null;function io(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,ro="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var i=t,n=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&8===o.nodeType)if("/$"===(i=o.data)){if(0===n)return e.removeChild(o),void Ht(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=o}while(i);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,go="__reactProps$"+ho,fo="__reactContainer$"+ho,mo="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var i=e.parentNode;i;){if(t=i[fo]||i[po]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=uo(e);null!==e;){if(i=e[po])return i;e=uo(e)}return t}i=(e=i).parentNode}return null}function xo(e){return!(e=e[po]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function So(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Mo(e){return e[go]||null}var Ao=[],ko=-1;function wo(e){return{current:e}}function Co(e){0>ko||(e.current=Ao[ko],Ao[ko]=null,ko--)}function Io(e,t){ko++,Ao[ko]=e.current,e.current=t}var Do={},No=wo(Do),Eo=wo(!1),Oo=Do;function Lo(e,t){var i=e.type.contextTypes;if(!i)return Do;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in i)a[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function To(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Co(Eo),Co(No)}function Po(e,t,i){if(No.current!==Do)throw Error(a(168));Io(No,t),Io(Eo,i)}function zo(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,W(e)||"Unknown",o));return j({},i,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,Oo=No.current,Io(No,e),Io(Eo,Eo.current),!0}function Bo(e,t,i){var n=e.stateNode;if(!n)throw Error(a(169));i?(e=zo(e,t,Oo),n.__reactInternalMemoizedMergedChildContext=e,Co(Eo),Co(No),Io(No,e)):Co(Eo),Io(Eo,i)}var $o=null,Fo=!1,_o=!1;function Ho(e){null===$o?$o=[e]:$o.push(e)}function Wo(){if(!_o&&null!==$o){_o=!0;var e=0,t=bt;try{var i=$o;for(bt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}$o=null,Fo=!1}catch(o){throw null!==$o&&($o=$o.slice(e+1)),Ke(Je,Wo),o}finally{bt=t,_o=!1}}return null}var Go=[],Vo=0,Uo=null,Ko=0,Yo=[],Xo=0,Zo=null,qo=1,Qo="";function Jo(e,t){Go[Vo++]=Ko,Go[Vo++]=Uo,Uo=e,Ko=t}function ea(e,t,i){Yo[Xo++]=qo,Yo[Xo++]=Qo,Yo[Xo++]=Zo,Zo=e;var n=qo;e=Qo;var o=32-rt(n)-1;n&=~(1<<o),i+=1;var a=32-rt(t)+o;if(30<a){var r=o-o%5;a=(n&(1<<r)-1).toString(32),n>>=r,o-=r,qo=1<<32-rt(t)+o|i<<o|n,Qo=a+e}else qo=1<<a|i<<o|n,Qo=e}function ta(e){null!==e.return&&(Jo(e,1),ea(e,1,0))}function ia(e){for(;e===Uo;)Uo=Go[--Vo],Go[Vo]=null,Ko=Go[--Vo],Go[Vo]=null;for(;e===Zo;)Zo=Yo[--Xo],Yo[Xo]=null,Qo=Yo[--Xo],Yo[Xo]=null,qo=Yo[--Xo],Yo[Xo]=null}var na=null,oa=null,aa=!1,ra=null;function sa(e,t){var i=Oc(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function la(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Zo?{id:qo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Oc(18,null,null,0)).stateNode=t,i.return=e,e.child=i,na=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(aa){var t=oa;if(t){var i=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(i.nextSibling);var n=na;t&&la(e,t)?sa(n,i):(e.flags=-4097&e.flags|2,aa=!1,na=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!io(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw pa(),Error(a(418));for(;t;)sa(e,t),t=co(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}oa=null}}else oa=na?co(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=co(e.nextSibling)}function ga(){oa=na=null,aa=!1}function fa(e){null===ra?ra=[e]:ra.push(e)}var ma=x.ReactCurrentBatchConfig;function ya(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(a(309));var n=i.stateNode}if(!n)throw Error(a(147,e));var o=n,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=o.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function xa(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function r(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=jc(i,e.mode,n)).return=e,t):((t=o(t,i)).return=e,t)}function c(e,t,i,n){var a=i.type;return a===A?u(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&ba(a)===t.type)?((n=o(t,i.props)).ref=ya(e,t,i),n.return=e,n):((n=Rc(i.type,i.key,i.props,null,e.mode,n)).ref=ya(e,t,i),n.return=e,n)}function d(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Bc(i,e.mode,n)).return=e,t):((t=o(t,i.children||[])).return=e,t)}function u(e,t,i,n,a){return null===t||7!==t.tag?((t=Pc(i,e.mode,n,a)).return=e,t):((t=o(t,i)).return=e,t)}function h(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(i=Rc(t.type,t.key,t.props,null,e.mode,i)).ref=ya(e,null,t),i.return=e,i;case M:return(t=Bc(t,e.mode,i)).return=e,t;case L:return h(e,(0,t._init)(t._payload),i)}if(te(t)||P(t))return(t=Pc(t,e.mode,i,null)).return=e,t;va(e,t)}return null}function p(e,t,i,n){var o=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==o?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===o?c(e,t,i,n):null;case M:return i.key===o?d(e,t,i,n):null;case L:return p(e,t,(o=i._init)(i._payload),n)}if(te(i)||P(i))return null!==o?null:u(e,t,i,n,null);va(e,i)}return null}function g(e,t,i,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return c(t,e=e.get(null===n.key?i:n.key)||null,n,o);case M:return d(t,e=e.get(null===n.key?i:n.key)||null,n,o);case L:return g(e,t,i,(0,n._init)(n._payload),o)}if(te(n)||P(n))return u(t,e=e.get(i)||null,n,o,null);va(t,n)}return null}function f(o,a,s,l){for(var c=null,d=null,u=a,f=a=0,m=null;null!==u&&f<s.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var y=p(o,u,s[f],l);if(null===y){null===u&&(u=m);break}e&&u&&null===y.alternate&&t(o,u),a=r(y,a,f),null===d?c=y:d.sibling=y,d=y,u=m}if(f===s.length)return i(o,u),aa&&Jo(o,f),c;if(null===u){for(;f<s.length;f++)null!==(u=h(o,s[f],l))&&(a=r(u,a,f),null===d?c=u:d.sibling=u,d=u);return aa&&Jo(o,f),c}for(u=n(o,u);f<s.length;f++)null!==(m=g(u,o,f,s[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),a=r(m,a,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(o,e)})),aa&&Jo(o,f),c}function m(o,s,l,c){var d=P(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=s,m=s=0,y=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var b=p(o,f,v.value,c);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(o,f),s=r(b,s,m),null===u?d=b:u.sibling=b,u=b,f=y}if(v.done)return i(o,f),aa&&Jo(o,m),d;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(o,v.value,c))&&(s=r(v,s,m),null===u?d=v:u.sibling=v,u=v);return aa&&Jo(o,m),d}for(f=n(o,f);!v.done;m++,v=l.next())null!==(v=g(f,o,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=r(v,s,m),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(o,e)})),aa&&Jo(o,m),d}return function e(n,a,r,l){if("object"===typeof r&&null!==r&&r.type===A&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case S:e:{for(var c=r.key,d=a;null!==d;){if(d.key===c){if((c=r.type)===A){if(7===d.tag){i(n,d.sibling),(a=o(d,r.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&ba(c)===d.type){i(n,d.sibling),(a=o(d,r.props)).ref=ya(n,d,r),a.return=n,n=a;break e}i(n,d);break}t(n,d),d=d.sibling}r.type===A?((a=Pc(r.props.children,n.mode,l,r.key)).return=n,n=a):((l=Rc(r.type,r.key,r.props,null,n.mode,l)).ref=ya(n,a,r),l.return=n,n=l)}return s(n);case M:e:{for(d=r.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===r.containerInfo&&a.stateNode.implementation===r.implementation){i(n,a.sibling),(a=o(a,r.children||[])).return=n,n=a;break e}i(n,a);break}t(n,a),a=a.sibling}(a=Bc(r,n.mode,l)).return=n,n=a}return s(n);case L:return e(n,a,(d=r._init)(r._payload),l)}if(te(r))return f(n,a,r,l);if(P(r))return m(n,a,r,l);va(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==a&&6===a.tag?(i(n,a.sibling),(a=o(a,r)).return=n,n=a):(i(n,a),(a=jc(r,n.mode,l)).return=n,n=a),s(n)):i(n,a)}}var Sa=xa(!0),Ma=xa(!1),Aa=wo(null),ka=null,wa=null,Ca=null;function Ia(){Ca=wa=ka=null}function Da(e){var t=Aa.current;Co(Aa),e._currentValue=t}function Na(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Ea(e,t){ka=e,Ca=wa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===wa){if(null===ka)throw Error(a(308));wa=e,ka.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var La=null;function Ta(e){null===La?La=[e]:La.push(e)}function Ra(e,t,i,n){var o=t.interleaved;return null===o?(i.next=i,Ta(t)):(i.next=o.next,o.next=i),t.interleaved=i,Pa(e,n)}function Pa(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var za=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Dl)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Pa(e,i)}return null===(o=n.interleaved)?(t.next=t,Ta(n)):(t.next=o.next,o.next=t),n.interleaved=t,Pa(e,i)}function _a(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}function Ha(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var o=null,a=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===a?o=a=r:a=a.next=r,i=i.next}while(null!==i);null===a?o=a=t:a=a.next=t}else o=a=t;return i={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Wa(e,t,i,n){var o=e.updateQueue;za=!1;var a=o.firstBaseUpdate,r=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===r?a=c:r.next=c,r=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=o.baseState;for(r=0,d=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,f=s;switch(h=t,p=i,f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(p,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,u,h):g)||void 0===h)break e;u=j({},u,h);break e;case 2:za=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,r|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{r|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);zl|=r,e.lanes=r,e.memoizedState=u}}function Ga(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=i,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var Va={},Ua=wo(Va),Ka=wo(Va),Ya=wo(Va);function Xa(e){if(e===Va)throw Error(a(174));return e}function Za(e,t){switch(Io(Ya,t),Io(Ka,e),Io(Ua,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Ua),Io(Ua,t)}function qa(){Co(Ua),Co(Ka),Co(Ya)}function Qa(e){Xa(Ya.current);var t=Xa(Ua.current),i=le(t,e.type);t!==i&&(Io(Ka,e),Io(Ua,i))}function Ja(e){Ka.current===e&&(Co(Ua),Co(Ka))}var er=wo(0);function tr(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ir=[];function nr(){for(var e=0;e<ir.length;e++)ir[e]._workInProgressVersionPrimary=null;ir.length=0}var or=x.ReactCurrentDispatcher,ar=x.ReactCurrentBatchConfig,rr=0,sr=null,lr=null,cr=null,dr=!1,ur=!1,hr=0,pr=0;function gr(){throw Error(a(321))}function fr(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sn(e[i],t[i]))return!1;return!0}function mr(e,t,i,n,o,r){if(rr=r,sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,or.current=null===e||null===e.memoizedState?Jr:es,e=i(n,o),ur){r=0;do{if(ur=!1,hr=0,25<=r)throw Error(a(301));r+=1,cr=lr=null,t.updateQueue=null,or.current=ts,e=i(n,o)}while(ur)}if(or.current=Qr,t=null!==lr&&null!==lr.next,rr=0,cr=lr=sr=null,dr=!1,t)throw Error(a(300));return e}function yr(){var e=0!==hr;return hr=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cr?sr.memoizedState=cr=e:cr=cr.next=e,cr}function br(){if(null===lr){var e=sr.alternate;e=null!==e?e.memoizedState:null}else e=lr.next;var t=null===cr?sr.memoizedState:cr.next;if(null!==t)cr=t,lr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(lr=e).memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},null===cr?sr.memoizedState=cr=e:cr=cr.next=e}return cr}function xr(e,t){return"function"===typeof t?t(e):t}function Sr(e){var t=br(),i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=e;var n=lr,o=n.baseQueue,r=i.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}n.baseQueue=o=r,i.pending=null}if(null!==o){r=o.next,n=n.baseState;var l=s=null,c=null,d=r;do{var u=d.lane;if((rr&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,sr.lanes|=u,zl|=u}d=d.next}while(null!==d&&d!==r);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,i.lastRenderedState=n}if(null!==(e=i.interleaved)){o=e;do{r=o.lane,sr.lanes|=r,zl|=r,o=o.next}while(o!==e)}else null===o&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Mr(e){var t=br(),i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=e;var n=i.dispatch,o=i.pending,r=t.memoizedState;if(null!==o){i.pending=null;var s=o=o.next;do{r=e(r,s.action),s=s.next}while(s!==o);sn(r,t.memoizedState)||(bs=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),i.lastRenderedState=r}return[r,n]}function Ar(){}function kr(e,t){var i=sr,n=br(),o=t(),r=!sn(n.memoizedState,o);if(r&&(n.memoizedState=o,bs=!0),n=n.queue,zr(Ir.bind(null,i,n,e),[e]),n.getSnapshot!==t||r||null!==cr&&1&cr.memoizedState.tag){if(i.flags|=2048,Or(9,Cr.bind(null,i,n,o,t),void 0,null),null===Nl)throw Error(a(349));0!==(30&rr)||wr(i,t,o)}return o}function wr(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=sr.updateQueue)?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Cr(e,t,i,n){t.value=i,t.getSnapshot=n,Dr(t)&&Nr(e)}function Ir(e,t,i){return i((function(){Dr(t)&&Nr(e)}))}function Dr(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sn(e,i)}catch(n){return!0}}function Nr(e){var t=Pa(e,1);null!==t&&ic(t,e,1,-1)}function Er(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,sr,e),[t.memoizedState,e]}function Or(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=sr.updateQueue)?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Lr(){return br().memoizedState}function Tr(e,t,i,n){var o=vr();sr.flags|=e,o.memoizedState=Or(1|t,i,void 0,void 0===n?null:n)}function Rr(e,t,i,n){var o=br();n=void 0===n?null:n;var a=void 0;if(null!==lr){var r=lr.memoizedState;if(a=r.destroy,null!==n&&fr(n,r.deps))return void(o.memoizedState=Or(t,i,a,n))}sr.flags|=e,o.memoizedState=Or(1|t,i,a,n)}function Pr(e,t){return Tr(8390656,8,e,t)}function zr(e,t){return Rr(2048,8,e,t)}function jr(e,t){return Rr(4,2,e,t)}function Br(e,t){return Rr(4,4,e,t)}function $r(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fr(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Rr(4,4,$r.bind(null,t,e),i)}function _r(){}function Hr(e,t){var i=br();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&fr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Wr(e,t){var i=br();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&fr(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Gr(e,t,i){return 0===(21&rr)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=i):(sn(i,t)||(i=ft(),sr.lanes|=i,zl|=i,e.baseState=!0),t)}function Vr(e,t){var i=bt;bt=0!==i&&4>i?i:4,e(!0);var n=ar.transition;ar.transition={};try{e(!1),t()}finally{bt=i,ar.transition=n}}function Ur(){return br().memoizedState}function Kr(e,t,i){var n=tc(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Xr(e))Zr(t,i);else if(null!==(i=Ra(e,t,i,n))){ic(i,e,n,ec()),qr(i,t,n)}}function Yr(e,t,i){var n=tc(e),o={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xr(e))Zr(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var r=t.lastRenderedState,s=a(r,i);if(o.hasEagerState=!0,o.eagerState=s,sn(s,r)){var l=t.interleaved;return null===l?(o.next=o,Ta(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(i=Ra(e,t,o,n))&&(ic(i,e,n,o=ec()),qr(i,t,n))}}function Xr(e){var t=e.alternate;return e===sr||null!==t&&t===sr}function Zr(e,t){ur=dr=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function qr(e,t,i){if(0!==(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}var Qr={readContext:Oa,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},Jr={readContext:Oa,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Pr,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Tr(4194308,4,$r.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Tr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tr(4,2,e,t)},useMemo:function(e,t){var i=vr();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=vr();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Kr.bind(null,sr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Er,useDebugValue:_r,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Er(!1),t=e[0];return e=Vr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=sr,o=vr();if(aa){if(void 0===i)throw Error(a(407));i=i()}else{if(i=t(),null===Nl)throw Error(a(349));0!==(30&rr)||wr(n,t,i)}o.memoizedState=i;var r={value:i,getSnapshot:t};return o.queue=r,Pr(Ir.bind(null,n,r,e),[e]),n.flags|=2048,Or(9,Cr.bind(null,n,r,i,t),void 0,null),i},useId:function(){var e=vr(),t=Nl.identifierPrefix;if(aa){var i=Qo;t=":"+t+"R"+(i=(qo&~(1<<32-rt(qo)-1)).toString(32)+i),0<(i=hr++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Oa,useCallback:Hr,useContext:Oa,useEffect:zr,useImperativeHandle:Fr,useInsertionEffect:jr,useLayoutEffect:Br,useMemo:Wr,useReducer:Sr,useRef:Lr,useState:function(){return Sr(xr)},useDebugValue:_r,useDeferredValue:function(e){return Gr(br(),lr.memoizedState,e)},useTransition:function(){return[Sr(xr)[0],br().memoizedState]},useMutableSource:Ar,useSyncExternalStore:kr,useId:Ur,unstable_isNewReconciler:!1},ts={readContext:Oa,useCallback:Hr,useContext:Oa,useEffect:zr,useImperativeHandle:Fr,useInsertionEffect:jr,useLayoutEffect:Br,useMemo:Wr,useReducer:Mr,useRef:Lr,useState:function(){return Mr(xr)},useDebugValue:_r,useDeferredValue:function(e){var t=br();return null===lr?t.memoizedState=e:Gr(t,lr.memoizedState,e)},useTransition:function(){return[Mr(xr)[0],br().memoizedState]},useMutableSource:Ar,useSyncExternalStore:kr,useId:Ur,unstable_isNewReconciler:!1};function is(e,t){if(e&&e.defaultProps){for(var i in t=j({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function ns(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:j({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=ec(),o=tc(e),a=$a(n,o);a.payload=t,void 0!==i&&null!==i&&(a.callback=i),null!==(t=Fa(e,a,o))&&(ic(t,e,o,n),_a(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=ec(),o=tc(e),a=$a(n,o);a.tag=1,a.payload=t,void 0!==i&&null!==i&&(a.callback=i),null!==(t=Fa(e,a,o))&&(ic(t,e,o,n),_a(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ec(),n=tc(e),o=$a(i,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fa(e,o,n))&&(ic(t,e,n,i),_a(t,e,n))}};function as(e,t,i,n,o,a,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,r):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(o,a))}function rs(e,t,i){var n=!1,o=Do,a=t.contextType;return"object"===typeof a&&null!==a?a=Oa(a):(o=To(t)?Oo:No.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Lo(e,o):Do),t=new t(i,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,i,n){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},ja(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Oa(a):(a=To(t)?Oo:No.current,o.context=Lo(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ns(e,t,a,i),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Wa(e,i,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var i="",n=t;do{i+=_(n),n=n.return}while(n);var o=i}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,i){(i=$a(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Gl||(Gl=!0,Vl=n),us(0,t)},i}function gs(e,t,i){(i=$a(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;i.payload=function(){return n(o)},i.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(i.callback=function(){us(0,t),"function"!==typeof n&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function fs(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(i)||(o.add(i),e=wc.bind(null,e,t,i),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,i,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=$a(-1,1)).tag=2,Fa(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,i,n){t.child=null===e?Ma(t,null,i,n):Sa(t,e.child,i,n)}function Ss(e,t,i,n,o){i=i.render;var a=t.ref;return Ea(t,o),n=mr(e,t,i,n,a,o),i=yr(),null===e||bs?(aa&&i&&ta(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Ms(e,t,i,n,o){if(null===e){var a=i.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Rc(i.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,As(e,t,a,n,o))}if(a=e.child,0===(e.lanes&o)){var r=a.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(r,n)&&e.ref===t.ref)return Gs(e,t,o)}return t.flags|=1,(e=Tc(a,n)).ref=t.ref,e.return=t,t.child=e}function As(e,t,i,n,o){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=a,0===(e.lanes&o))return t.lanes=e.lanes,Gs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,i,n,o)}function ks(e,t,i){var n=t.pendingProps,o=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(Tl,Ll),Ll|=i;else{if(0===(1073741824&i))return e=null!==a?a.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(Tl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:i,Io(Tl,Ll),Ll|=n}else null!==a?(n=a.baseLanes|i,t.memoizedState=null):n=i,Io(Tl,Ll),Ll|=n;return xs(e,t,o,i),t.child}function ws(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,i,n,o){var a=To(i)?Oo:No.current;return a=Lo(t,a),Ea(t,o),i=mr(e,t,i,n,a,o),n=yr(),null===e||bs?(aa&&n&&ta(t),t.flags|=1,xs(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Is(e,t,i,n,o){if(To(i)){var a=!0;jo(t)}else a=!1;if(Ea(t,o),null===t.stateNode)Ws(e,t),rs(t,i,n),ls(t,i,n,o),n=!0;else if(null===e){var r=t.stateNode,s=t.memoizedProps;r.props=s;var l=r.context,c=i.contextType;"object"===typeof c&&null!==c?c=Oa(c):c=Lo(t,c=To(i)?Oo:No.current);var d=i.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,r,n,c),za=!1;var h=t.memoizedState;r.state=h,Wa(t,n,r,o),l=t.memoizedState,s!==n||h!==l||Eo.current||za?("function"===typeof d&&(ns(t,i,d,n),l=t.memoizedState),(s=za||as(t,i,s,n,h,l,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),r.props=n,r.state=l,r.context=c,n=s):("function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Ba(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:is(t.type,s),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=Oa(l):l=Lo(t,l=To(i)?Oo:No.current);var p=i.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==u||h!==l)&&ss(t,r,n,l),za=!1,h=t.memoizedState,r.state=h,Wa(t,n,r,o);var g=t.memoizedState;s!==u||h!==g||Eo.current||za?("function"===typeof p&&(ns(t,i,p,n),g=t.memoizedState),(c=za||as(t,i,c,n,h,g,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,g,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),r.props=n,r.state=g,r.context=l,n=c):("function"!==typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ds(e,t,i,n,a,o)}function Ds(e,t,i,n,o,a){ws(e,t);var r=0!==(128&t.flags);if(!n&&!r)return o&&Bo(t,i,!1),Gs(e,t,a);n=t.stateNode,vs.current=t;var s=r&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&r?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=n.state,o&&Bo(t,i,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Po(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Po(0,t.context,!1),Za(e,t.containerInfo)}function Es(e,t,i,n,o){return ga(),fa(o),t.flags|=256,xs(e,t,i,n),t.child}var Os,Ls,Ts,Rs,Ps={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,i){var n,o=t.pendingProps,r=er.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&r)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Io(er,1&r),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zc(l,o,0,null),e=Pc(e,o,i,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(i),t.memoizedState=Ps,e):Bs(t,l));if(null!==(r=e.memoizedState)&&null!==(n=r.dehydrated))return function(e,t,i,n,o,r,s){if(i)return 256&t.flags?(t.flags&=-257,$s(e,t,s,n=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=n.fallback,o=t.mode,n=zc({mode:"visible",children:n.children},o,0,null),(r=Pc(r,o,s,null)).flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,0!==(1&t.mode)&&Sa(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Ps,r);if(0===(1&t.mode))return $s(e,t,s,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,$s(e,t,s,n=ds(r=Error(a(419)),n,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(n=Nl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|s))?0:o)&&o!==r.retryLane&&(r.retryLane=o,Pa(e,o),ic(n,e,o,-1))}return fc(),$s(e,t,s,n=ds(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),o._reactRetry=t,null):(e=r.treeContext,oa=co(o.nextSibling),na=t,aa=!0,ra=null,null!==e&&(Yo[Xo++]=qo,Yo[Xo++]=Qo,Yo[Xo++]=Zo,qo=e.id,Qo=e.overflow,Zo=t),t=Bs(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,r,i);if(s){s=o.fallback,l=t.mode,n=(r=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==r?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Tc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?s=Tc(n,s):(s=Pc(s,l,i,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?zs(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~i,t.memoizedState=Ps,o}return e=(s=e.child).sibling,o=Tc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=i),o.return=t,o.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,i,n){return null!==n&&fa(n),Sa(t,e.child,null,i),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Na(e.return,t,i)}function _s(e,t,i,n,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailMode=o)}function Hs(e,t,i){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(xs(e,t,n.children,i),0!==(2&(n=er.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,i,t);else if(19===e.tag)Fs(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Io(er,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(i=t.child,o=null;null!==i;)null!==(e=i.alternate)&&null===tr(e)&&(o=i),i=i.sibling;null===(i=o)?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),_s(t,!1,o,i,a);break;case"backwards":for(i=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===tr(e)){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}_s(t,!0,i,null,a);break;case"together":_s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(i=Tc(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Tc(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Vs(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Us(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Ks(e,t,i){var n=t.pendingProps;switch(ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(t),null;case 1:case 17:return To(t.type)&&Ro(),Us(t),null;case 3:return n=t.stateNode,qa(),Co(Eo),Co(No),nr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ra&&(rc(ra),ra=null))),Ls(e,t),Us(t),null;case 5:Ja(t);var o=Xa(Ya.current);if(i=t.type,null!==e&&null!=t.stateNode)Ts(e,t,i,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Us(t),null}if(e=Xa(Ua.current),ha(t)){n=t.stateNode,i=t.type;var r=t.memoizedProps;switch(n[po]=t,n[go]=r,e=0!==(1&t.mode),i){case"dialog":$n("cancel",n),$n("close",n);break;case"iframe":case"object":case"embed":$n("load",n);break;case"video":case"audio":for(o=0;o<Pn.length;o++)$n(Pn[o],n);break;case"source":$n("error",n);break;case"img":case"image":case"link":$n("error",n),$n("load",n);break;case"details":$n("toggle",n);break;case"input":Z(n,r),$n("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},$n("invalid",n);break;case"textarea":oe(n,r),$n("invalid",n)}for(var l in ve(i,r),o=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&Qn(n.textContent,c,e),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Qn(n.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$n("scroll",n)}switch(i){case"input":U(n),J(n,r,!0);break;case"textarea":U(n),re(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=Jn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[po]=t,e[go]=n,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(i,n),i){case"dialog":$n("cancel",e),$n("close",e),o=n;break;case"iframe":case"object":case"embed":$n("load",e),o=n;break;case"video":case"audio":for(o=0;o<Pn.length;o++)$n(Pn[o],e);o=n;break;case"source":$n("error",e),o=n;break;case"img":case"image":case"link":$n("error",e),$n("load",e),o=n;break;case"details":$n("toggle",e),o=n;break;case"input":Z(e,n),o=X(e,n),$n("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=j({},n,{value:void 0}),$n("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),$n("invalid",e)}for(r in ve(i,o),c=o)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?me(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==i||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(s.hasOwnProperty(r)?null!=d&&"onScroll"===r&&$n("scroll",e):null!=d&&b(e,r,d,l))}switch(i){case"input":U(e),J(e,n,!1);break;case"textarea":U(e),re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+G(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?ie(e,!!n.multiple,r,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jn)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Us(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(i=Xa(Ya.current),Xa(Ua.current),ha(t)){if(n=t.stateNode,i=t.memoizedProps,n[po]=t,(r=n.nodeValue!==i)&&null!==(e=na))switch(e.tag){case 3:Qn(n.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,i,0!==(1&e.mode))}r&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[po]=t,t.stateNode=n}return Us(t),null;case 13:if(Co(er),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))pa(),ga(),t.flags|=98560,r=!1;else if(r=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[po]=t}else ga(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Us(t),r=!1}else null!==ra&&(rc(ra),ra=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&er.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Us(t),null);case 4:return qa(),Ls(e,t),null===e&&Hn(t.stateNode.containerInfo),Us(t),null;case 10:return Da(t.type._context),Us(t),null;case 19:if(Co(er),null===(r=t.memoizedState))return Us(t),null;if(n=0!==(128&t.flags),null===(l=r.rendering))if(n)Vs(r,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=tr(e))){for(t.flags|=128,Vs(r,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Io(er,1&er.current|2),t.child}e=e.sibling}null!==r.tail&&qe()>Hl&&(t.flags|=128,n=!0,Vs(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=tr(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Vs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!aa)return Us(t),null}else 2*qe()-r.renderingStartTime>Hl&&1073741824!==i&&(t.flags|=128,n=!0,Vs(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=r.last)?i.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=qe(),t.sibling=null,i=er.current,Io(er,n?1&i|2:1&i),t):(Us(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Us(t),6&t.subtreeFlags&&(t.flags|=8192)):Us(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ia(t),t.tag){case 1:return To(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qa(),Co(Eo),Co(No),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Co(er),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ga()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(er),null;case 4:return qa(),null;case 10:return Da(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Os=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ls=function(){},Ts=function(e,t,i,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Xa(Ua.current);var a,r=null;switch(i){case"input":o=X(e,o),n=X(e,n),r=[];break;case"select":o=j({},o,{value:void 0}),n=j({},n,{value:void 0}),r=[];break;case"textarea":o=ne(e,o),n=ne(e,n),r=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(d in ve(i,n),i=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(i||(i={}),i[a]=c[a])}else i||(r||(r=[]),r.push(d,i)),i=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$n("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}i&&(r=r||[]).push("style",i);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Rs=function(e,t,i,n){i!==n&&(t.flags|=4)};var Xs=!1,Zs=!1,qs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){kc(e,t,n)}else i.current=null}function el(e,t,i){try{i()}catch(n){kc(e,t,n)}}var tl=!1;function il(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,i,a)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function ol(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[go],delete t[mo],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,i),e=e.sibling;null!==e;)ll(e,t,i),e=e.sibling}function cl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,i),e=e.sibling;null!==e;)cl(e,t,i),e=e.sibling}var dl=null,ul=!1;function hl(e,t,i){for(i=i.child;null!==i;)pl(e,t,i),i=i.sibling}function pl(e,t,i){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,i)}catch(s){}switch(i.tag){case 5:Zs||Js(i,t);case 6:var n=dl,o=ul;dl=null,hl(e,t,i),ul=o,null!==(dl=n)&&(ul?(e=dl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):dl.removeChild(i.stateNode));break;case 18:null!==dl&&(ul?(e=dl,i=i.stateNode,8===e.nodeType?lo(e.parentNode,i):1===e.nodeType&&lo(e,i),Ht(e)):lo(dl,i.stateNode));break;case 4:n=dl,o=ul,dl=i.stateNode.containerInfo,ul=!0,hl(e,t,i),dl=n,ul=o;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var a=o,r=a.destroy;a=a.tag,void 0!==r&&(0!==(2&a)||0!==(4&a))&&el(i,t,r),o=o.next}while(o!==n)}hl(e,t,i);break;case 1:if(!Zs&&(Js(i,t),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(s){kc(i,t,s)}hl(e,t,i);break;case 21:hl(e,t,i);break;case 22:1&i.mode?(Zs=(n=Zs)||null!==i.memoizedState,hl(e,t,i),Zs=n):hl(e,t,i);break;default:hl(e,t,i)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new qs),t.forEach((function(t){var n=Dc.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function fl(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var o=i[n];try{var r=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(r,s,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){kc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&n){try{il(3,e,e.return),nl(3,e)}catch(m){kc(e,e.return,m)}try{il(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:fl(t,e),yl(e),512&n&&null!==i&&Js(i,i.return);break;case 5:if(fl(t,e),yl(e),512&n&&null!==i&&Js(i,i.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(m){kc(e,e.return,m)}}if(4&n&&null!=(o=e.stateNode)){var r=e.memoizedProps,s=null!==i?i.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&q(o,r),be(l,s);var d=be(l,r);for(s=0;s<c.length;s+=2){var u=c[s],h=c[s+1];"style"===u?me(o,h):"dangerouslySetInnerHTML"===u?ue(o,h):"children"===u?he(o,h):b(o,u,h,d)}switch(l){case"input":Q(o,r);break;case"textarea":ae(o,r);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!r.multiple;var g=r.value;null!=g?ie(o,!!r.multiple,g,!1):p!==!!r.multiple&&(null!=r.defaultValue?ie(o,!!r.multiple,r.defaultValue,!0):ie(o,!!r.multiple,r.multiple?[]:"",!1))}o[go]=r}catch(m){kc(e,e.return,m)}}break;case 6:if(fl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,r=e.memoizedProps;try{o.nodeValue=r}catch(m){kc(e,e.return,m)}}break;case 3:if(fl(t,e),yl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(o=e.child).flags&&(r=null!==o.memoizedState,o.stateNode.isHidden=r,!r||null!==o.alternate&&null!==o.alternate.memoizedState||(_l=qe())),4&n&&gl(e);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&e.mode?(Zs=(d=Zs)||u,fl(t,e),Zs=d):fl(t,e),yl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qs=e,u=e.child;null!==u;){for(h=Qs=u;null!==Qs;){switch(g=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:Js(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,i=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){kc(n,i,m)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(h);continue}}null!==g?(g.return=p,Qs=g):Sl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{o=h.stateNode,d?"function"===typeof(r=o.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",s))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),yl(e),4&n&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(rl(i)){var n=i;break e}i=i.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(he(o,""),n.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var r=n.stateNode.containerInfo;ll(e,sl(e),r);break;default:throw Error(a(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,i){Qs=e,bl(e,t,i)}function bl(e,t,i){for(var n=0!==(1&e.mode);null!==Qs;){var o=Qs,a=o.child;if(22===o.tag&&n){var r=null!==o.memoizedState||Xs;if(!r){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Xs;var c=Zs;if(Xs=r,(Zs=l)&&!c)for(Qs=o;null!==Qs;)l=(r=Qs).child,22===r.tag&&null!==r.memoizedState?Ml(o):null!==l?(l.return=r,Qs=l):Ml(o);for(;null!==a;)Qs=a,bl(a,t,i),a=a.sibling;Qs=o,Xs=s,Zs=c}xl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Qs=a):xl(e)}}function xl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Zs)if(null===i)n.componentDidMount();else{var o=t.elementType===t.type?i.memoizedProps:is(t.type,i.memoizedProps);n.componentDidUpdate(o,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Ga(t,r,n);break;case 3:var s=t.updateQueue;if(null!==s){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Ga(t,s,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&ol(t)}catch(p){kc(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(i=t.sibling)){i.return=t.return,Qs=i;break}Qs=t.return}}function Sl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qs=i;break}Qs=t.return}}function Ml(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(l){kc(t,i,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){kc(t,o,l)}}var a=t.return;try{ol(t)}catch(l){kc(t,a,l)}break;case 5:var r=t.return;try{ol(t)}catch(l){kc(t,r,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Al,kl=Math.ceil,wl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,Dl=0,Nl=null,El=null,Ol=0,Ll=0,Tl=wo(0),Rl=0,Pl=null,zl=0,jl=0,Bl=0,$l=null,Fl=null,_l=0,Hl=1/0,Wl=null,Gl=!1,Vl=null,Ul=null,Kl=!1,Yl=null,Xl=0,Zl=0,ql=null,Ql=-1,Jl=0;function ec(){return 0!==(6&Dl)?qe():-1!==Ql?Ql:Ql=qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Ol?Ol&-Ol:null!==ma.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function ic(e,t,i,n){if(50<Zl)throw Zl=0,ql=null,Error(a(185));yt(e,i,n),0!==(2&Dl)&&e===Nl||(e===Nl&&(0===(2&Dl)&&(jl|=i),4===Rl&&sc(e,Ol)),nc(e,n),1===i&&0===Dl&&0===(1&t.mode)&&(Hl=qe()+500,Fo&&Wo()))}function nc(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var r=31-rt(a),s=1<<r,l=o[r];-1===l?0!==(s&i)&&0===(s&n)||(o[r]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=ht(e,e===Nl?Ol:0);if(0===n)null!==i&&Ye(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&Ye(i),1===t)0===e.tag?function(e){Fo=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),ro((function(){0===(6&Dl)&&Wo()})),i=null;else{switch(xt(n)){case 1:i=Je;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=Nc(i,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function oc(e,t){if(Ql=-1,Jl=0,0!==(6&Dl))throw Error(a(327));var i=e.callbackNode;if(Mc()&&e.callbackNode!==i)return null;var n=ht(e,e===Nl?Ol:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var o=Dl;Dl|=2;var r=gc();for(Nl===e&&Ol===t||(Wl=null,Hl=qe()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ia(),wl.current=r,Dl=o,null!==El?t=0:(Nl=null,Ol=0,t=Rl)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(n=o,t=ac(e,o))),1===t)throw i=Pl,hc(e,0),sc(e,n),nc(e,qe()),i;if(6===t)sc(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var o=i[n],a=o.getSnapshot;o=o.value;try{if(!sn(a(),o))return!1}catch(s){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=mc(e,n))&&(0!==(r=gt(e))&&(n=r,t=ac(e,r))),1===t))throw i=Pl,hc(e,0),sc(e,n),nc(e,qe()),i;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e,Fl,Wl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=_l+500-qe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(Sc.bind(null,e,Fl,Wl),t);break}Sc(e,Fl,Wl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-rt(n);r=1<<s,(s=t[s])>o&&(o=s),n&=~r}if(n=o,10<(n=(120>(n=qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=no(Sc.bind(null,e,Fl,Wl),n);break}Sc(e,Fl,Wl);break;default:throw Error(a(329))}}}return nc(e,qe()),e.callbackNode===i?oc.bind(null,e):null}function ac(e,t){var i=$l;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fl,Fl=i,null!==t&&rc(t)),e}function rc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-rt(t),n=1<<i;e[i]=-1,t&=~n}}function lc(e){if(0!==(6&Dl))throw Error(a(327));Mc();var t=ht(e,0);if(0===(1&t))return nc(e,qe()),null;var i=mc(e,t);if(0!==e.tag&&2===i){var n=gt(e);0!==n&&(t=n,i=ac(e,n))}if(1===i)throw i=Pl,hc(e,0),sc(e,t),nc(e,qe()),i;if(6===i)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Fl,Wl),nc(e,qe()),null}function cc(e,t){var i=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=i)&&(Hl=qe()+500,Fo&&Wo())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Dl)&&Mc();var t=Dl;Dl|=1;var i=Il.transition,n=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=n,Il.transition=i,0===(6&(Dl=t))&&Wo()}}function uc(){Ll=Tl.current,Co(Tl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,oo(i)),null!==El)for(i=El.return;null!==i;){var n=i;switch(ia(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ro();break;case 3:qa(),Co(Eo),Co(No),nr();break;case 5:Ja(n);break;case 4:qa();break;case 13:case 19:Co(er);break;case 10:Da(n.type._context);break;case 22:case 23:uc()}i=i.return}if(Nl=e,El=e=Tc(e.current,null),Ol=Ll=t,Rl=0,Pl=null,Bl=jl=zl=0,Fl=$l=null,null!==La){for(t=0;t<La.length;t++)if(null!==(n=(i=La[t]).interleaved)){i.interleaved=null;var o=n.next,a=i.pending;if(null!==a){var r=a.next;a.next=o,n.next=r}i.pending=n}La=null}return e}function pc(e,t){for(;;){var i=El;try{if(Ia(),or.current=Qr,dr){for(var n=sr.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}dr=!1}if(rr=0,cr=lr=sr=null,ur=!1,hr=0,Cl.current=null,null===i||null===i.return){Rl=1,Pl=t,El=null;break}e:{var r=e,s=i.return,l=i,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=ms(s);if(null!==g){g.flags&=-257,ys(g,s,l,0,t),1&g.mode&&fs(r,d,t),c=d;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(c),t.updateQueue=m}else f.add(c);break e}if(0===(1&t)){fs(r,d,t),fc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),fa(cs(c,l));break e}}r=c=cs(c,l),4!==Rl&&(Rl=2),null===$l?$l=[r]:$l.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Ha(r,ps(0,c,t));break e;case 1:l=c;var v=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ul||!Ul.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,Ha(r,gs(r,l,t));break e}}r=r.return}while(null!==r)}xc(i)}catch(x){t=x,El===i&&null!==i&&(El=i=i.return);continue}break}}function gc(){var e=wl.current;return wl.current=Qr,null===e?Qr:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&zl)&&0===(268435455&jl)||sc(Nl,Ol)}function mc(e,t){var i=Dl;Dl|=2;var n=gc();for(Nl===e&&Ol===t||(Wl=null,hc(e,t));;)try{yc();break}catch(o){pc(e,o)}if(Ia(),Dl=i,wl.current=n,null!==El)throw Error(a(261));return Nl=null,Ol=0,Rl}function yc(){for(;null!==El;)bc(El)}function vc(){for(;null!==El&&!Xe();)bc(El)}function bc(e){var t=Al(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?xc(e):El=t,Cl.current=null}function xc(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Ks(i,t,Ll)))return void(El=i)}else{if(null!==(i=Ys(i,t)))return i.flags&=32767,void(El=i);if(null===e)return Rl=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Rl&&(Rl=5)}function Sc(e,t,i){var n=bt,o=Il.transition;try{Il.transition=null,bt=1,function(e,t,i,n){do{Mc()}while(null!==Yl);if(0!==(6&Dl))throw Error(a(327));i=e.finishedWork;var o=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-rt(i),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,i&=~a}}(e,r),e===Nl&&(El=Nl=null,Ol=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Kl||(Kl=!0,Nc(tt,(function(){return Mc(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=Il.transition,Il.transition=null;var s=bt;bt=1;var l=Dl;Dl|=4,Cl.current=null,function(e,t){if(eo=Gt,pn(e=hn())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var o=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch(S){i=null;break e}var s=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var g;h!==i||0!==o&&3!==h.nodeType||(l=s+o),h!==r||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===i&&++d===o&&(l=s),p===r&&++u===n&&(c=s),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(to={focusedElem:e,selectionRange:i},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,y=f.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:is(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(S){kc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}f=tl,tl=!1}(e,i),ml(i,e),gn(to),Gt=!!eo,to=eo=null,e.current=i,vl(i,e,o),Ze(),Dl=l,bt=s,Il.transition=r}else e.current=i;if(Kl&&(Kl=!1,Yl=e,Xl=o),r=e.pendingLanes,0===r&&(Ul=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),nc(e,qe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)o=t[i],n(o.value,{componentStack:o.stack,digest:o.digest});if(Gl)throw Gl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&Mc(),r=e.pendingLanes,0!==(1&r)?e===ql?Zl++:(Zl=0,ql=e):Zl=0,Wo()}(e,t,i,n)}finally{Il.transition=o,bt=n}return null}function Mc(){if(null!==Yl){var e=xt(Xl),t=Il.transition,i=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Dl))throw Error(a(331));var o=Dl;for(Dl|=4,Qs=e.current;null!==Qs;){var r=Qs,s=r.child;if(0!==(16&Qs.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qs=d;null!==Qs;){var u=Qs;switch(u.tag){case 0:case 11:case 15:il(8,u,r)}var h=u.child;if(null!==h)h.return=u,Qs=h;else for(;null!==Qs;){var p=(u=Qs).sibling,g=u.return;if(al(u),u===d){Qs=null;break}if(null!==p){p.return=g,Qs=p;break}Qs=g}}}var f=r.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qs=r}}if(0!==(2064&r.subtreeFlags)&&null!==s)s.return=r,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(r=Qs).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var v=r.sibling;if(null!==v){v.return=r.return,Qs=v;break e}Qs=r.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(M){kc(l,l.return,M)}if(l===s){Qs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Qs=S;break e}Qs=l.return}}if(Dl=o,Wo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(M){}n=!0}return n}finally{bt=i,Il.transition=t}}return!1}function Ac(e,t,i){e=Fa(e,t=ps(0,t=cs(i,t),1),1),t=ec(),null!==e&&(yt(e,1,t),nc(e,t))}function kc(e,t,i){if(3===e.tag)Ac(e,e,i);else for(;null!==t;){if(3===t.tag){Ac(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ul||!Ul.has(n))){t=Fa(t,e=gs(t,e=cs(i,e),1),1),e=ec(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function wc(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&i,Nl===e&&(Ol&i)===i&&(4===Rl||3===Rl&&(130023424&Ol)===Ol&&500>qe()-_l?hc(e,0):Bl|=i),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var i=ec();null!==(e=Pa(e,t))&&(yt(e,t,i),nc(e,i))}function Ic(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Cc(e,i)}function Dc(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(i=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Cc(e,i)}function Nc(e,t){return Ke(e,t)}function Ec(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,i,n){return new Ec(e,t,i,n)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var i=e.alternate;return null===i?((i=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rc(e,t,i,n,o,r){var s=2;if(n=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return Pc(i.children,o,r,t);case k:s=8,o|=8;break;case w:return(e=Oc(12,i,t,2|o)).elementType=w,e.lanes=r,e;case N:return(e=Oc(13,i,t,o)).elementType=N,e.lanes=r,e;case E:return(e=Oc(19,i,t,o)).elementType=E,e.lanes=r,e;case T:return zc(i,o,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case D:s=11;break e;case O:s=14;break e;case L:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,i,t,o)).elementType=e,t.type=n,t.lanes=r,t}function Pc(e,t,i,n){return(e=Oc(7,e,n,t)).lanes=i,e}function zc(e,t,i,n){return(e=Oc(22,e,n,t)).elementType=T,e.lanes=i,e.stateNode={isHidden:!1},e}function jc(e,t,i){return(e=Oc(6,e,null,t)).lanes=i,e}function Bc(e,t,i){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,i,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,i,n,o,a,r,s,l){return e=new $c(e,t,i,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function _c(e){if(!e)return Do;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var i=e.type;if(To(i))return zo(e,i,t)}return t}function Hc(e,t,i,n,o,a,r,s,l){return(e=Fc(i,n,!0,e,0,a,0,s,l)).context=_c(null),i=e.current,(a=$a(n=ec(),o=tc(i))).callback=void 0!==t&&null!==t?t:null,Fa(i,a,o),e.current.lanes=o,yt(e,o,n),nc(e,n),e}function Wc(e,t,i,n){var o=t.current,a=ec(),r=tc(o);return i=_c(i),null===t.context?t.context=i:t.pendingContext=i,(t=$a(a,r)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fa(o,t,r))&&(ic(e,o,r,a),_a(e,o,r)),r}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Uc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Al=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Eo.current)bs=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return bs=!1,function(e,t,i){switch(t.tag){case 3:Ns(t),ga();break;case 5:Qa(t);break;case 1:To(t.type)&&jo(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Io(Aa,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Io(er,1&er.current),t.flags|=128,null):0!==(i&t.child.childLanes)?js(e,t,i):(Io(er,1&er.current),null!==(e=Gs(e,t,i))?e.sibling:null);Io(er,1&er.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(128&e.flags)){if(n)return Hs(e,t,i);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(er,er.current),n)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,i)}return Gs(e,t,i)}(e,t,i);bs=0!==(131072&e.flags)}else bs=!1,aa&&0!==(1048576&t.flags)&&ea(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ws(e,t),e=t.pendingProps;var o=Lo(t,No.current);Ea(t,i),o=mr(null,t,n,e,o,i);var r=yr();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(n)?(r=!0,jo(t)):r=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ja(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,n,e,i),t=Ds(null,t,n,!0,r,i)):(t.tag=0,aa&&r&&ta(t),xs(null,t,o,i),t=t.child),t;case 16:n=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===O)return 14}return 2}(n),e=is(n,e),o){case 0:t=Cs(null,t,n,e,i);break e;case 1:t=Is(null,t,n,e,i);break e;case 11:t=Ss(null,t,n,e,i);break e;case 14:t=Ms(null,t,n,is(n.type,e),i);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Cs(e,t,n,o=t.elementType===n?o:is(n,o),i);case 1:return n=t.type,o=t.pendingProps,Is(e,t,n,o=t.elementType===n?o:is(n,o),i);case 3:e:{if(Ns(t),null===e)throw Error(a(387));n=t.pendingProps,o=(r=t.memoizedState).element,Ba(e,t),Wa(t,n,null,i);var s=t.memoizedState;if(n=s.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Es(e,t,n,i,o=cs(Error(a(423)),t));break e}if(n!==o){t=Es(e,t,n,i,o=cs(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),na=t,aa=!0,ra=null,i=Ma(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ga(),n===o){t=Gs(e,t,i);break e}xs(e,t,n,i)}t=t.child}return t;case 5:return Qa(t),null===e&&da(t),n=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,s=o.children,io(n,o)?s=null:null!==r&&io(n,r)&&(t.flags|=32),ws(e,t),xs(e,t,s,i),t.child;case 6:return null===e&&da(t),null;case 13:return js(e,t,i);case 4:return Za(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Sa(t,null,n,i):xs(e,t,n,i),t.child;case 11:return n=t.type,o=t.pendingProps,Ss(e,t,n,o=t.elementType===n?o:is(n,o),i);case 7:return xs(e,t,t.pendingProps,i),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,r=t.memoizedProps,s=o.value,Io(Aa,n._currentValue),n._currentValue=s,null!==r)if(sn(r.value,s)){if(r.children===o.children&&!Eo.current){t=Gs(e,t,i);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){s=r.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=$a(-1,i&-i)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=i,null!==(c=r.alternate)&&(c.lanes|=i),Na(r.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===r.tag)s=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(s=r.return))throw Error(a(341));s.lanes|=i,null!==(l=s.alternate)&&(l.lanes|=i),Na(s,i,t),s=r.sibling}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===t){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}xs(e,t,o.children,i),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ea(t,i),n=n(o=Oa(o)),t.flags|=1,xs(e,t,n,i),t.child;case 14:return o=is(n=t.type,t.pendingProps),Ms(e,t,n,o=is(n.type,o),i);case 15:return As(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:is(n,o),Ws(e,t),t.tag=1,To(n)?(e=!0,jo(t)):e=!1,Ea(t,i),rs(t,n,o),ls(t,n,o,i),Ds(null,t,n,!0,e,i);case 19:return Hs(e,t,i);case 22:return ks(e,t,i)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Jc(e,t,i,n,o){var a=i._reactRootContainer;if(a){var r=a;if("function"===typeof o){var s=o;o=function(){var e=Gc(r);s.call(e)}}Wc(t,r,e,o)}else r=function(e,t,i,n,o){if(o){if("function"===typeof n){var a=n;n=function(){var e=Gc(r);a.call(e)}}var r=Hc(t,n,e,0,null,!1,0,"",Qc);return e._reactRootContainer=r,e[fo]=r.current,Hn(8===e.nodeType?e.parentNode:e),dc(),r}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var s=n;n=function(){var e=Gc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fo]=l.current,Hn(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,i,n)})),l}(i,t,e,o,n);return Gc(r)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[fo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Tt.length&&0!==t&&t<Tt[i].priority;i++);Tt.splice(i,0,e),0===i&&jt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(vt(t,1|i),nc(t,qe()),0===(6&Dl)&&(Hl=qe()+500,Wo()))}break;case 13:dc((function(){var t=Pa(e,1);if(null!==t){var i=ec();ic(t,e,1,i)}})),Uc(e,1)}},Mt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)ic(t,e,134217728,ec());Uc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),i=Pa(e,t);if(null!==i)ic(i,e,t,ec());Uc(e,t)}},kt=function(){return bt},wt=function(e,t){var i=bt;try{return bt=e,t()}finally{bt=i}},Me=function(e,t,i){switch(t){case"input":if(Q(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var o=Mo(n);if(!o)throw Error(a(90));K(n),Q(n,o)}}}break;case"textarea":ae(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},De=cc,Ne=dc;var ed={usingClientEntryPoint:!1,Events:[xo,So,Mo,Ce,Ie,cc]},td={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},id={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ot=nd.inject(id),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(a(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Zc(e))throw Error(a(299));var i=!1,n="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,i,0,n,o),e[fo]=t.current,Hn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,i){if(!qc(t))throw Error(a(200));return Jc(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Zc(e))throw Error(a(405));var n=null!=i&&i.hydratedSources||null,o=!1,r="",s=Kc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(o=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(s=i.onRecoverableError)),t=Hc(t,null,e,1,null!=i?i:null,o,0,r,s),e[fo]=t.current,Hn(e),n)for(e=0;e<n.length;e++)o=(o=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,o]:t.mutableSourceEagerHydrationData.push(i,o);return new Xc(t)},t.render=function(e,t,i){if(!qc(t))throw Error(a(200));return Jc(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!qc(i))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,i,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,i)=>{"use strict";var n=i(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},7950:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(2730)},1153:(e,t,i)=>{"use strict";var n=i(5043),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,a={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function y(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||g}function v(){}function b(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,f(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray,M=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var o,a={},r=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(r=""+t.key),t)M.call(t,o)&&!k.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:i,type:e,key:r,ref:s,props:a,_owner:A.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,o,a,r){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return r=r(l=e),e=""===a?"."+D(l,0):a,S(r)?(o="",null!=e&&(o=e.replace(I,"$&/")+"/"),N(r,t,o,"",(function(e){return e}))):null!=r&&(C(r)&&(r=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,o+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(I,"$&/")+"/")+e)),t.push(r)),1;if(l=0,a=""===a?".":a+":",S(e))for(var c=0;c<e.length;c++){var d=a+D(s=e[c],c);l+=N(s,t,o,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,o,d=a+D(s,c++),r);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,i){if(null==e)return e;var n=[],o=0;return N(e,n,"","",(function(e){return t.call(i,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},T={transition:null},R={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:T,ReactCurrentOwner:A};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,i){E(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=r,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),a=e.key,r=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,s=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)M.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:r,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,i){return L.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,i){return L.current.useReducer(e,t,i)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return L.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},5043:(e,t,i)=>{"use strict";e.exports=i(4202)},579:(e,t,i)=>{"use strict";e.exports=i(1153)},7234:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,o=e[n];if(!(0<a(o,t)))break e;e[n]=t,e[i]=o,i=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,o=e.length,r=o>>>1;n<r;){var s=2*(n+1)-1,l=e[s],c=s+1,d=e[c];if(0>a(l,i))c<o&&0>a(d,l)?(e[n]=d,e[c]=i,n=c):(e[n]=l,e[s]=i,n=s);else{if(!(c<o&&0>a(d,i)))break e;e[n]=d,e[c]=i,n=c}}}return t}function a(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,h=null,p=3,g=!1,f=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=n(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,i(c,t)}t=n(d)}}function S(e){if(m=!1,x(e),!f)if(null!==n(c))f=!0,T(M);else{var t=n(d);null!==t&&R(S,t.startTime-e)}}function M(e,i){f=!1,m&&(m=!1,v(C),C=-1),g=!0;var a=p;try{for(x(i),h=n(c);null!==h&&(!(h.expirationTime>i)||e&&!N());){var r=h.callback;if("function"===typeof r){h.callback=null,p=h.priorityLevel;var s=r(h.expirationTime<=i);i=t.unstable_now(),"function"===typeof s?h.callback=s:h===n(c)&&o(c),x(i)}else o(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&R(S,u.startTime-i),l=!1}return l}finally{h=null,p=a,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,k=!1,w=null,C=-1,I=5,D=-1;function N(){return!(t.unstable_now()-D<I)}function E(){if(null!==w){var e=t.unstable_now();D=e;var i=!0;try{i=w(!0,e)}finally{i?A():(k=!1,w=null)}}else k=!1}if("function"===typeof b)A=function(){b(E)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,L=O.port2;O.port1.onmessage=E,A=function(){L.postMessage(null)}}else A=function(){y(E,0)};function T(e){w=e,k||(k=!0,A())}function R(e,i){C=y((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,T(M))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,o,a){var r=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?r+a:r:a=r,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>r?(e.sortIndex=a,i(d,e),null===n(c)&&e===n(d)&&(m?(v(C),C=-1):m=!0,R(S,a-r))):(e.sortIndex=s,i(c,e),f||g||(f=!0,T(M))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},8853:(e,t,i)=>{"use strict";e.exports=i(7234)},8139:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,a(i)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=r(t,i));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},3145:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}i.d(t,{A:()=>n})},6369:(e,t,i)=>{"use strict";function n(e){if(Array.isArray(e))return e}i.d(t,{A:()=>n})},9417:(e,t,i)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.d(t,{A:()=>n})},3029:(e,t,i)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,{A:()=>n})},2901:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(816);function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.A)(o.key),o)}}function a(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}},9640:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(3954),o=i(2176),a=i(2284),r=i(9417);function s(e){var t=(0,o.A)();return function(){var i,o=(0,n.A)(e);if(t){var s=(0,n.A)(this).constructor;i=Reflect.construct(o,arguments,s)}else i=o.apply(this,arguments);return function(e,t){if(t&&("object"==(0,a.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.A)(e)}(this,i)}}},4467:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(816);function o(e,t,i){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},8168:(e,t,i)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n.apply(null,arguments)}i.d(t,{A:()=>n})},3954:(e,t,i)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}i.d(t,{A:()=>n})},5501:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(3662);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},2176:(e,t,i)=>{"use strict";function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n=function(){return!!e})()}i.d(t,{A:()=>n})},3893:(e,t,i)=>{"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}i.d(t,{A:()=>n})},6562:(e,t,i)=>{"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(t,{A:()=>n})},9379:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(4467);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}},8587:(e,t,i)=>{"use strict";function n(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}i.d(t,{A:()=>n})},3662:(e,t,i)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}i.d(t,{A:()=>n})},5544:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(6369);var o=i(7800),a=i(6562);function r(e,t){return(0,n.A)(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,a,r,s=[],l=!0,c=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||(0,o.A)(e,t)||(0,a.A)()}},7695:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(6369),o=i(3893),a=i(7800),r=i(6562);function s(e){return(0,n.A)(e)||(0,o.A)(e)||(0,a.A)(e)||(0,r.A)()}},436:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(3145);var o=i(3893),a=i(7800);function r(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,o.A)(e)||(0,a.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},816:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(2284);function o(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=(0,n.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},2284:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i.d(t,{A:()=>n})},7800:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(3145);function o(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,n.A)(e,t):void 0}}}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);i.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(a,r),a}})(),i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+"."+{23:"cfcf5984",237:"86013d2e",453:"9b0ccbb4",526:"70ff9971"}[e]+".chunk.js",i.miniCssF=e=>"static/css/"+e+".340c12da.chunk.css",i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="habot:";i.l=(n,o,a,r)=>{if(e[n])e[n].push(o);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[o];var h=(t,i)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/Karunthakur/code_base.git/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,n)=>{var o=i.miniCssF(e),a=i.p+o;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var o=(r=i[n]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){var r;if((o=(r=a[n]).getAttribute("data-href"))===e||o===t)return r}})(o,a))return t();((e,t,n,o,a)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",i.nc&&(r.nonce=i.nc),r.onerror=r.onload=i=>{if(r.onerror=r.onload=null,"load"===i.type)o();else{var n=i&&i.type,s=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=s,r.parentNode&&r.parentNode.removeChild(r),a(l)}},r.href=t,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r)})(e,a,null,t,n)})),t={792:0};i.f.miniCss=(i,n)=>{t[i]?n.push(t[i]):0!==t[i]&&{526:1}[i]&&n.push(t[i]=e(i).then((()=>{t[i]=0}),(e=>{throw delete t[i],e})))}}})(),(()=>{var e={792:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise(((i,n)=>o=e[t]=[i,n]));n.push(o[2]=a);var r=i.p+i.u(t),s=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,a,r=n[0],s=n[1],l=n[2],c=0;if(r.some((t=>0!==e[t]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)l(i)}for(t&&t(n);c<r.length;c++)a=r[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkhabot=self.webpackChunkhabot||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(5043),t=i.t(e,2),n=i(4391),o=i(436),a=i(8139),r=i.n(a),s=i(8574),l=i(5296);const c=e.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var d=i(6816);function u(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||i.keepEmpty)&&(Array.isArray(e)?n=n.concat(u(e)):(0,d.isFragment)(e)&&e.props?n=n.concat(u(e.props.children,i)):n.push(e))})),n}var h=i(8168);const p={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};var g=i(5544),f=i(4467),m=i(8587);function y(e,t){if(null==e)return{};var i,n,o=(0,m.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var v=i(8500);const b=(0,e.createContext)({});var x=i(9379),S=i(2284),M=i(930);function A(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function k(e){return function(e){return A(e)instanceof ShadowRoot}(e)?A(e):null}var w=i(7907);function C(e){return"object"===(0,S.A)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,S.A)(e.icon)||"function"===typeof e.icon)}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,i){var n,o=e[i];if("class"===i)t.className=o,delete t.class;else delete t[i],t[(n=i,n.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=o;return t}),{})}function D(t,i,n){return n?e.createElement(t.tag,(0,x.A)((0,x.A)({key:i},I(t.attrs)),n),(t.children||[]).map((function(e,n){return D(e,"".concat(i,"-").concat(t.tag,"-").concat(n))}))):e.createElement(t.tag,(0,x.A)({key:i},I(t.attrs)),(t.children||[]).map((function(e,n){return D(e,"".concat(i,"-").concat(t.tag,"-").concat(n))})))}function N(e){return(0,v.cM)(e)[0]}function E(e){return e?Array.isArray(e)?e:[e]:[]}var O=["icon","className","onClick","style","primaryColor","secondaryColor"],L={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var T=function(t){var i,n,o=t.icon,a=t.className,r=t.onClick,s=t.style,l=t.primaryColor,c=t.secondaryColor,d=y(t,O),u=e.useRef(),h=L;if(l&&(h={primaryColor:l,secondaryColor:c||N(l)}),function(t){var i=(0,e.useContext)(b),n=i.csp,o=i.prefixCls,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";o&&(a=a.replace(/anticon/g,o)),(0,e.useEffect)((function(){var e=k(t.current);(0,M.BD)(a,"@ant-design-icons",{prepend:!0,csp:n,attachTo:e})}),[])}(u),i=C(o),n="icon should be icon definiton, but got ".concat(o),(0,w.Ay)(i,"[@ant-design/icons] ".concat(n)),!C(o))return null;var p=o;return p&&"function"===typeof p.icon&&(p=(0,x.A)((0,x.A)({},p),{},{icon:p.icon(h.primaryColor,h.secondaryColor)})),D(p.icon,"svg-".concat(p.name),(0,x.A)((0,x.A)({className:a,onClick:r,style:s,"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},d),{},{ref:u}))};T.displayName="IconReact",T.getTwoToneColors=function(){return(0,x.A)({},L)},T.setTwoToneColors=function(e){var t=e.primaryColor,i=e.secondaryColor;L.primaryColor=t,L.secondaryColor=i||N(t),L.calculated=!!i};const R=T;function P(e){var t=E(e),i=(0,g.A)(t,2),n=i[0],o=i[1];return R.setTwoToneColors({primaryColor:n,secondaryColor:o})}var z=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];P(v.z1.primary);var j=e.forwardRef((function(t,i){var n=t.className,o=t.icon,a=t.spin,s=t.rotate,l=t.tabIndex,c=t.onClick,d=t.twoToneColor,u=y(t,z),p=e.useContext(b),m=p.prefixCls,v=void 0===m?"anticon":m,x=p.rootClassName,S=r()(x,v,(0,f.A)((0,f.A)({},"".concat(v,"-").concat(o.name),!!o.name),"".concat(v,"-spin"),!!a||"loading"===o.name),n),M=l;void 0===M&&c&&(M=-1);var A=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,k=E(d),w=(0,g.A)(k,2),C=w[0],I=w[1];return e.createElement("span",(0,h.A)({role:"img","aria-label":o.name},u,{ref:i,tabIndex:M,onClick:c,className:S}),e.createElement(R,{icon:o,primaryColor:C,secondaryColor:I,style:A}))}));j.displayName="AntdIcon",j.getTwoToneColor=function(){var e=R.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},j.setTwoToneColor=P;const B=j;var $=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:p}))};const F=e.forwardRef($);const _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var H=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:_}))};const W=e.forwardRef(H);const G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var V=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:G}))};const U=e.forwardRef(V),K=e=>!isNaN(parseFloat(e))&&isFinite(e);var Y=i(3944),X=i(8855);const Z=e=>{const{antCls:t,componentCls:i,colorText:n,footerBg:o,headerHeight:a,headerPadding:r,headerColor:s,footerPadding:l,fontSize:c,bodyBg:d,headerBg:u}=e;return{[i]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:d,"&, *":{boxSizing:"border-box"},[`&${i}-has-sider`]:{flexDirection:"row",[`> ${i}, > ${i}-content`]:{width:0}},[`${i}-header, &${i}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${i}-header`]:{height:a,padding:r,color:s,lineHeight:(0,Y.zA)(a),background:u,[`${t}-menu`]:{lineHeight:"inherit"}},[`${i}-footer`]:{padding:l,color:n,fontSize:c,background:o},[`${i}-content`]:{flex:"auto",color:n,minHeight:0}}},q=e=>{const{colorBgLayout:t,controlHeight:i,controlHeightLG:n,colorText:o,controlHeightSM:a,marginXXS:r,colorTextLightSolid:s,colorBgContainer:l}=e,c=1.25*n;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:2*i,headerPadding:`0 ${c}px`,headerColor:o,footerPadding:`${a}px ${c}px`,footerBg:t,siderBg:"#001529",triggerHeight:n+2*r,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:n,zeroTriggerHeight:n,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:o}},Q=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],J=(0,X.OF)("Layout",(e=>[Z(e)]),q,{deprecatedTokens:Q}),ee=e=>{const{componentCls:t,siderBg:i,motionDurationMid:n,motionDurationSlow:o,antCls:a,triggerHeight:r,triggerColor:s,triggerBg:l,headerHeight:c,zeroTriggerWidth:d,zeroTriggerHeight:u,borderRadius:h,lightSiderBg:p,lightTriggerColor:g,lightTriggerBg:f,bodyBg:m}=e;return{[t]:{position:"relative",minWidth:0,background:i,transition:`all ${n}, background 0s`,"&-has-trigger":{paddingBottom:r},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${a}-menu${a}-menu-inline-collapsed`]:{width:"auto"}},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:r,color:s,lineHeight:(0,Y.zA)(r),textAlign:"center",background:l,cursor:"pointer",transition:`all ${n}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:c,insetInlineEnd:e.calc(d).mul(-1).equal(),zIndex:1,width:d,height:u,color:s,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:i,borderStartStartRadius:0,borderStartEndRadius:h,borderEndEndRadius:h,borderEndStartRadius:0,cursor:"pointer",transition:`background ${o} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${o}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(d).mul(-1).equal(),borderStartStartRadius:h,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:h}}},"&-light":{background:p,[`${t}-trigger`]:{color:g,background:f},[`${t}-zero-width-trigger`]:{color:g,background:f,border:`1px solid ${m}`,borderInlineStart:0}}}}},te=(0,X.OF)(["Layout","Sider"],(e=>[ee(e)]),q,{deprecatedTokens:Q});var ie=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const ne={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},oe=e.createContext({}),ae=(()=>{let e=0;return function(){return e+=1,`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}${e}`}})();const re=e.forwardRef(((t,i)=>{const{prefixCls:n,className:o,trigger:a,children:d,defaultCollapsed:u=!1,theme:h="dark",style:p={},collapsible:g=!1,reverseArrow:f=!1,width:m=200,collapsedWidth:y=80,zeroWidthTriggerStyle:v,breakpoint:b,onCollapse:x,onBreakpoint:S}=t,M=ie(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:A}=(0,e.useContext)(c),[k,w]=(0,e.useState)("collapsed"in t?t.collapsed:u),[C,I]=(0,e.useState)(!1);(0,e.useEffect)((()=>{"collapsed"in t&&w(t.collapsed)}),[t.collapsed]);const D=(e,i)=>{"collapsed"in t||w(e),null===x||void 0===x||x(e,i)},{getPrefixCls:N}=(0,e.useContext)(l.QO),E=N("layout-sider",n),[O,L,T]=te(E),R=(0,e.useRef)();R.current=e=>{I(e.matches),null===S||void 0===S||S(e.matches),k!==e.matches&&D(e.matches,"responsive")},(0,e.useEffect)((()=>{function e(e){return R.current(e)}let t;if("undefined"!==typeof window){const{matchMedia:n}=window;if(n&&b&&b in ne){t=n(`screen and (max-width: ${ne[b]})`);try{t.addEventListener("change",e)}catch(i){t.addListener(e)}e(t)}}return()=>{try{null===t||void 0===t||t.removeEventListener("change",e)}catch(i){null===t||void 0===t||t.removeListener(e)}}}),[b]),(0,e.useEffect)((()=>{const e=ae("ant-sider-");return A.addSider(e),()=>A.removeSider(e)}),[]);const P=()=>{D(!k,"clickTrigger")},z=e.useMemo((()=>({siderCollapsed:k})),[k]);return O(e.createElement(oe.Provider,{value:z},(()=>{const t=(0,s.A)(M,["collapsed"]),n=k?y:m,l=K(n)?`${n}px`:String(n),c=0===parseFloat(String(y||0))?e.createElement("span",{onClick:P,className:r()(`${E}-zero-width-trigger`,`${E}-zero-width-trigger-${f?"right":"left"}`),style:v},a||e.createElement(F,null)):null,u={expanded:f?e.createElement(U,null):e.createElement(W,null),collapsed:f?e.createElement(W,null):e.createElement(U,null)}[k?"collapsed":"expanded"],b=null!==a?c||e.createElement("div",{className:`${E}-trigger`,onClick:P,style:{width:l}},a||u):null,x=Object.assign(Object.assign({},p),{flex:`0 0 ${l}`,maxWidth:l,minWidth:l,width:l}),S=r()(E,`${E}-${h}`,{[`${E}-collapsed`]:!!k,[`${E}-has-trigger`]:g&&null!==a&&!c,[`${E}-below`]:!!C,[`${E}-zero-width`]:0===parseFloat(l)},o,L,T);return e.createElement("aside",Object.assign({className:S},t,{style:x,ref:i}),e.createElement("div",{className:`${E}-children`},d),g||C&&c?b:null)})()))}));var se=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function le(t){let{suffixCls:i,tagName:n,displayName:o}=t;return t=>e.forwardRef(((o,a)=>e.createElement(t,Object.assign({ref:a,suffixCls:i,tagName:n},o))))}const ce=e.forwardRef(((t,i)=>{const{prefixCls:n,suffixCls:o,className:a,tagName:s}=t,c=se(t,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:d}=e.useContext(l.QO),u=d("layout",n),[h,p,g]=J(u),f=o?`${u}-${o}`:u;return h(e.createElement(s,Object.assign({className:r()(n||f,a,p,g),ref:i},c)))})),de=e.forwardRef(((t,i)=>{const{direction:n}=e.useContext(l.QO),[a,d]=e.useState([]),{prefixCls:h,className:p,rootClassName:g,children:f,hasSider:m,tagName:y,style:v}=t,b=se(t,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),x=(0,s.A)(b,["suffixCls"]),{getPrefixCls:S,layout:M}=e.useContext(l.QO),A=S("layout",h),k=function(e,t,i){return"boolean"===typeof i?i:!!e.length||u(t).some((e=>e.type===re))}(a,f,m),[w,C,I]=J(A),D=r()(A,{[`${A}-has-sider`]:k,[`${A}-rtl`]:"rtl"===n},null===M||void 0===M?void 0:M.className,p,g,C,I),N=e.useMemo((()=>({siderHook:{addSider:e=>{d((t=>[].concat((0,o.A)(t),[e])))},removeSider:e=>{d((t=>t.filter((t=>t!==e))))}}})),[]);return w(e.createElement(c.Provider,{value:N},e.createElement(y,Object.assign({ref:i,className:D,style:Object.assign(Object.assign({},null===M||void 0===M?void 0:M.style),v)},x),f)))})),ue=le({tagName:"div",displayName:"Layout"})(de),he=le({suffixCls:"header",tagName:"header",displayName:"Header"})(ce),pe=le({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(ce),ge=le({suffixCls:"content",tagName:"main",displayName:"Content"})(ce),fe=ue;fe.Header=he,fe.Footer=pe,fe.Content=ge,fe.Sider=re,fe._InternalSiderContext=oe;const me=fe;var ye=i(944),ve=i(4580),be=i(2339);const xe=e=>{const t=(null===e||void 0===e?void 0:e.algorithm)?(0,Y.an)(e.algorithm):(0,Y.an)(ye.A),i=Object.assign(Object.assign({},ve.A),null===e||void 0===e?void 0:e.token);return(0,Y.lO)(i,{override:null===e||void 0===e?void 0:e.token},t,be.A)};var Se=i(167),Me=i(3405),Ae=i(355),ke=i(2411);const we=(e,t)=>{const i=null!==t&&void 0!==t?t:(0,ye.A)(e),n=i.fontSizeSM,o=i.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),function(e){const{sizeUnit:t,sizeStep:i}=e,n=i-2;return{sizeXXL:t*(n+10),sizeXL:t*(n+6),sizeLG:t*(n+2),sizeMD:t*(n+2),sizeMS:t*(n+1),size:t*n,sizeSM:t*n,sizeXS:t*(n-1),sizeXXS:t*(n-1)}}(null!==t&&void 0!==t?t:e)),(0,ke.A)(n)),{controlHeight:o}),(0,Ae.A)(Object.assign(Object.assign({},i),{controlHeight:o})))};var Ce=i(6925),Ie=i(97);const De=(e,t)=>new Ie.q(e).setAlpha(t).toRgbString(),Ne=(e,t)=>new Ie.q(e).lighten(t).toHexString(),Ee=e=>{const t=(0,v.cM)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Oe=(e,t)=>{const i=e||"#000",n=t||"#fff";return{colorBgBase:i,colorTextBase:n,colorText:De(n,.85),colorTextSecondary:De(n,.65),colorTextTertiary:De(n,.45),colorTextQuaternary:De(n,.25),colorFill:De(n,.18),colorFillSecondary:De(n,.12),colorFillTertiary:De(n,.08),colorFillQuaternary:De(n,.04),colorBgSolid:De(n,.95),colorBgSolidHover:De(n,1),colorBgSolidActive:De(n,.9),colorBgElevated:Ne(i,12),colorBgContainer:Ne(i,8),colorBgLayout:Ne(i,0),colorBgSpotlight:Ne(i,26),colorBgBlur:De(n,.04),colorBorder:Ne(i,26),colorBorderSecondary:Ne(i,19)}},Le=(e,t)=>{const i=Object.keys(ve.r).map((t=>{const i=(0,v.cM)(e[t],{theme:"dark"});return new Array(10).fill(1).reduce(((e,n,o)=>(e[`${t}-${o+1}`]=i[o],e[`${t}${o+1}`]=i[o],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{}),n=null!==t&&void 0!==t?t:(0,ye.A)(e);return Object.assign(Object.assign(Object.assign({},n),i),(0,Ce.A)(e,{generateColorPalettes:Ee,generateNeutralColorPalettes:Oe}))};const Te={defaultSeed:Me.sb.token,useToken:function(){const[e,t,i]=(0,Se.Ay)();return{theme:e,token:t,hashId:i}},defaultAlgorithm:ye.A,darkAlgorithm:Le,compactAlgorithm:we,getDesignToken:xe,defaultConfig:Me.sb,_internalContext:Me.vG},Re=[{category:"CSPM Executive Dashboard",label:"CSPM",id:7,isFolder:!0,children:[{widget_name:"Cloud Accounts",id:8,type:"checkbox",checked:!1,children:[{name:"Connected",value:2,fill:"#83a6ed"},{name:"Not Connected",value:2,fill:"#DEDEDE"}]},{widget_name:"Cloud Accounts Risk Assignment",checked:!1,id:9,type:"checkbox",children:[{name:"Flailed",value:300,fill:"red"},{name:"Warning",value:200,fill:"yellow"},{name:"Not available",value:300,fill:"#83a6ed"},{name:"Passed",value:150,fill:"green"}]}]},{category:"CWPP Dashboard:",label:"CWPP",id:12,isFolder:!0,children:[{widget_name:"Top 5 Namespace Specific Alerts",id:20,checked:!1,type:"checkbox",children:[]},{widget_name:"Workload Alerts",id:399,checked:!1,type:"checkbox",children:[]}]},{category:"Registry Scan",label:"Images",id:677,isFolder:!0,children:[{widget_name:"Image Risk Assignment",widget_text:"Total  Vulnerabilities",id:788,checked:!1,type:"checkbox",children:[{name:"No_issue",value:318,fill:"green"},{name:"Medium",value:70,fill:"#565767"},{name:"able",value:220,fill:"#b3b3b3"},{name:"High",value:90,fill:"red"},{name:"Low",value:190,fill:"yellow"},{name:"Critical",value:90,fill:"#702315"}]}]}],Pe=e.createContext(void 0),ze=t=>{let{children:i,size:n}=t;const o=e.useContext(Pe);return e.createElement(Pe.Provider,{value:n||o},i)},je=Pe,Be=t=>{const i=e.useContext(je);return e.useMemo((()=>t?"string"===typeof t?null!==t&&void 0!==t?t:i:t instanceof Function?t(i):i:i),[t,i])},$e=t=>{const{prefixCls:i,className:n,style:o,size:a,shape:s}=t,l=r()({[`${i}-lg`]:"large"===a,[`${i}-sm`]:"small"===a}),c=r()({[`${i}-circle`]:"circle"===s,[`${i}-square`]:"square"===s,[`${i}-round`]:"round"===s}),d=e.useMemo((()=>"number"===typeof a?{width:a,height:a,lineHeight:`${a}px`}:{}),[a]);return e.createElement("span",{className:r()(i,l,c,n),style:Object.assign(Object.assign({},d),o)})};var Fe=i(8446);const _e=new Y.Mo("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),He=e=>({height:e,lineHeight:(0,Y.zA)(e)}),We=e=>Object.assign({width:e},He(e)),Ge=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:_e,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Ve=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},He(e)),Ue=e=>{const{skeletonAvatarCls:t,gradientFromColor:i,controlHeight:n,controlHeightLG:o,controlHeightSM:a}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:i},We(n)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},We(o)),[`${t}${t}-sm`]:Object.assign({},We(a))}},Ke=e=>{const{controlHeight:t,borderRadiusSM:i,skeletonInputCls:n,controlHeightLG:o,controlHeightSM:a,gradientFromColor:r,calc:s}=e;return{[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:r,borderRadius:i},Ve(t,s)),[`${n}-lg`]:Object.assign({},Ve(o,s)),[`${n}-sm`]:Object.assign({},Ve(a,s))}},Ye=e=>Object.assign({width:e},He(e)),Xe=e=>{const{skeletonImageCls:t,imageSizeBase:i,gradientFromColor:n,borderRadiusSM:o,calc:a}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:n,borderRadius:o},Ye(a(i).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Ye(i)),{maxWidth:a(i).mul(4).equal(),maxHeight:a(i).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Ze=(e,t,i)=>{const{skeletonButtonCls:n}=e;return{[`${i}${n}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${i}${n}-round`]:{borderRadius:t}}},qe=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},He(e)),Qe=e=>{const{borderRadiusSM:t,skeletonButtonCls:i,controlHeight:n,controlHeightLG:o,controlHeightSM:a,gradientFromColor:r,calc:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[i]:Object.assign({display:"inline-block",verticalAlign:"top",background:r,borderRadius:t,width:s(n).mul(2).equal(),minWidth:s(n).mul(2).equal()},qe(n,s))},Ze(e,n,i)),{[`${i}-lg`]:Object.assign({},qe(o,s))}),Ze(e,o,`${i}-lg`)),{[`${i}-sm`]:Object.assign({},qe(a,s))}),Ze(e,a,`${i}-sm`))},Je=e=>{const{componentCls:t,skeletonAvatarCls:i,skeletonTitleCls:n,skeletonParagraphCls:o,skeletonButtonCls:a,skeletonInputCls:r,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:d,gradientFromColor:u,padding:h,marginSM:p,borderRadius:g,titleHeight:f,blockRadius:m,paragraphLiHeight:y,controlHeightXS:v,paragraphMarginTop:b}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[i]:Object.assign({display:"inline-block",verticalAlign:"top",background:u},We(l)),[`${i}-circle`]:{borderRadius:"50%"},[`${i}-lg`]:Object.assign({},We(c)),[`${i}-sm`]:Object.assign({},We(d))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[n]:{width:"100%",height:f,background:u,borderRadius:m,[`+ ${o}`]:{marginBlockStart:d}},[o]:{padding:0,"> li":{width:"100%",height:y,listStyle:"none",background:u,borderRadius:m,"+ li":{marginBlockStart:v}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${n}, ${o} > li`]:{borderRadius:g}}},[`${t}-with-avatar ${t}-content`]:{[n]:{marginBlockStart:p,[`+ ${o}`]:{marginBlockStart:b}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Qe(e)),Ue(e)),Ke(e)),Xe(e)),[`${t}${t}-block`]:{width:"100%",[a]:{width:"100%"},[r]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${n},\n        ${o} > li,\n        ${i},\n        ${a},\n        ${r},\n        ${s}\n      `]:Object.assign({},Ge(e))}}},et=(0,X.OF)("Skeleton",(e=>{const{componentCls:t,calc:i}=e,n=(0,Fe.oX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:i(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Je(n)]}),(e=>{const{colorFillContent:t,colorFill:i}=e;return{color:t,colorGradientEnd:i,gradientFromColor:t,gradientToColor:i,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}}),{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),tt=t=>{const{prefixCls:i,className:n,rootClassName:o,active:a,shape:c="circle",size:d="default"}=t,{getPrefixCls:u}=e.useContext(l.QO),h=u("skeleton",i),[p,g,f]=et(h),m=(0,s.A)(t,["prefixCls","className"]),y=r()(h,`${h}-element`,{[`${h}-active`]:a},n,o,g,f);return p(e.createElement("div",{className:y},e.createElement($e,Object.assign({prefixCls:`${h}-avatar`,shape:c,size:d},m))))},it=t=>{const{prefixCls:i,className:n,rootClassName:o,style:a,active:s}=t,{getPrefixCls:c}=e.useContext(l.QO),d=c("skeleton",i),[u,h,p]=et(d),g=r()(d,`${d}-element`,{[`${d}-active`]:s},n,o,h,p);return u(e.createElement("div",{className:g},e.createElement("div",{className:r()(`${d}-image`,n),style:a},e.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${d}-image-svg`},e.createElement("title",null,"Image placeholder"),e.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${d}-image-path`})))))},nt=t=>{const{prefixCls:i,className:n,rootClassName:o,active:a,block:c,size:d="default"}=t,{getPrefixCls:u}=e.useContext(l.QO),h=u("skeleton",i),[p,g,f]=et(h),m=(0,s.A)(t,["prefixCls"]),y=r()(h,`${h}-element`,{[`${h}-active`]:a,[`${h}-block`]:c},n,o,g,f);return p(e.createElement("div",{className:y},e.createElement($e,Object.assign({prefixCls:`${h}-input`,size:d},m))))},ot=t=>{const{prefixCls:i,className:n,rootClassName:o,style:a,active:s,children:c}=t,{getPrefixCls:d}=e.useContext(l.QO),u=d("skeleton",i),[h,p,g]=et(u),f=r()(u,`${u}-element`,{[`${u}-active`]:s},p,n,o,g);return h(e.createElement("div",{className:f},e.createElement("div",{className:r()(`${u}-image`,n),style:a},c)))},at=(e,t)=>{const{width:i,rows:n=2}=t;return Array.isArray(i)?i[e]:n-1===e?i:void 0},rt=t=>{const{prefixCls:i,className:n,style:a,rows:s}=t,l=(0,o.A)(new Array(s)).map(((i,n)=>e.createElement("li",{key:n,style:{width:at(n,t)}})));return e.createElement("ul",{className:r()(i,n),style:a},l)},st=t=>{let{prefixCls:i,className:n,width:o,style:a}=t;return e.createElement("h3",{className:r()(i,n),style:Object.assign({width:o},a)})};function lt(e){return e&&"object"===typeof e?e:{}}const ct=t=>{const{prefixCls:i,loading:n,className:o,rootClassName:a,style:s,children:c,avatar:d=!1,title:u=!0,paragraph:h=!0,active:p,round:g}=t,{getPrefixCls:f,direction:m,skeleton:y}=e.useContext(l.QO),v=f("skeleton",i),[b,x,S]=et(v);if(n||!("loading"in t)){const t=!!d,i=!!u,n=!!h;let l,c;if(t){const t=Object.assign(Object.assign({prefixCls:`${v}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(i,n)),lt(d));l=e.createElement("div",{className:`${v}-header`},e.createElement($e,Object.assign({},t)))}if(i||n){let o,a;if(i){const i=Object.assign(Object.assign({prefixCls:`${v}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(t,n)),lt(u));o=e.createElement(st,Object.assign({},i))}if(n){const n=Object.assign(Object.assign({prefixCls:`${v}-paragraph`},function(e,t){const i={};return e&&t||(i.width="61%"),i.rows=!e&&t?3:2,i}(t,i)),lt(h));a=e.createElement(rt,Object.assign({},n))}c=e.createElement("div",{className:`${v}-content`},o,a)}const f=r()(v,{[`${v}-with-avatar`]:t,[`${v}-active`]:p,[`${v}-rtl`]:"rtl"===m,[`${v}-round`]:g},null===y||void 0===y?void 0:y.className,o,a,x,S);return b(e.createElement("div",{className:f,style:Object.assign(Object.assign({},null===y||void 0===y?void 0:y.style),s)},l,c))}return null!==c&&void 0!==c?c:null};ct.Button=t=>{const{prefixCls:i,className:n,rootClassName:o,active:a,block:c=!1,size:d="default"}=t,{getPrefixCls:u}=e.useContext(l.QO),h=u("skeleton",i),[p,g,f]=et(h),m=(0,s.A)(t,["prefixCls"]),y=r()(h,`${h}-element`,{[`${h}-active`]:a,[`${h}-block`]:c},n,o,g,f);return p(e.createElement("div",{className:y},e.createElement($e,Object.assign({prefixCls:`${h}-button`,size:d},m))))},ct.Avatar=tt,ct.Input=nt,ct.Image=it,ct.Node=ot;const dt=ct;const ut={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var ht=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:ut}))};const pt=e.forwardRef(ht);const gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var ft=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:gt}))};const mt=e.forwardRef(ft);const yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var vt=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:yt}))};const bt=e.forwardRef(vt);var xt=i(8678);const St=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))},Mt=(0,e.createContext)(null);var At=i(7950),kt=i.t(At,2);function wt(e){return e instanceof HTMLElement||e instanceof SVGElement}function Ct(e){return e&&"object"===(0,S.A)(e)&&wt(e.nativeElement)?e.nativeElement:wt(e)?e:null}function It(t){var i,n=Ct(t);return n||(t instanceof e.Component?null===(i=At.findDOMNode)||void 0===i?void 0:i.call(At,t):null)}var Dt=i(3758),Nt=e.createContext(null);var Et=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];e.call(t,o[1],o[0])}},t}()}(),Ot="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Lt="undefined"!==typeof i.g&&i.g.Math===Math?i.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Tt="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Lt):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Rt=["top","right","bottom","left","width","height","size","weight"],Pt="undefined"!==typeof MutationObserver,zt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,o=0;function a(){i&&(i=!1,e()),n&&s()}function r(){Tt(a)}function s(){var e=Date.now();if(i){if(e-o<2)return;n=!0}else i=!0,n=!1,setTimeout(r,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Ot&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Ot&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;Rt.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),jt=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var o=n[i];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Bt=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Lt},$t=Vt(0,0,0,0);function Ft(e){return parseFloat(e)||0}function _t(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+Ft(e["border-"+i+"-width"])}),0)}function Ht(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return $t;var n=Bt(e).getComputedStyle(e),o=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],a=e["padding-"+o];t[o]=Ft(a)}return t}(n),a=o.left+o.right,r=o.top+o.bottom,s=Ft(n.width),l=Ft(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=_t(n,"left","right")+a),Math.round(l+r)!==i&&(l-=_t(n,"top","bottom")+r)),!function(e){return e===Bt(e).document.documentElement}(e)){var c=Math.round(s+a)-t,d=Math.round(l+r)-i;1!==Math.abs(c)&&(s-=c),1!==Math.abs(d)&&(l-=d)}return Vt(o.left,o.top,s,l)}var Wt="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Bt(e).SVGGraphicsElement}:function(e){return e instanceof Bt(e).SVGElement&&"function"===typeof e.getBBox};function Gt(e){return Ot?Wt(e)?function(e){var t=e.getBBox();return Vt(0,0,t.width,t.height)}(e):Ht(e):$t}function Vt(e,t,i,n){return{x:e,y:t,width:i,height:n}}var Ut=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Vt(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Gt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Kt=function(e,t){var i=function(e){var t=e.x,i=e.y,n=e.width,o=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,r=Object.create(a.prototype);return jt(r,{x:t,y:i,width:n,height:o,top:i,right:t+n,bottom:o+i,left:t}),r}(t);jt(this,{target:e,contentRect:i})},Yt=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new Et,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Bt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ut(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Bt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Kt(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Xt="undefined"!==typeof WeakMap?new WeakMap:new Et,Zt=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=zt.getInstance(),n=new Yt(t,i,this);Xt.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){Zt.prototype[e]=function(){var t;return(t=Xt.get(this))[e].apply(t,arguments)}}));const qt="undefined"!==typeof Lt.ResizeObserver?Lt.ResizeObserver:Zt;var Qt=new Map;var Jt=new qt((function(e){e.forEach((function(e){var t,i=e.target;null===(t=Qt.get(i))||void 0===t||t.forEach((function(e){return e(i)}))}))}));var ei=i(3029),ti=i(2901),ii=i(5501),ni=i(9640),oi=function(e){(0,ii.A)(i,e);var t=(0,ni.A)(i);function i(){return(0,ei.A)(this,i),t.apply(this,arguments)}return(0,ti.A)(i,[{key:"render",value:function(){return this.props.children}}]),i}(e.Component);function ai(t,i){var n=t.children,o=t.disabled,a=e.useRef(null),r=e.useRef(null),s=e.useContext(Nt),l="function"===typeof n,c=l?n(a):n,d=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!l&&e.isValidElement(c)&&(0,Dt.f3)(c),h=u?c.ref:null,p=(0,Dt.xK)(h,a),g=function(){var e;return It(a.current)||(a.current&&"object"===(0,S.A)(a.current)?It(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||It(r.current)};e.useImperativeHandle(i,(function(){return g()}));var f=e.useRef(t);f.current=t;var m=e.useCallback((function(e){var t=f.current,i=t.onResize,n=t.data,o=e.getBoundingClientRect(),a=o.width,r=o.height,l=e.offsetWidth,c=e.offsetHeight,u=Math.floor(a),h=Math.floor(r);if(d.current.width!==u||d.current.height!==h||d.current.offsetWidth!==l||d.current.offsetHeight!==c){var p={width:u,height:h,offsetWidth:l,offsetHeight:c};d.current=p;var g=l===Math.round(a)?a:l,m=c===Math.round(r)?r:c,y=(0,x.A)((0,x.A)({},p),{},{offsetWidth:g,offsetHeight:m});null===s||void 0===s||s(y,e,n),i&&Promise.resolve().then((function(){i(y,e)}))}}),[]);return e.useEffect((function(){var e,t,i=g();return i&&!o&&(e=i,t=m,Qt.has(e)||(Qt.set(e,new Set),Jt.observe(e)),Qt.get(e).add(t)),function(){return function(e,t){Qt.has(e)&&(Qt.get(e).delete(t),Qt.get(e).size||(Jt.unobserve(e),Qt.delete(e)))}(i,m)}}),[a.current,o]),e.createElement(oi,{ref:r},u?e.cloneElement(c,{ref:p}):c)}const ri=e.forwardRef(ai);function si(t,i){var n=t.children;return("function"===typeof n?[n]:u(n)).map((function(n,o){var a=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(o);return e.createElement(ri,(0,h.A)({},t,{key:a,ref:0===o?i:void 0}),n)}))}var li=e.forwardRef(si);li.Collection=function(t){var i=t.children,n=t.onBatchResize,o=e.useRef(0),a=e.useRef([]),r=e.useContext(Nt),s=e.useCallback((function(e,t,i){o.current+=1;var s=o.current;a.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===o.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===r||void 0===r||r(e,t,i)}),[n,r]);return e.createElement(Nt.Provider,{value:s},i)};const ci=li;var di=i(2375),ui=function(e){return+setTimeout(e,16)},hi=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(ui=function(e){return window.requestAnimationFrame(e)},hi=function(e){return window.cancelAnimationFrame(e)});var pi=0,gi=new Map;function fi(e){gi.delete(e)}var mi=function(e){var t=pi+=1;return function i(n){if(0===n)fi(t),e();else{var o=ui((function(){i(n-1)}));gi.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};mi.cancel=function(e){var t=gi.get(e);return fi(e),hi(t)};const yi=mi;const vi=function(t){var i=t.activeTabOffset,n=t.horizontal,o=t.rtl,a=t.indicator,r=void 0===a?{}:a,s=r.size,l=r.align,c=void 0===l?"center":l,d=(0,e.useState)(),u=(0,g.A)(d,2),h=u[0],p=u[1],f=(0,e.useRef)(),m=e.useCallback((function(e){return"function"===typeof s?s(e):"number"===typeof s?s:e}),[s]);function y(){yi.cancel(f.current)}return(0,e.useEffect)((function(){var e={};if(i)if(n){e.width=m(i.width);var t=o?"right":"left";"start"===c&&(e[t]=i[t]),"center"===c&&(e[t]=i[t]+i.width/2,e.transform=o?"translateX(50%)":"translateX(-50%)"),"end"===c&&(e[t]=i[t]+i.width,e.transform="translateX(-100%)")}else e.height=m(i.height),"start"===c&&(e.top=i.top),"center"===c&&(e.top=i.top+i.height/2,e.transform="translateY(-50%)"),"end"===c&&(e.top=i.top+i.height,e.transform="translateY(-100%)");return y(),f.current=yi((function(){p(e)})),y}),[i,n,o,c,m]),{style:h}};var bi={width:0,height:0,left:0,top:0};function xi(t,i){var n=e.useRef(t),o=e.useState({}),a=(0,g.A)(o,2)[1];return[n.current,function(e){var t="function"===typeof e?e(n.current):e;t!==n.current&&i(t,n.current),n.current=t,a({})}]}var Si=Math.pow(.995,20);var Mi=i(2664);function Ai(t){var i=(0,e.useState)(0),n=(0,g.A)(i,2),o=n[0],a=n[1],r=(0,e.useRef)(0),s=(0,e.useRef)();return s.current=t,(0,Mi.o)((function(){var e;null===(e=s.current)||void 0===e||e.call(s)}),[o]),function(){r.current===o&&(r.current+=1,a(r.current))}}var ki={width:0,height:0,left:0,top:0,right:0};function wi(e){var t;return e instanceof Map?(t={},e.forEach((function(e,i){t[i]=e}))):t=e,JSON.stringify(t)}function Ci(e){return String(e).replace(/"/g,"TABS_DQ")}function Ii(e,t,i,n){return!(!i||n||!1===e||void 0===e&&(!1===t||null===t))}const Di=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.editable,a=t.locale,r=t.style;return o&&!1!==o.showAdd?e.createElement("button",{ref:i,type:"button",className:"".concat(n,"-nav-add"),style:r,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){o.onEdit("add",{event:e})}},o.addIcon||"+"):null}));const Ni=e.forwardRef((function(t,i){var n,o=t.position,a=t.prefixCls,r=t.extra;if(!r)return null;var s={};return"object"!==(0,S.A)(r)||e.isValidElement(r)?s.right=r:s=r,"right"===o&&(n=s.right),"left"===o&&(n=s.left),n?e.createElement("div",{className:"".concat(a,"-extra-content"),ref:i},n):null}));var Ei=i(2931);const Oi=e.createContext(null);var Li=[];function Ti(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),i=document.createElement("div");i.id=t;var n,o,a=i.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var r=getComputedStyle(e);a.scrollbarColor=r.scrollbarColor,a.scrollbarWidth=r.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var d=l?"width: ".concat(s.width,";"):"",u=c?"height: ".concat(s.height,";"):"";(0,M.BD)("\n#".concat(t,"::-webkit-scrollbar {\n").concat(d,"\n").concat(u,"\n}"),t)}catch(g){console.error(g),n=l,o=c}}document.body.appendChild(i);var h=e&&n&&!isNaN(n)?n:i.offsetWidth-i.clientWidth,p=e&&o&&!isNaN(o)?o:i.offsetHeight-i.clientHeight;return document.body.removeChild(i),(0,M.m6)(t),{width:h,height:p}}var Ri="rc-util-locker-".concat(Date.now()),Pi=0;function zi(t){var i=!!t,n=e.useState((function(){return Pi+=1,"".concat(Ri,"_").concat(Pi)})),o=(0,g.A)(n,1)[0];(0,Mi.A)((function(){if(i){var e=(n=document.body,"undefined"!==typeof document&&n&&n instanceof Element?Ti(n):{width:0,height:0}).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;(0,M.BD)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),o)}else(0,M.m6)(o);var n;return function(){(0,M.m6)(o)}}),[i,o])}var ji=!1;var Bi=function(e){return!1!==e&&((0,Ei.A)()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)};const $i=e.forwardRef((function(t,i){var n=t.open,a=t.autoLock,r=t.getContainer,s=(t.debug,t.autoDestroy),l=void 0===s||s,c=t.children,d=e.useState(n),u=(0,g.A)(d,2),h=u[0],p=u[1],f=h||n;e.useEffect((function(){(l||n)&&p(n)}),[n,l]);var m=e.useState((function(){return Bi(r)})),y=(0,g.A)(m,2),v=y[0],b=y[1];e.useEffect((function(){var e=Bi(r);b(null!==e&&void 0!==e?e:null)}));var x=function(t){var i=e.useState((function(){return(0,Ei.A)()?document.createElement("div"):null})),n=(0,g.A)(i,1)[0],a=e.useRef(!1),r=e.useContext(Oi),s=e.useState(Li),l=(0,g.A)(s,2),c=l[0],d=l[1],u=r||(a.current?void 0:function(e){d((function(t){return[e].concat((0,o.A)(t))}))});function h(){n.parentElement||document.body.appendChild(n),a.current=!0}function p(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),a.current=!1}return(0,Mi.A)((function(){return t?r?r(h):h():p(),p}),[t]),(0,Mi.A)((function(){c.length&&(c.forEach((function(e){return e()})),d(Li))}),[c]),[n,u]}(f&&!v),S=(0,g.A)(x,2),M=S[0],A=S[1],k=null!==v&&void 0!==v?v:M;zi(a&&n&&(0,Ei.A)()&&(k===M||k===document.body));var w=null;c&&(0,Dt.f3)(c)&&i&&(w=c.ref);var C=(0,Dt.xK)(w,i);if(!f||!(0,Ei.A)()||void 0===v)return null;var I,D=!1===k||("boolean"===typeof I&&(ji=I),ji),N=c;return i&&(N=e.cloneElement(c,{ref:C})),e.createElement(Oi.Provider,{value:A},D?N:(0,At.createPortal)(N,k))}));var Fi=0;var _i=(0,x.A)({},t).useId;const Hi=_i?function(e){var t=_i();return e||t}:function(t){var i=e.useState("ssr-id"),n=(0,g.A)(i,2),o=n[0],a=n[1];return e.useEffect((function(){var e=Fi;Fi+=1,a("rc_unique_".concat(e))}),[]),t||o};var Wi=["children"],Gi=e.createContext({});function Vi(t){var i=t.children,n=y(t,Wi);return e.createElement(Gi.Provider,{value:n},i)}const Ui=function(e){(0,ii.A)(i,e);var t=(0,ni.A)(i);function i(){return(0,ei.A)(this,i),t.apply(this,arguments)}return(0,ti.A)(i,[{key:"render",value:function(){return this.props.children}}]),i}(e.Component);var Ki=i(7483),Yi=i(8566);var Xi="none",Zi="appear",qi="enter",Qi="leave",Ji="none",en="prepare",tn="start",nn="active",on="end",an="prepared";function rn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit".concat(e)]="webkit".concat(t),i["Moz".concat(e)]="moz".concat(t),i["ms".concat(e)]="MS".concat(t),i["O".concat(e)]="o".concat(t.toLowerCase()),i}var sn=function(e,t){var i={animationend:rn("Animation","AnimationEnd"),transitionend:rn("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete i.animationend.animation,"TransitionEvent"in t||delete i.transitionend.transition),i}((0,Ei.A)(),"undefined"!==typeof window?window:{}),ln={};if((0,Ei.A)()){var cn=document.createElement("div");ln=cn.style}var dn={};function un(e){if(dn[e])return dn[e];var t=sn[e];if(t)for(var i=Object.keys(t),n=i.length,o=0;o<n;o+=1){var a=i[o];if(Object.prototype.hasOwnProperty.call(t,a)&&a in ln)return dn[e]=t[a],dn[e]}return""}var hn=un("animationend"),pn=un("transitionend"),gn=!(!hn||!pn),fn=hn||"animationend",mn=pn||"transitionend";function yn(e,t){return e?"object"===(0,S.A)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const vn=(0,Ei.A)()?e.useLayoutEffect:e.useEffect;var bn=[en,tn,nn,on],xn=[en,an],Sn=!1;function Mn(e){return e===nn||e===on}const An=function(t,i,n){var o=(0,Yi.A)(Ji),a=(0,g.A)(o,2),r=a[0],s=a[1],l=function(){var t=e.useRef(null);function i(){yi.cancel(t.current)}return e.useEffect((function(){return function(){i()}}),[]),[function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;i();var a=yi((function(){o<=1?n({isCanceled:function(){return a!==t.current}}):e(n,o-1)}));t.current=a},i]}(),c=(0,g.A)(l,2),d=c[0],u=c[1];var h=i?xn:bn;return vn((function(){if(r!==Ji&&r!==on){var e=h.indexOf(r),t=h[e+1],i=n(r);i===Sn?s(t,!0):t&&d((function(e){function n(){e.isCanceled()||s(t,!0)}!0===i?n():Promise.resolve(i).then(n)}))}}),[t,r]),e.useEffect((function(){return function(){u()}}),[]),[function(){s(en,!0)},r]};function kn(t,i,n,o){var a=o.motionEnter,r=void 0===a||a,s=o.motionAppear,l=void 0===s||s,c=o.motionLeave,d=void 0===c||c,u=o.motionDeadline,h=o.motionLeaveImmediately,p=o.onAppearPrepare,m=o.onEnterPrepare,y=o.onLeavePrepare,v=o.onAppearStart,b=o.onEnterStart,S=o.onLeaveStart,M=o.onAppearActive,A=o.onEnterActive,k=o.onLeaveActive,w=o.onAppearEnd,C=o.onEnterEnd,I=o.onLeaveEnd,D=o.onVisibleChanged,N=(0,Yi.A)(),E=(0,g.A)(N,2),O=E[0],L=E[1],T=function(t){var i=e.useReducer((function(e){return e+1}),0),n=(0,g.A)(i,2)[1],o=e.useRef(t);return[(0,di.A)((function(){return o.current})),(0,di.A)((function(e){o.current="function"===typeof e?e(o.current):e,n()}))]}(Xi),R=(0,g.A)(T,2),P=R[0],z=R[1],j=(0,Yi.A)(null),B=(0,g.A)(j,2),$=B[0],F=B[1],_=P(),H=(0,e.useRef)(!1),W=(0,e.useRef)(null);function G(){return n()}var V=(0,e.useRef)(!1);function U(){z(Xi),F(null,!0)}var K=(0,Ki._q)((function(e){var t=P();if(t!==Xi){var i=G();if(!e||e.deadline||e.target===i){var n,o=V.current;t===Zi&&o?n=null===w||void 0===w?void 0:w(i,e):t===qi&&o?n=null===C||void 0===C?void 0:C(i,e):t===Qi&&o&&(n=null===I||void 0===I?void 0:I(i,e)),o&&!1!==n&&U()}}})),Y=function(t){var i=(0,e.useRef)();function n(e){e&&(e.removeEventListener(mn,t),e.removeEventListener(fn,t))}return e.useEffect((function(){return function(){n(i.current)}}),[]),[function(e){i.current&&i.current!==e&&n(i.current),e&&e!==i.current&&(e.addEventListener(mn,t),e.addEventListener(fn,t),i.current=e)},n]}(K),X=(0,g.A)(Y,1)[0],Z=function(e){switch(e){case Zi:return(0,f.A)((0,f.A)((0,f.A)({},en,p),tn,v),nn,M);case qi:return(0,f.A)((0,f.A)((0,f.A)({},en,m),tn,b),nn,A);case Qi:return(0,f.A)((0,f.A)((0,f.A)({},en,y),tn,S),nn,k);default:return{}}},q=e.useMemo((function(){return Z(_)}),[_]),Q=An(_,!t,(function(e){if(e===en){var t=q[en];return t?t(G()):Sn}var i;te in q&&F((null===(i=q[te])||void 0===i?void 0:i.call(q,G(),null))||null);return te===nn&&_!==Xi&&(X(G()),u>0&&(clearTimeout(W.current),W.current=setTimeout((function(){K({deadline:!0})}),u))),te===an&&U(),true})),J=(0,g.A)(Q,2),ee=J[0],te=J[1],ie=Mn(te);V.current=ie,vn((function(){L(i);var e,n=H.current;H.current=!0,!n&&i&&l&&(e=Zi),n&&i&&r&&(e=qi),(n&&!i&&d||!n&&h&&!i&&d)&&(e=Qi);var o=Z(e);e&&(t||o[en])?(z(e),ee()):z(Xi)}),[i]),(0,e.useEffect)((function(){(_===Zi&&!l||_===qi&&!r||_===Qi&&!d)&&z(Xi)}),[l,r,d]),(0,e.useEffect)((function(){return function(){H.current=!1,clearTimeout(W.current)}}),[]);var ne=e.useRef(!1);(0,e.useEffect)((function(){O&&(ne.current=!0),void 0!==O&&_===Xi&&((ne.current||O)&&(null===D||void 0===D||D(O)),ne.current=!0)}),[O,_]);var oe=$;return q[en]&&te===tn&&(oe=(0,x.A)({transition:"none"},oe)),[_,te,oe,null!==O&&void 0!==O?O:i]}const wn=function(t){var i=t;"object"===(0,S.A)(t)&&(i=t.transitionSupport);var n=e.forwardRef((function(t,n){var o=t.visible,a=void 0===o||o,s=t.removeOnLeave,l=void 0===s||s,c=t.forceRender,d=t.children,u=t.motionName,h=t.leavedClassName,p=t.eventProps,m=function(e,t){return!(!e.motionName||!i||!1===t)}(t,e.useContext(Gi).motion),y=(0,e.useRef)(),v=(0,e.useRef)();var b=kn(m,a,(function(){try{return y.current instanceof HTMLElement?y.current:It(v.current)}catch(e){return null}}),t),S=(0,g.A)(b,4),M=S[0],A=S[1],k=S[2],w=S[3],C=e.useRef(w);w&&(C.current=!0);var I,D=e.useCallback((function(e){y.current=e,(0,Dt.Xf)(n,e)}),[n]),N=(0,x.A)((0,x.A)({},p),{},{visible:a});if(d)if(M===Xi)I=w?d((0,x.A)({},N),D):!l&&C.current&&h?d((0,x.A)((0,x.A)({},N),{},{className:h}),D):c||!l&&!h?d((0,x.A)((0,x.A)({},N),{},{style:{display:"none"}}),D):null;else{var E;A===en?E="prepare":Mn(A)?E="active":A===tn&&(E="start");var O=yn(u,"".concat(M,"-").concat(E));I=d((0,x.A)((0,x.A)({},N),{},{className:r()(yn(u,M),(0,f.A)((0,f.A)({},O,O&&E),u,"string"===typeof u)),style:k}),D)}else I=null;e.isValidElement(I)&&(0,Dt.f3)(I)&&(I.ref||(I=e.cloneElement(I,{ref:D})));return e.createElement(Ui,{ref:v},I)}));return n.displayName="CSSMotion",n}(gn);var Cn=i(9417),In="add",Dn="keep",Nn="remove",En="removed";function On(e){var t;return t=e&&"object"===(0,S.A)(e)&&"key"in e?e:{key:e},(0,x.A)((0,x.A)({},t),{},{key:String(t.key)})}function Ln(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(On)}var Tn=["component","children","onVisibleChanged","onAllRemoved"],Rn=["status"],Pn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const zn=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn,i=function(i){(0,ii.A)(o,i);var n=(0,ni.A)(o);function o(){var e;(0,ei.A)(this,o);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,f.A)((0,Cn.A)(e),"state",{keyEntities:[]}),(0,f.A)((0,Cn.A)(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:(0,x.A)((0,x.A)({},e),{},{status:En})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==En})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return(0,ti.A)(o,[{key:"render",value:function(){var i=this,n=this.state.keyEntities,o=this.props,a=o.component,r=o.children,s=o.onVisibleChanged,l=(o.onAllRemoved,y(o,Tn)),c=a||e.Fragment,d={};return Pn.forEach((function(e){d[e]=l[e],delete l[e]})),delete l.keys,e.createElement(c,l,n.map((function(n,o){var a=n.status,l=y(n,Rn),c=a===In||a===Dn;return e.createElement(t,(0,h.A)({},d,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(e){null===s||void 0===s||s(e,{key:l.key}),e||i.removeKey(l.key)}}),(function(e,t){return r((0,x.A)((0,x.A)({},e),{},{index:o}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i=e.keys,n=t.keyEntities,o=Ln(i),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],n=0,o=t.length,a=Ln(e),r=Ln(t);a.forEach((function(e){for(var t=!1,a=n;a<o;a+=1){var s=r[a];if(s.key===e.key){n<a&&(i=i.concat(r.slice(n,a).map((function(e){return(0,x.A)((0,x.A)({},e),{},{status:In})}))),n=a),i.push((0,x.A)((0,x.A)({},s),{},{status:Dn})),n+=1,t=!0;break}}t||i.push((0,x.A)((0,x.A)({},e),{},{status:Nn}))})),n<o&&(i=i.concat(r.slice(n).map((function(e){return(0,x.A)((0,x.A)({},e),{},{status:In})}))));var s={};return i.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(i=i.filter((function(t){var i=t.key,n=t.status;return i!==e||n!==Nn}))).forEach((function(t){t.key===e&&(t.status=Dn)}))})),i}(n,o);return{keyEntities:a.filter((function(e){var t=n.find((function(t){var i=t.key;return e.key===i}));return!t||t.status!==En||e.status!==Nn}))}}}]),o}(e.Component);return(0,f.A)(i,"defaultProps",{component:"div"}),i}(gn),jn=wn;function Bn(t){var i=t.prefixCls,n=t.align,o=t.arrow,a=t.arrowPos,s=o||{},l=s.className,c=s.content,d=a.x,u=void 0===d?0:d,h=a.y,p=void 0===h?0:h,g=e.useRef();if(!n||!n.points)return null;var f={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],y=n.points[1],v=m[0],b=m[1],x=y[0],S=y[1];v!==x&&["t","b"].includes(v)?"t"===v?f.top=0:f.bottom=0:f.top=p,b!==S&&["l","r"].includes(b)?"l"===b?f.left=0:f.right=0:f.left=u}return e.createElement("div",{ref:g,className:r()("".concat(i,"-arrow"),l),style:f},c)}function $n(t){var i=t.prefixCls,n=t.open,o=t.zIndex,a=t.mask,s=t.motion;return a?e.createElement(jn,(0,h.A)({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return e.createElement("div",{style:{zIndex:o},className:r()("".concat(i,"-mask"),n)})})):null}const Fn=e.memo((function(e){return e.children}),(function(e,t){return t.cache}));const _n=e.forwardRef((function(t,i){var n=t.popup,o=t.className,a=t.prefixCls,s=t.style,l=t.target,c=t.onVisibleChanged,d=t.open,u=t.keepDom,p=t.fresh,f=t.onClick,m=t.mask,y=t.arrow,v=t.arrowPos,b=t.align,S=t.motion,M=t.maskMotion,A=t.forceRender,k=t.getPopupContainer,w=t.autoDestroy,C=t.portal,I=t.zIndex,D=t.onMouseEnter,N=t.onMouseLeave,E=t.onPointerEnter,O=t.onPointerDownCapture,L=t.ready,T=t.offsetX,R=t.offsetY,P=t.offsetR,z=t.offsetB,j=t.onAlign,B=t.onPrepare,$=t.stretch,F=t.targetWidth,_=t.targetHeight,H="function"===typeof n?n():n,W=d||u,G=(null===k||void 0===k?void 0:k.length)>0,V=e.useState(!k||!G),U=(0,g.A)(V,2),K=U[0],Y=U[1];if((0,Mi.A)((function(){!K&&G&&l&&Y(!0)}),[K,G,l]),!K)return null;var X="auto",Z={left:"-1000vw",top:"-1000vh",right:X,bottom:X};if(L||!d){var q,Q=b.points,J=b.dynamicInset||(null===(q=b._experimental)||void 0===q?void 0:q.dynamicInset),ee=J&&"r"===Q[0][1],te=J&&"b"===Q[0][0];ee?(Z.right=P,Z.left=X):(Z.left=T,Z.right=X),te?(Z.bottom=z,Z.top=X):(Z.top=R,Z.bottom=X)}var ie={};return $&&($.includes("height")&&_?ie.height=_:$.includes("minHeight")&&_&&(ie.minHeight=_),$.includes("width")&&F?ie.width=F:$.includes("minWidth")&&F&&(ie.minWidth=F)),d||(ie.pointerEvents="none"),e.createElement(C,{open:A||W,getContainer:k&&function(){return k(l)},autoDestroy:w},e.createElement($n,{prefixCls:a,open:d,zIndex:I,mask:m,motion:M}),e.createElement(ci,{onResize:j,disabled:!d},(function(t){return e.createElement(jn,(0,h.A)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(a,"-hidden")},S,{onAppearPrepare:B,onEnterPrepare:B,visible:d,onVisibleChanged:function(e){var t;null===S||void 0===S||null===(t=S.onVisibleChanged)||void 0===t||t.call(S,e),c(e)}}),(function(n,l){var c=n.className,u=n.style,h=r()(a,c,o);return e.createElement("div",{ref:(0,Dt.K4)(t,i,l),className:h,style:(0,x.A)((0,x.A)((0,x.A)((0,x.A)({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},Z),ie),u),{},{boxSizing:"border-box",zIndex:I},s),onMouseEnter:D,onMouseLeave:N,onPointerEnter:E,onClick:f,onPointerDownCapture:O},y&&e.createElement(Bn,{prefixCls:a,arrow:y,arrowPos:v,align:b}),e.createElement(Fn,{cache:!d&&!p},H))}))})))}));const Hn=e.forwardRef((function(t,i){var n=t.children,o=t.getTriggerDOMNode,a=(0,Dt.f3)(n),r=e.useCallback((function(e){(0,Dt.Xf)(i,o?o(e):e)}),[o]),s=(0,Dt.xK)(r,n.ref);return a?e.cloneElement(n,{ref:s}):n}));const Wn=e.createContext(null);function Gn(e){return e?Array.isArray(e)?e:[e]:[]}const Vn=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),i=t.width,n=t.height;if(i||n)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),a=o.width,r=o.height;if(a||r)return!0}}return!1};function Un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Kn(e,t,i,n){return t||(i?{motionName:"".concat(e,"-").concat(i)}:n?{motionName:n}:null)}function Yn(e){return e.ownerDocument.defaultView}function Xn(e){for(var t=[],i=null===e||void 0===e?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];i;){var o=Yn(i).getComputedStyle(i);[o.overflowX,o.overflowY,o.overflow].some((function(e){return n.includes(e)}))&&t.push(i),i=i.parentElement}return t}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function qn(e){return Zn(parseFloat(e),0)}function Qn(e,t){var i=(0,x.A)({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Yn(e).getComputedStyle(e),n=t.overflow,o=t.overflowClipMargin,a=t.borderTopWidth,r=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),d=e.offsetHeight,u=e.clientHeight,h=e.offsetWidth,p=e.clientWidth,g=qn(a),f=qn(r),m=qn(s),y=qn(l),v=Zn(Math.round(c.width/h*1e3)/1e3),b=Zn(Math.round(c.height/d*1e3)/1e3),x=(h-p-m-y)*v,S=(d-u-g-f)*b,M=g*b,A=f*b,k=m*v,w=y*v,C=0,I=0;if("clip"===n){var D=qn(o);C=D*v,I=D*b}var N=c.x+k-C,E=c.y+M-I,O=N+c.width+2*C-k-w-x,L=E+c.height+2*I-M-A-S;i.left=Math.max(i.left,N),i.top=Math.max(i.top,E),i.right=Math.min(i.right,O),i.bottom=Math.min(i.bottom,L)}})),i}function Jn(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=t.match(/^(.*)\%$/);return i?e*(parseFloat(i[1])/100):parseFloat(t)}function eo(e,t){var i=t||[],n=(0,g.A)(i,2),o=n[0],a=n[1];return[Jn(e.width,o),Jn(e.height,a)]}function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function io(e,t){var i,n=t[0],o=t[1];return i="t"===n?e.y:"b"===n?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:i}}function no(e,t){var i={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,n){return n===t?i[e]||"c":e})).join("")}var oo=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const ao=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i;return e.forwardRef((function(i,n){var a=i.prefixCls,s=void 0===a?"rc-trigger-popup":a,l=i.children,c=i.action,d=void 0===c?"hover":c,u=i.showAction,h=i.hideAction,p=i.popupVisible,f=i.defaultPopupVisible,m=i.onPopupVisibleChange,v=i.afterPopupVisibleChange,b=i.mouseEnterDelay,S=i.mouseLeaveDelay,M=void 0===S?.1:S,A=i.focusDelay,w=i.blurDelay,C=i.mask,I=i.maskClosable,D=void 0===I||I,N=i.getPopupContainer,E=i.forceRender,O=i.autoDestroy,L=i.destroyPopupOnHide,T=i.popup,R=i.popupClassName,P=i.popupStyle,z=i.popupPlacement,j=i.builtinPlacements,B=void 0===j?{}:j,$=i.popupAlign,F=i.zIndex,_=i.stretch,H=i.getPopupClassNameFromAlign,W=i.fresh,G=i.alignPoint,V=i.onPopupClick,U=i.onPopupAlign,K=i.arrow,Y=i.popupMotion,X=i.maskMotion,Z=i.popupTransitionName,q=i.popupAnimation,Q=i.maskTransitionName,J=i.maskAnimation,ee=i.className,te=i.getTriggerDOMNode,ie=y(i,oo),ne=O||L||!1,oe=e.useState(!1),ae=(0,g.A)(oe,2),re=ae[0],se=ae[1];(0,Mi.A)((function(){se(St())}),[]);var le=e.useRef({}),ce=e.useContext(Wn),de=e.useMemo((function(){return{registerSubPopup:function(e,t){le.current[e]=t,null===ce||void 0===ce||ce.registerSubPopup(e,t)}}}),[ce]),ue=Hi(),he=e.useState(null),pe=(0,g.A)(he,2),ge=pe[0],fe=pe[1],me=e.useRef(null),ye=(0,di.A)((function(e){me.current=e,wt(e)&&ge!==e&&fe(e),null===ce||void 0===ce||ce.registerSubPopup(ue,e)})),ve=e.useState(null),be=(0,g.A)(ve,2),xe=be[0],Se=be[1],Me=e.useRef(null),Ae=(0,di.A)((function(e){wt(e)&&xe!==e&&(Se(e),Me.current=e)})),ke=e.Children.only(l),we=(null===ke||void 0===ke?void 0:ke.props)||{},Ce={},Ie=(0,di.A)((function(e){var t,i,n=xe;return(null===n||void 0===n?void 0:n.contains(e))||(null===(t=k(n))||void 0===t?void 0:t.host)===e||e===n||(null===ge||void 0===ge?void 0:ge.contains(e))||(null===(i=k(ge))||void 0===i?void 0:i.host)===e||e===ge||Object.values(le.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),De=Kn(s,Y,q,Z),Ne=Kn(s,X,J,Q),Ee=e.useState(f||!1),Oe=(0,g.A)(Ee,2),Le=Oe[0],Te=Oe[1],Re=null!==p&&void 0!==p?p:Le,Pe=(0,di.A)((function(e){void 0===p&&Te(e)}));(0,Mi.A)((function(){Te(p||!1)}),[p]);var ze=e.useRef(Re);ze.current=Re;var je=e.useRef([]);je.current=[];var Be=(0,di.A)((function(e){var t;Pe(e),(null!==(t=je.current[je.current.length-1])&&void 0!==t?t:Re)!==e&&(je.current.push(e),null===m||void 0===m||m(e))})),$e=e.useRef(),Fe=function(){clearTimeout($e.current)},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Fe(),0===t?Be(e):$e.current=setTimeout((function(){Be(e)}),1e3*t)};e.useEffect((function(){return Fe}),[]);var He=e.useState(!1),We=(0,g.A)(He,2),Ge=We[0],Ve=We[1];(0,Mi.A)((function(e){e&&!Re||Ve(!0)}),[Re]);var Ue=e.useState(null),Ke=(0,g.A)(Ue,2),Ye=Ke[0],Xe=Ke[1],Ze=e.useState(null),qe=(0,g.A)(Ze,2),Qe=qe[0],Je=qe[1],et=function(e){Je([e.clientX,e.clientY])},tt=function(t,i,n,o,a,r,s){var l=e.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[o]||{}}),c=(0,g.A)(l,2),d=c[0],u=c[1],h=e.useRef(0),p=e.useMemo((function(){return i?Xn(i):[]}),[i]),f=e.useRef({});t||(f.current={});var m=(0,di.A)((function(){if(i&&n&&t){var e,l,c,d,h,m=i,y=m.ownerDocument,v=Yn(m).getComputedStyle(m),b=v.width,S=v.height,M=v.position,A=m.style.left,k=m.style.top,w=m.style.right,C=m.style.bottom,I=m.style.overflow,D=(0,x.A)((0,x.A)({},a[o]),r),N=y.createElement("div");if(null===(e=m.parentElement)||void 0===e||e.appendChild(N),N.style.left="".concat(m.offsetLeft,"px"),N.style.top="".concat(m.offsetTop,"px"),N.style.position=M,N.style.height="".concat(m.offsetHeight,"px"),N.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))h={x:n[0],y:n[1],width:0,height:0};else{var E,O,L=n.getBoundingClientRect();L.x=null!==(E=L.x)&&void 0!==E?E:L.left,L.y=null!==(O=L.y)&&void 0!==O?O:L.top,h={x:L.x,y:L.y,width:L.width,height:L.height}}var T=m.getBoundingClientRect();T.x=null!==(l=T.x)&&void 0!==l?l:T.left,T.y=null!==(c=T.y)&&void 0!==c?c:T.top;var R=y.documentElement,P=R.clientWidth,z=R.clientHeight,j=R.scrollWidth,B=R.scrollHeight,$=R.scrollTop,F=R.scrollLeft,_=T.height,H=T.width,W=h.height,G=h.width,V={left:0,top:0,right:P,bottom:z},U={left:-F,top:-$,right:j-F,bottom:B-$},K=D.htmlRegion,Y="visible",X="visibleFirst";"scroll"!==K&&K!==X&&(K=Y);var Z=K===X,q=Qn(U,p),Q=Qn(V,p),J=K===Y?Q:q,ee=Z?Q:J;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var te=m.getBoundingClientRect();m.style.left=A,m.style.top=k,m.style.right=w,m.style.bottom=C,m.style.overflow=I,null===(d=m.parentElement)||void 0===d||d.removeChild(N);var ie=Zn(Math.round(H/parseFloat(b)*1e3)/1e3),ne=Zn(Math.round(_/parseFloat(S)*1e3)/1e3);if(0===ie||0===ne||wt(n)&&!Vn(n))return;var oe=D.offset,ae=D.targetOffset,re=eo(T,oe),se=(0,g.A)(re,2),le=se[0],ce=se[1],de=eo(h,ae),ue=(0,g.A)(de,2),he=ue[0],pe=ue[1];h.x-=he,h.y-=pe;var ge=D.points||[],fe=(0,g.A)(ge,2),me=fe[0],ye=to(fe[1]),ve=to(me),be=io(h,ye),xe=io(T,ve),Se=(0,x.A)({},D),Me=be.x-xe.x+le,Ae=be.y-xe.y+ce;function mt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J,n=T.x+e,o=T.y+t,a=n+H,r=o+_,s=Math.max(n,i.left),l=Math.max(o,i.top),c=Math.min(a,i.right),d=Math.min(r,i.bottom);return Math.max(0,(c-s)*(d-l))}var ke,we,Ce,Ie,De=mt(Me,Ae),Ne=mt(Me,Ae,Q),Ee=io(h,["t","l"]),Oe=io(T,["t","l"]),Le=io(h,["b","r"]),Te=io(T,["b","r"]),Re=D.overflow||{},Pe=Re.adjustX,ze=Re.adjustY,je=Re.shiftX,Be=Re.shiftY,$e=function(e){return"boolean"===typeof e?e:e>=0};function yt(){ke=T.y+Ae,we=ke+_,Ce=T.x+Me,Ie=Ce+H}yt();var Fe=$e(ze),_e=ve[0]===ye[0];if(Fe&&"t"===ve[0]&&(we>ee.bottom||f.current.bt)){var He=Ae;_e?He-=_-W:He=Ee.y-Te.y-ce;var We=mt(Me,He),Ge=mt(Me,He,Q);We>De||We===De&&(!Z||Ge>=Ne)?(f.current.bt=!0,Ae=He,ce=-ce,Se.points=[no(ve,0),no(ye,0)]):f.current.bt=!1}if(Fe&&"b"===ve[0]&&(ke<ee.top||f.current.tb)){var Ve=Ae;_e?Ve+=_-W:Ve=Le.y-Oe.y-ce;var Ue=mt(Me,Ve),Ke=mt(Me,Ve,Q);Ue>De||Ue===De&&(!Z||Ke>=Ne)?(f.current.tb=!0,Ae=Ve,ce=-ce,Se.points=[no(ve,0),no(ye,0)]):f.current.tb=!1}var Ye=$e(Pe),Xe=ve[1]===ye[1];if(Ye&&"l"===ve[1]&&(Ie>ee.right||f.current.rl)){var Ze=Me;Xe?Ze-=H-G:Ze=Ee.x-Te.x-le;var qe=mt(Ze,Ae),Qe=mt(Ze,Ae,Q);qe>De||qe===De&&(!Z||Qe>=Ne)?(f.current.rl=!0,Me=Ze,le=-le,Se.points=[no(ve,1),no(ye,1)]):f.current.rl=!1}if(Ye&&"r"===ve[1]&&(Ce<ee.left||f.current.lr)){var Je=Me;Xe?Je+=H-G:Je=Le.x-Oe.x-le;var et=mt(Je,Ae),tt=mt(Je,Ae,Q);et>De||et===De&&(!Z||tt>=Ne)?(f.current.lr=!0,Me=Je,le=-le,Se.points=[no(ve,1),no(ye,1)]):f.current.lr=!1}yt();var it=!0===je?0:je;"number"===typeof it&&(Ce<Q.left&&(Me-=Ce-Q.left-le,h.x+G<Q.left+it&&(Me+=h.x-Q.left+G-it)),Ie>Q.right&&(Me-=Ie-Q.right-le,h.x>Q.right-it&&(Me+=h.x-Q.right+it)));var nt=!0===Be?0:Be;"number"===typeof nt&&(ke<Q.top&&(Ae-=ke-Q.top-ce,h.y+W<Q.top+nt&&(Ae+=h.y-Q.top+W-nt)),we>Q.bottom&&(Ae-=we-Q.bottom-ce,h.y>Q.bottom-nt&&(Ae+=h.y-Q.bottom+nt)));var ot=T.x+Me,at=ot+H,rt=T.y+Ae,st=rt+_,lt=h.x,ct=lt+G,dt=h.y,ut=dt+W,ht=(Math.max(ot,lt)+Math.min(at,ct))/2-ot,pt=(Math.max(rt,dt)+Math.min(st,ut))/2-rt;null===s||void 0===s||s(i,Se);var gt=te.right-T.x-(Me+T.width),ft=te.bottom-T.y-(Ae+T.height);1===ie&&(Me=Math.round(Me),gt=Math.round(gt)),1===ne&&(Ae=Math.round(Ae),ft=Math.round(ft)),u({ready:!0,offsetX:Me/ie,offsetY:Ae/ne,offsetR:gt/ie,offsetB:ft/ne,arrowX:ht/ie,arrowY:pt/ne,scaleX:ie,scaleY:ne,align:Se})}})),y=function(){u((function(e){return(0,x.A)((0,x.A)({},e),{},{ready:!1})}))};return(0,Mi.A)(y,[o]),(0,Mi.A)((function(){t||y()}),[t]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,function(){h.current+=1;var e=h.current;Promise.resolve().then((function(){h.current===e&&m()}))}]}(Re,ge,G&&null!==Qe?Qe:xe,z,B,$,U),it=(0,g.A)(tt,11),nt=it[0],ot=it[1],at=it[2],rt=it[3],st=it[4],lt=it[5],ct=it[6],dt=it[7],ut=it[8],ht=it[9],pt=it[10],gt=function(t,i,n,o){return e.useMemo((function(){var e=Gn(null!==n&&void 0!==n?n:i),a=Gn(null!==o&&void 0!==o?o:i),r=new Set(e),s=new Set(a);return t&&(r.has("hover")&&(r.delete("hover"),r.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[r,s]}),[t,i,n,o])}(re,d,u,h),ft=(0,g.A)(gt,2),mt=ft[0],yt=ft[1],vt=mt.has("click"),bt=yt.has("click")||yt.has("contextMenu"),xt=(0,di.A)((function(){Ge||pt()}));!function(e,t,i,n,a){(0,Mi.A)((function(){if(e&&t&&i){var r=i,s=Xn(t),l=Xn(r),c=Yn(r),d=new Set([c].concat((0,o.A)(s),(0,o.A)(l)));function u(){n(),a()}return d.forEach((function(e){e.addEventListener("scroll",u,{passive:!0})})),c.addEventListener("resize",u,{passive:!0}),n(),function(){d.forEach((function(e){e.removeEventListener("scroll",u),c.removeEventListener("resize",u)}))}}}),[e,t,i])}(Re,xe,ge,xt,(function(){ze.current&&G&&bt&&_e(!1)})),(0,Mi.A)((function(){xt()}),[Qe,z]),(0,Mi.A)((function(){!Re||null!==B&&void 0!==B&&B[z]||xt()}),[JSON.stringify($)]);var Mt=e.useMemo((function(){var e=function(e,t,i,n){for(var o=i.points,a=Object.keys(e),r=0;r<a.length;r+=1){var s,l=a[r];if(Un(null===(s=e[l])||void 0===s?void 0:s.points,o,n))return"".concat(t,"-placement-").concat(l)}return""}(B,s,ht,G);return r()(e,null===H||void 0===H?void 0:H(ht))}),[ht,H,B,s,G]);e.useImperativeHandle(n,(function(){return{nativeElement:Me.current,popupElement:me.current,forceAlign:xt}}));var At=e.useState(0),kt=(0,g.A)(At,2),Ct=kt[0],It=kt[1],Dt=e.useState(0),Nt=(0,g.A)(Dt,2),Et=Nt[0],Ot=Nt[1],Lt=function(){if(_&&xe){var e=xe.getBoundingClientRect();It(e.width),Ot(e.height)}};function Tt(e,t,i,n){Ce[e]=function(o){var a;null===n||void 0===n||n(o),_e(t,i);for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];null===(a=we[e])||void 0===a||a.call.apply(a,[we,o].concat(s))}}(0,Mi.A)((function(){Ye&&(pt(),Ye(),Xe(null))}),[Ye]),(vt||bt)&&(Ce.onClick=function(e){var t;ze.current&&bt?_e(!1):!ze.current&&vt&&(et(e),_e(!0));for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];null===(t=we.onClick)||void 0===t||t.call.apply(t,[we,e].concat(n))});var Rt,Pt,zt=function(t,i,n,o,a,r,s,l){var c=e.useRef(t);c.current=t;var d=e.useRef(!1);return e.useEffect((function(){if(i&&o&&(!a||r)){var e=function(){d.current=!1},t=function(e){var t;!c.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||d.current||l(!1)},u=Yn(o);u.addEventListener("pointerdown",e,!0),u.addEventListener("mousedown",t,!0),u.addEventListener("contextmenu",t,!0);var h=k(n);return h&&(h.addEventListener("mousedown",t,!0),h.addEventListener("contextmenu",t,!0)),function(){u.removeEventListener("pointerdown",e,!0),u.removeEventListener("mousedown",t,!0),u.removeEventListener("contextmenu",t,!0),h&&(h.removeEventListener("mousedown",t,!0),h.removeEventListener("contextmenu",t,!0))}}}),[i,n,o,a,r]),function(){d.current=!0}}(Re,bt,xe,ge,C,D,Ie,_e),jt=mt.has("hover"),Bt=yt.has("hover");jt&&(Tt("onMouseEnter",!0,b,(function(e){et(e)})),Tt("onPointerEnter",!0,b,(function(e){et(e)})),Rt=function(e){(Re||Ge)&&null!==ge&&void 0!==ge&&ge.contains(e.target)&&_e(!0,b)},G&&(Ce.onMouseMove=function(e){var t;null===(t=we.onMouseMove)||void 0===t||t.call(we,e)})),Bt&&(Tt("onMouseLeave",!1,M),Tt("onPointerLeave",!1,M),Pt=function(){_e(!1,M)}),mt.has("focus")&&Tt("onFocus",!0,A),yt.has("focus")&&Tt("onBlur",!1,w),mt.has("contextMenu")&&(Ce.onContextMenu=function(e){var t;ze.current&&yt.has("contextMenu")?_e(!1):(et(e),_e(!0)),e.preventDefault();for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];null===(t=we.onContextMenu)||void 0===t||t.call.apply(t,[we,e].concat(n))}),ee&&(Ce.className=r()(we.className,ee));var $t=(0,x.A)((0,x.A)({},we),Ce),Ft={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){ie[e]&&(Ft[e]=function(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];null===(t=$t[e])||void 0===t||t.call.apply(t,[$t].concat(n)),ie[e].apply(ie,n)})}));var _t=e.cloneElement(ke,(0,x.A)((0,x.A)({},$t),Ft)),Ht={x:lt,y:ct},Wt=K?(0,x.A)({},!0!==K?K:{}):null;return e.createElement(e.Fragment,null,e.createElement(ci,{disabled:!Re,ref:Ae,onResize:function(){Lt(),xt()}},e.createElement(Hn,{getTriggerDOMNode:te},_t)),e.createElement(Wn.Provider,{value:de},e.createElement(_n,{portal:t,ref:ye,prefixCls:s,popup:T,className:r()(R,Mt),style:P,target:xe,onMouseEnter:Rt,onMouseLeave:Pt,onPointerEnter:Rt,zIndex:F,open:Re,keepDom:Ge,fresh:W,onClick:V,onPointerDownCapture:zt,mask:C,motion:De,maskMotion:Ne,onVisibleChanged:function(e){Ve(!1),pt(),null===v||void 0===v||v(e)},onPrepare:function(){return new Promise((function(e){Lt(),Xe((function(){return e}))}))},forceRender:E,autoDestroy:ne,getPopupContainer:N,align:ht,arrow:Wt,arrowPos:Ht,ready:nt,offsetX:ot,offsetY:at,offsetR:rt,offsetB:st,onAlign:xt,stretch:_,targetWidth:Ct/dt,targetHeight:Et/ut})))}))}($i);var ro={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=ro.F1&&t<=ro.F12)return!1;switch(t){case ro.ALT:case ro.CAPS_LOCK:case ro.CONTEXT_MENU:case ro.CTRL:case ro.DOWN:case ro.END:case ro.ESC:case ro.HOME:case ro.INSERT:case ro.LEFT:case ro.MAC_FF_META:case ro.META:case ro.NUMLOCK:case ro.NUM_CENTER:case ro.PAGE_DOWN:case ro.PAGE_UP:case ro.PAUSE:case ro.PRINT_SCREEN:case ro.RIGHT:case ro.SHIFT:case ro.UP:case ro.WIN_KEY:case ro.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ro.ZERO&&e<=ro.NINE)return!0;if(e>=ro.NUM_ZERO&&e<=ro.NUM_MULTIPLY)return!0;if(e>=ro.A&&e<=ro.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case ro.SPACE:case ro.QUESTION_MARK:case ro.NUM_PLUS:case ro.NUM_MINUS:case ro.NUM_PERIOD:case ro.NUM_DIVISION:case ro.SEMICOLON:case ro.DASH:case ro.EQUALS:case ro.COMMA:case ro.PERIOD:case ro.SLASH:case ro.APOSTROPHE:case ro.SINGLE_QUOTE:case ro.OPEN_SQUARE_BRACKET:case ro.BACKSLASH:case ro.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const so=ro;var lo=so.ESC,co=so.TAB;const uo=(0,e.forwardRef)((function(t,i){var n=t.overlay,o=t.arrow,a=t.prefixCls,r=(0,e.useMemo)((function(){return"function"===typeof n?n():n}),[n]),s=(0,Dt.K4)(i,null===r||void 0===r?void 0:r.ref);return e.createElement(e.Fragment,null,o&&e.createElement("div",{className:"".concat(a,"-arrow")}),e.cloneElement(r,{ref:(0,Dt.f3)(r)?s:void 0}))}));var ho={adjustX:1,adjustY:1},po=[0,0];const go={topLeft:{points:["bl","tl"],overflow:ho,offset:[0,-4],targetOffset:po},top:{points:["bc","tc"],overflow:ho,offset:[0,-4],targetOffset:po},topRight:{points:["br","tr"],overflow:ho,offset:[0,-4],targetOffset:po},bottomLeft:{points:["tl","bl"],overflow:ho,offset:[0,4],targetOffset:po},bottom:{points:["tc","bc"],overflow:ho,offset:[0,4],targetOffset:po},bottomRight:{points:["tr","br"],overflow:ho,offset:[0,4],targetOffset:po}};var fo=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function mo(t,i){var n,o=t.arrow,a=void 0!==o&&o,s=t.prefixCls,l=void 0===s?"rc-dropdown":s,c=t.transitionName,d=t.animation,u=t.align,p=t.placement,m=void 0===p?"bottomLeft":p,v=t.placements,b=void 0===v?go:v,x=t.getPopupContainer,S=t.showAction,M=t.hideAction,A=t.overlayClassName,k=t.overlayStyle,w=t.visible,C=t.trigger,I=void 0===C?["hover"]:C,D=t.autoFocus,N=t.overlay,E=t.children,O=t.onVisibleChange,L=y(t,fo),T=e.useState(),R=(0,g.A)(T,2),P=R[0],z=R[1],j="visible"in t?w:P,B=e.useRef(null),$=e.useRef(null),F=e.useRef(null);e.useImperativeHandle(i,(function(){return B.current}));var _=function(e){z(e),null===O||void 0===O||O(e)};!function(t){var i=t.visible,n=t.triggerRef,o=t.onVisibleChange,a=t.autoFocus,r=t.overlayRef,s=e.useRef(!1),l=function(){var e,t;i&&(null===(e=n.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null===o||void 0===o||o(!1))},c=function(){var e;return!(null===(e=r.current)||void 0===e||!e.focus)&&(r.current.focus(),s.current=!0,!0)},d=function(e){switch(e.keyCode){case lo:l();break;case co:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};e.useEffect((function(){return i?(window.addEventListener("keydown",d),a&&yi(c,3),function(){window.removeEventListener("keydown",d),s.current=!1}):function(){s.current=!1}}),[i])}({visible:j,triggerRef:F,onVisibleChange:_,autoFocus:D,overlayRef:$});var H=function(){return e.createElement(uo,{ref:$,overlay:N,prefixCls:l,arrow:a})},W=e.cloneElement(E,{className:r()(null===(n=E.props)||void 0===n?void 0:n.className,j&&function(){var e=t.openClassName;return void 0!==e?e:"".concat(l,"-open")}()),ref:(0,Dt.f3)(E)?(0,Dt.K4)(F,E.ref):void 0}),G=M;return G||-1===I.indexOf("contextMenu")||(G=["click"]),e.createElement(ao,(0,h.A)({builtinPlacements:b},L,{prefixCls:l,ref:B,popupClassName:r()(A,(0,f.A)({},"".concat(l,"-show-arrow"),a)),popupStyle:k,action:I,showAction:S,hideAction:G,popupPlacement:m,popupAlign:u,popupTransitionName:c,popupAnimation:d,popupVisible:j,stretch:function(){var e=t.minOverlayWidthMatchTrigger,i=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!i}()?"minWidth":"",popup:"function"===typeof N?H:H(),onPopupVisibleChange:_,onPopupClick:function(e){var i=t.onOverlayClick;z(!1),i&&i(e)},getPopupContainer:x}),W)}const yo=e.forwardRef(mo);var vo=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],bo=void 0;function xo(t,i){var n=t.prefixCls,o=t.invalidate,a=t.item,s=t.renderItem,l=t.responsive,c=t.responsiveDisabled,d=t.registerSize,u=t.itemKey,p=t.className,g=t.style,f=t.children,m=t.display,v=t.order,b=t.component,S=void 0===b?"div":b,M=y(t,vo),A=l&&!m;function k(e){d(u,e)}e.useEffect((function(){return function(){k(null)}}),[]);var w,C=s&&a!==bo?s(a):f;o||(w={opacity:A?0:1,height:A?0:bo,overflowY:A?"hidden":bo,order:l?v:bo,pointerEvents:A?"none":bo,position:A?"absolute":bo});var I={};A&&(I["aria-hidden"]=!0);var D=e.createElement(S,(0,h.A)({className:r()(!o&&n,p),style:(0,x.A)((0,x.A)({},w),g)},I,M,{ref:i}),C);return l&&(D=e.createElement(ci,{onResize:function(e){k(e.offsetWidth)},disabled:c},D)),D}var So=e.forwardRef(xo);So.displayName="Item";const Mo=So;function Ao(){var t=e.useRef(null);return function(e){t.current||(t.current=[],function(e){if("undefined"===typeof MessageChannel)yi(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,At.unstable_batchedUpdates)((function(){t.current.forEach((function(e){e()})),t.current=null}))}))),t.current.push(e)}}function ko(t,i){var n=e.useState(i),o=(0,g.A)(n,2),a=o[0],r=o[1];return[a,(0,di.A)((function(e){t((function(){r(e)}))}))]}var wo=e.createContext(null),Co=["component"],Io=["className"],Do=["className"],No=function(t,i){var n=e.useContext(wo);if(!n){var o=t.component,a=void 0===o?"div":o,s=y(t,Co);return e.createElement(a,(0,h.A)({},s,{ref:i}))}var l=n.className,c=y(n,Io),d=t.className,u=y(t,Do);return e.createElement(wo.Provider,{value:null},e.createElement(Mo,(0,h.A)({ref:i,className:r()(l,d)},c,u)))},Eo=e.forwardRef(No);Eo.displayName="RawItem";const Oo=Eo;var Lo=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],To="responsive",Ro="invalidate";function Po(e){return"+ ".concat(e.length," ...")}function zo(t,i){var n=t.prefixCls,o=void 0===n?"rc-overflow":n,a=t.data,s=void 0===a?[]:a,l=t.renderItem,c=t.renderRawItem,d=t.itemKey,u=t.itemWidth,p=void 0===u?10:u,f=t.ssr,m=t.style,v=t.className,b=t.maxCount,S=t.renderRest,M=t.renderRawRest,A=t.suffix,k=t.component,w=void 0===k?"div":k,C=t.itemComponent,I=t.onVisibleChange,D=y(t,Lo),N="full"===f,E=Ao(),O=ko(E,null),L=(0,g.A)(O,2),T=L[0],R=L[1],P=T||0,z=ko(E,new Map),j=(0,g.A)(z,2),B=j[0],$=j[1],F=ko(E,0),_=(0,g.A)(F,2),H=_[0],W=_[1],G=ko(E,0),V=(0,g.A)(G,2),U=V[0],K=V[1],Y=ko(E,0),X=(0,g.A)(Y,2),Z=X[0],q=X[1],Q=(0,e.useState)(null),J=(0,g.A)(Q,2),ee=J[0],te=J[1],ie=(0,e.useState)(null),ne=(0,g.A)(ie,2),oe=ne[0],ae=ne[1],re=e.useMemo((function(){return null===oe&&N?Number.MAX_SAFE_INTEGER:oe||0}),[oe,T]),se=(0,e.useState)(!1),le=(0,g.A)(se,2),ce=le[0],de=le[1],ue="".concat(o,"-item"),he=Math.max(H,U),pe=b===To,ge=s.length&&pe,fe=b===Ro,me=ge||"number"===typeof b&&s.length>b,ye=(0,e.useMemo)((function(){var e=s;return ge?e=null===T&&N?s:s.slice(0,Math.min(s.length,P/p)):"number"===typeof b&&(e=s.slice(0,b)),e}),[s,p,T,b,ge]),ve=(0,e.useMemo)((function(){return ge?s.slice(re+1):s.slice(ye.length)}),[s,ye,ge,re]),be=(0,e.useCallback)((function(e,t){var i;return"function"===typeof d?d(e):null!==(i=d&&(null===e||void 0===e?void 0:e[d]))&&void 0!==i?i:t}),[d]),xe=(0,e.useCallback)(l||function(e){return e},[l]);function Se(e,t,i){(oe!==e||void 0!==t&&t!==ee)&&(ae(e),i||(de(e<s.length-1),null===I||void 0===I||I(e)),void 0!==t&&te(t))}function Me(e,t){$((function(i){var n=new Map(i);return null===t?n.delete(e):n.set(e,t),n}))}function Ae(e){return B.get(be(ye[e],e))}(0,Mi.A)((function(){if(P&&"number"===typeof he&&ye){var e=Z,t=ye.length,i=t-1;if(!t)return void Se(0,null);for(var n=0;n<t;n+=1){var o=Ae(n);if(N&&(o=o||0),void 0===o){Se(n-1,void 0,!0);break}if(e+=o,0===i&&e<=P||n===i-1&&e+Ae(i)<=P){Se(i,null);break}if(e+he>P){Se(n-1,e-o-Z+U);break}}A&&Ae(0)+Z>P&&te(null)}}),[P,B,U,Z,be,ye]);var ke=ce&&!!ve.length,we={};null!==ee&&ge&&(we={position:"absolute",left:ee,top:0});var Ce,Ie={prefixCls:ue,responsive:ge,component:C,invalidate:fe},De=c?function(t,i){var n=be(t,i);return e.createElement(wo.Provider,{key:n,value:(0,x.A)((0,x.A)({},Ie),{},{order:i,item:t,itemKey:n,registerSize:Me,display:i<=re})},c(t,i))}:function(t,i){var n=be(t,i);return e.createElement(Mo,(0,h.A)({},Ie,{order:i,key:n,item:t,renderItem:xe,itemKey:n,registerSize:Me,display:i<=re}))},Ne={order:ke?re:Number.MAX_SAFE_INTEGER,className:"".concat(ue,"-rest"),registerSize:function(e,t){K(t),W(U)},display:ke};if(M)M&&(Ce=e.createElement(wo.Provider,{value:(0,x.A)((0,x.A)({},Ie),Ne)},M(ve)));else{var Ee=S||Po;Ce=e.createElement(Mo,(0,h.A)({},Ie,Ne),"function"===typeof Ee?Ee(ve):Ee)}var Oe=e.createElement(w,(0,h.A)({className:r()(!fe&&o,v),style:m,ref:i},D),ye.map(De),me?Ce:null,A&&e.createElement(Mo,(0,h.A)({},Ie,{responsive:pe,responsiveDisabled:!ge,order:re,className:"".concat(ue,"-suffix"),registerSize:function(e,t){q(t)},display:!0,style:we}),A));return pe&&(Oe=e.createElement(ci,{onResize:function(e,t){R(t.clientWidth)},disabled:!ge},Oe)),Oe}var jo=e.forwardRef(zo);jo.displayName="Overflow",jo.Item=Oo,jo.RESPONSIVE=To,jo.INVALIDATE=Ro;const Bo=jo;var $o=i(2231),Fo=e.createContext(null);function _o(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Ho(t){return _o(e.useContext(Fo),t)}var Wo=i(3709),Go=["children","locked"],Vo=e.createContext(null);function Uo(t){var i=t.children,n=t.locked,o=y(t,Go),a=e.useContext(Vo),r=(0,Wo.A)((function(){return function(e,t){var i=(0,x.A)({},e);return Object.keys(t).forEach((function(e){var n=t[e];void 0!==n&&(i[e]=n)})),i}(a,o)}),[a,o],(function(e,t){return!n&&(e[0]!==t[0]||!(0,$o.A)(e[1],t[1],!0))}));return e.createElement(Vo.Provider,{value:r},i)}var Ko=[],Yo=e.createContext(null);function Xo(){return e.useContext(Yo)}var Zo=e.createContext(Ko);function qo(t){var i=e.useContext(Zo);return e.useMemo((function(){return void 0!==t?[].concat((0,o.A)(i),[t]):i}),[i,t])}var Qo=e.createContext(null);const Jo=e.createContext({});function ea(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Vn(e)){var i=e.nodeName.toLowerCase(),n=["input","select","textarea","button"].includes(i)||e.isContentEditable||"a"===i&&!!e.getAttribute("href"),o=e.getAttribute("tabindex"),a=Number(o),r=null;return o&&!Number.isNaN(a)?r=a:n&&null===r&&(r=0),n&&e.disabled&&(r=null),null!==r&&(r>=0||t&&r<0)}return!1}function ta(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,o.A)(e.querySelectorAll("*")).filter((function(e){return ea(e,t)}));return ea(e,t)&&i.unshift(e),i}var ia=so.LEFT,na=so.RIGHT,oa=so.UP,aa=so.DOWN,ra=so.ENTER,sa=so.ESC,la=so.HOME,ca=so.END,da=[oa,aa,ia,na];function ua(e,t){return ta(e,!0).filter((function(e){return t.has(e)}))}function ha(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var o=ua(e,t),a=o.length,r=o.findIndex((function(e){return i===e}));return n<0?-1===r?r=a-1:r-=1:n>0&&(r+=1),o[r=(r+a)%a]}var pa=function(e,t){var i=new Set,n=new Map,o=new Map;return e.forEach((function(e){var a=document.querySelector("[data-menu-id='".concat(_o(t,e),"']"));a&&(i.add(a),o.set(a,e),n.set(e,a))})),{elements:i,key2element:n,element2key:o}};function ga(t,i,n,o,a,r,s,l,c,d){var u=e.useRef(),h=e.useRef();h.current=i;var p=function(){yi.cancel(u.current)};return e.useEffect((function(){return function(){p()}}),[]),function(e){var g=e.which;if([].concat(da,[ra,sa,la,ca]).includes(g)){var m=r(),y=pa(m,o),v=y,b=v.elements,x=v.key2element,S=v.element2key,M=function(e,t){for(var i=e||document.activeElement;i;){if(t.has(i))return i;i=i.parentElement}return null}(x.get(i),b),A=S.get(M),k=function(e,t,i,n){var o,a="prev",r="next",s="children",l="parent";if("inline"===e&&n===ra)return{inlineTrigger:!0};var c=(0,f.A)((0,f.A)({},oa,a),aa,r),d=(0,f.A)((0,f.A)((0,f.A)((0,f.A)({},ia,i?r:a),na,i?a:r),aa,s),ra,s),u=(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)({},oa,a),aa,r),ra,s),sa,l),ia,i?s:l),na,i?l:s);switch(null===(o={inline:c,horizontal:d,vertical:u,inlineSub:c,horizontalSub:u,verticalSub:u}["".concat(e).concat(t?"":"Sub")])||void 0===o?void 0:o[n]){case a:return{offset:-1,sibling:!0};case r:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}(t,1===s(A,!0).length,n,g);if(!k&&g!==la&&g!==ca)return;(da.includes(g)||[la,ca].includes(g))&&e.preventDefault();var w=function(e){if(e){var t=e,i=e.querySelector("a");null!==i&&void 0!==i&&i.getAttribute("href")&&(t=i);var n=S.get(e);l(n),p(),u.current=yi((function(){h.current===n&&t.focus()}))}};if([la,ca].includes(g)||k.sibling||!M){var C,I,D=ua(C=M&&"inline"!==t?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(M):a.current,b);I=g===la?D[0]:g===ca?D[D.length-1]:ha(C,b,M,k.offset),w(I)}else if(k.inlineTrigger)c(A);else if(k.offset>0)c(A,!0),p(),u.current=yi((function(){y=pa(m,o);var e=M.getAttribute("aria-controls"),t=ha(document.getElementById(e),y.elements);w(t)}),5);else if(k.offset<0){var N=s(A,!0),E=N[N.length-2],O=x.get(E);c(E,!1),w(O)}}null===d||void 0===d||d(e)}}var fa="__RC_UTIL_PATH_SPLIT__",ma=function(e){return e.join(fa)},ya="rc-menu-more";function va(){var t=e.useState({}),i=(0,g.A)(t,2)[1],n=(0,e.useRef)(new Map),a=(0,e.useRef)(new Map),r=e.useState([]),s=(0,g.A)(r,2),l=s[0],c=s[1],d=(0,e.useRef)(0),u=(0,e.useRef)(!1),h=(0,e.useCallback)((function(e,t){var o=ma(t);a.current.set(o,e),n.current.set(e,o),d.current+=1;var r,s=d.current;r=function(){s===d.current&&(u.current||i({}))},Promise.resolve().then(r)}),[]),p=(0,e.useCallback)((function(e,t){var i=ma(t);a.current.delete(i),n.current.delete(e)}),[]),f=(0,e.useCallback)((function(e){c(e)}),[]),m=(0,e.useCallback)((function(e,t){var i=n.current.get(e)||"",o=i.split(fa);return t&&l.includes(o[0])&&o.unshift(ya),o}),[l]),y=(0,e.useCallback)((function(e,t){return e.filter((function(e){return void 0!==e})).some((function(e){return m(e,!0).includes(t)}))}),[m]),v=(0,e.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(fa),i=new Set;return(0,o.A)(a.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(a.current.get(e))})),i}),[]);return e.useEffect((function(){return function(){u.current=!0}}),[]),{registerPath:h,unregisterPath:p,refreshOverflowKeys:f,isSubPathKey:y,getKeyPath:m,getKeys:function(){var e=(0,o.A)(n.current.keys());return l.length&&e.push(ya),e},getSubPathKeys:v}}function ba(t){var i=e.useRef(t);i.current=t;var n=e.useCallback((function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return null===(e=i.current)||void 0===e?void 0:e.call.apply(e,[i].concat(n))}),[]);return t?n:void 0}var xa=Math.random().toFixed(5).toString().slice(2),Sa=0;function Ma(t,i,n,o){var a=e.useContext(Vo),r=a.activeKey,s=a.onActive,l=a.onInactive,c={active:r===t};return i||(c.onMouseEnter=function(e){null===n||void 0===n||n({key:t,domEvent:e}),s(t)},c.onMouseLeave=function(e){null===o||void 0===o||o({key:t,domEvent:e}),l(t)}),c}function Aa(t){var i=e.useContext(Vo),n=i.mode,o=i.rtl,a=i.inlineIndent;if("inline"!==n)return null;return o?{paddingRight:t*a}:{paddingLeft:t*a}}function ka(t){var i,n=t.icon,o=t.props,a=t.children;return null===n||!1===n?null:("function"===typeof n?i=e.createElement(n,(0,x.A)({},o)):"boolean"!==typeof n&&(i=n),i||a||null)}var wa=["item"];function Ca(e){var t=e.item,i=y(e,wa);return Object.defineProperty(i,"item",{get:function(){return(0,w.Ay)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),i}var Ia=["title","attribute","elementRef"],Da=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Na=["active"],Ea=function(t){(0,ii.A)(n,t);var i=(0,ni.A)(n);function n(){return(0,ei.A)(this,n),i.apply(this,arguments)}return(0,ti.A)(n,[{key:"render",value:function(){var t=this.props,i=t.title,n=t.attribute,o=t.elementRef,a=y(t,Ia),r=(0,s.A)(a,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,w.Ay)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(Bo.Item,(0,h.A)({},n,{title:"string"===typeof i?i:void 0},r,{ref:o}))}}]),n}(e.Component),Oa=e.forwardRef((function(t,i){var n=t.style,a=t.className,l=t.eventKey,c=(t.warnKey,t.disabled),d=t.itemIcon,u=t.children,p=t.role,g=t.onMouseEnter,m=t.onMouseLeave,v=t.onClick,b=t.onKeyDown,S=t.onFocus,M=y(t,Da),A=Ho(l),k=e.useContext(Vo),w=k.prefixCls,C=k.onItemClick,I=k.disabled,D=k.overflowDisabled,N=k.itemIcon,E=k.selectedKeys,O=k.onActive,L=e.useContext(Jo)._internalRenderMenuItem,T="".concat(w,"-item"),R=e.useRef(),P=e.useRef(),z=I||c,j=(0,Dt.xK)(i,P),B=qo(l);var $=function(e){return{key:l,keyPath:(0,o.A)(B).reverse(),item:R.current,domEvent:e}},F=d||N,_=Ma(l,z,g,m),H=_.active,W=y(_,Na),G=E.includes(l),V=Aa(B.length),U={};"option"===t.role&&(U["aria-selected"]=G);var K=e.createElement(Ea,(0,h.A)({ref:R,elementRef:j,role:null===p?"none":p||"menuitem",tabIndex:c?null:-1,"data-menu-id":D&&A?null:A},(0,s.A)(M,["extra"]),W,U,{component:"li","aria-disabled":c,style:(0,x.A)((0,x.A)({},V),n),className:r()(T,(0,f.A)((0,f.A)((0,f.A)({},"".concat(T,"-active"),H),"".concat(T,"-selected"),G),"".concat(T,"-disabled"),z),a),onClick:function(e){if(!z){var t=$(e);null===v||void 0===v||v(Ca(t)),C(t)}},onKeyDown:function(e){if(null===b||void 0===b||b(e),e.which===so.ENTER){var t=$(e);null===v||void 0===v||v(Ca(t)),C(t)}},onFocus:function(e){O(l),null===S||void 0===S||S(e)}}),u,e.createElement(ka,{props:(0,x.A)((0,x.A)({},t),{},{isSelected:G}),icon:F}));return L&&(K=L(K,t,{selected:G})),K}));function La(t,i){var n=t.eventKey,o=Xo(),a=qo(n);return e.useEffect((function(){if(o)return o.registerPath(n,a),function(){o.unregisterPath(n,a)}}),[a]),o?null:e.createElement(Oa,(0,h.A)({},t,{ref:i}))}const Ta=e.forwardRef(La);var Ra=["className","children"],Pa=function(t,i){var n=t.className,o=t.children,a=y(t,Ra),s=e.useContext(Vo),l=s.prefixCls,c=s.mode,d=s.rtl;return e.createElement("ul",(0,h.A)({className:r()(l,d&&"".concat(l,"-rtl"),"".concat(l,"-sub"),"".concat(l,"-").concat("inline"===c?"inline":"vertical"),n),role:"menu"},a,{"data-menu-list":!0,ref:i}),o)},za=e.forwardRef(Pa);za.displayName="SubMenuList";const ja=za;function Ba(t,i){return u(t).map((function(t,n){if(e.isValidElement(t)){var a,r,s=t.key,l=null!==(a=null===(r=t.props)||void 0===r?void 0:r.eventKey)&&void 0!==a?a:s;(null===l||void 0===l)&&(l="tmp_key-".concat([].concat((0,o.A)(i),[n]).join("-")));var c={key:l,eventKey:l};return e.cloneElement(t,c)}return t}))}var $a={adjustX:1,adjustY:1},Fa={topLeft:{points:["bl","tl"],overflow:$a},topRight:{points:["br","tr"],overflow:$a},bottomLeft:{points:["tl","bl"],overflow:$a},bottomRight:{points:["tr","br"],overflow:$a},leftTop:{points:["tr","tl"],overflow:$a},leftBottom:{points:["br","bl"],overflow:$a},rightTop:{points:["tl","tr"],overflow:$a},rightBottom:{points:["bl","br"],overflow:$a}},_a={topLeft:{points:["bl","tl"],overflow:$a},topRight:{points:["br","tr"],overflow:$a},bottomLeft:{points:["tl","bl"],overflow:$a},bottomRight:{points:["tr","br"],overflow:$a},rightTop:{points:["tr","tl"],overflow:$a},rightBottom:{points:["br","bl"],overflow:$a},leftTop:{points:["tl","tr"],overflow:$a},leftBottom:{points:["bl","br"],overflow:$a}};function Ha(e,t,i){return t||(i?i[e]||i.other:void 0)}var Wa={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Ga(t){var i=t.prefixCls,n=t.visible,o=t.children,a=t.popup,s=t.popupStyle,l=t.popupClassName,c=t.popupOffset,d=t.disabled,u=t.mode,h=t.onVisibleChange,p=e.useContext(Vo),m=p.getPopupContainer,y=p.rtl,v=p.subMenuOpenDelay,b=p.subMenuCloseDelay,S=p.builtinPlacements,M=p.triggerSubMenuAction,A=p.forceSubMenuRender,k=p.rootClassName,w=p.motion,C=p.defaultMotions,I=e.useState(!1),D=(0,g.A)(I,2),N=D[0],E=D[1],O=y?(0,x.A)((0,x.A)({},_a),S):(0,x.A)((0,x.A)({},Fa),S),L=Wa[u],T=Ha(u,w,C),R=e.useRef(T);"inline"!==u&&(R.current=T);var P=(0,x.A)((0,x.A)({},R.current),{},{leavedClassName:"".concat(i,"-hidden"),removeOnLeave:!1,motionAppear:!0}),z=e.useRef();return e.useEffect((function(){return z.current=yi((function(){E(n)})),function(){yi.cancel(z.current)}}),[n]),e.createElement(ao,{prefixCls:i,popupClassName:r()("".concat(i,"-popup"),(0,f.A)({},"".concat(i,"-rtl"),y),l,k),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:m,builtinPlacements:O,popupPlacement:L,popupVisible:N,popup:a,popupStyle:s,popupAlign:c&&{offset:c},action:d?[]:[M],mouseEnterDelay:v,mouseLeaveDelay:b,onPopupVisibleChange:h,forceRender:A,popupMotion:P,fresh:!0},o)}function Va(t){var i=t.id,n=t.open,o=t.keyPath,a=t.children,r="inline",s=e.useContext(Vo),l=s.prefixCls,c=s.forceSubMenuRender,d=s.motion,u=s.defaultMotions,p=s.mode,f=e.useRef(!1);f.current=p===r;var m=e.useState(!f.current),y=(0,g.A)(m,2),v=y[0],b=y[1],S=!!f.current&&n;e.useEffect((function(){f.current&&b(!1)}),[p]);var M=(0,x.A)({},Ha(r,d,u));o.length>1&&(M.motionAppear=!1);var A=M.onVisibleChanged;return M.onVisibleChanged=function(e){return f.current||e||b(!0),null===A||void 0===A?void 0:A(e)},v?null:e.createElement(Uo,{mode:r,locked:!f.current},e.createElement(jn,(0,h.A)({visible:S},M,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(t){var n=t.className,o=t.style;return e.createElement(ja,{id:i,className:n,style:o},a)})))}var Ua=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Ka=["active"],Ya=e.forwardRef((function(t,i){var n=t.style,o=t.className,a=t.title,s=t.eventKey,l=(t.warnKey,t.disabled),c=t.internalPopupClose,d=t.children,u=t.itemIcon,p=t.expandIcon,m=t.popupClassName,v=t.popupOffset,b=t.popupStyle,S=t.onClick,M=t.onMouseEnter,A=t.onMouseLeave,k=t.onTitleClick,w=t.onTitleMouseEnter,C=t.onTitleMouseLeave,I=y(t,Ua),D=Ho(s),N=e.useContext(Vo),E=N.prefixCls,O=N.mode,L=N.openKeys,T=N.disabled,R=N.overflowDisabled,P=N.activeKey,z=N.selectedKeys,j=N.itemIcon,B=N.expandIcon,$=N.onItemClick,F=N.onOpenChange,_=N.onActive,H=e.useContext(Jo)._internalRenderSubMenuItem,W=e.useContext(Qo).isSubPathKey,G=qo(),V="".concat(E,"-submenu"),U=T||l,K=e.useRef(),Y=e.useRef();var X=null!==u&&void 0!==u?u:j,Z=null!==p&&void 0!==p?p:B,q=L.includes(s),Q=!R&&q,J=W(z,s),ee=Ma(s,U,w,C),te=ee.active,ie=y(ee,Ka),ne=e.useState(!1),oe=(0,g.A)(ne,2),ae=oe[0],re=oe[1],se=function(e){U||re(e)},le=e.useMemo((function(){return te||"inline"!==O&&(ae||W([P],s))}),[O,te,P,ae,s,W]),ce=Aa(G.length),de=ba((function(e){null===S||void 0===S||S(Ca(e)),$(e)})),ue=D&&"".concat(D,"-popup"),he=e.createElement("div",(0,h.A)({role:"menuitem",style:ce,className:"".concat(V,"-title"),tabIndex:U?null:-1,ref:K,title:"string"===typeof a?a:null,"data-menu-id":R&&D?null:D,"aria-expanded":Q,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":U,onClick:function(e){U||(null===k||void 0===k||k({key:s,domEvent:e}),"inline"===O&&F(s,!q))},onFocus:function(){_(s)}},ie),a,e.createElement(ka,{icon:"horizontal"!==O?Z:void 0,props:(0,x.A)((0,x.A)({},t),{},{isOpen:Q,isSubMenu:!0})},e.createElement("i",{className:"".concat(V,"-arrow")}))),pe=e.useRef(O);if("inline"!==O&&G.length>1?pe.current="vertical":pe.current=O,!R){var ge=pe.current;he=e.createElement(Ga,{mode:ge,prefixCls:V,visible:!c&&Q&&"inline"!==O,popupClassName:m,popupOffset:v,popupStyle:b,popup:e.createElement(Uo,{mode:"horizontal"===ge?"vertical":ge},e.createElement(ja,{id:ue,ref:Y},d)),disabled:U,onVisibleChange:function(e){"inline"!==O&&F(s,e)}},he)}var fe=e.createElement(Bo.Item,(0,h.A)({ref:i,role:"none"},I,{component:"li",style:n,className:r()(V,"".concat(V,"-").concat(O),o,(0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(V,"-open"),Q),"".concat(V,"-active"),le),"".concat(V,"-selected"),J),"".concat(V,"-disabled"),U)),onMouseEnter:function(e){se(!0),null===M||void 0===M||M({key:s,domEvent:e})},onMouseLeave:function(e){se(!1),null===A||void 0===A||A({key:s,domEvent:e})}}),he,!R&&e.createElement(Va,{id:ue,open:Q,keyPath:G},d));return H&&(fe=H(fe,t,{selected:J,active:le,open:Q,disabled:U})),e.createElement(Uo,{onItemClick:de,mode:"horizontal"===O?"vertical":O,itemIcon:X,expandIcon:Z},fe)}));const Xa=e.forwardRef((function(t,i){var n,o=t.eventKey,a=t.children,r=qo(o),s=Ba(a,r),l=Xo();return e.useEffect((function(){if(l)return l.registerPath(o,r),function(){l.unregisterPath(o,r)}}),[r]),n=l?s:e.createElement(Ya,(0,h.A)({ref:i},t),s),e.createElement(Zo.Provider,{value:r},n)}));function Za(t){var i=t.className,n=t.style,o=e.useContext(Vo).prefixCls;return Xo()?null:e.createElement("li",{role:"separator",className:r()("".concat(o,"-item-divider"),i),style:n})}var qa=["className","title","eventKey","children"],Qa=e.forwardRef((function(t,i){var n=t.className,o=t.title,a=(t.eventKey,t.children),s=y(t,qa),l=e.useContext(Vo).prefixCls,c="".concat(l,"-item-group");return e.createElement("li",(0,h.A)({ref:i,role:"presentation"},s,{onClick:function(e){return e.stopPropagation()},className:r()(c,n)}),e.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:"string"===typeof o?o:void 0},o),e.createElement("ul",{role:"group",className:"".concat(c,"-list")},a))}));const Ja=e.forwardRef((function(t,i){var n=t.eventKey,o=Ba(t.children,qo(n));return Xo()?o:e.createElement(Qa,(0,h.A)({ref:i},(0,s.A)(t,["warnKey"])),o)}));var er=["label","children","key","type","extra"];function tr(t,i,n){var o=i.item,a=i.group,r=i.submenu,s=i.divider;return(t||[]).map((function(t,l){if(t&&"object"===(0,S.A)(t)){var c=t,d=c.label,u=c.children,p=c.key,g=c.type,f=c.extra,m=y(c,er),v=null!==p&&void 0!==p?p:"tmp-".concat(l);return u||"group"===g?"group"===g?e.createElement(a,(0,h.A)({key:v},m,{title:d}),tr(u,i,n)):e.createElement(r,(0,h.A)({key:v},m,{title:d}),tr(u,i,n)):"divider"===g?e.createElement(s,(0,h.A)({key:v},m)):e.createElement(o,(0,h.A)({key:v},m,{extra:f}),d,(!!f||0===f)&&e.createElement("span",{className:"".concat(n,"-item-extra")},f))}return null})).filter((function(e){return e}))}function ir(e,t,i,n,o){var a=e,r=(0,x.A)({divider:Za,item:Ta,group:Ja,submenu:Xa},n);return t&&(a=tr(t,r,o)),Ba(a,i)}var nr=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],or=[];var ar=e.forwardRef((function(t,i){var n,a=t,s=a.prefixCls,l=void 0===s?"rc-menu":s,c=a.rootClassName,d=a.style,u=a.className,p=a.tabIndex,m=void 0===p?0:p,v=a.items,b=a.children,S=a.direction,M=a.id,A=a.mode,k=void 0===A?"vertical":A,w=a.inlineCollapsed,C=a.disabled,I=a.disabledOverflow,D=a.subMenuOpenDelay,N=void 0===D?.1:D,E=a.subMenuCloseDelay,O=void 0===E?.1:E,L=a.forceSubMenuRender,T=a.defaultOpenKeys,R=a.openKeys,P=a.activeKey,z=a.defaultActiveFirst,j=a.selectable,B=void 0===j||j,$=a.multiple,F=void 0!==$&&$,_=a.defaultSelectedKeys,H=a.selectedKeys,W=a.onSelect,G=a.onDeselect,V=a.inlineIndent,U=void 0===V?24:V,K=a.motion,Y=a.defaultMotions,X=a.triggerSubMenuAction,Z=void 0===X?"hover":X,q=a.builtinPlacements,Q=a.itemIcon,J=a.expandIcon,ee=a.overflowedIndicator,te=void 0===ee?"...":ee,ie=a.overflowedIndicatorPopupClassName,ne=a.getPopupContainer,oe=a.onClick,ae=a.onOpenChange,re=a.onKeyDown,se=(a.openAnimation,a.openTransitionName,a._internalRenderMenuItem),le=a._internalRenderSubMenuItem,ce=a._internalComponents,de=y(a,nr),ue=e.useMemo((function(){return[ir(b,v,or,ce,l),ir(b,v,or,{},l)]}),[b,v,ce]),he=(0,g.A)(ue,2),pe=he[0],ge=he[1],fe=e.useState(!1),me=(0,g.A)(fe,2),ye=me[0],ve=me[1],be=e.useRef(),xe=function(t){var i=(0,xt.A)(t,{value:t}),n=(0,g.A)(i,2),o=n[0],a=n[1];return e.useEffect((function(){Sa+=1;var e="".concat(xa,"-").concat(Sa);a("rc-menu-uuid-".concat(e))}),[]),o}(M),Se="rtl"===S;var Me=(0,xt.A)(T,{value:R,postState:function(e){return e||or}}),Ae=(0,g.A)(Me,2),ke=Ae[0],we=Ae[1],Ce=function(e){function t(){we(e),null===ae||void 0===ae||ae(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,At.flushSync)(t):t()},Ie=e.useState(ke),De=(0,g.A)(Ie,2),Ne=De[0],Ee=De[1],Oe=e.useRef(!1),Le=e.useMemo((function(){return"inline"!==k&&"vertical"!==k||!w?[k,!1]:["vertical",w]}),[k,w]),Te=(0,g.A)(Le,2),Re=Te[0],Pe=Te[1],ze="inline"===Re,je=e.useState(Re),Be=(0,g.A)(je,2),$e=Be[0],Fe=Be[1],_e=e.useState(Pe),He=(0,g.A)(_e,2),We=He[0],Ge=He[1];e.useEffect((function(){Fe(Re),Ge(Pe),Oe.current&&(ze?we(Ne):Ce(or))}),[Re,Pe]);var Ve=e.useState(0),Ue=(0,g.A)(Ve,2),Ke=Ue[0],Ye=Ue[1],Xe=Ke>=pe.length-1||"horizontal"!==$e||I;e.useEffect((function(){ze&&Ee(ke)}),[ke]),e.useEffect((function(){return Oe.current=!0,function(){Oe.current=!1}}),[]);var Ze=va(),qe=Ze.registerPath,Qe=Ze.unregisterPath,Je=Ze.refreshOverflowKeys,et=Ze.isSubPathKey,tt=Ze.getKeyPath,it=Ze.getKeys,nt=Ze.getSubPathKeys,ot=e.useMemo((function(){return{registerPath:qe,unregisterPath:Qe}}),[qe,Qe]),at=e.useMemo((function(){return{isSubPathKey:et}}),[et]);e.useEffect((function(){Je(Xe?or:pe.slice(Ke+1).map((function(e){return e.key})))}),[Ke,Xe]);var rt=(0,xt.A)(P||z&&(null===(n=pe[0])||void 0===n?void 0:n.key),{value:P}),st=(0,g.A)(rt,2),lt=st[0],ct=st[1],dt=ba((function(e){ct(e)})),ut=ba((function(){ct(void 0)}));(0,e.useImperativeHandle)(i,(function(){return{list:be.current,focus:function(e){var t,i,n=it(),o=pa(n,xe),a=o.elements,r=o.key2element,s=o.element2key,l=ua(be.current,a),c=null!==lt&&void 0!==lt?lt:l[0]?s.get(l[0]):null===(t=pe.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key,d=r.get(c);c&&d&&(null===d||void 0===d||null===(i=d.focus)||void 0===i||i.call(d,e))}}}));var ht=(0,xt.A)(_||[],{value:H,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?or:[e]}}),pt=(0,g.A)(ht,2),gt=pt[0],ft=pt[1],mt=ba((function(e){null===oe||void 0===oe||oe(Ca(e)),function(e){if(B){var t,i=e.key,n=gt.includes(i);t=F?n?gt.filter((function(e){return e!==i})):[].concat((0,o.A)(gt),[i]):[i],ft(t);var a=(0,x.A)((0,x.A)({},e),{},{selectedKeys:t});n?null===G||void 0===G||G(a):null===W||void 0===W||W(a)}!F&&ke.length&&"inline"!==$e&&Ce(or)}(e)})),yt=ba((function(e,t){var i=ke.filter((function(t){return t!==e}));if(t)i.push(e);else if("inline"!==$e){var n=nt(e);i=i.filter((function(e){return!n.has(e)}))}(0,$o.A)(ke,i,!0)||Ce(i,!0)})),vt=ga($e,lt,Se,xe,be,it,tt,ct,(function(e,t){var i=null!==t&&void 0!==t?t:!ke.includes(e);yt(e,i)}),re);e.useEffect((function(){ve(!0)}),[]);var bt=e.useMemo((function(){return{_internalRenderMenuItem:se,_internalRenderSubMenuItem:le}}),[se,le]),St="horizontal"!==$e||I?pe:pe.map((function(t,i){return e.createElement(Uo,{key:t.key,overflowDisabled:i>Ke},t)})),Mt=e.createElement(Bo,(0,h.A)({id:M,ref:be,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:Ta,className:r()(l,"".concat(l,"-root"),"".concat(l,"-").concat($e),u,(0,f.A)((0,f.A)({},"".concat(l,"-inline-collapsed"),We),"".concat(l,"-rtl"),Se),c),dir:S,style:d,role:"menu",tabIndex:m,data:St,renderRawItem:function(e){return e},renderRawRest:function(t){var i=t.length,n=i?pe.slice(-i):null;return e.createElement(Xa,{eventKey:ya,title:te,disabled:Xe,internalPopupClose:0===i,popupClassName:ie},n)},maxCount:"horizontal"!==$e||I?Bo.INVALIDATE:Bo.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ye(e)},onKeyDown:vt},de));return e.createElement(Jo.Provider,{value:bt},e.createElement(Fo.Provider,{value:xe},e.createElement(Uo,{prefixCls:l,rootClassName:c,mode:$e,openKeys:ke,rtl:Se,disabled:C,motion:ye?K:null,defaultMotions:ye?Y:null,activeKey:lt,onActive:dt,onInactive:ut,selectedKeys:gt,inlineIndent:U,subMenuOpenDelay:N,subMenuCloseDelay:O,forceSubMenuRender:L,builtinPlacements:q,triggerSubMenuAction:Z,getPopupContainer:ne,itemIcon:Q,expandIcon:J,onItemClick:mt,onOpenChange:yt},e.createElement(Qo.Provider,{value:at},Mt),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(Yo.Provider,{value:ot},ge)))))}));ar.Item=Ta,ar.SubMenu=Xa,ar.ItemGroup=Ja,ar.Divider=Za;const rr=ar;var sr=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.id,a=t.tabs,s=t.locale,l=t.mobile,c=t.more,d=void 0===c?{}:c,u=t.style,p=t.className,m=t.editable,y=t.tabBarGutter,v=t.rtl,b=t.removeAriaLabel,x=t.onTabClick,S=t.getPopupContainer,M=t.popupClassName,A=(0,e.useState)(!1),k=(0,g.A)(A,2),w=k[0],C=k[1],I=(0,e.useState)(null),D=(0,g.A)(I,2),N=D[0],E=D[1],O=d.icon,L=void 0===O?"More":O,T="".concat(o,"-more-popup"),R="".concat(n,"-dropdown"),P=null!==N?"".concat(T,"-").concat(N):null,z=null===s||void 0===s?void 0:s.dropdownAriaLabel;var j=e.createElement(rr,{onClick:function(e){var t=e.key,i=e.domEvent;x(t,i),C(!1)},prefixCls:"".concat(R,"-menu"),id:T,tabIndex:-1,role:"listbox","aria-activedescendant":P,selectedKeys:[N],"aria-label":void 0!==z?z:"expanded dropdown"},a.map((function(t){var i=t.closable,n=t.disabled,a=t.closeIcon,r=t.key,s=t.label,l=Ii(i,a,m,n);return e.createElement(Ta,{key:r,id:"".concat(T,"-").concat(r),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(r),disabled:n},e.createElement("span",null,s),l&&e.createElement("button",{type:"button","aria-label":b||"remove",tabIndex:0,className:"".concat(R,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),m.onEdit("remove",{key:t,event:e})}(e,r)}},a||m.removeIcon||"\xd7"))})));function B(e){for(var t=a.filter((function(e){return!e.disabled})),i=t.findIndex((function(e){return e.key===N}))||0,n=t.length,o=0;o<n;o+=1){var r=t[i=(i+e+n)%n];if(!r.disabled)return void E(r.key)}}(0,e.useEffect)((function(){var e=document.getElementById(P);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[N]),(0,e.useEffect)((function(){w||E(null)}),[w]);var $=(0,f.A)({},v?"marginRight":"marginLeft",y);a.length||($.visibility="hidden",$.order=1);var F=r()((0,f.A)({},"".concat(R,"-rtl"),v)),_=l?null:e.createElement(yo,(0,h.A)({prefixCls:R,overlay:j,visible:!!a.length&&w,onVisibleChange:C,overlayClassName:r()(F,M),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:S},d),e.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:$,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(o,"-more"),"aria-expanded":w,onKeyDown:function(e){var t=e.which;if(w)switch(t){case so.UP:B(-1),e.preventDefault();break;case so.DOWN:B(1),e.preventDefault();break;case so.ESC:C(!1);break;case so.SPACE:case so.ENTER:null!==N&&x(N,e)}else[so.DOWN,so.SPACE,so.ENTER].includes(t)&&(C(!0),e.preventDefault())}},L));return e.createElement("div",{className:r()("".concat(n,"-nav-operations"),p),style:u,ref:i},_,e.createElement(Di,{prefixCls:n,locale:s,editable:m}))}));const lr=e.memo(sr,(function(e,t){return t.tabMoving}));const cr=function(t){var i=t.prefixCls,n=t.id,o=t.active,a=t.tab,s=a.key,l=a.label,c=a.disabled,d=a.closeIcon,u=a.icon,h=t.closable,p=t.renderWrapper,g=t.removeAriaLabel,m=t.editable,y=t.onClick,v=t.onFocus,b=t.style,x="".concat(i,"-tab"),S=Ii(h,d,m,c);function M(e){c||y(e)}var A=e.useMemo((function(){return u&&"string"===typeof l?e.createElement("span",null,l):l}),[l,u]),k=e.createElement("div",{key:s,"data-node-key":Ci(s),className:r()(x,(0,f.A)((0,f.A)((0,f.A)({},"".concat(x,"-with-remove"),S),"".concat(x,"-active"),o),"".concat(x,"-disabled"),c)),style:b,onClick:M},e.createElement("div",{role:"tab","aria-selected":o,id:n&&"".concat(n,"-tab-").concat(s),className:"".concat(x,"-btn"),"aria-controls":n&&"".concat(n,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:0,onClick:function(e){e.stopPropagation(),M(e)},onKeyDown:function(e){[so.SPACE,so.ENTER].includes(e.which)&&(e.preventDefault(),M(e))},onFocus:v},u&&e.createElement("span",{className:"".concat(x,"-icon")},u),l&&A),S&&e.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(x,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),m.onEdit("remove",{key:s,event:t})}},d||m.removeIcon||"\xd7"));return p?p(k):k};var dr=function(e){var t=e.current||{},i=t.offsetWidth,n=void 0===i?0:i,o=t.offsetHeight,a=void 0===o?0:o;if(e.current){var r=e.current.getBoundingClientRect(),s=r.width,l=r.height;if(Math.abs(s-n)<1)return[s,l]}return[n,a]},ur=function(e,t){return e[t?0:1]};const hr=e.forwardRef((function(t,i){var n=t.className,a=t.style,s=t.id,l=t.animated,c=t.activeKey,d=t.rtl,u=t.extra,p=t.editable,m=t.locale,y=t.tabPosition,v=t.tabBarGutter,b=t.children,S=t.onTabClick,M=t.onTabScroll,A=t.indicator,k=e.useContext(Mt),w=k.prefixCls,C=k.tabs,I=(0,e.useRef)(null),D=(0,e.useRef)(null),N=(0,e.useRef)(null),E=(0,e.useRef)(null),O=(0,e.useRef)(null),L=(0,e.useRef)(null),T=(0,e.useRef)(null),R="top"===y||"bottom"===y,P=xi(0,(function(e,t){R&&M&&M({direction:e>t?"left":"right"})})),z=(0,g.A)(P,2),j=z[0],B=z[1],$=xi(0,(function(e,t){!R&&M&&M({direction:e>t?"top":"bottom"})})),F=(0,g.A)($,2),_=F[0],H=F[1],W=(0,e.useState)([0,0]),G=(0,g.A)(W,2),V=G[0],U=G[1],K=(0,e.useState)([0,0]),Y=(0,g.A)(K,2),X=Y[0],Z=Y[1],q=(0,e.useState)([0,0]),Q=(0,g.A)(q,2),J=Q[0],ee=Q[1],te=(0,e.useState)([0,0]),ie=(0,g.A)(te,2),ne=ie[0],oe=ie[1],ae=function(t){var i=(0,e.useRef)([]),n=(0,e.useState)({}),o=(0,g.A)(n,2)[1],a=(0,e.useRef)("function"===typeof t?t():t),r=Ai((function(){var e=a.current;i.current.forEach((function(t){e=t(e)})),i.current=[],a.current=e,o({})}));return[a.current,function(e){i.current.push(e),r()}]}(new Map),re=(0,g.A)(ae,2),se=re[0],le=re[1],ce=function(t,i,n){return(0,e.useMemo)((function(){for(var e,n=new Map,o=i.get(null===(e=t[0])||void 0===e?void 0:e.key)||bi,a=o.left+o.width,r=0;r<t.length;r+=1){var s,l=t[r].key,c=i.get(l);c||(c=i.get(null===(s=t[r-1])||void 0===s?void 0:s.key)||bi);var d=n.get(l)||(0,x.A)({},c);d.right=a-d.left-d.width,n.set(l,d)}return n}),[t.map((function(e){return e.key})).join("_"),i,n])}(C,se,X[0]),de=ur(V,R),ue=ur(X,R),he=ur(J,R),pe=ur(ne,R),ge=Math.floor(de)<Math.floor(ue+he),fe=ge?de-pe:de-he,me="".concat(w,"-nav-operations-hidden"),ye=0,ve=0;function be(e){return e<ye?ye:e>ve?ve:e}R&&d?(ye=0,ve=Math.max(0,ue-fe)):(ye=Math.min(0,fe-ue),ve=0);var xe=(0,e.useRef)(null),Se=(0,e.useState)(),Me=(0,g.A)(Se,2),Ae=Me[0],ke=Me[1];function we(){ke(Date.now())}function Ce(){xe.current&&clearTimeout(xe.current)}!function(t,i){var n=(0,e.useState)(),o=(0,g.A)(n,2),a=o[0],r=o[1],s=(0,e.useState)(0),l=(0,g.A)(s,2),c=l[0],d=l[1],u=(0,e.useState)(0),h=(0,g.A)(u,2),p=h[0],f=h[1],m=(0,e.useState)(),y=(0,g.A)(m,2),v=y[0],b=y[1],x=(0,e.useRef)(),S=(0,e.useRef)(),M=(0,e.useRef)(null);M.current={onTouchStart:function(e){var t=e.touches[0],i=t.screenX,n=t.screenY;r({x:i,y:n}),window.clearInterval(x.current)},onTouchMove:function(e){if(a){var t=e.touches[0],n=t.screenX,o=t.screenY;r({x:n,y:o});var s=n-a.x,l=o-a.y;i(s,l);var u=Date.now();d(u),f(u-c),b({x:s,y:l})}},onTouchEnd:function(){if(a&&(r(null),b(null),v)){var e=v.x/p,t=v.y/p,n=Math.abs(e),o=Math.abs(t);if(Math.max(n,o)<.1)return;var s=e,l=t;x.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(x.current):i(20*(s*=Si),20*(l*=Si))}),20)}},onWheel:function(e){var t=e.deltaX,n=e.deltaY,o=0,a=Math.abs(t),r=Math.abs(n);a===r?o="x"===S.current?t:n:a>r?(o=t,S.current="x"):(o=n,S.current="y"),i(-o,-o)&&e.preventDefault()}},e.useEffect((function(){function e(e){M.current.onTouchMove(e)}function i(e){M.current.onTouchEnd(e)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",i,{passive:!0}),t.current.addEventListener("touchstart",(function(e){M.current.onTouchStart(e)}),{passive:!0}),t.current.addEventListener("wheel",(function(e){M.current.onWheel(e)}),{passive:!1}),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",i)}}),[])}(E,(function(e,t){function i(e,t){e((function(e){return be(e+t)}))}return!!ge&&(R?i(B,e):i(H,t),Ce(),we(),!0)})),(0,e.useEffect)((function(){return Ce(),Ae&&(xe.current=setTimeout((function(){ke(0)}),100)),Ce}),[Ae]);var Ie=function(t,i,n,o,a,r,s){var l,c,d,u=s.tabs,h=s.tabPosition,p=s.rtl;return["top","bottom"].includes(h)?(l="width",c=p?"right":"left",d=Math.abs(n)):(l="height",c="top",d=-n),(0,e.useMemo)((function(){if(!u.length)return[0,0];for(var e=u.length,n=e,o=0;o<e;o+=1){var a=t.get(u[o].key)||ki;if(Math.floor(a[c]+a[l])>Math.floor(d+i)){n=o-1;break}}for(var r=0,s=e-1;s>=0;s-=1)if((t.get(u[s].key)||ki)[c]<d){r=s+1;break}return r>=n?[0,0]:[r,n]}),[t,i,o,a,r,d,h,u.map((function(e){return e.key})).join("_"),p])}(ce,fe,R?j:_,ue,he,pe,(0,x.A)((0,x.A)({},t),{},{tabs:C})),De=(0,g.A)(Ie,2),Ne=De[0],Ee=De[1],Oe=(0,di.A)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=ce.get(e)||{width:0,height:0,left:0,right:0,top:0};if(R){var i=j;d?t.right<j?i=t.right:t.right+t.width>j+fe&&(i=t.right+t.width-fe):t.left<-j?i=-t.left:t.left+t.width>-j+fe&&(i=-(t.left+t.width-fe)),H(0),B(be(i))}else{var n=_;t.top<-_?n=-t.top:t.top+t.height>-_+fe&&(n=-(t.top+t.height-fe)),B(0),H(be(n))}})),Le={};"top"===y||"bottom"===y?Le[d?"marginRight":"marginLeft"]=v:Le.marginTop=v;var Te=C.map((function(t,i){var n=t.key;return e.createElement(cr,{id:s,prefixCls:w,key:n,tab:t,style:0===i?void 0:Le,closable:t.closable,editable:p,active:n===c,renderWrapper:b,removeAriaLabel:null===m||void 0===m?void 0:m.removeAriaLabel,onClick:function(e){S(n,e)},onFocus:function(){Oe(n),we(),E.current&&(d||(E.current.scrollLeft=0),E.current.scrollTop=0)}})})),Re=function(){return le((function(){var e,t=new Map,i=null===(e=O.current)||void 0===e?void 0:e.getBoundingClientRect();return C.forEach((function(e){var n,o=e.key,a=null===(n=O.current)||void 0===n?void 0:n.querySelector('[data-node-key="'.concat(Ci(o),'"]'));if(a){var r=function(e,t){var i=e.offsetWidth,n=e.offsetHeight,o=e.offsetTop,a=e.offsetLeft,r=e.getBoundingClientRect(),s=r.width,l=r.height,c=r.left,d=r.top;return Math.abs(s-i)<1?[s,l,c-t.left,d-t.top]:[i,n,a,o]}(a,i),s=(0,g.A)(r,4),l=s[0],c=s[1],d=s[2],u=s[3];t.set(o,{width:l,height:c,left:d,top:u})}})),t}))};(0,e.useEffect)((function(){Re()}),[C.map((function(e){return e.key})).join("_")]);var Pe=Ai((function(){var e=dr(I),t=dr(D),i=dr(N);U([e[0]-t[0]-i[0],e[1]-t[1]-i[1]]);var n=dr(T);ee(n);var o=dr(L);oe(o);var a=dr(O);Z([a[0]-n[0],a[1]-n[1]]),Re()})),ze=C.slice(0,Ne),je=C.slice(Ee+1),Be=[].concat((0,o.A)(ze),(0,o.A)(je)),$e=ce.get(c),Fe=vi({activeTabOffset:$e,horizontal:R,indicator:A,rtl:d}).style;(0,e.useEffect)((function(){Oe()}),[c,ye,ve,wi($e),wi(ce),R]),(0,e.useEffect)((function(){Pe()}),[d]);var _e,He,We,Ge,Ve=!!Be.length,Ue="".concat(w,"-nav-wrap");return R?d?(He=j>0,_e=j!==ve):(_e=j<0,He=j!==ye):(We=_<0,Ge=_!==ye),e.createElement(ci,{onResize:Pe},e.createElement("div",{ref:(0,Dt.xK)(i,I),role:"tablist",className:r()("".concat(w,"-nav"),n),style:a,onKeyDown:function(){we()}},e.createElement(Ni,{ref:D,position:"left",extra:u,prefixCls:w}),e.createElement(ci,{onResize:Pe},e.createElement("div",{className:r()(Ue,(0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(Ue,"-ping-left"),_e),"".concat(Ue,"-ping-right"),He),"".concat(Ue,"-ping-top"),We),"".concat(Ue,"-ping-bottom"),Ge)),ref:E},e.createElement(ci,{onResize:Pe},e.createElement("div",{ref:O,className:"".concat(w,"-nav-list"),style:{transform:"translate(".concat(j,"px, ").concat(_,"px)"),transition:Ae?"none":void 0}},Te,e.createElement(Di,{ref:T,prefixCls:w,locale:m,editable:p,style:(0,x.A)((0,x.A)({},0===Te.length?void 0:Le),{},{visibility:Ve?"hidden":null})}),e.createElement("div",{className:r()("".concat(w,"-ink-bar"),(0,f.A)({},"".concat(w,"-ink-bar-animated"),l.inkBar)),style:Fe}))))),e.createElement(lr,(0,h.A)({},t,{removeAriaLabel:null===m||void 0===m?void 0:m.removeAriaLabel,ref:L,prefixCls:w,tabs:Be,className:!Ve&&me,tabMoving:!!Ae})),e.createElement(Ni,{ref:N,position:"right",extra:u,prefixCls:w})))}));const pr=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.className,a=t.style,s=t.id,l=t.active,c=t.tabKey,d=t.children;return e.createElement("div",{id:s&&"".concat(s,"-panel-").concat(c),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(c),"aria-hidden":!l,style:a,className:r()(n,l&&"".concat(n,"-active"),o),ref:i},d)}));var gr=["renderTabBar"],fr=["label","key"];const mr=function(t){var i=t.renderTabBar,n=y(t,gr),o=e.useContext(Mt).tabs;return i?i((0,x.A)((0,x.A)({},n),{},{panes:o.map((function(t){var i=t.label,n=t.key,o=y(t,fr);return e.createElement(pr,(0,h.A)({tab:i,key:n,tabKey:n},o))}))}),hr):e.createElement(hr,n)};var yr=["key","forceRender","style","className","destroyInactiveTabPane"];const vr=function(t){var i=t.id,n=t.activeKey,o=t.animated,a=t.tabPosition,s=t.destroyInactiveTabPane,l=e.useContext(Mt),c=l.prefixCls,d=l.tabs,u=o.tabPane,p="".concat(c,"-tabpane");return e.createElement("div",{className:r()("".concat(c,"-content-holder"))},e.createElement("div",{className:r()("".concat(c,"-content"),"".concat(c,"-content-").concat(a),(0,f.A)({},"".concat(c,"-content-animated"),u))},d.map((function(t){var a=t.key,l=t.forceRender,c=t.style,d=t.className,g=t.destroyInactiveTabPane,f=y(t,yr),m=a===n;return e.createElement(jn,(0,h.A)({key:a,visible:m,forceRender:l,removeOnLeave:!(!s&&!g),leavedClassName:"".concat(p,"-hidden")},o.tabPaneMotion),(function(t,n){var o=t.style,s=t.className;return e.createElement(pr,(0,h.A)({},f,{prefixCls:p,id:i,tabKey:a,animated:u,active:m,style:(0,x.A)((0,x.A)({},c),o),className:r()(d,s),ref:n}))}))}))))};var br=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],xr=0;const Sr=e.forwardRef((function(t,i){var n=t.id,o=t.prefixCls,a=void 0===o?"rc-tabs":o,s=t.className,l=t.items,c=t.direction,d=t.activeKey,u=t.defaultActiveKey,p=t.editable,m=t.animated,v=t.tabPosition,b=void 0===v?"top":v,M=t.tabBarGutter,A=t.tabBarStyle,k=t.tabBarExtraContent,w=t.locale,C=t.more,I=t.destroyInactiveTabPane,D=t.renderTabBar,N=t.onChange,E=t.onTabClick,O=t.onTabScroll,L=t.getPopupContainer,T=t.popupClassName,R=t.indicator,P=y(t,br),z=e.useMemo((function(){return(l||[]).filter((function(e){return e&&"object"===(0,S.A)(e)&&"key"in e}))}),[l]),j="rtl"===c,B=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:(0,x.A)({inkBar:!0},"object"===(0,S.A)(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(m),$=(0,e.useState)(!1),F=(0,g.A)($,2),_=F[0],H=F[1];(0,e.useEffect)((function(){H(St())}),[]);var W=(0,xt.A)((function(){var e;return null===(e=z[0])||void 0===e?void 0:e.key}),{value:d,defaultValue:u}),G=(0,g.A)(W,2),V=G[0],U=G[1],K=(0,e.useState)((function(){return z.findIndex((function(e){return e.key===V}))})),Y=(0,g.A)(K,2),X=Y[0],Z=Y[1];(0,e.useEffect)((function(){var e,t=z.findIndex((function(e){return e.key===V}));-1===t&&(t=Math.max(0,Math.min(X,z.length-1)),U(null===(e=z[t])||void 0===e?void 0:e.key));Z(t)}),[z.map((function(e){return e.key})).join("_"),V,X]);var q=(0,xt.A)(null,{value:n}),Q=(0,g.A)(q,2),J=Q[0],ee=Q[1];(0,e.useEffect)((function(){n||(ee("rc-tabs-".concat(xr)),xr+=1)}),[]);var te={id:J,activeKey:V,animated:B,tabPosition:b,rtl:j,mobile:_},ie=(0,x.A)((0,x.A)({},te),{},{editable:p,locale:w,more:C,tabBarGutter:M,onTabClick:function(e,t){null===E||void 0===E||E(e,t);var i=e!==V;U(e),i&&(null===N||void 0===N||N(e))},onTabScroll:O,extra:k,style:A,panes:null,getPopupContainer:L,popupClassName:T,indicator:R});return e.createElement(Mt.Provider,{value:{tabs:z,prefixCls:a}},e.createElement("div",(0,h.A)({ref:i,id:n,className:r()(a,"".concat(a,"-").concat(b),(0,f.A)((0,f.A)((0,f.A)({},"".concat(a,"-mobile"),_),"".concat(a,"-editable"),p),"".concat(a,"-rtl"),j),s)},P),e.createElement(mr,(0,h.A)({},ie,{renderTabBar:D})),e.createElement(vr,(0,h.A)({destroyInactiveTabPane:I},te,{animated:B}))))})),Mr=e=>{const[,,,,t]=(0,Se.Ay)();return t?`${e}-css-var`:""},Ar=()=>({height:0,opacity:0}),kr=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},wr=e=>({height:e?e.offsetHeight:0}),Cr=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,Ir=(e,t,i)=>void 0!==i?i:`${e}-${t}`,Dr=function(){return{motionName:`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.yH}-motion-collapse`,onAppearStart:Ar,onEnterStart:Ar,onAppearActive:kr,onEnterActive:kr,onLeaveStart:wr,onLeaveActive:Ar,onAppearEnd:Cr,onEnterEnd:Cr,onLeaveEnd:Cr,motionDeadline:500}},Nr={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Er=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};var Or=i(4414);const Lr=e=>({animationDuration:e,animationFillMode:"both"}),Tr=e=>({animationDuration:e,animationFillMode:"both"}),Rr=function(e,t,i,n){const o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${o}${e}-enter,\n      ${o}${e}-appear\n    `]:Object.assign(Object.assign({},Lr(n)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:Object.assign(Object.assign({},Tr(n)),{animationPlayState:"paused"}),[`\n      ${o}${e}-enter${e}-enter-active,\n      ${o}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:i,animationPlayState:"running",pointerEvents:"none"}}},Pr=new Y.Mo("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),zr=new Y.Mo("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),jr=new Y.Mo("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Br=new Y.Mo("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),$r=new Y.Mo("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Fr=new Y.Mo("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),_r=new Y.Mo("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Hr=new Y.Mo("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Wr={"slide-up":{inKeyframes:Pr,outKeyframes:zr},"slide-down":{inKeyframes:jr,outKeyframes:Br},"slide-left":{inKeyframes:$r,outKeyframes:Fr},"slide-right":{inKeyframes:_r,outKeyframes:Hr}},Gr=(e,t)=>{const{antCls:i}=e,n=`${i}-${t}`,{inKeyframes:o,outKeyframes:a}=Wr[t];return[Rr(n,o,a,e.motionDurationMid),{[`\n      ${n}-enter,\n      ${n}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},Vr=e=>{const{componentCls:t,motionDurationSlow:i}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${i}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${i}`}}}}},[Gr(e,"slide-up"),Gr(e,"slide-down")]]},Ur=e=>{const{componentCls:t,tabsCardPadding:i,cardBg:n,cardGutter:o,colorBorderSecondary:a,itemSelectedColor:r}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:i,background:n,border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${a}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:r,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:(0,Y.zA)(o)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:(0,Y.zA)(o)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,Y.zA)(e.borderRadiusLG)} 0 0 ${(0,Y.zA)(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},Kr=e=>{const{componentCls:t,itemHoverColor:i,dropdownEdgeChildVerticalPadding:n}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${(0,Y.zA)(n)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Or.L9),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${(0,Y.zA)(e.paddingXXS)} ${(0,Y.zA)(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:i}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Yr=e=>{const{componentCls:t,margin:i,colorBorderSecondary:n,horizontalMargin:o,verticalItemPadding:a,verticalItemMargin:r,calc:s}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${n}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},\n            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,\n        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:i,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:s(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:a,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:r},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:(0,Y.zA)(s(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:s(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Xr=e=>{const{componentCls:t,cardPaddingSM:i,cardPaddingLG:n,horizontalItemPaddingSM:o,horizontalItemPaddingLG:a}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${(0,Y.zA)(e.borderRadius)} ${(0,Y.zA)(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${(0,Y.zA)(e.borderRadius)} ${(0,Y.zA)(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,Y.zA)(e.borderRadius)} ${(0,Y.zA)(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,Y.zA)(e.borderRadius)} 0 0 ${(0,Y.zA)(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n}}}}}},Zr=e=>{const{componentCls:t,itemActiveColor:i,itemHoverColor:n,iconCls:o,tabsHorizontalItemMargin:a,horizontalItemPadding:r,itemSelectedColor:s,itemColor:l}=e,c=`${t}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:r,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:i}},(0,Or.K8)(e)),"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:n},[`&${c}-active ${c}-btn`]:{color:s,textShadow:e.tabsActiveTextShadow},[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${c}-remove ${o}`]:{margin:0},[`${o}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:a}}}},qr=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:i,iconCls:n,cardGutter:o,calc:a}=e,r=`${t}-rtl`;return{[r]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:i},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[n]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:(0,Y.zA)(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:(0,Y.zA)(e.marginXS)},marginLeft:{_skip_check_:!0,value:(0,Y.zA)(a(e.marginXXS).mul(-1).equal())},[n]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Qr=e=>{const{componentCls:t,tabsCardPadding:i,cardHeight:n,cardGutter:o,itemHoverColor:a,itemActiveColor:r,colorBorderSecondary:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:i,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:n,minHeight:n,marginLeft:{_skip_check_:!0,value:o},padding:`0 ${(0,Y.zA)(e.paddingXS)}`,background:"transparent",border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${s}`,borderRadius:`${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:a},"&:active, &:focus:not(:focus-visible)":{color:r}},(0,Or.K8)(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),Zr(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},Jr=(0,X.OF)("Tabs",(e=>{const t=(0,Fe.oX)(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${(0,Y.zA)(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${(0,Y.zA)(e.horizontalItemGutter)}`});return[Xr(t),qr(t),Yr(t),Kr(t),Ur(t),Qr(t),Vr(t)]}),(e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${1.5*e.paddingXXS}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${1.5*e.paddingXXS}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}}));var es=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const ts=t=>{var i,n,o,a,s,c,d,h,p,g,f;const{type:m,className:y,rootClassName:v,size:b,onEdit:x,hideAdd:S,centered:M,addIcon:A,removeIcon:k,moreIcon:w,more:C,popupClassName:I,children:D,items:N,animated:E,style:O,indicatorSize:L,indicator:T}=t,R=es(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:P}=R,{direction:z,tabs:j,getPrefixCls:B,getPopupContainer:$}=e.useContext(l.QO),F=B("tabs",P),_=Mr(F),[H,W,G]=Jr(F,_);let V;"editable-card"===m&&(V={onEdit:(e,t)=>{let{key:i,event:n}=t;null===x||void 0===x||x("add"===e?n:i,e)},removeIcon:null!==(i=null!==k&&void 0!==k?k:null===j||void 0===j?void 0:j.removeIcon)&&void 0!==i?i:e.createElement(pt,null),addIcon:(null!==A&&void 0!==A?A:null===j||void 0===j?void 0:j.addIcon)||e.createElement(bt,null),showAdd:!0!==S});const U=B();const K=Be(b),Y=function(t,i){return t||function(e){return e.filter((e=>e))}(u(i).map((t=>{if(e.isValidElement(t)){const{key:e,props:i}=t,n=i||{},{tab:o}=n,a=Er(n,["tab"]);return Object.assign(Object.assign({key:String(e)},a),{label:o})}return null})))}(N,D),X=function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return t=!1===i?{inkBar:!1,tabPane:!1}:!0===i?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof i?i:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},Nr),{motionName:Ir(e,"switch")})),t}(F,E),Z=Object.assign(Object.assign({},null===j||void 0===j?void 0:j.style),O),q={align:null!==(n=null===T||void 0===T?void 0:T.align)&&void 0!==n?n:null===(o=null===j||void 0===j?void 0:j.indicator)||void 0===o?void 0:o.align,size:null!==(d=null!==(s=null!==(a=null===T||void 0===T?void 0:T.size)&&void 0!==a?a:L)&&void 0!==s?s:null===(c=null===j||void 0===j?void 0:j.indicator)||void 0===c?void 0:c.size)&&void 0!==d?d:null===j||void 0===j?void 0:j.indicatorSize};return H(e.createElement(Sr,Object.assign({direction:z,getPopupContainer:$},R,{items:Y,className:r()({[`${F}-${K}`]:K,[`${F}-card`]:["card","editable-card"].includes(m),[`${F}-editable-card`]:"editable-card"===m,[`${F}-centered`]:M},null===j||void 0===j?void 0:j.className,y,v,W,G,_),popupClassName:r()(I,W,G,_),style:Z,editable:V,more:Object.assign({icon:null!==(f=null!==(g=null!==(p=null===(h=null===j||void 0===j?void 0:j.more)||void 0===h?void 0:h.icon)&&void 0!==p?p:null===j||void 0===j?void 0:j.moreIcon)&&void 0!==g?g:w)&&void 0!==f?f:e.createElement(mt,null),transitionName:`${U}-slide-up`},C),prefixCls:F,animated:X,indicator:q})))};ts.TabPane=()=>null;const is=ts;var ns=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const os=t=>{var{prefixCls:i,className:n,hoverable:o=!0}=t,a=ns(t,["prefixCls","className","hoverable"]);const{getPrefixCls:s}=e.useContext(l.QO),c=s("card",i),d=r()(`${c}-grid`,n,{[`${c}-grid-hoverable`]:o});return e.createElement("div",Object.assign({},a,{className:d}))},as=e=>{const{antCls:t,componentCls:i,headerHeight:n,cardPaddingBase:o,tabsMarginBottom:a}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:n,marginBottom:-1,padding:`0 ${(0,Y.zA)(o)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0 0`},(0,Or.t6)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Or.L9),{[`\n          > ${i}-typography,\n          > ${i}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:a,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},rs=e=>{const{cardPaddingBase:t,colorBorderSecondary:i,cardShadow:n,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${(0,Y.zA)(o)} 0 0 0 ${i},\n      0 ${(0,Y.zA)(o)} 0 0 ${i},\n      ${(0,Y.zA)(o)} ${(0,Y.zA)(o)} 0 0 ${i},\n      ${(0,Y.zA)(o)} 0 0 0 ${i} inset,\n      0 ${(0,Y.zA)(o)} 0 0 ${i} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:n}}},ss=e=>{const{componentCls:t,iconCls:i,actionsLiMargin:n,cardActionsIconSize:o,colorBorderSecondary:a,actionsBg:r}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:r,borderTop:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${a}`,display:"flex",borderRadius:`0 0 ${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)}`},(0,Or.t6)()),{"& > li":{margin:n,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${i}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,Y.zA)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${i}`]:{fontSize:o,lineHeight:(0,Y.zA)(e.calc(o).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${a}`}}})},ls=e=>Object.assign(Object.assign({margin:`${(0,Y.zA)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,Or.t6)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Or.L9),"&-description":{color:e.colorTextDescription}}),cs=e=>{const{componentCls:t,cardPaddingBase:i,colorFillAlter:n}=e;return{[`${t}-head`]:{padding:`0 ${(0,Y.zA)(i)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,Y.zA)(e.padding)} ${(0,Y.zA)(i)}`}}},ds=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},us=e=>{const{componentCls:t,cardShadow:i,cardHeadPadding:n,colorBorderSecondary:o,boxShadowTertiary:a,cardPaddingBase:r,extraColor:s}=e;return{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:a},[`${t}-head`]:as(e),[`${t}-extra`]:{marginInlineStart:"auto",color:s,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:r,borderRadius:`0 0 ${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)}`},(0,Or.t6)()),[`${t}-grid`]:rs(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:ss(e),[`${t}-meta`]:ls(e)}),[`${t}-bordered`]:{border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${o}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:i}},[`${t}-contain-grid`]:{borderRadius:`${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:n}}},[`${t}-type-inner`]:cs(e),[`${t}-loading`]:ds(e),[`${t}-rtl`]:{direction:"rtl"}}},hs=e=>{const{componentCls:t,cardPaddingSM:i,headerHeightSM:n,headerFontSizeSM:o}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:n,padding:`0 ${(0,Y.zA)(i)}`,fontSize:o,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:i}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},ps=(0,X.OF)("Card",(e=>{const t=(0,Fe.oX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[us(t),hs(t)]}),(e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText})));var gs=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const fs=t=>{const{actionClasses:i,actions:n=[],actionStyle:o}=t;return e.createElement("ul",{className:i,style:o},n.map(((t,i)=>{const o=`action-${i}`;return e.createElement("li",{style:{width:100/n.length+"%"},key:o},e.createElement("span",null,t))})))};var ms=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const ys=t=>{const{prefixCls:i,className:n,avatar:o,title:a,description:s}=t,c=ms(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:d}=e.useContext(l.QO),u=d("card",i),h=r()(`${u}-meta`,n),p=o?e.createElement("div",{className:`${u}-meta-avatar`},o):null,g=a?e.createElement("div",{className:`${u}-meta-title`},a):null,f=s?e.createElement("div",{className:`${u}-meta-description`},s):null,m=g||f?e.createElement("div",{className:`${u}-meta-detail`},g,f):null;return e.createElement("div",Object.assign({},c,{className:h}),p,m)},vs=e.forwardRef(((t,i)=>{const{prefixCls:n,className:o,rootClassName:a,style:c,extra:d,headStyle:u={},bodyStyle:h={},title:p,loading:g,bordered:f=!0,size:m,type:y,cover:v,actions:b,tabList:x,children:S,activeTabKey:M,defaultActiveTabKey:A,tabBarExtraContent:k,hoverable:w,tabProps:C={},classNames:I,styles:D}=t,N=gs(t,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:E,direction:O,card:L}=e.useContext(l.QO);const T=e=>{var t;return r()(null===(t=null===L||void 0===L?void 0:L.classNames)||void 0===t?void 0:t[e],null===I||void 0===I?void 0:I[e])},R=e=>{var t;return Object.assign(Object.assign({},null===(t=null===L||void 0===L?void 0:L.styles)||void 0===t?void 0:t[e]),null===D||void 0===D?void 0:D[e])},P=e.useMemo((()=>{let t=!1;return e.Children.forEach(S,(e=>{(null===e||void 0===e?void 0:e.type)===os&&(t=!0)})),t}),[S]),z=E("card",n),[j,B,$]=ps(z),F=e.createElement(dt,{loading:!0,active:!0,paragraph:{rows:4},title:!1},S),_=void 0!==M,H=Object.assign(Object.assign({},C),{[_?"activeKey":"defaultActiveKey"]:_?M:A,tabBarExtraContent:k});let W;const G=Be(m),V=G&&"default"!==G?G:"large",U=x?e.createElement(is,Object.assign({size:V},H,{className:`${z}-head-tabs`,onChange:e=>{var i;null===(i=t.onTabChange)||void 0===i||i.call(t,e)},items:x.map((e=>{var{tab:t}=e,i=gs(e,["tab"]);return Object.assign({label:t},i)}))})):null;if(p||d||U){const t=r()(`${z}-head`,T("header")),i=r()(`${z}-head-title`,T("title")),n=r()(`${z}-extra`,T("extra")),o=Object.assign(Object.assign({},u),R("header"));W=e.createElement("div",{className:t,style:o},e.createElement("div",{className:`${z}-head-wrapper`},p&&e.createElement("div",{className:i,style:R("title")},p),d&&e.createElement("div",{className:n,style:R("extra")},d)),U)}const K=r()(`${z}-cover`,T("cover")),Y=v?e.createElement("div",{className:K,style:R("cover")},v):null,X=r()(`${z}-body`,T("body")),Z=Object.assign(Object.assign({},h),R("body")),q=e.createElement("div",{className:X,style:Z},g?F:S),Q=r()(`${z}-actions`,T("actions")),J=(null===b||void 0===b?void 0:b.length)?e.createElement(fs,{actionClasses:Q,actionStyle:R("actions"),actions:b}):null,ee=(0,s.A)(N,["onTabChange"]),te=r()(z,null===L||void 0===L?void 0:L.className,{[`${z}-loading`]:g,[`${z}-bordered`]:f,[`${z}-hoverable`]:w,[`${z}-contain-grid`]:P,[`${z}-contain-tabs`]:null===x||void 0===x?void 0:x.length,[`${z}-${G}`]:G,[`${z}-type-${y}`]:!!y,[`${z}-rtl`]:"rtl"===O},o,a,B,$),ie=Object.assign(Object.assign({},null===L||void 0===L?void 0:L.style),c);return j(e.createElement("div",Object.assign({ref:i},ee,{className:te,style:ie}),W,Y,q,J))}));vs.Grid=os,vs.Meta=ys;const bs=vs,xs=(0,e.createContext)(void 0);const Ss={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const Ms=(0,x.A)((0,x.A)({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),As={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},ks={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Ms),timePickerLocale:Object.assign({},As)},ws="${label} is not a valid ${type}",Cs={locale:"en",Pagination:Ss,DatePicker:ks,TimePicker:As,Calendar:ks,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ws,method:ws,array:ws,object:ws,number:ws,date:ws,boolean:ws,integer:ws,float:ws,regexp:ws,email:ws,url:ws,hex:ws},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},Is=(t,i)=>{const n=e.useContext(xs);return[e.useMemo((()=>{var e;const o=i||Cs[t],a=null!==(e=null===n||void 0===n?void 0:n[t])&&void 0!==e?e:{};return Object.assign(Object.assign({},"function"===typeof o?o():o),a||{})}),[t,i,n]),e.useMemo((()=>{const e=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!e?Cs.locale:e}),[n])]};const Ds=()=>{const[,t]=(0,Se.Ay)(),[i]=Is("Empty"),n=new Ie.q(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return e.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},e.createElement("title",null,(null===i||void 0===i?void 0:i.description)||"Empty"),e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(24 31.67)"},e.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),e.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),e.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),e.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),e.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),e.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},e.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const Ns=()=>{const[,t]=(0,Se.Ay)(),[i]=Is("Empty"),{colorFill:n,colorFillTertiary:o,colorFillQuaternary:a,colorBgContainer:r}=t,{borderColor:s,shadowColor:l,contentColor:c}=(0,e.useMemo)((()=>({borderColor:new Ie.q(n).onBackground(r).toHexShortString(),shadowColor:new Ie.q(o).onBackground(r).toHexShortString(),contentColor:new Ie.q(a).onBackground(r).toHexShortString()})),[n,o,a,r]);return e.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},e.createElement("title",null,(null===i||void 0===i?void 0:i.description)||"Empty"),e.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),e.createElement("g",{fillRule:"nonzero",stroke:s},e.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),e.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},Es=e=>{const{componentCls:t,margin:i,marginXS:n,marginXL:o,fontSize:a,lineHeight:r}=e;return{[t]:{marginInline:n,fontSize:a,lineHeight:r,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:n,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:i},"&-normal":{marginBlock:o,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:n,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},Os=(0,X.OF)("Empty",(e=>{const{componentCls:t,controlHeightLG:i,calc:n}=e,o=(0,Fe.oX)(e,{emptyImgCls:`${t}-img`,emptyImgHeight:n(i).mul(2.5).equal(),emptyImgHeightMD:i,emptyImgHeightSM:n(i).mul(.875).equal()});return[Es(o)]}));var Ls=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Ts=e.createElement(Ds,null),Rs=e.createElement(Ns,null),Ps=t=>{var{className:i,rootClassName:n,prefixCls:o,image:a=Ts,description:s,children:c,imageStyle:d,style:u}=t,h=Ls(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:p,direction:g,empty:f}=e.useContext(l.QO),m=p("empty",o),[y,v,b]=Os(m),[x]=Is("Empty"),S="undefined"!==typeof s?s:null===x||void 0===x?void 0:x.description,M="string"===typeof S?S:"empty";let A=null;return A="string"===typeof a?e.createElement("img",{alt:M,src:a}):a,y(e.createElement("div",Object.assign({className:r()(v,b,m,null===f||void 0===f?void 0:f.className,{[`${m}-normal`]:a===Rs,[`${m}-rtl`]:"rtl"===g},i,n),style:Object.assign(Object.assign({},null===f||void 0===f?void 0:f.style),u)},h),e.createElement("div",{className:`${m}-image`,style:d},A),S&&e.createElement("div",{className:`${m}-description`},S),c&&e.createElement("div",{className:`${m}-footer`},c)))};Ps.PRESENTED_IMAGE_DEFAULT=Ts,Ps.PRESENTED_IMAGE_SIMPLE=Rs;const zs=Ps;function js(t){return t&&e.isValidElement(t)&&t.type===e.Fragment}function Bs(t,i){return((t,i,n)=>e.isValidElement(t)?e.cloneElement(t,"function"===typeof n?n(t.props||{}):n):i)(t,t,i)}const $s=e=>{const{componentCls:t,colorPrimary:i}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${i})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},Fs=(0,X.Or)("Wave",(e=>[$s(e)])),_s=`${l.yH}-wave-target`;function Hs(){Hs=function(){return t};var e,t={},i=Object.prototype,n=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,i){return e[t]=i}}function d(e,t,i,n){var a=t&&t.prototype instanceof y?t:y,r=Object.create(a.prototype),s=new O(n||[]);return o(r,"_invoke",{value:I(e,i,s)}),r}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",g="executing",f="completed",m={};function y(){}function v(){}function b(){}var x={};c(x,r,(function(){return this}));var M=Object.getPrototypeOf,A=M&&M(M(L([])));A&&A!==i&&n.call(A,r)&&(x=A);var k=b.prototype=y.prototype=Object.create(x);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function i(o,a,r,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==(0,S.A)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,r,s)}),(function(e){i("throw",e,r,s)})):t.resolve(d).then((function(e){c.value=e,r(c)}),(function(e){return i("throw",e,r,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function I(t,i,n){var o=h;return function(a,r){if(o===g)throw Error("Generator is already running");if(o===f){if("throw"===a)throw r;return{value:e,done:!0}}for(n.method=a,n.arg=r;;){var s=n.delegate;if(s){var l=D(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=u(t,i,n);if("normal"===c.type){if(o=n.done?f:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function D(t,i){var n=i.method,o=t.iterator[n];if(o===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,D(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(o,t.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,m;var r=a.arg;return r?r.done?(i[t.resultName]=r.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):r:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function i(){for(;++o<t.length;)if(n.call(t,o))return i.value=t[o],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}throw new TypeError((0,S.A)(t)+" is not iterable")}return v.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},w(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,i,n,o,a){void 0===a&&(a=Promise);var r=new C(d(e,i,n,o),a);return t.isGeneratorFunction(i)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(k),c(k,l,"Generator"),c(k,r,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function o(n,o){return s.type="throw",s.arg=t,i.next=n,o&&(i.method="next",i.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),E(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var o=n.arg;E(i)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:L(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Ws(e,t,i,n,o,a,r){try{var s=e[a](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function Gs(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var a=e.apply(t,i);function r(e){Ws(a,n,o,r,s,"next",e)}function s(e){Ws(a,n,o,r,s,"throw",e)}r(void 0)}))}}var Vs,Us=(0,x.A)({},kt),Ks=Us.version,Ys=Us.render,Xs=Us.unmountComponentAtNode;try{Number((Ks||"").split(".")[0])>=18&&(Vs=Us.createRoot)}catch(Zfe){}function Zs(e){var t=Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,S.A)(t)&&(t.usingClientEntryPoint=e)}var qs="__rc_react_root__";function Qs(e,t){Vs?function(e,t){Zs(!0);var i=t[qs]||Vs(t);Zs(!1),i.render(e),t[qs]=i}(e,t):function(e,t){Ys(e,t)}(e,t)}function Js(e){return el.apply(this,arguments)}function el(){return(el=Gs(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[qs])||void 0===e||e.unmount(),delete t[qs]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e){Xs(e)}function il(e){return nl.apply(this,arguments)}function nl(){return(nl=Gs(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Vs){e.next=2;break}return e.abrupt("return",Js(t));case 2:tl(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function al(e){return Number.isNaN(e)?0:e}const rl=t=>{const{className:i,target:n,component:o}=t,a=e.useRef(null),[s,l]=e.useState(null),[c,d]=e.useState([]),[u,h]=e.useState(0),[p,g]=e.useState(0),[f,m]=e.useState(0),[y,v]=e.useState(0),[b,x]=e.useState(!1),S={left:u,top:p,width:f,height:y,borderRadius:c.map((e=>`${e}px`)).join(" ")};function M(){const e=getComputedStyle(n);l(function(e){const{borderTopColor:t,borderColor:i,backgroundColor:n}=getComputedStyle(e);return ol(t)?t:ol(i)?i:ol(n)?n:null}(n));const t="static"===e.position,{borderLeftWidth:i,borderTopWidth:o}=e;h(t?n.offsetLeft:al(-parseFloat(i))),g(t?n.offsetTop:al(-parseFloat(o))),m(n.offsetWidth),v(n.offsetHeight);const{borderTopLeftRadius:a,borderTopRightRadius:r,borderBottomLeftRadius:s,borderBottomRightRadius:c}=e;d([a,r,c,s].map((e=>al(parseFloat(e)))))}if(s&&(S["--wave-color"]=s),e.useEffect((()=>{if(n){const e=yi((()=>{M(),x(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(M),t.observe(n)),()=>{yi.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!b)return null;const A=("Checkbox"===o||"Radio"===o)&&(null===n||void 0===n?void 0:n.classList.contains(_s));return e.createElement(jn,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var i;if(t.deadline||"opacity"===t.propertyName){const e=null===(i=a.current)||void 0===i?void 0:i.parentElement;il(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},((t,n)=>{let{className:o}=t;return e.createElement("div",{ref:(0,Dt.K4)(a,n),className:r()(i,o,{"wave-quick":A}),style:S})}))},sl=(t,i)=>{var n;const{component:o}=i;if("Checkbox"===o&&!(null===(n=t.querySelector("input"))||void 0===n?void 0:n.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",null===t||void 0===t||t.insertBefore(a,null===t||void 0===t?void 0:t.firstChild),Qs(e.createElement(rl,Object.assign({},i,{target:t})),a)},ll=(t,i,n)=>{const{wave:o}=e.useContext(l.QO),[,a,r]=(0,Se.Ay)(),s=(0,di.A)((e=>{const s=t.current;if((null===o||void 0===o?void 0:o.disabled)||!s)return;const l=s.querySelector(`.${_s}`)||s,{showEffect:c}=o||{};(c||sl)(l,{className:i,token:a,component:n,event:e,hashId:r})})),c=e.useRef();return e=>{yi.cancel(c.current),c.current=yi((()=>{s(e)}))}};const cl=t=>{const{children:i,disabled:n,component:o}=t,{getPrefixCls:a}=(0,e.useContext)(l.QO),s=(0,e.useRef)(null),c=a("wave"),[,d]=Fs(c),u=ll(s,r()(c,d),o);if(e.useEffect((()=>{const e=s.current;if(!e||1!==e.nodeType||n)return;const t=t=>{!Vn(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||u(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[n]),!e.isValidElement(i))return null!==i&&void 0!==i?i:null;return Bs(i,{ref:(0,Dt.f3)(i)?(0,Dt.K4)(i.ref,s):s})},dl=e.createContext(!1),ul=t=>{let{children:i,disabled:n}=t;const o=e.useContext(dl);return e.createElement(dl.Provider,{value:null!==n&&void 0!==n?n:o},i)},hl=dl;const pl=e.createContext(null),gl=(t,i)=>{const n=e.useContext(pl),o=e.useMemo((()=>{if(!n)return"";const{compactDirection:e,isFirstItem:o,isLastItem:a}=n,s="vertical"===e?"-vertical-":"-";return r()(`${t}-compact${s}item`,{[`${t}-compact${s}first-item`]:o,[`${t}-compact${s}last-item`]:a,[`${t}-compact${s}item-rtl`]:"rtl"===i})}),[t,i,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:o}},fl=t=>{let{children:i}=t;return e.createElement(pl.Provider,{value:null},i)};var ml=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const yl=e.createContext(void 0),vl=t=>{const{getPrefixCls:i,direction:n}=e.useContext(l.QO),{prefixCls:o,size:a,className:s}=t,c=ml(t,["prefixCls","size","className"]),d=i("btn-group",o),[,,u]=(0,Se.Ay)();let h="";switch(a){case"large":h="lg";break;case"small":h="sm"}const p=r()(d,{[`${d}-${h}`]:h,[`${d}-rtl`]:"rtl"===n},s,u);return e.createElement(yl.Provider,{value:a},e.createElement("div",Object.assign({},c,{className:p})))},bl=/^[\u4E00-\u9FA5]{2}$/,xl=bl.test.bind(bl);function Sl(e){return"danger"===e?{danger:!0}:{type:e}}function Ml(e){return"string"===typeof e}function Al(e){return"text"===e||"link"===e}function kl(t,i){let n=!1;const o=[];return e.Children.forEach(t,(e=>{const t=typeof e,i="string"===t||"number"===t;if(n&&i){const t=o.length-1,i=o[t];o[t]=`${i}${e}`}else o.push(e);n=i})),e.Children.map(o,(t=>function(t,i){if(null===t||void 0===t)return;const n=i?" ":"";return"string"!==typeof t&&"number"!==typeof t&&Ml(t.type)&&xl(t.props.children)?Bs(t,{children:t.props.children.split("").join(n)}):Ml(t)?xl(t)?e.createElement("span",null,t.split("").join(n)):e.createElement("span",null,t):js(t)?e.createElement("span",null,t):t}(t,i)))}const wl=(0,e.forwardRef)(((t,i)=>{const{className:n,style:o,children:a,prefixCls:s}=t,l=r()(`${s}-icon`,n);return e.createElement("span",{ref:i,className:l,style:o},a)}));const Cl={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var Il=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:Cl}))};const Dl=e.forwardRef(Il),Nl=(0,e.forwardRef)(((t,i)=>{const{prefixCls:n,className:o,style:a,iconClassName:s}=t,l=r()(`${n}-loading-icon`,o);return e.createElement(wl,{prefixCls:n,className:l,style:a,ref:i},e.createElement(Dl,{className:s}))})),El=()=>({width:0,opacity:0,transform:"scale(0)"}),Ol=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),Ll=t=>{const{prefixCls:i,loading:n,existIcon:o,className:a,style:r}=t,s=!!n;return o?e.createElement(Nl,{prefixCls:i,className:a,style:r}):e.createElement(jn,{visible:s,motionName:`${i}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:El,onAppearActive:Ol,onEnterStart:El,onEnterActive:Ol,onLeaveStart:Ol,onLeaveActive:El},((t,n)=>{let{className:o,style:s}=t;return e.createElement(Nl,{prefixCls:i,className:a,style:Object.assign(Object.assign({},r),s),ref:n,iconClassName:o})}))},Tl=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Rl=e=>{const{componentCls:t,fontSize:i,lineWidth:n,groupBorderColor:o,colorErrorHover:a}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(n).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:i}},Tl(`${t}-primary`,o),Tl(`${t}-danger`,a)]}},Pl=Math.round;function zl(e,t){const i=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=i.map((e=>parseFloat(e)));for(let o=0;o<3;o+=1)n[o]=t(n[o]||0,i[o]||"",o);return i[3]?n[3]=i[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const jl=(e,t,i)=>0===i?e:e/100;function Bl(e,t){const i=t||255;return e>i?i:e<0?0:e}class $l{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if((0,f.A)(this,"isValid",!0),(0,f.A)(this,"r",0),(0,f.A)(this,"g",0),(0,f.A)(this,"b",0),(0,f.A)(this,"a",1),(0,f.A)(this,"_h",void 0),(0,f.A)(this,"_s",void 0),(0,f.A)(this,"_l",void 0),(0,f.A)(this,"_v",void 0),(0,f.A)(this,"_max",void 0),(0,f.A)(this,"_min",void 0),(0,f.A)(this,"_brightness",void 0),e)if("string"===typeof e){const i=e.trim();function n(e){return i.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):n("rgb")?this.fromRgbString(i):n("hsl")?this.fromHslString(i):(n("hsv")||n("hsb"))&&this.fromHsvString(i)}else if(e instanceof $l)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Bl(e.r),this.g=Bl(e.g),this.b=Bl(e.b),this.a="number"===typeof e.a?Bl(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Pl(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),i=this.getSaturation();let n=this.getLightness()-e/100;return n<0&&(n=0),this._c({h:t,s:i,l:n,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),i=this.getSaturation();let n=this.getLightness()+e/100;return n>1&&(n=1),this._c({h:t,s:i,l:n,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const i=this._c(e),n=t/100,o=e=>(i[e]-this[e])*n+this[e],a={r:Pl(o("r")),g:Pl(o("g")),b:Pl(o("b")),a:Pl(100*o("a"))/100};return this._c(a)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),i=this.a+t.a*(1-this.a),n=e=>Pl((this[e]*this.a+t[e]*t.a*(1-this.a))/i);return this._c({r:n("r"),g:n("g"),b:n("b"),a:i})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const i=(this.g||0).toString(16);e+=2===i.length?i:"0"+i;const n=(this.b||0).toString(16);if(e+=2===n.length?n:"0"+n,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=Pl(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Pl(100*this.getSaturation()),i=Pl(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${i}%,${this.a})`:`hsl(${e},${t}%,${i}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,i){const n=this.clone();return n[e]=Bl(t,i),n}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function i(e,i){return parseInt(t[e]+t[i||e],16)}t.length<6?(this.r=i(0),this.g=i(1),this.b=i(2),this.a=t[3]?i(3)/255:1):(this.r=i(0,1),this.g=i(2,3),this.b=i(4,5),this.a=t[6]?i(6,7)/255:1)}fromHsl(e){let{h:t,s:i,l:n,a:o}=e;if(this._h=t%360,this._s=i,this._l=n,this.a="number"===typeof o?o:1,i<=0){const e=Pl(255*n);this.r=e,this.g=e,this.b=e}let a=0,r=0,s=0;const l=t/60,c=(1-Math.abs(2*n-1))*i,d=c*(1-Math.abs(l%2-1));l>=0&&l<1?(a=c,r=d):l>=1&&l<2?(a=d,r=c):l>=2&&l<3?(r=c,s=d):l>=3&&l<4?(r=d,s=c):l>=4&&l<5?(a=d,s=c):l>=5&&l<6&&(a=c,s=d);const u=n-c/2;this.r=Pl(255*(a+u)),this.g=Pl(255*(r+u)),this.b=Pl(255*(s+u))}fromHsv(e){let{h:t,s:i,v:n,a:o}=e;this._h=t%360,this._s=i,this._v=n,this.a="number"===typeof o?o:1;const a=Pl(255*n);if(this.r=a,this.g=a,this.b=a,i<=0)return;const r=t/60,s=Math.floor(r),l=r-s,c=Pl(n*(1-i)*255),d=Pl(n*(1-i*l)*255),u=Pl(n*(1-i*(1-l))*255);switch(s){case 0:this.g=u,this.b=c;break;case 1:this.r=d,this.b=c;break;case 2:this.r=c,this.b=u;break;case 3:this.r=c,this.g=d;break;case 4:this.r=u,this.g=c;break;default:this.g=c,this.b=d}}fromHsvString(e){const t=zl(e,jl);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=zl(e,jl);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=zl(e,((e,t)=>t.includes("%")?Pl(e/100*255):e));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Fl=["b"],_l=["v"],Hl=function(e){return Math.round(Number(e||0))},Wl=function(e){(0,ii.A)(i,e);var t=(0,ni.A)(i);function i(e){return(0,ei.A)(this,i),t.call(this,function(e){if(e instanceof $l)return e;if(e&&"object"===(0,S.A)(e)&&"h"in e&&"b"in e){var t=e,i=t.b,n=y(t,Fl);return(0,x.A)((0,x.A)({},n),{},{v:i})}return"string"===typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return(0,ti.A)(i,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=Hl(100*e.s),i=Hl(100*e.b),n=Hl(e.h),o=e.a,a="hsb(".concat(n,", ").concat(t,"%, ").concat(i,"%)"),r="hsba(".concat(n,", ").concat(t,"%, ").concat(i,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?a:r}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v,i=y(e,_l);return(0,x.A)((0,x.A)({},i),{},{b:t,a:this.a})}}]),i}($l),Gl=function(e){return e instanceof Wl?e:new Wl(e)},Vl=Gl("#1677ff"),Ul=function(e){var t=e.offset,i=e.targetRef,n=e.containerRef,o=e.color,a=e.type,r=n.current.getBoundingClientRect(),s=r.width,l=r.height,c=i.current.getBoundingClientRect(),d=c.width/2,u=c.height/2,h=(t.x+d)/s,p=1-(t.y+u)/l,g=o.toHsb(),f=h,m=(t.x+d)/s*360;if(a)switch(a){case"hue":return Gl((0,x.A)((0,x.A)({},g),{},{h:m<=0?0:m}));case"alpha":return Gl((0,x.A)((0,x.A)({},g),{},{a:f<=0?0:f}))}return Gl({h:g.h,s:h<=0?0:h,b:p>=1?1:p,a:g.a})},Kl=function(e,t){var i=e.toHsb();switch(t){case"hue":return{x:i.h/360*100,y:50};case"alpha":return{x:100*e.a,y:50};default:return{x:100*i.s,y:100*(1-i.b)}}};const Yl=function(t){var i=t.color,n=t.prefixCls,o=t.className,a=t.style,s=t.onClick,l="".concat(n,"-color-block");return e.createElement("div",{className:r()(l,o),style:a,onClick:s},e.createElement("div",{className:"".concat(l,"-inner"),style:{background:i}}))};const Xl=function(t){var i=t.targetRef,n=t.containerRef,o=t.direction,a=t.onDragChange,r=t.onDragChangeComplete,s=t.calculate,l=t.color,c=t.disabledDrag,d=(0,e.useState)({x:0,y:0}),u=(0,g.A)(d,2),h=u[0],p=u[1],f=(0,e.useRef)(null),m=(0,e.useRef)(null);(0,e.useEffect)((function(){p(s())}),[l]),(0,e.useEffect)((function(){return function(){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",m.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",m.current),f.current=null,m.current=null}}),[]);var y=function(e){var t=function(e){var t="touches"in e?e.touches[0]:e,i=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-i,pageY:t.pageY-n}}(e),r=t.pageX,s=t.pageY,l=n.current.getBoundingClientRect(),c=l.x,d=l.y,u=l.width,p=l.height,g=i.current.getBoundingClientRect(),f=g.width,m=g.height,y=f/2,v=m/2,b=Math.max(0,Math.min(r-c,u))-y,x=Math.max(0,Math.min(s-d,p))-v,S={x:b,y:"x"===o?h.y:x};if(0===f&&0===m||f!==m)return!1;null===a||void 0===a||a(S)},v=function(e){e.preventDefault(),y(e)},b=function(e){e.preventDefault(),document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",m.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",m.current),f.current=null,m.current=null,null===r||void 0===r||r()};return[h,function(e){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",m.current),c||(y(e),document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",b),f.current=v,m.current=b)}]};const Zl=function(t){var i=t.size,n=void 0===i?"default":i,o=t.color,a=t.prefixCls;return e.createElement("div",{className:r()("".concat(a,"-handler"),(0,f.A)({},"".concat(a,"-handler-sm"),"small"===n)),style:{backgroundColor:o}})};const ql=function(t){var i=t.children,n=t.style,o=t.prefixCls;return e.createElement("div",{className:"".concat(o,"-palette"),style:(0,x.A)({position:"relative"},n)},i)};const Ql=(0,e.forwardRef)((function(t,i){var n=t.children,o=t.x,a=t.y;return e.createElement("div",{ref:i,style:{position:"absolute",left:"".concat(o,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}));const Jl=function(t){var i=t.color,n=t.onChange,o=t.prefixCls,a=t.onChangeComplete,r=t.disabled,s=(0,e.useRef)(),l=(0,e.useRef)(),c=(0,e.useRef)(i),d=(0,Ki._q)((function(e){var t=Ul({offset:e,targetRef:l,containerRef:s,color:i});c.current=t,n(t)})),u=Xl({color:i,containerRef:s,targetRef:l,calculate:function(){return Kl(i)},onDragChange:d,onDragChangeComplete:function(){return null===a||void 0===a?void 0:a(c.current)},disabledDrag:r}),h=(0,g.A)(u,2),p=h[0],f=h[1];return e.createElement("div",{ref:s,className:"".concat(o,"-select"),onMouseDown:f,onTouchStart:f},e.createElement(ql,{prefixCls:o},e.createElement(Ql,{x:p.x,y:p.y,ref:l},e.createElement(Zl,{color:i.toRgbString(),prefixCls:o})),e.createElement("div",{className:"".concat(o,"-saturation"),style:{backgroundColor:"hsl(".concat(i.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))};const ec=function(t,i){var n=(0,Ki.vz)(t,{value:i}),o=(0,g.A)(n,2),a=o[0],r=o[1];return[(0,e.useMemo)((function(){return Gl(a)}),[a]),r]};const tc=function(t){var i=t.colors,n=t.children,o=t.direction,a=void 0===o?"to right":o,r=t.type,s=t.prefixCls,l=(0,e.useMemo)((function(){return i.map((function(e,t){var n=Gl(e);return"alpha"===r&&t===i.length-1&&(n=new Wl(n.setA(1))),n.toRgbString()})).join(",")}),[i,r]);return e.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(l,")")}},n)};const ic=function(t){var i=t.prefixCls,n=t.colors,o=t.disabled,a=t.onChange,s=t.onChangeComplete,l=t.color,c=t.type,d=(0,e.useRef)(),u=(0,e.useRef)(),h=(0,e.useRef)(l),p=function(e){return"hue"===c?e.getHue():100*e.a},f=(0,Ki._q)((function(e){var t=Ul({offset:e,targetRef:u,containerRef:d,color:l,type:c});h.current=t,a(p(t))})),m=Xl({color:l,targetRef:u,containerRef:d,calculate:function(){return Kl(l,c)},onDragChange:f,onDragChangeComplete:function(){s(p(h.current))},direction:"x",disabledDrag:o}),y=(0,g.A)(m,2),v=y[0],b=y[1],x=e.useMemo((function(){if("hue"===c){var e=l.toHsb();return e.s=1,e.b=1,e.a=1,new Wl(e)}return l}),[l,c]),S=e.useMemo((function(){return n.map((function(e){return"".concat(e.color," ").concat(e.percent,"%")}))}),[n]);return e.createElement("div",{ref:d,className:r()("".concat(i,"-slider"),"".concat(i,"-slider-").concat(c)),onMouseDown:b,onTouchStart:b},e.createElement(ql,{prefixCls:i},e.createElement(Ql,{x:v.x,y:v.y,ref:u},e.createElement(Zl,{size:"small",color:x.toHexString(),prefixCls:i})),e.createElement(tc,{colors:S,type:c,prefixCls:i})))};var nc=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}];const oc=(0,e.forwardRef)((function(t,i){var n=t.value,o=t.defaultValue,a=t.prefixCls,s=void 0===a?"rc-color-picker":a,l=t.onChange,c=t.onChangeComplete,d=t.className,u=t.style,p=t.panelRender,m=t.disabledAlpha,y=void 0!==m&&m,v=t.disabled,b=void 0!==v&&v,x=function(t){return e.useMemo((function(){return[(t||{}).slider||ic]}),[t])}(t.components),S=(0,g.A)(x,1)[0],M=ec(o||Vl,n),A=(0,g.A)(M,2),k=A[0],w=A[1],C=(0,e.useMemo)((function(){return k.setA(1).toRgbString()}),[k]),I=function(e,t){n||w(e),null===l||void 0===l||l(e,t)},D=function(e){return new Wl(k.setHue(e))},N=function(e){return new Wl(k.setA(e/100))},E=r()("".concat(s,"-panel"),d,(0,f.A)({},"".concat(s,"-panel-disabled"),b)),O={prefixCls:s,disabled:b,color:k},L=e.createElement(e.Fragment,null,e.createElement(Jl,(0,h.A)({onChange:I},O,{onChangeComplete:c})),e.createElement("div",{className:"".concat(s,"-slider-container")},e.createElement("div",{className:r()("".concat(s,"-slider-group"),(0,f.A)({},"".concat(s,"-slider-group-disabled-alpha"),y))},e.createElement(S,(0,h.A)({},O,{type:"hue",colors:nc,min:0,max:359,value:k.getHue(),onChange:function(e){I(D(e),{type:"hue",value:e})},onChangeComplete:function(e){c&&c(D(e))}})),!y&&e.createElement(S,(0,h.A)({},O,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:C}],min:0,max:100,value:100*k.a,onChange:function(e){I(N(e),{type:"alpha",value:e})},onChangeComplete:function(e){c&&c(N(e))}}))),e.createElement(Yl,{color:k.toRgbString(),prefixCls:s})));return e.createElement("div",{className:E,style:u,ref:i},"function"===typeof p?p(L):L)})),ac=(e,t)=>(null===e||void 0===e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"";let rc=function(){return(0,ti.A)((function e(t){var i;if((0,ei.A)(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(i=t.colors)||void 0===i?void 0:i.map((t=>({color:new e(t.color),percent:t.percent}))),void(this.cleared=t.cleared);const n=Array.isArray(t);n&&t.length?(this.colors=t.map((t=>{let{color:i,percent:n}=t;return{color:new e(i),percent:n}})),this.metaColor=new Wl(this.colors[0].color.metaColor)):this.metaColor=new Wl(n?"":t),(!t||n&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}),[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?ac(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;if(e){return`linear-gradient(90deg, ${e.map((e=>`${e.color.toRgbString()} ${e.percent}%`)).join(", ")})`}return this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every(((t,i)=>{const n=e.colors[i];return t.percent===n.percent&&t.color.equals(n.color)})):this.toHexString()===e.toHexString())}}])}();var sc=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.forceRender,a=t.className,s=t.style,l=t.children,c=t.isActive,d=t.role,u=t.classNames,h=t.styles,p=e.useState(c||o),m=(0,g.A)(p,2),y=m[0],v=m[1];return e.useEffect((function(){(o||c)&&v(!0)}),[o,c]),y?e.createElement("div",{ref:i,className:r()("".concat(n,"-content"),(0,f.A)((0,f.A)({},"".concat(n,"-content-active"),c),"".concat(n,"-content-inactive"),!c),a),style:s,role:d},e.createElement("div",{className:r()("".concat(n,"-content-box"),null===u||void 0===u?void 0:u.body),style:null===h||void 0===h?void 0:h.body},l)):null}));sc.displayName="PanelContent";const lc=sc;var cc=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"];const dc=e.forwardRef((function(t,i){var n=t.showArrow,o=void 0===n||n,a=t.headerClass,s=t.isActive,l=t.onItemClick,c=t.forceRender,d=t.className,u=t.classNames,p=void 0===u?{}:u,g=t.styles,m=void 0===g?{}:g,v=t.prefixCls,b=t.collapsible,S=t.accordion,M=t.panelKey,A=t.extra,k=t.header,w=t.expandIcon,C=t.openMotion,I=t.destroyInactivePanel,D=t.children,N=y(t,cc),E="disabled"===b,O=null!==A&&void 0!==A&&"boolean"!==typeof A,L=(0,f.A)((0,f.A)((0,f.A)({onClick:function(){null===l||void 0===l||l(M)},onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==so.ENTER&&e.which!==so.ENTER||null===l||void 0===l||l(M)},role:S?"tab":"button"},"aria-expanded",s),"aria-disabled",E),"tabIndex",E?-1:0),T="function"===typeof w?w(t):e.createElement("i",{className:"arrow"}),R=T&&e.createElement("div",(0,h.A)({className:"".concat(v,"-expand-icon")},["header","icon"].includes(b)?L:{}),T),P=r()("".concat(v,"-item"),(0,f.A)((0,f.A)({},"".concat(v,"-item-active"),s),"".concat(v,"-item-disabled"),E),d),z=r()(a,"".concat(v,"-header"),(0,f.A)({},"".concat(v,"-collapsible-").concat(b),!!b),p.header),j=(0,x.A)({className:z,style:m.header},["header","icon"].includes(b)?{}:L);return e.createElement("div",(0,h.A)({},N,{ref:i,className:P}),e.createElement("div",j,o&&R,e.createElement("span",(0,h.A)({className:"".concat(v,"-header-text")},"header"===b?L:{}),k),O&&e.createElement("div",{className:"".concat(v,"-extra")},A)),e.createElement(jn,(0,h.A)({visible:s,leavedClassName:"".concat(v,"-content-hidden")},C,{forceRender:c,removeOnLeave:I}),(function(t,i){var n=t.className,o=t.style;return e.createElement(lc,{ref:i,prefixCls:v,className:n,classNames:p,style:o,styles:m,isActive:s,forceRender:c,role:S?"tabpanel":void 0},D)})))}));var uc=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];const hc=function(t,i,n){return Array.isArray(t)?function(t,i){var n=i.prefixCls,o=i.accordion,a=i.collapsible,r=i.destroyInactivePanel,s=i.onItemClick,l=i.activeKey,c=i.openMotion,d=i.expandIcon;return t.map((function(t,i){var u=t.children,p=t.label,g=t.key,f=t.collapsible,m=t.onItemClick,v=t.destroyInactivePanel,b=y(t,uc),x=String(null!==g&&void 0!==g?g:i),S=null!==f&&void 0!==f?f:a,M=null!==v&&void 0!==v?v:r,A=!1;return A=o?l[0]===x:l.indexOf(x)>-1,e.createElement(dc,(0,h.A)({},b,{prefixCls:n,key:x,panelKey:x,isActive:A,accordion:o,openMotion:c,expandIcon:d,header:p,collapsible:S,onItemClick:function(e){"disabled"!==S&&(s(e),null===m||void 0===m||m(e))},destroyInactivePanel:M}),u)}))}(t,n):u(i).map((function(t,i){return function(t,i,n){if(!t)return null;var o=n.prefixCls,a=n.accordion,r=n.collapsible,s=n.destroyInactivePanel,l=n.onItemClick,c=n.activeKey,d=n.openMotion,u=n.expandIcon,h=t.key||String(i),p=t.props,g=p.header,f=p.headerClass,m=p.destroyInactivePanel,y=p.collapsible,v=p.onItemClick,b=!1;b=a?c[0]===h:c.indexOf(h)>-1;var x=null!==y&&void 0!==y?y:r,S={key:h,panelKey:h,header:g,headerClass:f,isActive:b,prefixCls:o,destroyInactivePanel:null!==m&&void 0!==m?m:s,openMotion:d,accordion:a,children:t.props.children,onItemClick:function(e){"disabled"!==x&&(l(e),null===v||void 0===v||v(e))},expandIcon:u,collapsible:x};return"string"===typeof t.type?t:(Object.keys(S).forEach((function(e){"undefined"===typeof S[e]&&delete S[e]})),e.cloneElement(t,S))}(t,i,n)}))};var pc="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function gc(e,t){return 0===e.indexOf(t)}function fc(e){var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===i?{aria:!0,data:!0,attr:!0}:!0===i?{aria:!0}:(0,x.A)({},i);var n={};return Object.keys(e).forEach((function(i){(t.aria&&("role"===i||gc(i,"aria-"))||t.data&&gc(i,"data-")||t.attr&&pc.includes(i))&&(n[i]=e[i])})),n}function mc(e){var t=e;if(!Array.isArray(t)){var i=(0,S.A)(t);t="number"===i||"string"===i?[t]:[]}return t.map((function(e){return String(e)}))}var yc=e.forwardRef((function(t,i){var n=t.prefixCls,a=void 0===n?"rc-collapse":n,s=t.destroyInactivePanel,l=void 0!==s&&s,c=t.style,d=t.accordion,u=t.className,p=t.children,f=t.collapsible,m=t.openMotion,y=t.expandIcon,v=t.activeKey,b=t.defaultActiveKey,x=t.onChange,S=t.items,M=r()(a,u),A=(0,xt.A)([],{value:v,onChange:function(e){return null===x||void 0===x?void 0:x(e)},defaultValue:b,postState:mc}),k=(0,g.A)(A,2),C=k[0],I=k[1];(0,w.Ay)(!p,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var D=hc(S,p,{prefixCls:a,accordion:d,openMotion:m,expandIcon:y,collapsible:f,destroyInactivePanel:l,onItemClick:function(e){return I((function(){return d?C[0]===e?[]:[e]:C.indexOf(e)>-1?C.filter((function(t){return t!==e})):[].concat((0,o.A)(C),[e])}))},activeKey:C});return e.createElement("div",(0,h.A)({ref:i,className:M,style:c,role:d?"tablist":void 0},fc(t,{aria:!0,data:!0})),D)}));const vc=Object.assign(yc,{Panel:dc}),bc=vc;vc.Panel;const xc=e.forwardRef(((t,i)=>{const{getPrefixCls:n}=e.useContext(l.QO),{prefixCls:o,className:a,showArrow:s=!0}=t,c=n("collapse",o),d=r()({[`${c}-no-arrow`]:!s},a);return e.createElement(bc.Panel,Object.assign({ref:i},t,{prefixCls:c,className:d}))})),Sc=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),Mc=e=>{const{componentCls:t,contentBg:i,padding:n,headerBg:o,headerPadding:a,collapseHeaderPaddingSM:r,collapseHeaderPaddingLG:s,collapsePanelBorderRadius:l,lineWidth:c,lineType:d,colorBorder:u,colorText:h,colorTextHeading:p,colorTextDisabled:g,fontSizeLG:f,lineHeight:m,lineHeightLG:y,marginSM:v,paddingSM:b,paddingLG:x,paddingXS:S,motionDurationSlow:M,fontSizeIcon:A,contentPadding:k,fontHeight:w,fontHeightLG:C}=e,I=`${(0,Y.zA)(c)} ${d} ${u}`;return{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{backgroundColor:o,border:I,borderRadius:l,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:I,"&:last-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`0 0 ${(0,Y.zA)(l)} ${(0,Y.zA)(l)}`}},[`> ${t}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:a,color:p,lineHeight:m,cursor:"pointer",transition:`all ${M}, visibility 0s`,[`> ${t}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${t}-expand-icon`]:{height:w,display:"flex",alignItems:"center",paddingInlineEnd:v},[`${t}-arrow`]:Object.assign(Object.assign({},(0,Or.Nk)()),{fontSize:A,transition:`transform ${M}`,svg:{transition:`transform ${M}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}},[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:h,backgroundColor:i,borderTop:I,[`& > ${t}-content-box`]:{padding:k},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:r,paddingInlineStart:S,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(b).sub(S).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:b}}},"&-large":{[`> ${t}-item`]:{fontSize:f,lineHeight:y,[`> ${t}-header`]:{padding:s,paddingInlineStart:n,[`> ${t}-expand-icon`]:{height:C,marginInlineStart:e.calc(x).sub(n).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${(0,Y.zA)(l)} ${(0,Y.zA)(l)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:g,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:v}}}}})}},Ac=e=>{const{componentCls:t}=e,i=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[i]:{transform:"rotate(180deg)"}}}},kc=e=>{const{componentCls:t,headerBg:i,paddingXXS:n,colorBorder:o}=e;return{[`${t}-borderless`]:{backgroundColor:i,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${o}`},[`\n        > ${t}-item:last-child,\n        > ${t}-item:last-child ${t}-header\n      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:n}}}},wc=e=>{const{componentCls:t,paddingSM:i}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:i}}}}}},Cc=(0,X.OF)("Collapse",(e=>{const t=(0,Fe.oX)(e,{collapseHeaderPaddingSM:`${(0,Y.zA)(e.paddingXS)} ${(0,Y.zA)(e.paddingSM)}`,collapseHeaderPaddingLG:`${(0,Y.zA)(e.padding)} ${(0,Y.zA)(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[Mc(t),kc(t),wc(t),Ac(t),Sc(t)]}),(e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer}))),Ic=e.forwardRef(((t,i)=>{const{getPrefixCls:n,direction:o,collapse:a}=e.useContext(l.QO),{prefixCls:c,className:d,rootClassName:h,style:p,bordered:g=!0,ghost:f,size:m,expandIconPosition:y="start",children:v,expandIcon:b}=t,x=Be((e=>{var t;return null!==(t=null!==m&&void 0!==m?m:e)&&void 0!==t?t:"middle"})),S=n("collapse",c),M=n(),[A,k,w]=Cc(S);const C=e.useMemo((()=>"left"===y?"start":"right"===y?"end":y),[y]),I=null!==b&&void 0!==b?b:null===a||void 0===a?void 0:a.expandIcon,D=e.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i="function"===typeof I?I(t):e.createElement(U,{rotate:t.isActive?90:void 0,"aria-label":t.isActive?"expanded":"collapsed"});return Bs(i,(()=>{var e;return{className:r()(null===(e=null===i||void 0===i?void 0:i.props)||void 0===e?void 0:e.className,`${S}-arrow`)}}))}),[I,S]),N=r()(`${S}-icon-position-${C}`,{[`${S}-borderless`]:!g,[`${S}-rtl`]:"rtl"===o,[`${S}-ghost`]:!!f,[`${S}-${x}`]:"middle"!==x},null===a||void 0===a?void 0:a.className,d,h,k,w),E=Object.assign(Object.assign({},Dr(M)),{motionAppear:!1,leavedClassName:`${S}-content-hidden`}),O=e.useMemo((()=>v?u(v).map(((e,t)=>{var i,n;if(null===(i=e.props)||void 0===i?void 0:i.disabled){const i=null!==(n=e.key)&&void 0!==n?n:String(t),{disabled:o,collapsible:a}=e.props;return Bs(e,Object.assign(Object.assign({},(0,s.A)(e.props,["disabled"])),{key:i,collapsible:null!==a&&void 0!==a?a:o?"disabled":void 0}))}return e})):null),[v]);return A(e.createElement(bc,Object.assign({ref:i,openMotion:E},(0,s.A)(t,["rootClassName"]),{expandIcon:D,prefixCls:S,className:N,style:Object.assign(Object.assign({},null===a||void 0===a?void 0:a.style),p)}),O))}));const Dc=Object.assign(Ic,{Panel:xc}),Nc=e=>e instanceof rc?e:new rc(e),Ec=e=>Math.round(Number(e||0)),Oc=e=>Ec(100*e.toHsb().a),Lc=(e,t)=>{const i=e.toRgb();if(!i.r&&!i.g&&!i.b){const i=e.toHsb();return i.a=t||1,Nc(i)}return i.a=t||1,Nc(i)},Tc=(e,t)=>{const i=[{percent:0,color:e[0].color}].concat((0,o.A)(e),[{percent:100,color:e[e.length-1].color}]);for(let n=0;n<i.length-1;n+=1){const e=i[n].percent,o=i[n+1].percent,a=i[n].color,r=i[n+1].color;if(e<=t&&t<=o){const i=o-e;if(0===i)return a;const n=(t-e)/i*100,s=new Wl(a),l=new Wl(r);return s.mix(l,n).toRgbString()}}return""},Rc=e=>e.map((e=>(e.colors=e.colors.map(Nc),e))),Pc=(e,t)=>{const{r:i,g:n,b:o,a:a}=e.toRgb(),r=new Wl(e.toRgbString()).onBackground(t).toHsv();return a<=.5?r.v>.5:.299*i+.587*n+.114*o>192},zc=e=>{let{label:t}=e;return`panel-${t}`},jc=t=>{let{prefixCls:i,presets:n,value:o,onChange:a}=t;const[s]=Is("ColorPicker"),[,l]=(0,Se.Ay)(),[c]=(0,xt.A)(Rc(n),{value:Rc(n),postState:Rc}),d=`${i}-presets`,u=(0,e.useMemo)((()=>c.reduce(((e,t)=>{const{defaultOpen:i=!0}=t;return i&&e.push(zc(t)),e}),[])),[c]),h=c.map((t=>{var n;return{key:zc(t),label:e.createElement("div",{className:`${d}-label`},null===t||void 0===t?void 0:t.label),children:e.createElement("div",{className:`${d}-items`},Array.isArray(null===t||void 0===t?void 0:t.colors)&&(null===(n=t.colors)||void 0===n?void 0:n.length)>0?t.colors.map(((t,n)=>e.createElement(Yl,{key:`preset-${n}-${t.toHexString()}`,color:Nc(t).toRgbString(),prefixCls:i,className:r()(`${d}-color`,{[`${d}-color-checked`]:t.toHexString()===(null===o||void 0===o?void 0:o.toHexString()),[`${d}-color-bright`]:Pc(t,l.colorBgElevated)}),onClick:()=>{return e=t,void(null===a||void 0===a||a(e));var e}}))):e.createElement("span",{className:`${d}-empty`},s.presetEmpty))}}));return e.createElement("div",{className:d},e.createElement(Dc,{defaultActiveKey:u,ghost:!0,items:h}))};var Bc=i(1140);const $c=e=>{const{paddingInline:t,onlyIconSize:i,paddingBlock:n}=e;return(0,Fe.oX)(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:n,buttonIconOnlyFontSize:i})},Fc=e=>{var t,i,n,o,a,r;const s=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(i=e.contentFontSizeSM)&&void 0!==i?i:e.fontSize,c=null!==(n=e.contentFontSizeLG)&&void 0!==n?n:e.fontSizeLG,d=null!==(o=e.contentLineHeight)&&void 0!==o?o:(0,Bc.k)(s),u=null!==(a=e.contentLineHeightSM)&&void 0!==a?a:(0,Bc.k)(l),h=null!==(r=e.contentLineHeightLG)&&void 0!==r?r:(0,Bc.k)(c),p=Pc(new rc(e.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:p,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:d,contentLineHeightSM:u,contentLineHeightLG:h,paddingBlock:Math.max((e.controlHeight-s*d)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*u)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*h)/2-e.lineWidth,0)}},_c=e=>{const{componentCls:t,iconCls:i,fontWeight:n}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:n,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`> span, ${t}-icon`]:{display:"inline-flex"},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},(0,Or.K8)(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${i})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Hc=(e,t,i)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":i}}),Wc=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Gc=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),Vc=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Uc=(e,t,i,n,o,a,r,s)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:i||void 0,background:t,borderColor:n||void 0,boxShadow:"none"},Hc(e,Object.assign({background:t},r),Object.assign({background:t},s))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:a||void 0}})}),Kc=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},Vc(e))}),Yc=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Xc=(e,t,i,n)=>{const o=n&&["link","text"].includes(n)?Yc:Kc;return Object.assign(Object.assign({},o(e)),Hc(e.componentCls,t,i))},Zc=(e,t,i,n,o)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:i},Xc(e,n,o))}),qc=(e,t,i,n,o)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:i},Xc(e,n,o))}),Qc=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Jc=(e,t,i,n)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Xc(e,i,n))}),ed=(e,t,i,n,o)=>({[`&${e.componentCls}-variant-${i}`]:Object.assign({color:t,boxShadow:"none"},Xc(e,n,o,i))}),td=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},Zc(e,e.solidTextColor,e.colorBgSolid,{background:e.colorBgSolidHover},{background:e.colorBgSolidActive})),Qc(e)),Jc(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),ed(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Uc(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),id=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},qc(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Qc(e)),Jc(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),ed(e,e.colorLink,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Uc(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),nd=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},Zc(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),qc(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Qc(e)),Jc(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),ed(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),ed(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Uc(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),od=e=>{const{componentCls:t}=e;return{[`${t}-color-default`]:td(e),[`${t}-color-primary`]:id(e),[`${t}-color-dangerous`]:nd(e)}},ad=e=>Object.assign(Object.assign(Object.assign(Object.assign({},qc(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),ed(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),Zc(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),ed(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),rd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:i,controlHeight:n,fontSize:o,lineHeight:a,borderRadius:r,buttonPaddingHorizontal:s,iconCls:l,buttonPaddingVertical:c,motionDurationSlow:d,motionEaseInOut:u,buttonIconOnlyFontSize:h,opacityLoading:p}=e;return[{[t]:{fontSize:o,lineHeight:a,height:n,padding:`${(0,Y.zA)(c)} ${(0,Y.zA)(s)}`,borderRadius:r,[`&${i}-icon-only`]:{width:n,paddingInline:0,[`&${i}-compact-item`]:{flex:"none"},[`&${i}-round`]:{width:"auto"},[l]:{fontSize:h}},[`&${i}-loading`]:{opacity:p,cursor:"default"},[`${i}-loading-icon`]:{transition:`width ${d} ${u}, opacity ${d} ${u}`}}},{[`${i}${i}-circle${t}`]:Wc(e)},{[`${i}${i}-round${t}`]:Gc(e)}]},sd=e=>{const t=(0,Fe.oX)(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return rd(t,e.componentCls)},ld=e=>{const t=(0,Fe.oX)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return rd(t,`${e.componentCls}-sm`)},cd=e=>{const t=(0,Fe.oX)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return rd(t,`${e.componentCls}-lg`)},dd=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},ud=(0,X.OF)("Button",(e=>{const t=$c(e);return[_c(t),sd(t),ld(t),cd(t),dd(t),od(t),ad(t),Rl(t)]}),Fc,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function hd(e,t,i){const{focusElCls:n,focus:o,borderElCls:a}=i,r=a?"> *":"",s=["hover",o?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${r}`)).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${r}`]:{zIndex:0}})}}function pd(e,t,i){const{borderElCls:n}=i,o=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function gd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:i}=e,n=`${i}-compact`;return{[n]:Object.assign(Object.assign({},hd(e,n,t)),pd(i,n,t))}}function fd(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function md(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},fd(e,t)),(i=e.componentCls,n=t,{[`&-item:not(${n}-first-item):not(${n}-last-item)`]:{borderRadius:0},[`&-item${n}-first-item:not(${n}-last-item)`]:{[`&, &${i}-sm, &${i}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${n}-last-item:not(${n}-first-item)`]:{[`&, &${i}-sm, &${i}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var i,n}const yd=e=>{const{componentCls:t,colorPrimaryHover:i,lineWidth:n,calc:o}=e,a=o(n).mul(-1).equal(),r=e=>({[`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`]:{"& + &::before":{position:"absolute",top:e?a:0,insetInlineStart:e?0:a,backgroundColor:i,content:'""',width:e?"100%":n,height:e?n:"100%"}}});return Object.assign(Object.assign({},r()),r(!0))},vd=(0,X.bf)(["Button","compact"],(e=>{const t=$c(e);return[gd(t),md(t),yd(t)]}),Fc);var bd=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const xd={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},Sd=e.forwardRef(((t,i)=>{var n,o,a,c;const{loading:d=!1,prefixCls:u,color:h,variant:p,type:g,danger:f=!1,shape:m="default",size:y,styles:v,disabled:b,className:x,rootClassName:S,children:M,icon:A,iconPosition:k="start",ghost:w=!1,block:C=!1,htmlType:I="button",classNames:D,style:N={},autoInsertSpace:E,autoFocus:O}=t,L=bd(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),T=g||"default",[R,P]=(0,e.useMemo)((()=>{if(h&&p)return[h,p];const e=xd[T]||[];return f?["danger",e[1]]:e}),[g,h,p,f]),z="danger"===R?"dangerous":R,{getPrefixCls:j,direction:B,button:$}=(0,e.useContext)(l.QO),F=null===(n=null!==E&&void 0!==E?E:null===$||void 0===$?void 0:$.autoInsertSpace)||void 0===n||n,_=j("btn",u),[H,W,G]=ud(_),V=(0,e.useContext)(hl),U=null!==b&&void 0!==b?b:V,K=(0,e.useContext)(yl),Y=(0,e.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(d)),[d]),[X,Z]=(0,e.useState)(Y.loading),[q,Q]=(0,e.useState)(!1),J=(0,e.useRef)(),ee=(0,Dt.xK)(i,J),te=1===e.Children.count(M)&&!A&&!Al(P);(0,e.useEffect)((()=>{let e=null;return Y.delay>0?e=setTimeout((()=>{e=null,Z(!0)}),Y.delay):Z(Y.loading),function(){e&&(clearTimeout(e),e=null)}}),[Y]),(0,e.useEffect)((()=>{if(!J.current||!F)return;const e=J.current.textContent||"";te&&xl(e)?q||Q(!0):q&&Q(!1)})),(0,e.useEffect)((()=>{O&&J.current&&J.current.focus()}),[]);const ie=e.useCallback((e=>{var i;X||U?e.preventDefault():null===(i=t.onClick)||void 0===i||i.call(t,e)}),[t.onClick,X,U]);const{compactSize:ne,compactItemClassnames:oe}=gl(_,B),ae={large:"lg",small:"sm",middle:void 0},re=Be((e=>{var t,i;return null!==(i=null!==(t=null!==y&&void 0!==y?y:ne)&&void 0!==t?t:K)&&void 0!==i?i:e})),se=re&&null!==(o=ae[re])&&void 0!==o?o:"",le=X?"loading":A,ce=(0,s.A)(L,["navigate"]),de=r()(_,W,G,{[`${_}-${m}`]:"default"!==m&&m,[`${_}-${T}`]:T,[`${_}-dangerous`]:f,[`${_}-color-${z}`]:z,[`${_}-variant-${P}`]:P,[`${_}-${se}`]:se,[`${_}-icon-only`]:!M&&0!==M&&!!le,[`${_}-background-ghost`]:w&&!Al(P),[`${_}-loading`]:X,[`${_}-two-chinese-chars`]:q&&F&&!X,[`${_}-block`]:C,[`${_}-rtl`]:"rtl"===B,[`${_}-icon-end`]:"end"===k},oe,x,S,null===$||void 0===$?void 0:$.className),ue=Object.assign(Object.assign({},null===$||void 0===$?void 0:$.style),N),he=r()(null===D||void 0===D?void 0:D.icon,null===(a=null===$||void 0===$?void 0:$.classNames)||void 0===a?void 0:a.icon),pe=Object.assign(Object.assign({},(null===v||void 0===v?void 0:v.icon)||{}),(null===(c=null===$||void 0===$?void 0:$.styles)||void 0===c?void 0:c.icon)||{}),ge=A&&!X?e.createElement(wl,{prefixCls:_,className:he,style:pe},A):e.createElement(Ll,{existIcon:!!A,prefixCls:_,loading:X}),fe=M||0===M?kl(M,te&&F):null;if(void 0!==ce.href)return H(e.createElement("a",Object.assign({},ce,{className:r()(de,{[`${_}-disabled`]:U}),href:U?void 0:ce.href,style:ue,onClick:ie,ref:ee,tabIndex:U?-1:0}),ge,fe));let me=e.createElement("button",Object.assign({},L,{type:I,className:de,style:ue,onClick:ie,disabled:U,ref:ee}),ge,fe,oe&&e.createElement(vd,{prefixCls:_}));return Al(P)||(me=e.createElement(cl,{component:"Button",disabled:X},me)),H(me)}));Sd.Group=vl,Sd.__ANT_BUTTON=!0;const Md=Sd;var Ad=i(579);const kd=e.lazy((()=>Promise.all([i.e(23),i.e(237)]).then(i.bind(i,5237)))),wd=e.lazy((()=>i.e(526).then(i.bind(i,8526)))),Cd=e=>{let{open:t,setOpen:i,setState:n,state:o,openAddWidget:a}=e;const r=(e,t)=>e.reduce(((e,i)=>{if(i.id!==t){const n={...i};Array.isArray(n.children)&&(n.children=r(n.children,t)),e.push(n)}return e}),[]),s=e=>{n((t=>r(t,e))),i(!1)};return(0,Ad.jsx)(Ad.Fragment,{children:o.map((e=>(0,Ad.jsxs)(Ad.Fragment,{children:[(0,Ad.jsx)("h2",{style:{fontWeight:800,fontSize:16},children:e.category}),(0,Ad.jsxs)("div",{style:{display:"flex",margin:"-20px",padding:"20px"},children:[(0,Ad.jsx)(Ad.Fragment,{children:"CSPM Executive Dashboard"===e.category&&(0,Ad.jsx)(Ad.Fragment,{children:e.children.map((e=>(0,Ad.jsx)("div",{children:(0,Ad.jsxs)(bs,{hoverable:!0,style:{display:"flex",width:400,height:200,border:"15px solid #DEDEDE"},children:[(0,Ad.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",width:"70%",margin:"-18px",fontSize:"12px"},children:[(0,Ad.jsx)("h3",{style:{margin:"-4px",fontSize:"12px"},children:e.widget_name}),(0,Ad.jsx)("span",{onClick:()=>s(e.id),children:(0,Ad.jsx)(pt,{})})]}),e.children.length>0?(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)("div",{style:{margin:"26px 0px 0px -16px"},children:(0,Ad.jsx)(kd,{data:e})})}):(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)("div",{style:{margin:"18px 92px"},children:(0,Ad.jsx)(zs,{image:"https://tse2.mm.bing.net/th?id=OIP.-KmpxNMaRHNOY5KNBw8YkAHaHa&pid=Api&P=0&h=180"})})})]})},e.id)))})}),(0,Ad.jsx)(Ad.Fragment,{children:"CWPP Dashboard:"===e.category&&(0,Ad.jsx)(Ad.Fragment,{children:e.children.map((e=>(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)("div",{children:(0,Ad.jsxs)(bs,{hoverable:!0,style:{display:"flex",width:400,height:200,border:"15px solid #DEDEDE"},children:[(0,Ad.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",margin:"-18px",fontSize:"12px"},children:[(0,Ad.jsx)("h3",{style:{margin:"-4px",fontSize:"12px"},children:e.widget_name}),(0,Ad.jsx)("span",{onClick:()=>s(e.id),children:(0,Ad.jsx)(pt,{})})]}),e.children.length>0?(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)("div",{style:{margin:"-26px",marginTop:"20px"},children:(0,Ad.jsx)(wd,{data:e})})}):(0,Ad.jsx)("div",{style:{margin:"18px 92px"},children:(0,Ad.jsx)(zs,{image:"https://tse2.mm.bing.net/th?id=OIP.-KmpxNMaRHNOY5KNBw8YkAHaHa&pid=Api&P=0&h=180"})})]})},e.id)})))})}),(0,Ad.jsx)(Ad.Fragment,{children:"Registry Scan"===e.category&&(0,Ad.jsx)(Ad.Fragment,{children:e.children.map((e=>(0,Ad.jsx)("div",{children:(0,Ad.jsxs)(bs,{hoverable:!0,style:{display:"flex",width:400,height:200,border:"15px solid #DEDEDE"},children:[(0,Ad.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",margin:"-18px",fontSize:"12px"},children:[(0,Ad.jsx)("h3",{style:{margin:"-10px",fontSize:"12px"},children:e.widget_name}),(0,Ad.jsx)("span",{onClick:()=>s(e.id),children:(0,Ad.jsx)(pt,{})})]}),e.children.length>0?(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)("div",{style:{margin:"-26px",marginTop:"20px"},children:(0,Ad.jsx)(wd,{data:e})})}):(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)("div",{style:{margin:"18px 92px"},children:(0,Ad.jsx)(zs,{image:"https://tse2.mm.bing.net/th?id=OIP.-KmpxNMaRHNOY5KNBw8YkAHaHa&pid=Api&P=0&h=180"})})})]})},e.id)))})}),(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsx)(bs,{hoverable:!0,style:{display:"flex",width:400,height:200,border:"15px solid #DEDEDE"},children:(0,Ad.jsx)(Md,{onClick:()=>a(e.id),style:{margin:"48px 92px"},icon:(0,Ad.jsx)(bt,{}),iconPosition:"start",children:"AddWidget"})})})]},e.id)]})))})};const Id={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var Dd=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:Id}))};const Nd=e.forwardRef(Dd);const Ed=e.createContext(void 0),Od=100,Ld={Modal:Od,Drawer:Od,Popover:Od,Popconfirm:Od,Tooltip:Od,Tour:Od,FloatButton:Od},Td={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const Rd=(t,i)=>{const[,n]=(0,Se.Ay)(),o=e.useContext(Ed),a=t in Ld;let r;if(void 0!==i)r=[i,i];else{let e=null!==o&&void 0!==o?o:0;e+=a?(o?0:n.zIndexPopupBase)+Ld[t]:Td[t],r=[void 0===o?i:e,e]}return r};function Pd(e){const{sizePopupArrow:t,borderRadiusXS:i,borderRadiusOuter:n}=e,o=t/2,a=o,r=1*n/Math.sqrt(2),s=o-n*(1-1/Math.sqrt(2)),l=o-i*(1/Math.sqrt(2)),c=n*(Math.sqrt(2)-1)+i*(1/Math.sqrt(2)),d=2*o-l,u=c,h=2*o-r,p=s,g=2*o-0,f=a,m=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),y=n*(Math.sqrt(2)-1);return{arrowShadowWidth:m,arrowPath:`path('M 0 ${a} A ${n} ${n} 0 0 0 ${r} ${s} L ${l} ${c} A ${i} ${i} 0 0 1 ${d} ${u} L ${h} ${p} A ${n} ${n} 0 0 0 ${g} ${f} Z')`,arrowPolygon:`polygon(${y}px 100%, 50% ${y}px, ${2*o-y}px 100%, ${y}px 100%)`}}const zd=(e,t,i)=>{const{sizePopupArrow:n,arrowPolygon:o,arrowPath:a,arrowShadowWidth:r,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:l(n).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[o,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:r,height:r,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,Y.zA)(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"}}};function jd(e){const{contentRadius:t,limitVerticalRadius:i}=e,n=t>12?t+2:12;return{arrowOffsetHorizontal:n,arrowOffsetVertical:i?8:n}}function Bd(e,t){return e?t:{}}function $d(e,t,i){const{componentCls:n,boxShadowPopoverArrow:o,arrowOffsetVertical:a,arrowOffsetHorizontal:r}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=i||{};return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},zd(e,t,o)),{"&:before":{background:t}})]},Bd(!!l.top,{[[`&-placement-top > ${n}-arrow`,`&-placement-topLeft > ${n}-arrow`,`&-placement-topRight > ${n}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":r,[`> ${n}-arrow`]:{left:{_skip_check_:!0,value:r}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,Y.zA)(r)})`,[`> ${n}-arrow`]:{right:{_skip_check_:!0,value:r}}}})),Bd(!!l.bottom,{[[`&-placement-bottom > ${n}-arrow`,`&-placement-bottomLeft > ${n}-arrow`,`&-placement-bottomRight > ${n}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":r,[`> ${n}-arrow`]:{left:{_skip_check_:!0,value:r}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,Y.zA)(r)})`,[`> ${n}-arrow`]:{right:{_skip_check_:!0,value:r}}}})),Bd(!!l.left,{[[`&-placement-left > ${n}-arrow`,`&-placement-leftTop > ${n}-arrow`,`&-placement-leftBottom > ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${n}-arrow`]:{top:a},[`&-placement-leftBottom > ${n}-arrow`]:{bottom:a}})),Bd(!!l.right,{[[`&-placement-right > ${n}-arrow`,`&-placement-rightTop > ${n}-arrow`,`&-placement-rightBottom > ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${n}-arrow`]:{top:a},[`&-placement-rightBottom > ${n}-arrow`]:{bottom:a}}))}}const Fd={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},_d={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Hd=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Wd(e){const{arrowWidth:t,autoAdjustOverflow:i,arrowPointAtCenter:n,offset:o,borderRadius:a,visibleFirst:r}=e,s=t/2,l={};return Object.keys(Fd).forEach((e=>{const c=n&&_d[e]||Fd[e],d=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=d,Hd.has(e)&&(d.autoArrow=!1),e){case"top":case"topLeft":case"topRight":d.offset[1]=-s-o;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=s+o;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-s-o;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=s+o}const u=jd({contentRadius:a,limitVerticalRadius:!0});if(n)switch(e){case"topLeft":case"bottomLeft":d.offset[0]=-u.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":d.offset[0]=u.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":d.offset[1]=2*-u.arrowOffsetHorizontal+s;break;case"leftBottom":case"rightBottom":d.offset[1]=2*u.arrowOffsetHorizontal-s}d.overflow=function(e,t,i,n){if(!1===n)return{adjustX:!1,adjustY:!1};const o=n&&"object"===typeof n?n:{},a={};switch(e){case"top":case"bottom":a.shiftX=2*t.arrowOffsetHorizontal+i,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=2*t.arrowOffsetVertical+i,a.shiftX=!0,a.adjustX=!0}const r=Object.assign(Object.assign({},a),o);return r.shiftX||(r.adjustX=!0),r.shiftY||(r.adjustY=!0),r}(e,u,t,i),r&&(d.htmlRegion="visibleFirst")})),l}var Gd=i(6793);function Vd(){}const Ud=e.createContext({}),Kd=()=>{const e=()=>{};return e.deprecated=Vd,e},Yd=(0,e.createContext)(void 0);let Xd=Object.assign({},Cs.Modal),Zd=[];const qd=()=>Zd.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),Cs.Modal);function Qd(){return Xd}const Jd=t=>{const{locale:i={},children:n,_ANT_MARK__:o}=t;e.useEffect((()=>{const e=function(e){if(e){const t=Object.assign({},e);return Zd.push(t),Xd=qd(),()=>{Zd=Zd.filter((e=>e!==t)),Xd=qd()}}Xd=Object.assign({},Cs.Modal)}(null===i||void 0===i?void 0:i.Modal);return e}),[i]);const a=e.useMemo((()=>Object.assign(Object.assign({},i),{exist:!0})),[i]);return e.createElement(xs.Provider,{value:a},n)},eu=`-ant-${Date.now()}-${Math.random()}`;function tu(e,t){const i=function(e,t){const i={},n=(e,t)=>{let i=e.clone();return i=(null===t||void 0===t?void 0:t(i))||i,i.toRgbString()},o=(e,t)=>{const o=new Ie.q(e),a=(0,v.cM)(o.toRgbString());i[`${t}-color`]=n(o),i[`${t}-color-disabled`]=a[1],i[`${t}-color-hover`]=a[4],i[`${t}-color-active`]=a[6],i[`${t}-color-outline`]=o.clone().setAlpha(.2).toRgbString(),i[`${t}-color-deprecated-bg`]=a[0],i[`${t}-color-deprecated-border`]=a[2]};if(t.primaryColor){o(t.primaryColor,"primary");const e=new Ie.q(t.primaryColor),a=(0,v.cM)(e.toRgbString());a.forEach(((e,t)=>{i[`primary-${t+1}`]=e})),i["primary-color-deprecated-l-35"]=n(e,(e=>e.lighten(35))),i["primary-color-deprecated-l-20"]=n(e,(e=>e.lighten(20))),i["primary-color-deprecated-t-20"]=n(e,(e=>e.tint(20))),i["primary-color-deprecated-t-50"]=n(e,(e=>e.tint(50))),i["primary-color-deprecated-f-12"]=n(e,(e=>e.setAlpha(.12*e.getAlpha())));const r=new Ie.q(a[0]);i["primary-color-active-deprecated-f-30"]=n(r,(e=>e.setAlpha(.3*e.getAlpha()))),i["primary-color-active-deprecated-d-02"]=n(r,(e=>e.darken(2)))}return t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(i).map((t=>`--${e}-${t}: ${i[t]};`)).join("\n")}\n  }\n  `.trim()}(e,t);(0,Ei.A)()&&(0,M.BD)(i,`${eu}-dynamic-theme`)}const iu=function(){return{componentDisabled:(0,e.useContext)(hl),componentSize:(0,e.useContext)(je)}},nu=Object.assign({},t),{useId:ou}=nu,au="undefined"===typeof ou?()=>"":ou;function ru(t){const{children:i}=t,[,n]=(0,Se.Ay)(),{motion:o}=n,a=e.useRef(!1);return a.current=a.current||!1===o,a.current?e.createElement(Vi,{motion:o},i):i}const su=()=>null;var lu=i(439),cu=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const du=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let uu,hu,pu,gu;function fu(){return uu||l.yH}function mu(){return hu||l.pM}const yu=t=>{const{children:i,csp:n,autoInsertSpaceInButton:o,alert:a,anchor:r,form:s,locale:c,componentSize:d,direction:u,space:h,splitter:p,virtual:g,dropdownMatchSelectWidth:f,popupMatchSelectWidth:m,popupOverflow:y,legacyLocale:v,parentContext:x,iconPrefixCls:S,theme:M,componentDisabled:A,segmented:k,statistic:w,spin:C,calendar:I,carousel:D,cascader:N,collapse:E,typography:O,checkbox:L,descriptions:T,divider:R,drawer:P,skeleton:z,steps:j,image:B,layout:$,list:F,mentions:_,modal:H,progress:W,result:G,slider:V,breadcrumb:U,menu:K,pagination:X,input:Z,textArea:q,empty:Q,badge:J,radio:ee,rate:te,switch:ie,transfer:ne,avatar:oe,message:ae,tag:re,table:se,card:le,tabs:ce,timeline:de,timePicker:ue,upload:he,notification:pe,tree:ge,colorPicker:fe,datePicker:me,rangePicker:ye,flex:be,wave:xe,dropdown:Se,warning:Ae,tour:ke,floatButtonGroup:we,variant:Ce,inputNumber:Ie,treeSelect:De}=t,Ne=e.useCallback(((e,i)=>{const{prefixCls:n}=t;if(i)return i;const o=n||x.getPrefixCls("");return e?`${o}-${e}`:o}),[x.getPrefixCls,t.prefixCls]),Ee=S||x.iconPrefixCls||l.pM,Oe=n||x.csp;(0,lu.A)(Ee,Oe);const Le=function(e,t,i){var n;Kd("ConfigProvider");const o=e||{},a=!1!==o.inherit&&t?t:Object.assign(Object.assign({},Me.sb),{hashed:null!==(n=null===t||void 0===t?void 0:t.hashed)&&void 0!==n?n:Me.sb.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),r=au();return(0,Wo.A)((()=>{var n,s;if(!e)return t;const l=Object.assign({},a.components);Object.keys(e.components||{}).forEach((t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])}));const c=`css-var-${r.replace(/:/g,"")}`,d=(null!==(n=o.cssVar)&&void 0!==n?n:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===i||void 0===i?void 0:i.prefixCls},"object"===typeof a.cssVar?a.cssVar:{}),"object"===typeof o.cssVar?o.cssVar:{}),{key:"object"===typeof o.cssVar&&(null===(s=o.cssVar)||void 0===s?void 0:s.key)||c});return Object.assign(Object.assign(Object.assign({},a),o),{token:Object.assign(Object.assign({},a.token),o.token),components:l,cssVar:d})}),[o,a],((e,t)=>e.some(((e,i)=>{const n=t[i];return!(0,$o.A)(e,n,!0)}))))}(M,x.theme,{prefixCls:Ne("")});const Te={csp:Oe,autoInsertSpaceInButton:o,alert:a,anchor:r,locale:c||v,direction:u,space:h,splitter:p,virtual:g,popupMatchSelectWidth:null!==m&&void 0!==m?m:f,popupOverflow:y,getPrefixCls:Ne,iconPrefixCls:Ee,theme:Le,segmented:k,statistic:w,spin:C,calendar:I,carousel:D,cascader:N,collapse:E,typography:O,checkbox:L,descriptions:T,divider:R,drawer:P,skeleton:z,steps:j,image:B,input:Z,textArea:q,layout:$,list:F,mentions:_,modal:H,progress:W,result:G,slider:V,breadcrumb:U,menu:K,pagination:X,empty:Q,badge:J,radio:ee,rate:te,switch:ie,transfer:ne,avatar:oe,message:ae,tag:re,table:se,card:le,tabs:ce,timeline:de,timePicker:ue,upload:he,notification:pe,tree:ge,colorPicker:fe,datePicker:me,rangePicker:ye,flex:be,wave:xe,dropdown:Se,warning:Ae,tour:ke,floatButtonGroup:we,variant:Ce,inputNumber:Ie,treeSelect:De};const Re=Object.assign({},x);Object.keys(Te).forEach((e=>{void 0!==Te[e]&&(Re[e]=Te[e])})),du.forEach((e=>{const i=t[e];i&&(Re[e]=i)})),"undefined"!==typeof o&&(Re.button=Object.assign({autoInsertSpace:o},Re.button));const Pe=(0,Wo.A)((()=>Re),Re,((e,t)=>{const i=Object.keys(e),n=Object.keys(t);return i.length!==n.length||i.some((i=>e[i]!==t[i]))})),je=e.useMemo((()=>({prefixCls:Ee,csp:Oe})),[Ee,Oe]);let Be=e.createElement(e.Fragment,null,e.createElement(su,{dropdownMatchSelectWidth:f}),i);const $e=e.useMemo((()=>{var e,t,i,n;return(0,Gd.h)((null===(e=Cs.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(i=null===(t=Pe.locale)||void 0===t?void 0:t.Form)||void 0===i?void 0:i.defaultValidateMessages)||{},(null===(n=Pe.form)||void 0===n?void 0:n.validateMessages)||{},(null===s||void 0===s?void 0:s.validateMessages)||{})}),[Pe,null===s||void 0===s?void 0:s.validateMessages]);Object.keys($e).length>0&&(Be=e.createElement(Yd.Provider,{value:$e},Be)),c&&(Be=e.createElement(Jd,{locale:c,_ANT_MARK__:"internalMark"},Be)),(Ee||Oe)&&(Be=e.createElement(b.Provider,{value:je},Be)),d&&(Be=e.createElement(ze,{size:d},Be)),Be=e.createElement(ru,null,Be);const Fe=e.useMemo((()=>{const e=Le||{},{algorithm:t,token:i,components:n,cssVar:o}=e,a=cu(e,["algorithm","token","components","cssVar"]),r=t&&(!Array.isArray(t)||t.length>0)?(0,Y.an)(t):Me.zQ,s={};Object.entries(n||{}).forEach((e=>{let[t,i]=e;const n=Object.assign({},i);"algorithm"in n&&(!0===n.algorithm?n.theme=r:(Array.isArray(n.algorithm)||"function"===typeof n.algorithm)&&(n.theme=(0,Y.an)(n.algorithm)),delete n.algorithm),s[t]=n}));const l=Object.assign(Object.assign({},ve.A),i);return Object.assign(Object.assign({},a),{theme:r,token:l,components:s,override:Object.assign({override:l},s),cssVar:o})}),[Le]);return M&&(Be=e.createElement(Me.vG.Provider,{value:Fe},Be)),Pe.warning&&(Be=e.createElement(Ud.Provider,{value:Pe.warning},Be)),void 0!==A&&(Be=e.createElement(ul,{disabled:A},Be)),e.createElement(l.QO.Provider,{value:Pe},Be)},vu=t=>{const i=e.useContext(l.QO),n=e.useContext(xs);return e.createElement(yu,Object.assign({parentContext:i,legacyLocale:n},t))};vu.ConfigContext=l.QO,vu.SizeContext=je,vu.config=e=>{const{prefixCls:t,iconPrefixCls:i,theme:n,holderRender:o}=e;void 0!==t&&(uu=t),void 0!==i&&(hu=i),"holderRender"in e&&(gu=o),n&&(!function(e){return Object.keys(e).some((e=>e.endsWith("Color")))}(n)?pu=n:tu(fu(),n))},vu.useConfig=iu,Object.defineProperty(vu,"SizeContext",{get:()=>je});const bu=vu;function xu(t){return i=>e.createElement(bu,{theme:{token:{motion:!1,zIndexPopupBase:0}}},e.createElement(t,Object.assign({},i)))}const Su=(t,i,n,o)=>xu((a=>{const{prefixCls:r,style:s}=a,c=e.useRef(null),[d,u]=e.useState(0),[h,p]=e.useState(0),[g,f]=(0,xt.A)(!1,{value:a.open}),{getPrefixCls:m}=e.useContext(l.QO),y=m(i||"select",r);e.useEffect((()=>{if(f(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver((e=>{const t=e[0].target;u(t.offsetHeight+8),p(t.offsetWidth)})),t=setInterval((()=>{var i;const o=n?`.${n(y)}`:`.${y}-dropdown`,a=null===(i=c.current)||void 0===i?void 0:i.querySelector(o);a&&(clearInterval(t),e.observe(a))}),10);return()=>{clearInterval(t),e.disconnect()}}}),[]);let v=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},s),{margin:0}),open:g,visible:g,getPopupContainer:()=>c.current});o&&(v=o(v));const b={paddingBottom:d,position:"relative",minWidth:h};return e.createElement("div",{ref:c,style:b},e.createElement(t,Object.assign({},v)))})),Mu=(0,e.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var Au=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const ku=t=>{const{prefixCls:i,className:n,dashed:o}=t,a=Au(t,["prefixCls","className","dashed"]),{getPrefixCls:s}=e.useContext(l.QO),c=s("menu",i),d=r()({[`${c}-item-divider-dashed`]:!!o},n);return e.createElement(Za,Object.assign({className:d},a))};function wu(t){var i=t.children,n=t.prefixCls,o=t.id,a=t.overlayInnerStyle,s=t.className,l=t.style;return e.createElement("div",{className:r()("".concat(n,"-content"),s),style:l},e.createElement("div",{className:"".concat(n,"-inner"),id:o,role:"tooltip",style:a},"function"===typeof i?i():i))}var Cu={shiftX:64,adjustY:1},Iu={adjustX:1,shiftY:!0},Du=[0,0],Nu={left:{points:["cr","cl"],overflow:Iu,offset:[-4,0],targetOffset:Du},right:{points:["cl","cr"],overflow:Iu,offset:[4,0],targetOffset:Du},top:{points:["bc","tc"],overflow:Cu,offset:[0,-4],targetOffset:Du},bottom:{points:["tc","bc"],overflow:Cu,offset:[0,4],targetOffset:Du},topLeft:{points:["bl","tl"],overflow:Cu,offset:[0,-4],targetOffset:Du},leftTop:{points:["tr","tl"],overflow:Iu,offset:[-4,0],targetOffset:Du},topRight:{points:["br","tr"],overflow:Cu,offset:[0,-4],targetOffset:Du},rightTop:{points:["tl","tr"],overflow:Iu,offset:[4,0],targetOffset:Du},bottomRight:{points:["tr","br"],overflow:Cu,offset:[0,4],targetOffset:Du},rightBottom:{points:["bl","br"],overflow:Iu,offset:[4,0],targetOffset:Du},bottomLeft:{points:["tl","bl"],overflow:Cu,offset:[0,4],targetOffset:Du},leftBottom:{points:["br","bl"],overflow:Iu,offset:[-4,0],targetOffset:Du}};var Eu=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Ou=function(t,i){var n=t.overlayClassName,o=t.trigger,a=void 0===o?["hover"]:o,r=t.mouseEnterDelay,s=void 0===r?0:r,l=t.mouseLeaveDelay,c=void 0===l?.1:l,d=t.overlayStyle,u=t.prefixCls,p=void 0===u?"rc-tooltip":u,g=t.children,f=t.onVisibleChange,m=t.afterVisibleChange,v=t.transitionName,b=t.animation,S=t.motion,M=t.placement,A=void 0===M?"right":M,k=t.align,w=void 0===k?{}:k,C=t.destroyTooltipOnHide,I=void 0!==C&&C,D=t.defaultVisible,N=t.getTooltipContainer,E=t.overlayInnerStyle,O=(t.arrowContent,t.overlay),L=t.id,T=t.showArrow,R=void 0===T||T,P=y(t,Eu),z=(0,e.useRef)(null);(0,e.useImperativeHandle)(i,(function(){return z.current}));var j=(0,x.A)({},P);"visible"in t&&(j.popupVisible=t.visible);return e.createElement(ao,(0,h.A)({popupClassName:n,prefixCls:p,popup:function(){return e.createElement(wu,{key:"content",prefixCls:p,id:L,overlayInnerStyle:E},O)},action:a,builtinPlacements:Nu,popupPlacement:A,ref:z,popupAlign:w,getPopupContainer:N,onPopupVisibleChange:f,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:b,popupMotion:S,defaultPopupVisible:D,autoDestroy:I,mouseLeaveDelay:c,popupStyle:d,mouseEnterDelay:s,arrow:R},j),g)};const Lu=(0,e.forwardRef)(Ou);var Tu="RC_FORM_INTERNAL_HOOKS",Ru=function(){(0,w.Ay)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const Pu=e.createContext({getFieldValue:Ru,getFieldsValue:Ru,getFieldError:Ru,getFieldWarning:Ru,getFieldsError:Ru,isFieldsTouched:Ru,isFieldTouched:Ru,isFieldValidating:Ru,isFieldsValidating:Ru,resetFields:Ru,setFields:Ru,setFieldValue:Ru,setFieldsValue:Ru,validateFields:Ru,submit:Ru,getInternalHooks:function(){return Ru(),{dispatch:Ru,initEntityValue:Ru,registerField:Ru,useSubscribe:Ru,setInitialValues:Ru,destroyForm:Ru,setCallbacks:Ru,registerWatch:Ru,getFields:Ru,setValidateMessages:Ru,setPreserve:Ru,getInitialValue:Ru}}});const zu=e.createContext(null);function ju(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Bu(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $u=Bu(),Fu=i(3954),_u=i(3662);var Hu=i(2176);function Wu(e){var t="function"==typeof Map?new Map:void 0;return Wu=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return function(e,t,i){if((0,Hu.A)())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return i&&(0,_u.A)(o,i.prototype),o}(e,arguments,(0,Fu.A)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,_u.A)(i,e)},Wu(e)}var Gu=/%[sdj%]/g;function Vu(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var i=e.field;t[i]=t[i]||[],t[i].push(e)})),t}function Uu(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o=0,a=i.length;return"function"===typeof e?e.apply(null,i):"string"===typeof e?e.replace(Gu,(function(e){if("%%"===e)return"%";if(o>=a)return e;switch(e){case"%s":return String(i[o++]);case"%d":return Number(i[o++]);case"%j":try{return JSON.stringify(i[o++])}catch(t){return"[Circular]"}break;default:return e}})):e}function Ku(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Yu(e,t,i){var n=0,o=e.length;!function a(r){if(r&&r.length)i(r);else{var s=n;n+=1,s<o?t(e[s],a):i([])}}([])}var Xu=function(e){(0,ii.A)(i,e);var t=(0,ni.A)(i);function i(e,n){var o;return(0,ei.A)(this,i),o=t.call(this,"Async Validation Error"),(0,f.A)((0,Cn.A)(o),"errors",void 0),(0,f.A)((0,Cn.A)(o),"fields",void 0),o.errors=e,o.fields=n,o}return(0,ti.A)(i)}(Wu(Error));function Zu(e,t,i,n,a){if(t.first){var r=new Promise((function(t,r){var s=function(e){var t=[];return Object.keys(e).forEach((function(i){t.push.apply(t,(0,o.A)(e[i]||[]))})),t}(e);Yu(s,i,(function(e){return n(e),e.length?r(new Xu(e,Vu(e))):t(a)}))}));return r.catch((function(e){return e})),r}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],l=Object.keys(e),c=l.length,d=0,u=[],h=new Promise((function(t,r){var h=function(e){if(u.push.apply(u,e),++d===c)return n(u),u.length?r(new Xu(u,Vu(u))):t(a)};l.length||(n(u),t(a)),l.forEach((function(t){var n=e[t];-1!==s.indexOf(t)?Yu(n,i,h):function(e,t,i){var n=[],a=0,r=e.length;function s(e){n.push.apply(n,(0,o.A)(e||[])),++a===r&&i(n)}e.forEach((function(e){t(e,s)}))}(n,i,h)}))}));return h.catch((function(e){return e})),h}function qu(e,t){return function(i){var n,o;return n=e.fullFields?function(e,t){for(var i=e,n=0;n<t.length;n++){if(void 0==i)return i;i=i[t[n]]}return i}(t,e.fullFields):t[i.field||e.fullField],(o=i)&&void 0!==o.message?(i.field=i.field||e.fullField,i.fieldValue=n,i):{message:"function"===typeof i?i():i,fieldValue:n,field:i.field||e.fullField}}}function Qu(e,t){if(t)for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];"object"===(0,S.A)(n)&&"object"===(0,S.A)(e[i])?e[i]=(0,x.A)((0,x.A)({},e[i]),n):e[i]=n}return e}var Ju="enum";const eh=function(e,t,i,n,o,a){!e.required||i.hasOwnProperty(e.field)&&!Ku(t,a||e.type)||n.push(Uu(o.messages.required,e.fullField))};var th;var ih=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,nh=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,oh={integer:function(e){return oh.number(e)&&parseInt(e,10)===e},float:function(e){return oh.number(e)&&!oh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Zfe){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===(0,S.A)(e)&&!oh.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(ih)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(th)return th;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",o=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(i,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(i,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(i,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(i,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(i,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(i,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(i,"|(?::").concat(n,"){1,7}|:))")],a="(?:".concat(o.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),r=new RegExp("(?:^".concat(i,"$)|(?:^").concat(a,"$)")),s=new RegExp("^".concat(i,"$")),l=new RegExp("^".concat(a,"$")),c=function(e){return e&&e.exact?r:new RegExp("(?:".concat(t(e)).concat(i).concat(t(e),")|(?:").concat(t(e)).concat(a).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(i).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(a).concat(t(e)),"g")};var d=c.v4().source,u=c.v6().source,h="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(d,"|").concat(u,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return th=new RegExp("(?:^".concat(h,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(nh)}};const ah=function(e,t,i,n,o){if(e.required&&void 0===t)eh(e,t,i,n,o);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?oh[a](t)||n.push(Uu(o.messages.types[a],e.fullField,e.type)):a&&(0,S.A)(t)!==e.type&&n.push(Uu(o.messages.types[a],e.fullField,e.type))}};const rh={required:eh,whitespace:function(e,t,i,n,o){(/^\s+$/.test(t)||""===t)&&n.push(Uu(o.messages.whitespace,e.fullField))},type:ah,range:function(e,t,i,n,o){var a="number"===typeof e.len,r="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,d="number"===typeof t,u="string"===typeof t,h=Array.isArray(t);if(d?c="number":u?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&n.push(Uu(o.messages[c].len,e.fullField,e.len)):r&&!s&&l<e.min?n.push(Uu(o.messages[c].min,e.fullField,e.min)):s&&!r&&l>e.max?n.push(Uu(o.messages[c].max,e.fullField,e.max)):r&&s&&(l<e.min||l>e.max)&&n.push(Uu(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,i,n,o){e[Ju]=Array.isArray(e[Ju])?e[Ju]:[],-1===e[Ju].indexOf(t)&&n.push(Uu(o.messages[Ju],e.fullField,e[Ju].join(", ")))},pattern:function(e,t,i,n,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(Uu(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||n.push(Uu(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};const sh=function(e,t,i,n,o){var a=e.type,r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t,a)&&!e.required)return i();rh.required(e,t,n,r,o,a),Ku(t,a)||rh.type(e,t,n,r,o)}i(r)},lh={string:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t,"string")&&!e.required)return i();rh.required(e,t,n,a,o,"string"),Ku(t,"string")||(rh.type(e,t,n,a,o),rh.range(e,t,n,a,o),rh.pattern(e,t,n,a,o),!0===e.whitespace&&rh.whitespace(e,t,n,a,o))}i(a)},method:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&rh.type(e,t,n,a,o)}i(a)},number:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&(rh.type(e,t,n,a,o),rh.range(e,t,n,a,o))}i(a)},boolean:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&rh.type(e,t,n,a,o)}i(a)},regexp:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),Ku(t)||rh.type(e,t,n,a,o)}i(a)},integer:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&(rh.type(e,t,n,a,o),rh.range(e,t,n,a,o))}i(a)},float:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&(rh.type(e,t,n,a,o),rh.range(e,t,n,a,o))}i(a)},array:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return i();rh.required(e,t,n,a,o,"array"),void 0!==t&&null!==t&&(rh.type(e,t,n,a,o),rh.range(e,t,n,a,o))}i(a)},object:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&rh.type(e,t,n,a,o)}i(a)},enum:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o),void 0!==t&&rh.enum(e,t,n,a,o)}i(a)},pattern:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t,"string")&&!e.required)return i();rh.required(e,t,n,a,o),Ku(t,"string")||rh.pattern(e,t,n,a,o)}i(a)},date:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t,"date")&&!e.required)return i();var r;if(rh.required(e,t,n,a,o),!Ku(t,"date"))r=t instanceof Date?t:new Date(t),rh.type(e,r,n,a,o),r&&rh.range(e,r.getTime(),n,a,o)}i(a)},url:sh,hex:sh,email:sh,required:function(e,t,i,n,o){var a=[],r=Array.isArray(t)?"array":(0,S.A)(t);rh.required(e,t,n,a,o,r),i(a)},any:function(e,t,i,n,o){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Ku(t)&&!e.required)return i();rh.required(e,t,n,a,o)}i(a)}};var ch=function(){function e(t){(0,ei.A)(this,e),(0,f.A)(this,"rules",null),(0,f.A)(this,"_messages",$u),this.define(t)}return(0,ti.A)(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(0,S.A)(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(i){var n=e[i];t.rules[i]=Array.isArray(n)?n:[n]}))}},{key:"messages",value:function(e){return e&&(this._messages=Qu(Bu(),e)),this._messages}},{key:"validate",value:function(t){var i=this,n=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof a&&(r=a,a={}),!this.rules||0===Object.keys(this.rules).length)return r&&r(null,n),Promise.resolve(n);if(a.messages){var s=this.messages();s===$u&&(s=Bu()),Qu(s,a.messages),a.messages=s}else a.messages=this.messages();var l={};(a.keys||Object.keys(this.rules)).forEach((function(e){var o=i.rules[e],a=n[e];o.forEach((function(o){var r=o;"function"===typeof r.transform&&(n===t&&(n=(0,x.A)({},n)),void 0!==(a=n[e]=r.transform(a))&&null!==a&&(r.type=r.type||(Array.isArray(a)?"array":(0,S.A)(a)))),(r="function"===typeof r?{validator:r}:(0,x.A)({},r)).validator=i.getValidationMethod(r),r.validator&&(r.field=e,r.fullField=r.fullField||e,r.type=i.getType(r),l[e]=l[e]||[],l[e].push({rule:r,value:a,source:n,field:e}))}))}));var c={};return Zu(l,a,(function(t,i){var r,s=t.rule,l=("object"===s.type||"array"===s.type)&&("object"===(0,S.A)(s.fields)||"object"===(0,S.A)(s.defaultField));function d(e,t){return(0,x.A)((0,x.A)({},t),{},{fullField:"".concat(s.fullField,".").concat(e),fullFields:s.fullFields?[].concat((0,o.A)(s.fullFields),[e]):[e]})}function u(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=Array.isArray(r)?r:[r];!a.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==s.message&&(u=[].concat(s.message));var h=u.map(qu(s,n));if(a.first&&h.length)return c[s.field]=1,i(h);if(l){if(s.required&&!t.value)return void 0!==s.message?h=[].concat(s.message).map(qu(s,n)):a.error&&(h=[a.error(s,Uu(a.messages.required,s.field))]),i(h);var p={};s.defaultField&&Object.keys(t.value).map((function(e){p[e]=s.defaultField})),p=(0,x.A)((0,x.A)({},p),t.rule.fields);var g={};Object.keys(p).forEach((function(e){var t=p[e],i=Array.isArray(t)?t:[t];g[e]=i.map(d.bind(null,e))}));var f=new e(g);f.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),f.validate(t.value,t.rule.options||a,(function(e){var t=[];h&&h.length&&t.push.apply(t,(0,o.A)(h)),e&&e.length&&t.push.apply(t,(0,o.A)(e)),i(t.length?t:null)}))}else i(h)}if(l=l&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)r=s.asyncValidator(s,t.value,u,t.source,a);else if(s.validator){try{r=s.validator(s,t.value,u,t.source,a)}catch(g){var h,p;null===(h=(p=console).error)||void 0===h||h.call(p,g),a.suppressValidatorError||setTimeout((function(){throw g}),0),u(g.message)}!0===r?u():!1===r?u("function"===typeof s.message?s.message(s.fullField||s.field):s.message||"".concat(s.fullField||s.field," fails")):r instanceof Array?u(r):r instanceof Error&&u(r.message)}r&&r.then&&r.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){var t=[],i={};function a(e){var i;Array.isArray(e)?t=(i=t).concat.apply(i,(0,o.A)(e)):t.push(e)}for(var s=0;s<e.length;s++)a(e[s]);t.length?(i=Vu(t),r(t,i)):r(null,n)}(e)}),n)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!lh.hasOwnProperty(e.type))throw new Error(Uu("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),i=t.indexOf("message");return-1!==i&&t.splice(i,1),1===t.length&&"required"===t[0]?lh.required:lh[this.getType(e)]||void 0}}]),e}();(0,f.A)(ch,"register",(function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");lh[e]=t})),(0,f.A)(ch,"warning",(function(){})),(0,f.A)(ch,"messages",$u),(0,f.A)(ch,"validators",lh);var dh="'${name}' is not a valid ${type}",uh={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:dh,method:dh,array:dh,object:dh,number:dh,date:dh,boolean:dh,integer:dh,float:dh,regexp:dh,email:dh,url:dh,hex:dh},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},hh=ch;function ph(e,t){return e.replace(/\\?\$\{\w+\}/g,(function(e){if(e.startsWith("\\"))return e.slice(1);var i=e.slice(2,-1);return t[i]}))}var gh="CODE_LOGIC_ERROR";function fh(e,t,i,n,o){return mh.apply(this,arguments)}function mh(){return mh=Gs(Hs().mark((function t(i,n,a,r,s){var l,c,d,u,h,p,g,m,y;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(l=(0,x.A)({},a)).ruleIndex,hh.warning=function(){},l.validator&&(c=l.validator,l.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(gh)}}),d=null,l&&"array"===l.type&&l.defaultField&&(d=l.defaultField,delete l.defaultField),u=new hh((0,f.A)({},i,[l])),h=(0,Gd.h)(uh,r.validateMessages),u.messages(h),p=[],t.prev=10,t.next=13,Promise.resolve(u.validate((0,f.A)({},i,n),(0,x.A)({},r)));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(10),t.t0.errors&&(p=t.t0.errors.map((function(t,i){var n=t.message,o=n===gh?h.default:n;return e.isValidElement(o)?e.cloneElement(o,{key:"error_".concat(i)}):o})));case 18:if(p.length||!d){t.next=23;break}return t.next=21,Promise.all(n.map((function(e,t){return fh("".concat(i,".").concat(t),e,d,r,s)})));case 21:return g=t.sent,t.abrupt("return",g.reduce((function(e,t){return[].concat((0,o.A)(e),(0,o.A)(t))}),[]));case 23:return m=(0,x.A)((0,x.A)({},a),{},{name:i,enum:(a.enum||[]).join(", ")},s),y=p.map((function(e){return"string"===typeof e?ph(e,m):e})),t.abrupt("return",y);case 26:case"end":return t.stop()}}),t,null,[[10,15]])}))),mh.apply(this,arguments)}function yh(e,t,i,n,o,a){var r,s=e.join("."),l=i.map((function(e,t){var i=e.validator,n=(0,x.A)((0,x.A)({},e),{},{ruleIndex:t});return i&&(n.validator=function(e,t,n){var o=!1,a=i(e,t,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];Promise.resolve().then((function(){(0,w.Ay)(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||n.apply(void 0,t)}))}));o=a&&"function"===typeof a.then&&"function"===typeof a.catch,(0,w.Ay)(o,"`callback` is deprecated. Please return a promise instead."),o&&a.then((function(){n()})).catch((function(e){n(e||" ")}))}),n})).sort((function(e,t){var i=e.warningOnly,n=e.ruleIndex,o=t.warningOnly,a=t.ruleIndex;return!!i===!!o?n-a:i?1:-1}));if(!0===o)r=new Promise(function(){var e=Gs(Hs().mark((function e(i,o){var r,c,d;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<l.length)){e.next=12;break}return c=l[r],e.next=5,fh(s,t,c,n,a);case 5:if(!(d=e.sent).length){e.next=9;break}return o([{errors:d,rule:c}]),e.abrupt("return");case 9:r+=1,e.next=1;break;case 12:i([]);case 13:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return fh(s,t,e,n,a).then((function(t){return{errors:t,rule:e}}))}));r=(o?function(e){return bh.apply(this,arguments)}(c):function(e){return vh.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return r.catch((function(e){return e})),r}function vh(){return(vh=Gs(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,o.A)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(){return(bh=Gs(Hs().mark((function e(t){var i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=0,e.abrupt("return",new Promise((function(e){t.forEach((function(n){n.then((function(n){n.errors.length&&e([n]),(i+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xh=i(1725);function Sh(e){return ju(e)}function Mh(e,t){var i={};return t.forEach((function(t){var n=(0,xh.A)(e,t);i=(0,Gd.A)(i,t,n)})),i}function Ah(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return kh(t,e,i)}))}function kh(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,i){return e[i]===t})))}function wh(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,S.A)(t.target)&&e in t.target?t.target[e]:t}function Ch(e,t,i){var n=e.length;if(t<0||t>=n||i<0||i>=n)return e;var a=e[t],r=t-i;return r>0?[].concat((0,o.A)(e.slice(0,i)),[a],(0,o.A)(e.slice(i,t)),(0,o.A)(e.slice(t+1,n))):r<0?[].concat((0,o.A)(e.slice(0,t)),(0,o.A)(e.slice(t+1,i+1)),[a],(0,o.A)(e.slice(i+1,n))):e}var Ih=["name"],Dh=[];function Nh(e,t,i,n,o,a){return"function"===typeof e?e(t,i,"source"in a?{source:a.source}:{}):n!==o}var Eh=function(t){(0,ii.A)(n,t);var i=(0,ni.A)(n);function n(t){var a;((0,ei.A)(this,n),a=i.call(this,t),(0,f.A)((0,Cn.A)(a),"state",{resetCount:0}),(0,f.A)((0,Cn.A)(a),"cancelRegisterFunc",null),(0,f.A)((0,Cn.A)(a),"mounted",!1),(0,f.A)((0,Cn.A)(a),"touched",!1),(0,f.A)((0,Cn.A)(a),"dirty",!1),(0,f.A)((0,Cn.A)(a),"validatePromise",void 0),(0,f.A)((0,Cn.A)(a),"prevValidating",void 0),(0,f.A)((0,Cn.A)(a),"errors",Dh),(0,f.A)((0,Cn.A)(a),"warnings",Dh),(0,f.A)((0,Cn.A)(a),"cancelRegister",(function(){var e=a.props,t=e.preserve,i=e.isListField,n=e.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(i,t,Sh(n)),a.cancelRegisterFunc=null})),(0,f.A)((0,Cn.A)(a),"getNamePath",(function(){var e=a.props,t=e.name,i=e.fieldContext.prefixName,n=void 0===i?[]:i;return void 0!==t?[].concat((0,o.A)(n),(0,o.A)(t)):[]})),(0,f.A)((0,Cn.A)(a),"getRules",(function(){var e=a.props,t=e.rules,i=void 0===t?[]:t,n=e.fieldContext;return i.map((function(e){return"function"===typeof e?e(n):e}))})),(0,f.A)((0,Cn.A)(a),"refresh",(function(){a.mounted&&a.setState((function(e){return{resetCount:e.resetCount+1}}))})),(0,f.A)((0,Cn.A)(a),"metaCache",null),(0,f.A)((0,Cn.A)(a),"triggerMetaEvent",(function(e){var t=a.props.onMetaChange;if(t){var i=(0,x.A)((0,x.A)({},a.getMeta()),{},{destroy:e});(0,$o.A)(a.metaCache,i)||t(i),a.metaCache=i}else a.metaCache=null})),(0,f.A)((0,Cn.A)(a),"onStoreChange",(function(e,t,i){var n=a.props,o=n.shouldUpdate,r=n.dependencies,s=void 0===r?[]:r,l=n.onReset,c=i.store,d=a.getNamePath(),u=a.getValue(e),h=a.getValue(c),p=t&&Ah(t,d);switch("valueUpdate"!==i.type||"external"!==i.source||(0,$o.A)(u,h)||(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Dh,a.warnings=Dh,a.triggerMetaEvent()),i.type){case"reset":if(!t||p)return a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Dh,a.warnings=Dh,a.triggerMetaEvent(),null===l||void 0===l||l(),void a.refresh();break;case"remove":if(o&&Nh(o,e,c,u,h,i))return void a.reRender();break;case"setField":var g=i.data;if(p)return"touched"in g&&(a.touched=g.touched),"validating"in g&&!("originRCField"in g)&&(a.validatePromise=g.validating?Promise.resolve([]):null),"errors"in g&&(a.errors=g.errors||Dh),"warnings"in g&&(a.warnings=g.warnings||Dh),a.dirty=!0,a.triggerMetaEvent(),void a.reRender();if("value"in g&&Ah(t,d,!0))return void a.reRender();if(o&&!d.length&&Nh(o,e,c,u,h,i))return void a.reRender();break;case"dependenciesUpdate":if(s.map(Sh).some((function(e){return Ah(i.relatedFields,e)})))return void a.reRender();break;default:if(p||(!s.length||d.length||o)&&Nh(o,e,c,u,h,i))return void a.reRender()}!0===o&&a.reRender()})),(0,f.A)((0,Cn.A)(a),"validateRules",(function(e){var t=a.getNamePath(),i=a.getValue(),n=e||{},r=n.triggerName,s=n.validateOnly,l=void 0!==s&&s,c=Promise.resolve().then(Gs(Hs().mark((function n(){var s,l,d,u,h,p,g;return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.mounted){n.next=2;break}return n.abrupt("return",[]);case 2:if(s=a.props,l=s.validateFirst,d=void 0!==l&&l,u=s.messageVariables,h=s.validateDebounce,p=a.getRules(),r&&(p=p.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||ju(t).includes(r)}))),!h||!r){n.next=10;break}return n.next=8,new Promise((function(e){setTimeout(e,h)}));case 8:if(a.validatePromise===c){n.next=10;break}return n.abrupt("return",[]);case 10:return(g=yh(t,i,p,e,d,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dh;if(a.validatePromise===c){var t;a.validatePromise=null;var i=[],n=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,a=e.errors,r=void 0===a?Dh:a;t?n.push.apply(n,(0,o.A)(r)):i.push.apply(i,(0,o.A)(r))})),a.errors=i,a.warnings=n,a.triggerMetaEvent(),a.reRender()}})),n.abrupt("return",g);case 13:case"end":return n.stop()}}),n)}))));return l||(a.validatePromise=c,a.dirty=!0,a.errors=Dh,a.warnings=Dh,a.triggerMetaEvent(),a.reRender()),c})),(0,f.A)((0,Cn.A)(a),"isFieldValidating",(function(){return!!a.validatePromise})),(0,f.A)((0,Cn.A)(a),"isFieldTouched",(function(){return a.touched})),(0,f.A)((0,Cn.A)(a),"isFieldDirty",(function(){return!(!a.dirty&&void 0===a.props.initialValue)||void 0!==(0,a.props.fieldContext.getInternalHooks(Tu).getInitialValue)(a.getNamePath())})),(0,f.A)((0,Cn.A)(a),"getErrors",(function(){return a.errors})),(0,f.A)((0,Cn.A)(a),"getWarnings",(function(){return a.warnings})),(0,f.A)((0,Cn.A)(a),"isListField",(function(){return a.props.isListField})),(0,f.A)((0,Cn.A)(a),"isList",(function(){return a.props.isList})),(0,f.A)((0,Cn.A)(a),"isPreserve",(function(){return a.props.preserve})),(0,f.A)((0,Cn.A)(a),"getMeta",(function(){return a.prevValidating=a.isFieldValidating(),{touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:null===a.validatePromise}})),(0,f.A)((0,Cn.A)(a),"getOnlyChild",(function(t){if("function"===typeof t){var i=a.getMeta();return(0,x.A)((0,x.A)({},a.getOnlyChild(t(a.getControlled(),i,a.props.fieldContext))),{},{isFunction:!0})}var n=u(t);return 1===n.length&&e.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),(0,f.A)((0,Cn.A)(a),"getValue",(function(e){var t=a.props.fieldContext.getFieldsValue,i=a.getNamePath();return(0,xh.A)(e||t(!0),i)})),(0,f.A)((0,Cn.A)(a),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props,i=t.name,n=t.trigger,o=t.validateTrigger,r=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,c=t.getValueProps,d=t.fieldContext,u=void 0!==o?o:d.validateTrigger,h=a.getNamePath(),p=d.getInternalHooks,g=d.getFieldsValue,m=p(Tu).dispatch,y=a.getValue(),v=c||function(e){return(0,f.A)({},l,e)},b=e[n],S=void 0!==i?v(y):{};var M=(0,x.A)((0,x.A)({},e),S);return M[n]=function(){var e;a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e=r?r.apply(void 0,i):wh.apply(void 0,[l].concat(i)),s&&(e=s(e,y,g(!0))),e!==y&&m({type:"updateValue",namePath:h,value:e}),b&&b.apply(void 0,i)},ju(u||[]).forEach((function(e){var t=M[e];M[e]=function(){t&&t.apply(void 0,arguments);var i=a.props.rules;i&&i.length&&m({type:"validateField",namePath:h,triggerName:e})}})),M})),t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(Tu).initEntityValue)((0,Cn.A)(a));return a}return(0,ti.A)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,i=e.fieldContext;if(this.mounted=!0,i){var n=(0,i.getInternalHooks)(Tu).registerField;this.cancelRegisterFunc=n(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,i=this.state.resetCount,n=this.props.children,o=this.getOnlyChild(n),a=o.child;return o.isFunction?t=a:e.isValidElement(a)?t=e.cloneElement(a,this.getControlled(a.props)):((0,w.Ay)(!a,"`children` of Field is not validate ReactElement."),t=a),e.createElement(e.Fragment,{key:i},t)}}]),n}(e.Component);(0,f.A)(Eh,"contextType",Pu),(0,f.A)(Eh,"defaultProps",{trigger:"onChange",valuePropName:"value"});const Oh=function(t){var i=t.name,n=y(t,Ih),o=e.useContext(Pu),a=e.useContext(zu),r=void 0!==i?Sh(i):void 0,s="keep";return n.isListField||(s="_".concat((r||[]).join("_"))),e.createElement(Eh,(0,h.A)({key:s,name:r,isListField:!!a},n,{fieldContext:o}))};const Lh=function(t){var i=t.name,n=t.initialValue,a=t.children,r=t.rules,s=t.validateTrigger,l=t.isListField,c=e.useContext(Pu),d=e.useContext(zu),u=e.useRef({keys:[],id:0}).current,h=e.useMemo((function(){var e=Sh(c.prefixName)||[];return[].concat((0,o.A)(e),(0,o.A)(Sh(i)))}),[c.prefixName,i]),p=e.useMemo((function(){return(0,x.A)((0,x.A)({},c),{},{prefixName:h})}),[c,h]),g=e.useMemo((function(){return{getKey:function(e){var t=h.length,i=e[t];return[u.keys[i],e.slice(t+1)]}}}),[h]);return"function"!==typeof a?((0,w.Ay)(!1,"Form.List only accepts function as children."),null):e.createElement(zu.Provider,{value:g},e.createElement(Pu.Provider,{value:p},e.createElement(Oh,{name:[],shouldUpdate:function(e,t,i){return"internal"!==i.source&&e!==t},rules:r,validateTrigger:s,initialValue:n,isList:!0,isListField:null!==l&&void 0!==l?l:!!d},(function(e,t){var i=e.value,n=void 0===i?[]:i,r=e.onChange,s=c.getFieldValue,l=function(){return s(h||[])||[]},d={add:function(e,t){var i=l();t>=0&&t<=i.length?(u.keys=[].concat((0,o.A)(u.keys.slice(0,t)),[u.id],(0,o.A)(u.keys.slice(t))),r([].concat((0,o.A)(i.slice(0,t)),[e],(0,o.A)(i.slice(t))))):(u.keys=[].concat((0,o.A)(u.keys),[u.id]),r([].concat((0,o.A)(i),[e]))),u.id+=1},remove:function(e){var t=l(),i=new Set(Array.isArray(e)?e:[e]);i.size<=0||(u.keys=u.keys.filter((function(e,t){return!i.has(t)})),r(t.filter((function(e,t){return!i.has(t)}))))},move:function(e,t){if(e!==t){var i=l();e<0||e>=i.length||t<0||t>=i.length||(u.keys=Ch(u.keys,e,t),r(Ch(i,e,t)))}}},p=n||[];return Array.isArray(p)||(p=[]),a(p.map((function(e,t){var i=u.keys[t];return void 0===i&&(u.keys[t]=u.id,i=u.keys[t],u.id+=1),{name:t,key:i,isListField:!0}})),d,t)}))))};var Th="__@field_split__";function Rh(e){return e.map((function(e){return"".concat((0,S.A)(e),":").concat(e)})).join(Th)}const Ph=function(){function e(){(0,ei.A)(this,e),(0,f.A)(this,"kvs",new Map)}return(0,ti.A)(e,[{key:"set",value:function(e,t){this.kvs.set(Rh(e),t)}},{key:"get",value:function(e){return this.kvs.get(Rh(e))}},{key:"update",value:function(e,t){var i=t(this.get(e));i?this.set(e,i):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Rh(e))}},{key:"map",value:function(e){return(0,o.A)(this.kvs.entries()).map((function(t){var i=(0,g.A)(t,2),n=i[0],o=i[1],a=n.split(Th);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),i=(0,g.A)(t,3),n=i[1],o=i[2];return"number"===n?Number(o):o})),value:o})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var i=t.key,n=t.value;return e[i.join(".")]=n,null})),e}}]),e}();var zh=["name"],jh=(0,ti.A)((function e(t){var i=this;(0,ei.A)(this,e),(0,f.A)(this,"formHooked",!1),(0,f.A)(this,"forceRootUpdate",void 0),(0,f.A)(this,"subscribable",!0),(0,f.A)(this,"store",{}),(0,f.A)(this,"fieldEntities",[]),(0,f.A)(this,"initialValues",{}),(0,f.A)(this,"callbacks",{}),(0,f.A)(this,"validateMessages",null),(0,f.A)(this,"preserve",null),(0,f.A)(this,"lastValidatePromise",null),(0,f.A)(this,"getForm",(function(){return{getFieldValue:i.getFieldValue,getFieldsValue:i.getFieldsValue,getFieldError:i.getFieldError,getFieldWarning:i.getFieldWarning,getFieldsError:i.getFieldsError,isFieldsTouched:i.isFieldsTouched,isFieldTouched:i.isFieldTouched,isFieldValidating:i.isFieldValidating,isFieldsValidating:i.isFieldsValidating,resetFields:i.resetFields,setFields:i.setFields,setFieldValue:i.setFieldValue,setFieldsValue:i.setFieldsValue,validateFields:i.validateFields,submit:i.submit,_init:!0,getInternalHooks:i.getInternalHooks}})),(0,f.A)(this,"getInternalHooks",(function(e){return e===Tu?(i.formHooked=!0,{dispatch:i.dispatch,initEntityValue:i.initEntityValue,registerField:i.registerField,useSubscribe:i.useSubscribe,setInitialValues:i.setInitialValues,destroyForm:i.destroyForm,setCallbacks:i.setCallbacks,setValidateMessages:i.setValidateMessages,getFields:i.getFields,setPreserve:i.setPreserve,getInitialValue:i.getInitialValue,registerWatch:i.registerWatch}):((0,w.Ay)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),(0,f.A)(this,"useSubscribe",(function(e){i.subscribable=e})),(0,f.A)(this,"prevWithoutPreserves",null),(0,f.A)(this,"setInitialValues",(function(e,t){if(i.initialValues=e||{},t){var n,o=(0,Gd.h)(e,i.store);null===(n=i.prevWithoutPreserves)||void 0===n||n.map((function(t){var i=t.key;o=(0,Gd.A)(o,i,(0,xh.A)(e,i))})),i.prevWithoutPreserves=null,i.updateStore(o)}})),(0,f.A)(this,"destroyForm",(function(e){if(e)i.updateStore({});else{var t=new Ph;i.getFieldEntities(!0).forEach((function(e){i.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),i.prevWithoutPreserves=t}})),(0,f.A)(this,"getInitialValue",(function(e){var t=(0,xh.A)(i.initialValues,e);return e.length?(0,Gd.h)(t):t})),(0,f.A)(this,"setCallbacks",(function(e){i.callbacks=e})),(0,f.A)(this,"setValidateMessages",(function(e){i.validateMessages=e})),(0,f.A)(this,"setPreserve",(function(e){i.preserve=e})),(0,f.A)(this,"watchList",[]),(0,f.A)(this,"registerWatch",(function(e){return i.watchList.push(e),function(){i.watchList=i.watchList.filter((function(t){return t!==e}))}})),(0,f.A)(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.watchList.length){var t=i.getFieldsValue(),n=i.getFieldsValue(!0);i.watchList.forEach((function(i){i(t,n,e)}))}})),(0,f.A)(this,"timeoutId",null),(0,f.A)(this,"warningUnhooked",(function(){0})),(0,f.A)(this,"updateStore",(function(e){i.store=e})),(0,f.A)(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?i.fieldEntities.filter((function(e){return e.getNamePath().length})):i.fieldEntities})),(0,f.A)(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Ph;return i.getFieldEntities(e).forEach((function(e){var i=e.getNamePath();t.set(i,e)})),t})),(0,f.A)(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return i.getFieldEntities(!0);var t=i.getFieldsMap(!0);return e.map((function(e){var i=Sh(e);return t.get(i)||{INVALIDATE_NAME_PATH:Sh(e)}}))})),(0,f.A)(this,"getFieldsValue",(function(e,t){var n,o,a;if(i.warningUnhooked(),!0===e||Array.isArray(e)?(n=e,o=t):e&&"object"===(0,S.A)(e)&&(a=e.strict,o=e.filter),!0===n&&!o)return i.store;var r=i.getFieldEntitiesForNamePathList(Array.isArray(n)?n:null),s=[];return r.forEach((function(e){var t,i,r,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(a){if(null!==(r=(l=e).isList)&&void 0!==r&&r.call(l))return}else if(!n&&null!==(t=(i=e).isListField)&&void 0!==t&&t.call(i))return;if(o){var d="getMeta"in e?e.getMeta():null;o(d)&&s.push(c)}else s.push(c)})),Mh(i.store,s.map(Sh))})),(0,f.A)(this,"getFieldValue",(function(e){i.warningUnhooked();var t=Sh(e);return(0,xh.A)(i.store,t)})),(0,f.A)(this,"getFieldsError",(function(e){return i.warningUnhooked(),i.getFieldEntitiesForNamePathList(e).map((function(t,i){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Sh(e[i]),errors:[],warnings:[]}}))})),(0,f.A)(this,"getFieldError",(function(e){i.warningUnhooked();var t=Sh(e);return i.getFieldsError([t])[0].errors})),(0,f.A)(this,"getFieldWarning",(function(e){i.warningUnhooked();var t=Sh(e);return i.getFieldsError([t])[0].warnings})),(0,f.A)(this,"isFieldsTouched",(function(){i.warningUnhooked();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a,r=t[0],s=t[1],l=!1;0===t.length?a=null:1===t.length?Array.isArray(r)?(a=r.map(Sh),l=!1):(a=null,l=r):(a=r.map(Sh),l=s);var c=i.getFieldEntities(!0),d=function(e){return e.isFieldTouched()};if(!a)return l?c.every((function(e){return d(e)||e.isList()})):c.some(d);var u=new Ph;a.forEach((function(e){u.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();a.forEach((function(i){i.every((function(e,i){return t[i]===e}))&&u.update(i,(function(t){return[].concat((0,o.A)(t),[e])}))}))}));var h=function(e){return e.some(d)},p=u.map((function(e){return e.value}));return l?p.every(h):p.some(h)})),(0,f.A)(this,"isFieldTouched",(function(e){return i.warningUnhooked(),i.isFieldsTouched([e])})),(0,f.A)(this,"isFieldsValidating",(function(e){i.warningUnhooked();var t=i.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var n=e.map(Sh);return t.some((function(e){var t=e.getNamePath();return Ah(n,t)&&e.isFieldValidating()}))})),(0,f.A)(this,"isFieldValidating",(function(e){return i.warningUnhooked(),i.isFieldsValidating([e])})),(0,f.A)(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Ph,n=i.getFieldEntities(!0);n.forEach((function(e){var i=e.props.initialValue,n=e.getNamePath();if(void 0!==i){var o=t.get(n)||new Set;o.add({entity:e,value:i}),t.set(n,o)}}));var a;e.entities?a=e.entities:e.namePathList?(a=[],e.namePathList.forEach((function(e){var i,n=t.get(e);n&&(i=a).push.apply(i,(0,o.A)((0,o.A)(n).map((function(e){return e.entity}))))}))):a=n,a.forEach((function(n){if(void 0!==n.props.initialValue){var a=n.getNamePath();if(void 0!==i.getInitialValue(a))(0,w.Ay)(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var r=t.get(a);if(r&&r.size>1)(0,w.Ay)(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(r){var s=i.getFieldValue(a);n.isListField()||e.skipExist&&void 0!==s||i.updateStore((0,Gd.A)(i.store,a,(0,o.A)(r)[0].value))}}}}))})),(0,f.A)(this,"resetFields",(function(e){i.warningUnhooked();var t=i.store;if(!e)return i.updateStore((0,Gd.h)(i.initialValues)),i.resetWithFieldInitialValue(),i.notifyObservers(t,null,{type:"reset"}),void i.notifyWatch();var n=e.map(Sh);n.forEach((function(e){var t=i.getInitialValue(e);i.updateStore((0,Gd.A)(i.store,e,t))})),i.resetWithFieldInitialValue({namePathList:n}),i.notifyObservers(t,n,{type:"reset"}),i.notifyWatch(n)})),(0,f.A)(this,"setFields",(function(e){i.warningUnhooked();var t=i.store,n=[];e.forEach((function(e){var o=e.name,a=y(e,zh),r=Sh(o);n.push(r),"value"in a&&i.updateStore((0,Gd.A)(i.store,r,a.value)),i.notifyObservers(t,[r],{type:"setField",data:e})})),i.notifyWatch(n)})),(0,f.A)(this,"getFields",(function(){return i.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),n=e.getMeta(),o=(0,x.A)((0,x.A)({},n),{},{name:t,value:i.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o}))})),(0,f.A)(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var n=e.getNamePath();void 0===(0,xh.A)(i.store,n)&&i.updateStore((0,Gd.A)(i.store,n,t))}})),(0,f.A)(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:i.preserve;return null===t||void 0===t||t})),(0,f.A)(this,"registerField",(function(e){i.fieldEntities.push(e);var t=e.getNamePath();if(i.notifyWatch([t]),void 0!==e.props.initialValue){var n=i.store;i.resetWithFieldInitialValue({entities:[e],skipExist:!0}),i.notifyObservers(n,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(n,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(i.fieldEntities=i.fieldEntities.filter((function(t){return t!==e})),!i.isMergedPreserve(o)&&(!n||a.length>1)){var r=n?void 0:i.getInitialValue(t);if(t.length&&i.getFieldValue(t)!==r&&i.fieldEntities.every((function(e){return!kh(e.getNamePath(),t)}))){var s=i.store;i.updateStore((0,Gd.A)(s,t,r,!0)),i.notifyObservers(s,[t],{type:"remove"}),i.triggerDependenciesUpdate(s,t)}}i.notifyWatch([t])}})),(0,f.A)(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,n=e.value;i.updateValue(t,n);break;case"validateField":var o=e.namePath,a=e.triggerName;i.validateFields([o],{triggerName:a})}})),(0,f.A)(this,"notifyObservers",(function(e,t,n){if(i.subscribable){var o=(0,x.A)((0,x.A)({},n),{},{store:i.getFieldsValue(!0)});i.getFieldEntities().forEach((function(i){(0,i.onStoreChange)(e,t,o)}))}else i.forceRootUpdate()})),(0,f.A)(this,"triggerDependenciesUpdate",(function(e,t){var n=i.getDependencyChildrenFields(t);return n.length&&i.validateFields(n),i.notifyObservers(e,n,{type:"dependenciesUpdate",relatedFields:[t].concat((0,o.A)(n))}),n})),(0,f.A)(this,"updateValue",(function(e,t){var n=Sh(e),a=i.store;i.updateStore((0,Gd.A)(i.store,n,t)),i.notifyObservers(a,[n],{type:"valueUpdate",source:"internal"}),i.notifyWatch([n]);var r=i.triggerDependenciesUpdate(a,n),s=i.callbacks.onValuesChange;s&&s(Mh(i.store,[n]),i.getFieldsValue());i.triggerOnFieldsChange([n].concat((0,o.A)(r)))})),(0,f.A)(this,"setFieldsValue",(function(e){i.warningUnhooked();var t=i.store;if(e){var n=(0,Gd.h)(i.store,e);i.updateStore(n)}i.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),i.notifyWatch()})),(0,f.A)(this,"setFieldValue",(function(e,t){i.setFields([{name:e,value:t}])})),(0,f.A)(this,"getDependencyChildrenFields",(function(e){var t=new Set,n=[],o=new Ph;i.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var i=Sh(t);o.update(i,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(i){(o.get(i)||new Set).forEach((function(i){if(!t.has(i)){t.add(i);var o=i.getNamePath();i.isFieldDirty()&&o.length&&(n.push(o),e(o))}}))}(e),n})),(0,f.A)(this,"triggerOnFieldsChange",(function(e,t){var n=i.callbacks.onFieldsChange;if(n){var o=i.getFields();if(t){var a=new Ph;t.forEach((function(e){var t=e.name,i=e.errors;a.set(t,i)})),o.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var r=o.filter((function(t){var i=t.name;return Ah(e,i)}));r.length&&n(r,o)}})),(0,f.A)(this,"validateFields",(function(e,t){var n,a;i.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(n=e,a=t):a=e;var r=!!n,s=r?n.map(Sh):[],l=[],c=String(Date.now()),d=new Set,u=a||{},h=u.recursive,p=u.dirty;i.getFieldEntities(!0).forEach((function(e){if(r||s.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!p||e.isFieldDirty())){var t=e.getNamePath();if(d.add(t.join(c)),!r||Ah(s,t,h)){var n=e.validateRules((0,x.A)({validateMessages:(0,x.A)((0,x.A)({},uh),i.validateMessages)},a));l.push(n.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var i,n=[],a=[];return null===(i=e.forEach)||void 0===i||i.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?a.push.apply(a,(0,o.A)(i)):n.push.apply(n,(0,o.A)(i))})),n.length?Promise.reject({name:t,errors:n,warnings:a}):{name:t,errors:n,warnings:a}})))}}}));var g=function(e){var t=!1,i=e.length,n=[];return e.length?new Promise((function(o,a){e.forEach((function(e,r){e.catch((function(e){return t=!0,e})).then((function(e){i-=1,n[r]=e,i>0||(t&&a(n),o(n))}))}))})):Promise.resolve([])}(l);i.lastValidatePromise=g,g.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));i.notifyObservers(i.store,t,{type:"validateFinish"}),i.triggerOnFieldsChange(t,e)}));var f=g.then((function(){return i.lastValidatePromise===g?Promise.resolve(i.getFieldsValue(s)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:i.getFieldsValue(s),errorFields:t,outOfDate:i.lastValidatePromise!==g})}));f.catch((function(e){return e}));var m=s.filter((function(e){return d.has(e.join(c))}));return i.triggerOnFieldsChange(m),f})),(0,f.A)(this,"submit",(function(){i.warningUnhooked(),i.validateFields().then((function(e){var t=i.callbacks.onFinish;if(t)try{t(e)}catch(n){console.error(n)}})).catch((function(e){var t=i.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const Bh=function(t){var i=e.useRef(),n=e.useState({}),o=(0,g.A)(n,2)[1];if(!i.current)if(t)i.current=t;else{var a=new jh((function(){o({})}));i.current=a.getForm()}return[i.current]};var $h=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Fh=function(t){var i=t.validateMessages,n=t.onFormChange,o=t.onFormFinish,a=t.children,r=e.useContext($h),s=e.useRef({});return e.createElement($h.Provider,{value:(0,x.A)((0,x.A)({},r),{},{validateMessages:(0,x.A)((0,x.A)({},r.validateMessages),i),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),r.triggerFormChange(e,t)},triggerFormFinish:function(e,t){o&&o(e,{values:t,forms:s.current}),r.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=(0,x.A)((0,x.A)({},s.current),{},(0,f.A)({},e,t))),r.registerForm(e,t)},unregisterForm:function(e){var t=(0,x.A)({},s.current);delete t[e],s.current=t,r.unregisterForm(e)}})},a)};const _h=$h;var Hh=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const Wh=function(t,i){var n=t.name,a=t.initialValues,r=t.fields,s=t.form,l=t.preserve,c=t.children,d=t.component,u=void 0===d?"form":d,p=t.validateMessages,f=t.validateTrigger,m=void 0===f?"onChange":f,v=t.onValuesChange,b=t.onFieldsChange,M=t.onFinish,A=t.onFinishFailed,k=t.clearOnDestroy,w=y(t,Hh),C=e.useRef(null),I=e.useContext(_h),D=Bh(s),N=(0,g.A)(D,1)[0],E=N.getInternalHooks(Tu),O=E.useSubscribe,L=E.setInitialValues,T=E.setCallbacks,R=E.setValidateMessages,P=E.setPreserve,z=E.destroyForm;e.useImperativeHandle(i,(function(){return(0,x.A)((0,x.A)({},N),{},{nativeElement:C.current})})),e.useEffect((function(){return I.registerForm(n,N),function(){I.unregisterForm(n)}}),[I,N,n]),R((0,x.A)((0,x.A)({},I.validateMessages),p)),T({onValuesChange:v,onFieldsChange:function(e){if(I.triggerFormChange(n,e),b){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];b.apply(void 0,[e].concat(i))}},onFinish:function(e){I.triggerFormFinish(n,e),M&&M(e)},onFinishFailed:A}),P(l);var j,B=e.useRef(null);L(a,!B.current),B.current||(B.current=!0),e.useEffect((function(){return function(){return z(k)}}),[]);var $="function"===typeof c;$?j=c(N.getFieldsValue(!0),N):j=c;O(!$);var F=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,S.A)(e)||"object"!==(0,S.A)(t))return!1;var i=Object.keys(e),n=Object.keys(t),a=new Set([].concat(i,n));return(0,o.A)(a).every((function(i){var n=e[i],o=t[i];return"function"===typeof n&&"function"===typeof o||n===o}))})(F.current||[],r||[])||N.setFields(r||[]),F.current=r}),[r,N]);var _=e.useMemo((function(){return(0,x.A)((0,x.A)({},N),{},{validateTrigger:m})}),[N,m]),H=e.createElement(zu.Provider,{value:null},e.createElement(Pu.Provider,{value:_},j));return!1===u?H:e.createElement(u,(0,h.A)({},w,{ref:C,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),N.submit()},onReset:function(e){var t;e.preventDefault(),N.resetFields(),null===(t=w.onReset)||void 0===t||t.call(w,e)}}),H)};function Gh(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Vh=function(){};const Uh=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o=i[0],a=i[1],r=void 0===a?{}:a,s=function(e){return e&&!!e._init}(r)?{form:r}:r,l=s.form,c=(0,e.useState)(),d=(0,g.A)(c,2),u=d[0],h=d[1],p=(0,e.useMemo)((function(){return Gh(u)}),[u]),f=(0,e.useRef)(p);f.current=p;var m=(0,e.useContext)(Pu),y=l||m,v=y&&y._init,b=Sh(o),x=(0,e.useRef)(b);return x.current=b,Vh(b),(0,e.useEffect)((function(){if(v){var e=y.getFieldsValue,t=(0,y.getInternalHooks)(Tu).registerWatch,i=function(e,t){var i=s.preserve?t:e;return"function"===typeof o?o(i):(0,xh.A)(i,x.current)},n=t((function(e,t){var n=i(e,t),o=Gh(n);f.current!==o&&(f.current=o,h(n))})),a=i(e(),e(!0));return u!==a&&h(a),n}}),[v]),u};var Kh=e.forwardRef(Wh);Kh.FormProvider=Fh,Kh.Field=Oh,Kh.List=Lh,Kh.useForm=Bh,Kh.useWatch=Uh;const Yh=Kh,Xh=e.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Zh=e.createContext(null),qh=t=>{const i=(0,s.A)(t,["prefixCls"]);return e.createElement(Fh,Object.assign({},i))},Qh=e.createContext({prefixCls:""}),Jh=e.createContext({});const ep=t=>{let{children:i,status:n,override:o}=t;const a=(0,e.useContext)(Jh),r=(0,e.useMemo)((()=>{const e=Object.assign({},a);return o&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,o,a]);return e.createElement(Jh.Provider,{value:r},i)},tp=(0,e.createContext)(void 0),ip=t=>{const{space:i,form:n,children:o}=t;if(void 0===o||null===o)return null;let a=o;return n&&(a=e.createElement(ep,{override:!0,status:!0},a)),i&&(a=e.createElement(fl,null,a)),a},np=new Y.Mo("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),op=new Y.Mo("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),ap=new Y.Mo("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),rp=new Y.Mo("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),sp=new Y.Mo("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),lp=new Y.Mo("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),cp=new Y.Mo("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),dp=new Y.Mo("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),up=new Y.Mo("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),hp=new Y.Mo("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),pp=new Y.Mo("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),gp=new Y.Mo("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),fp={zoom:{inKeyframes:np,outKeyframes:op},"zoom-big":{inKeyframes:ap,outKeyframes:rp},"zoom-big-fast":{inKeyframes:ap,outKeyframes:rp},"zoom-left":{inKeyframes:cp,outKeyframes:dp},"zoom-right":{inKeyframes:up,outKeyframes:hp},"zoom-up":{inKeyframes:sp,outKeyframes:lp},"zoom-down":{inKeyframes:pp,outKeyframes:gp}},mp=(e,t)=>{const{antCls:i}=e,n=`${i}-${t}`,{inKeyframes:o,outKeyframes:a}=fp[t];return[Rr(n,o,a,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${n}-enter,\n        ${n}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},yp=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function vp(e,t){return yp.reduce(((i,n)=>{const o=e[`${n}1`],a=e[`${n}3`],r=e[`${n}6`],s=e[`${n}7`];return Object.assign(Object.assign({},i),t(n,{lightColor:o,lightBorderColor:a,darkColor:r,textColor:s}))}),{})}const bp=e=>{const{componentCls:t,tooltipMaxWidth:i,tooltipColor:n,tooltipBg:o,tooltipBorderRadius:a,zIndexPopup:r,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:d}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"absolute",zIndex:r,display:"block",width:"max-content",maxWidth:i,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${t}-inner`]:{minWidth:"1em",minHeight:s,padding:`${(0,Y.zA)(e.calc(c).div(2).equal())} ${(0,Y.zA)(d)}`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(a,8)}},[`${t}-content`]:{position:"relative"}}),vp(e,((e,i)=>{let{darkColor:n}=i;return{[`&${t}-${e}`]:{[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{"--antd-arrow-background-color":n}}}}))),{"&-rtl":{direction:"rtl"}})},$d(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},xp=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},jd({contentRadius:e.borderRadius,limitVerticalRadius:!0})),Pd((0,Fe.oX)(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Sp=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,X.OF)("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:i,colorBgSpotlight:n}=e,o=(0,Fe.oX)(e,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:t,tooltipBg:n});return[bp(o),mp(e,"zoom-big-fast")]}),xp,{resetStyle:!1,injectStyle:t})(e)},Mp=yp.map((e=>`${e}-inverse`));function Ap(e,t){const i=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?yp.includes(e):[].concat((0,o.A)(Mp),(0,o.A)(yp)).includes(e)}(t),n=r()({[`${e}-${t}`]:t&&i}),a={},s={};return t&&!i&&(a.background=t,s["--antd-arrow-background-color"]=t),{className:n,overlayStyle:a,arrowStyle:s}}const kp=t=>{const{prefixCls:i,className:n,placement:o="top",title:a,color:s,overlayInnerStyle:c}=t,{getPrefixCls:d}=e.useContext(l.QO),u=d("tooltip",i),[h,p,g]=Sp(u),f=Ap(u,s),m=f.arrowStyle,y=Object.assign(Object.assign({},c),f.overlayStyle),v=r()(p,g,u,`${u}-pure`,`${u}-placement-${o}`,n,f.className);return h(e.createElement("div",{className:v,style:m},e.createElement("div",{className:`${u}-arrow`}),e.createElement(wu,Object.assign({},t,{className:p,prefixCls:u,overlayInnerStyle:y}),a)))};var wp=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Cp=e.forwardRef(((t,i)=>{var n,o;const{prefixCls:a,openClassName:s,getTooltipContainer:c,overlayClassName:d,color:u,overlayInnerStyle:h,children:p,afterOpenChange:g,afterVisibleChange:f,destroyTooltipOnHide:m,arrow:y=!0,title:v,overlay:b,builtinPlacements:x,arrowPointAtCenter:S=!1,autoAdjustOverflow:M=!0}=t,A=!!y,[,k]=(0,Se.Ay)(),{getPopupContainer:w,getPrefixCls:C,direction:I}=e.useContext(l.QO),D=Kd("Tooltip"),N=e.useRef(null),E=()=>{var e;null===(e=N.current)||void 0===e||e.forceAlign()};e.useImperativeHandle(i,(()=>{var e;return{forceAlign:E,forcePopupAlign:()=>{D.deprecated(!1,"forcePopupAlign","forceAlign"),E()},nativeElement:null===(e=N.current)||void 0===e?void 0:e.nativeElement}}));const[O,L]=(0,xt.A)(!1,{value:null!==(n=t.open)&&void 0!==n?n:t.visible,defaultValue:null!==(o=t.defaultOpen)&&void 0!==o?o:t.defaultVisible}),T=!v&&!b&&0!==v,R=e.useMemo((()=>{var e,t;let i=S;return"object"===typeof y&&(i=null!==(t=null!==(e=y.pointAtCenter)&&void 0!==e?e:y.arrowPointAtCenter)&&void 0!==t?t:S),x||Wd({arrowPointAtCenter:i,autoAdjustOverflow:M,arrowWidth:A?k.sizePopupArrow:0,borderRadius:k.borderRadius,offset:k.marginXXS,visibleFirst:!0})}),[S,y,x,k]),P=e.useMemo((()=>0===v?v:b||v||""),[b,v]),z=e.createElement(ip,{space:!0},"function"===typeof P?P():P),{getPopupContainer:j,placement:B="top",mouseEnterDelay:$=.1,mouseLeaveDelay:F=.1,overlayStyle:_,rootClassName:H}=t,W=wp(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),G=C("tooltip",a),V=C(),U=t["data-popover-inject"];let K=O;"open"in t||"visible"in t||!T||(K=!1);const Y=e.isValidElement(p)&&!js(p)?p:e.createElement("span",null,p),X=Y.props,Z=X.className&&"string"!==typeof X.className?X.className:r()(X.className,s||`${G}-open`),[q,Q,J]=Sp(G,!U),ee=Ap(G,u),te=ee.arrowStyle,ie=Object.assign(Object.assign({},h),ee.overlayStyle),ne=r()(d,{[`${G}-rtl`]:"rtl"===I},ee.className,H,Q,J),[oe,ae]=Rd("Tooltip",W.zIndex),re=e.createElement(Lu,Object.assign({},W,{zIndex:oe,showArrow:A,placement:B,mouseEnterDelay:$,mouseLeaveDelay:F,prefixCls:G,overlayClassName:ne,overlayStyle:Object.assign(Object.assign({},te),_),getTooltipContainer:j||c||w,ref:N,builtinPlacements:R,overlay:z,visible:K,onVisibleChange:e=>{var i,n;L(!T&&e),T||(null===(i=t.onOpenChange)||void 0===i||i.call(t,e),null===(n=t.onVisibleChange)||void 0===n||n.call(t,e))},afterVisibleChange:null!==g&&void 0!==g?g:f,overlayInnerStyle:ie,arrowContent:e.createElement("span",{className:`${G}-arrow-content`}),motion:{motionName:Ir(V,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!m}),K?Bs(Y,{className:Z}):Y);return q(e.createElement(Ed.Provider,{value:ae},re))}));Cp._InternalPanelDoNotUseOrYouWillBeFired=kp;const Ip=Cp,Dp=t=>{var i;const{className:n,children:o,icon:a,title:l,danger:c,extra:d}=t,{prefixCls:h,firstLevel:p,direction:g,disableMenuItemTitleTooltip:f,inlineCollapsed:m}=e.useContext(Mu),{siderCollapsed:y}=e.useContext(oe);let v=l;"undefined"===typeof l?v=p?o:"":!1===l&&(v="");const b={title:v};y||m||(b.title=null,b.open=!1);const x=u(o).length;let S=e.createElement(Ta,Object.assign({},(0,s.A)(t,["title","icon","danger"]),{className:r()({[`${h}-item-danger`]:c,[`${h}-item-only-child`]:1===(a?x+1:x)},n),title:"string"===typeof l?l:void 0}),Bs(a,{className:r()(e.isValidElement(a)?null===(i=a.props)||void 0===i?void 0:i.className:"",`${h}-item-icon`)}),(t=>{const i=null===o||void 0===o?void 0:o[0],n=e.createElement("span",{className:r()(`${h}-title-content`,{[`${h}-title-content-with-extra`]:!!d||0===d})},o);return(!a||e.isValidElement(o)&&"span"===o.type)&&o&&t&&p&&"string"===typeof i?e.createElement("div",{className:`${h}-inline-collapsed-noicon`},i.charAt(0)):n})(m));return f||(S=e.createElement(Ip,Object.assign({},b,{placement:"rtl"===g?"left":"right",overlayClassName:`${h}-inline-collapsed-tooltip`}),S)),S};var Np=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Ep=e.createContext(null),Op=e.forwardRef(((t,i)=>{const{children:n}=t,o=Np(t,["children"]),a=e.useContext(Ep),r=e.useMemo((()=>Object.assign(Object.assign({},a),o)),[a,o.prefixCls,o.mode,o.selectable,o.rootClassName]),s=(0,Dt.H3)(n),l=(0,Dt.xK)(i,s?n.ref:null);return e.createElement(Ep.Provider,{value:r},e.createElement(ip,{space:!0},s?e.cloneElement(n,{ref:l}):n))})),Lp=Ep,Tp=e=>{const{componentCls:t,motionDurationSlow:i,horizontalLineHeight:n,colorSplit:o,lineWidth:a,lineType:r,itemPaddingInline:s}=e;return{[`${t}-horizontal`]:{lineHeight:n,border:0,borderBottom:`${(0,Y.zA)(a)} ${r} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${t}-item:hover,\n        > ${t}-item-active,\n        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${i}`,`background ${i}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Rp=e=>{let{componentCls:t,menuArrowOffset:i,calc:n}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,\n    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,Y.zA)(n(i).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,Y.zA)(i)})`}}}}},Pp=e=>Object.assign({},(0,Or.jk)(e)),zp=(e,t)=>{const{componentCls:i,itemColor:n,itemSelectedColor:o,groupTitleColor:a,itemBg:r,subMenuItemBg:s,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:d,activeBarBorderWidth:u,motionDurationSlow:h,motionEaseInOut:p,motionEaseOut:g,itemPaddingInline:f,motionDurationMid:m,itemHoverColor:y,lineType:v,colorSplit:b,itemDisabledColor:x,dangerItemColor:S,dangerItemHoverColor:M,dangerItemSelectedColor:A,dangerItemActiveBg:k,dangerItemSelectedBg:w,popupBg:C,itemHoverBg:I,itemActiveBg:D,menuSubMenuBg:N,horizontalItemSelectedColor:E,horizontalItemSelectedBg:O,horizontalItemBorderRadius:L,horizontalItemHoverBg:T}=e;return{[`${i}-${t}, ${i}-${t} > ${i}`]:{color:n,background:r,[`&${i}-root:focus-visible`]:Object.assign({},Pp(e)),[`${i}-item`]:{"&-group-title, &-extra":{color:a}},[`${i}-submenu-selected`]:{[`> ${i}-submenu-title`]:{color:o}},[`${i}-item, ${i}-submenu-title`]:{color:n,[`&:not(${i}-item-disabled):focus-visible`]:Object.assign({},Pp(e))},[`${i}-item-disabled, ${i}-submenu-disabled`]:{color:`${x} !important`},[`${i}-item:not(${i}-item-selected):not(${i}-submenu-selected)`]:{[`&:hover, > ${i}-submenu-title:hover`]:{color:y}},[`&:not(${i}-horizontal)`]:{[`${i}-item:not(${i}-item-selected)`]:{"&:hover":{backgroundColor:I},"&:active":{backgroundColor:D}},[`${i}-submenu-title`]:{"&:hover":{backgroundColor:I},"&:active":{backgroundColor:D}}},[`${i}-item-danger`]:{color:S,[`&${i}-item:hover`]:{[`&:not(${i}-item-selected):not(${i}-submenu-selected)`]:{color:M}},[`&${i}-item:active`]:{background:k}},[`${i}-item a`]:{"&, &:hover":{color:"inherit"}},[`${i}-item-selected`]:{color:o,[`&${i}-item-danger`]:{color:A},"a, a:hover":{color:"inherit"}},[`& ${i}-item-selected`]:{backgroundColor:l,[`&${i}-item-danger`]:{backgroundColor:w}},[`&${i}-submenu > ${i}`]:{backgroundColor:N},[`&${i}-popup > ${i}`]:{backgroundColor:C},[`&${i}-submenu-popup > ${i}`]:{backgroundColor:C},[`&${i}-horizontal`]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{[`> ${i}-item, > ${i}-submenu`]:{top:u,marginTop:e.calc(u).mul(-1).equal(),marginBottom:0,borderRadius:L,"&::after":{position:"absolute",insetInline:f,bottom:0,borderBottom:`${(0,Y.zA)(c)} solid transparent`,transition:`border-color ${h} ${p}`,content:'""'},"&:hover, &-active, &-open":{background:T,"&::after":{borderBottomWidth:c,borderBottomColor:E}},"&-selected":{color:E,backgroundColor:O,"&:hover":{backgroundColor:O},"&::after":{borderBottomWidth:c,borderBottomColor:E}}}}),[`&${i}-root`]:{[`&${i}-inline, &${i}-vertical`]:{borderInlineEnd:`${(0,Y.zA)(u)} ${v} ${b}`}},[`&${i}-inline`]:{[`${i}-sub${i}-inline`]:{background:s},[`${i}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,Y.zA)(d)} solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${m} ${g}`,`opacity ${m} ${g}`].join(","),content:'""'},[`&${i}-item-danger`]:{"&::after":{borderInlineEndColor:A}}},[`${i}-selected, ${i}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${m} ${p}`,`opacity ${m} ${p}`].join(",")}}}}}},jp=e=>{const{componentCls:t,itemHeight:i,itemMarginInline:n,padding:o,menuArrowSize:a,marginXS:r,itemMarginBlock:s,itemWidth:l,itemPaddingInline:c}=e,d=e.calc(a).add(o).add(r).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:i,lineHeight:(0,Y.zA)(i),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:n,marginBlock:s,width:l},[`> ${t}-item,\n            > ${t}-submenu > ${t}-submenu-title`]:{height:i,lineHeight:(0,Y.zA)(i)},[`${t}-item-group-list ${t}-submenu-title,\n            ${t}-submenu-title`]:{paddingInlineEnd:d}}},Bp=e=>{const{componentCls:t,iconCls:i,itemHeight:n,colorTextLightSolid:o,dropdownWidth:a,controlHeightLG:r,motionEaseOut:s,paddingXL:l,itemMarginInline:c,fontSizeLG:d,motionDurationFast:u,motionDurationSlow:h,paddingXS:p,boxShadowSecondary:g,collapsedWidth:f,collapsedIconSize:m}=e,y={height:n,lineHeight:(0,Y.zA)(n),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},jp(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},jp(e)),{boxShadow:g})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:a,maxHeight:`calc(100vh - ${(0,Y.zA)(e.calc(r).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${u} ${s}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:y,[`& ${t}-item-group-title`]:{paddingInlineStart:l}},[`${t}-item`]:y}},{[`${t}-inline-collapsed`]:{width:f,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:d,textAlign:"center"}}},[`> ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,\n          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,Y.zA)(e.calc(d).div(2).equal())} - ${(0,Y.zA)(c)})`,textOverflow:"clip",[`\n            ${t}-submenu-arrow,\n            ${t}-submenu-expand-icon\n          `]:{opacity:0},[`${t}-item-icon, ${i}`]:{margin:0,fontSize:m,lineHeight:(0,Y.zA)(n),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${i}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${i}`]:{display:"none"},"a, a:hover":{color:o}},[`${t}-item-group-title`]:Object.assign(Object.assign({},Or.L9),{paddingInline:p})}}]},$p=e=>{const{componentCls:t,motionDurationSlow:i,motionDurationMid:n,motionEaseInOut:o,motionEaseOut:a,iconCls:r,iconSize:s,iconMarginInlineEnd:l}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${i}`,`background ${i}`,`padding calc(${i} + 0.1s) ${o}`].join(","),[`${t}-item-icon, ${r}`]:{minWidth:s,fontSize:s,transition:[`font-size ${n} ${a}`,`margin ${i} ${o}`,`color ${i}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${i} ${o}`,`margin ${i}`,`color ${i}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,Or.Nk)()),[`&${t}-item-only-child`]:{[`> ${r}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Fp=e=>{const{componentCls:t,motionDurationSlow:i,motionEaseInOut:n,borderRadius:o,menuArrowSize:a,menuArrowOffset:r}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:a,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${i} ${n}, opacity ${i}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(a).mul(.6).equal(),height:e.calc(a).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${i} ${n}`,`transform ${i} ${n}`,`top ${i} ${n}`,`color ${i} ${n}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,Y.zA)(e.calc(r).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,Y.zA)(r)})`}}}}},_p=e=>{const{antCls:t,componentCls:i,fontSize:n,motionDurationSlow:o,motionDurationMid:a,motionEaseInOut:r,paddingXS:s,padding:l,colorSplit:c,lineWidth:d,zIndexPopup:u,borderRadiusLG:h,subMenuItemBorderRadius:p,menuArrowSize:g,menuArrowOffset:f,lineType:m,groupTitleLineHeight:y,groupTitleFontSize:v}=e;return[{"":{[i]:Object.assign(Object.assign({},(0,Or.t6)()),{"&-hidden":{display:"none"}})},[`${i}-submenu-hidden`]:{display:"none"}},{[i]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),(0,Or.t6)()),{marginBottom:0,paddingInlineStart:0,fontSize:n,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${i}-item`]:{flex:"none"}},[`${i}-item, ${i}-submenu, ${i}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${i}-item-group-title`]:{padding:`${(0,Y.zA)(s)} ${(0,Y.zA)(l)}`,fontSize:v,lineHeight:y,transition:`all ${o}`},[`&-horizontal ${i}-submenu`]:{transition:[`border-color ${o} ${r}`,`background ${o} ${r}`].join(",")},[`${i}-submenu, ${i}-submenu-inline`]:{transition:[`border-color ${o} ${r}`,`background ${o} ${r}`,`padding ${a} ${r}`].join(",")},[`${i}-submenu ${i}-sub`]:{cursor:"initial",transition:[`background ${o} ${r}`,`padding ${o} ${r}`].join(",")},[`${i}-title-content`]:{transition:`color ${o}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${i}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding,fontSize:e.fontSizeSM}},[`${i}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${i}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:m,borderWidth:0,borderTopWidth:d,marginBlock:d,padding:0,"&-dashed":{borderStyle:"dashed"}}}),$p(e)),{[`${i}-item-group`]:{[`${i}-item-group-list`]:{margin:0,padding:0,[`${i}-item, ${i}-submenu-title`]:{paddingInline:`${(0,Y.zA)(e.calc(n).mul(2).equal())} ${(0,Y.zA)(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:u,borderRadius:h,boxShadow:"none",transformOrigin:"0 0",[`&${i}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${i}`]:Object.assign(Object.assign(Object.assign({borderRadius:h},$p(e)),Fp(e)),{[`${i}-item, ${i}-submenu > ${i}-submenu-title`]:{borderRadius:p},[`${i}-submenu-title::after`]:{transition:`transform ${o} ${r}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Fp(e)),{[`&-inline-collapsed ${i}-submenu-arrow,\n        &-inline ${i}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,Y.zA)(f)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,Y.zA)(e.calc(f).mul(-1).equal())})`}},[`${i}-submenu-open${i}-submenu-inline > ${i}-submenu-title > ${i}-submenu-arrow`]:{transform:`translateY(${(0,Y.zA)(e.calc(g).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,Y.zA)(e.calc(f).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,Y.zA)(f)})`}}})},{[`${t}-layout-header`]:{[i]:{lineHeight:"inherit"}}}]},Hp=e=>{var t,i,n;const{colorPrimary:o,colorError:a,colorTextDisabled:r,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:d,colorFillAlter:u,colorFillContent:h,lineWidth:p,lineWidthBold:g,controlItemBgActive:f,colorBgTextHover:m,controlHeightLG:y,lineHeight:v,colorBgElevated:b,marginXXS:x,padding:S,fontSize:M,controlHeightSM:A,fontSizeLG:k,colorTextLightSolid:w,colorErrorHover:C}=e,I=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,D=null!==(i=e.activeBarBorderWidth)&&void 0!==i?i:p,N=null!==(n=e.itemMarginInline)&&void 0!==n?n:e.marginXXS,E=new Ie.q(w).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:o,itemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:d,itemBg:d,colorItemBgHover:m,itemHoverBg:m,colorItemBgActive:h,itemActiveBg:f,colorSubItemBg:u,subMenuItemBg:u,colorItemBgSelected:f,itemSelectedBg:f,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:I,colorActiveBarHeight:g,activeBarHeight:g,colorActiveBarBorderSize:p,activeBarBorderWidth:D,colorItemTextDisabled:r,itemDisabledColor:r,colorDangerItemText:a,dangerItemColor:a,colorDangerItemTextHover:a,dangerItemHoverColor:a,colorDangerItemTextSelected:a,dangerItemSelectedColor:a,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:N,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:y,groupTitleLineHeight:v,collapsedWidth:2*y,popupBg:b,itemMarginBlock:x,itemPaddingInline:S,horizontalLineHeight:1.15*y+"px",iconSize:M,iconMarginInlineEnd:A-M,collapsedIconSize:k,groupTitleFontSize:M,darkItemDisabledColor:new Ie.q(w).setAlpha(.25).toRgbString(),darkItemColor:E,darkDangerItemColor:a,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:w,darkItemSelectedBg:o,darkDangerItemSelectedBg:a,darkItemHoverBg:"transparent",darkGroupTitleColor:E,darkItemHoverColor:w,darkDangerItemHoverColor:C,darkDangerItemSelectedColor:w,darkDangerItemActiveBg:a,itemWidth:I?`calc(100% + ${D}px)`:`calc(100% - ${2*N}px)`}},Wp=t=>{var i;const{popupClassName:n,icon:o,title:a,theme:l}=t,c=e.useContext(Mu),{prefixCls:d,inlineCollapsed:u,theme:h}=c,p=qo();let g;if(o){const t=e.isValidElement(a)&&"span"===a.type;g=e.createElement(e.Fragment,null,Bs(o,{className:r()(e.isValidElement(o)?null===(i=o.props)||void 0===i?void 0:i.className:"",`${d}-item-icon`)}),t?a:e.createElement("span",{className:`${d}-title-content`},a))}else g=u&&!p.length&&a&&"string"===typeof a?e.createElement("div",{className:`${d}-inline-collapsed-noicon`},a.charAt(0)):e.createElement("span",{className:`${d}-title-content`},a);const f=e.useMemo((()=>Object.assign(Object.assign({},c),{firstLevel:!1})),[c]),[m]=Rd("Menu");return e.createElement(Mu.Provider,{value:f},e.createElement(Xa,Object.assign({},(0,s.A)(t,["icon"]),{title:g,popupClassName:r()(d,n,`${d}-${l||h}`),popupStyle:Object.assign({zIndex:m},t.popupStyle)})))};var Gp=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function Vp(e){return null===e||!1===e}const Up={item:Dp,submenu:Wp,divider:ku},Kp=(0,e.forwardRef)(((t,i)=>{var n;const o=e.useContext(Lp),a=o||{},{getPrefixCls:c,getPopupContainer:d,direction:u,menu:h}=e.useContext(l.QO),p=c(),{prefixCls:g,className:f,style:m,theme:y="light",expandIcon:v,_internalDisableMenuItemTitleTooltip:b,inlineCollapsed:x,siderCollapsed:S,rootClassName:M,mode:A,selectable:k,onClick:w,overflowedIndicatorPopupClassName:C}=t,I=Gp(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),D=(0,s.A)(I,["collapsedWidth"]);null===(n=a.validator)||void 0===n||n.call(a,{mode:A});const N=(0,di.A)((function(){var e;null===w||void 0===w||w.apply(void 0,arguments),null===(e=a.onClick)||void 0===e||e.call(a)})),E=a.mode||A,O=null!==k&&void 0!==k?k:a.selectable,L=e.useMemo((()=>void 0!==S?S:x),[x,S]),T={horizontal:{motionName:`${p}-slide-up`},inline:Dr(p),other:{motionName:`${p}-zoom-big`}},R=c("menu",g||a.prefixCls),P=Mr(R),[z,j,B]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,X.OF)("Menu",(e=>{const{colorBgElevated:t,controlHeightLG:i,fontSize:n,darkItemColor:o,darkDangerItemColor:a,darkItemBg:r,darkSubMenuItemBg:s,darkItemSelectedColor:l,darkItemSelectedBg:c,darkDangerItemSelectedBg:d,darkItemHoverBg:u,darkGroupTitleColor:h,darkItemHoverColor:p,darkItemDisabledColor:g,darkDangerItemHoverColor:f,darkDangerItemSelectedColor:m,darkDangerItemActiveBg:y,popupBg:v,darkPopupBg:b}=e,x=e.calc(n).div(7).mul(5).equal(),S=(0,Fe.oX)(e,{menuArrowSize:x,menuHorizontalHeight:e.calc(i).mul(1.15).equal(),menuArrowOffset:e.calc(x).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:v}),M=(0,Fe.oX)(S,{itemColor:o,itemHoverColor:p,groupTitleColor:h,itemSelectedColor:l,itemBg:r,popupBg:b,subMenuItemBg:s,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:u,itemDisabledColor:g,dangerItemColor:a,dangerItemHoverColor:f,dangerItemSelectedColor:m,dangerItemActiveBg:y,dangerItemSelectedBg:d,menuSubMenuBg:s,horizontalItemSelectedColor:l,horizontalItemSelectedBg:c});return[_p(S),Tp(S),Bp(S),zp(S,"light"),zp(M,"dark"),Rp(S),Sc(S),Gr(S,"slide-up"),Gr(S,"slide-down"),mp(S,"zoom-big")]}),Hp,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:i,unitless:{groupTitleLineHeight:!0}})(e,t)}(R,P,!o),$=r()(`${R}-${y}`,null===h||void 0===h?void 0:h.className,f),F=e.useMemo((()=>{var t,i;if("function"===typeof v||Vp(v))return v||null;if("function"===typeof a.expandIcon||Vp(a.expandIcon))return a.expandIcon||null;if("function"===typeof(null===h||void 0===h?void 0:h.expandIcon)||Vp(null===h||void 0===h?void 0:h.expandIcon))return(null===h||void 0===h?void 0:h.expandIcon)||null;const n=null!==(t=null!==v&&void 0!==v?v:null===a||void 0===a?void 0:a.expandIcon)&&void 0!==t?t:null===h||void 0===h?void 0:h.expandIcon;return Bs(n,{className:r()(`${R}-submenu-expand-icon`,e.isValidElement(n)?null===(i=n.props)||void 0===i?void 0:i.className:void 0)})}),[v,null===a||void 0===a?void 0:a.expandIcon,null===h||void 0===h?void 0:h.expandIcon,R]),_=e.useMemo((()=>({prefixCls:R,inlineCollapsed:L||!1,direction:u,firstLevel:!0,theme:y,mode:E,disableMenuItemTitleTooltip:b})),[R,L,u,b,y]);return z(e.createElement(Lp.Provider,{value:null},e.createElement(Mu.Provider,{value:_},e.createElement(rr,Object.assign({getPopupContainer:d,overflowedIndicator:e.createElement(mt,null),overflowedIndicatorPopupClassName:r()(R,`${R}-${y}`,C),mode:E,selectable:O,onClick:N},D,{inlineCollapsed:L,style:Object.assign(Object.assign({},null===h||void 0===h?void 0:h.style),m),className:$,prefixCls:R,direction:u,defaultMotions:T,expandIcon:F,ref:i,rootClassName:r()(M,j,a.rootClassName,B,P),_internalComponents:Up})))))})),Yp=(0,e.forwardRef)(((t,i)=>{const n=(0,e.useRef)(null),o=e.useContext(oe);return(0,e.useImperativeHandle)(i,(()=>({menu:n.current,focus:e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)}}))),e.createElement(Kp,Object.assign({ref:n},t,o))}));Yp.Item=Dp,Yp.SubMenu=Wp,Yp.Divider=ku,Yp.ItemGroup=Ja;const Xp=Yp,Zp=new Y.Mo("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),qp=new Y.Mo("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Qp=new Y.Mo("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Jp=new Y.Mo("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),eg=new Y.Mo("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),tg=new Y.Mo("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ig={"move-up":{inKeyframes:new Y.Mo("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Y.Mo("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:Zp,outKeyframes:qp},"move-left":{inKeyframes:Qp,outKeyframes:Jp},"move-right":{inKeyframes:eg,outKeyframes:tg}},ng=(e,t)=>{const{antCls:i}=e,n=`${i}-${t}`,{inKeyframes:o,outKeyframes:a}=ig[t];return[Rr(n,o,a,e.motionDurationMid),{[`\n        ${n}-enter,\n        ${n}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},og=e=>{const{componentCls:t,menuCls:i,colorError:n,colorTextLightSolid:o}=e,a=`${i}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${i} ${a}`]:{[`&${a}-danger:not(${a}-disabled)`]:{color:n,"&:hover":{color:o,backgroundColor:n}}}}}},ag=e=>{const{componentCls:t,menuCls:i,zIndexPopup:n,dropdownArrowDistance:o,sizePopupArrow:a,antCls:r,iconCls:s,motionDurationMid:l,paddingBlock:c,fontSize:d,dropdownEdgeChildPadding:u,colorTextDisabled:h,fontSizeIcon:p,controlPaddingHorizontal:g,colorBgElevated:f}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(o).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${r}-btn`]:{[`& > ${s}-down, & > ${r}-btn-icon > ${s}-down`]:{fontSize:p}},[`${t}-wrap`]:{position:"relative",[`${r}-btn > ${s}-down`]:{fontSize:p},[`${s}-down::before`]:{transition:`transform ${l}`}},[`${t}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${r}-slide-down-enter${r}-slide-down-enter-active${t}-placement-bottomLeft,\n          &${r}-slide-down-appear${r}-slide-down-appear-active${t}-placement-bottomLeft,\n          &${r}-slide-down-enter${r}-slide-down-enter-active${t}-placement-bottom,\n          &${r}-slide-down-appear${r}-slide-down-appear-active${t}-placement-bottom,\n          &${r}-slide-down-enter${r}-slide-down-enter-active${t}-placement-bottomRight,\n          &${r}-slide-down-appear${r}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Pr},[`&${r}-slide-up-enter${r}-slide-up-enter-active${t}-placement-topLeft,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${t}-placement-topLeft,\n          &${r}-slide-up-enter${r}-slide-up-enter-active${t}-placement-top,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${t}-placement-top,\n          &${r}-slide-up-enter${r}-slide-up-enter-active${t}-placement-topRight,\n          &${r}-slide-up-appear${r}-slide-up-appear-active${t}-placement-topRight`]:{animationName:jr},[`&${r}-slide-down-leave${r}-slide-down-leave-active${t}-placement-bottomLeft,\n          &${r}-slide-down-leave${r}-slide-down-leave-active${t}-placement-bottom,\n          &${r}-slide-down-leave${r}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:zr},[`&${r}-slide-up-leave${r}-slide-up-leave-active${t}-placement-topLeft,\n          &${r}-slide-up-leave${r}-slide-up-leave-active${t}-placement-top,\n          &${r}-slide-up-leave${r}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Br}}},$d(e,f,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${i}`]:{position:"relative",margin:0},[`${i}-submenu-popup`]:{position:"absolute",zIndex:n,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,Or.dF)(e)),{[i]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:f,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,Or.K8)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${i}-item-group-title`]:{padding:`${(0,Y.zA)(c)} ${(0,Y.zA)(g)}`,color:e.colorTextDescription,transition:`all ${l}`},[`${i}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${i}-item-icon`]:{minWidth:d,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${i}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${i}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${i}-item, ${i}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,Y.zA)(c)} ${(0,Y.zA)(g)}`,color:e.colorText,fontWeight:"normal",fontSize:d,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,Or.K8)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:h,cursor:"not-allowed","&:hover":{color:h,backgroundColor:f,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,Y.zA)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:p,fontStyle:"normal"}}}),[`${i}-item-group-list`]:{margin:`0 ${(0,Y.zA)(e.marginXS)}`,padding:0,listStyle:"none"},[`${i}-submenu-title`]:{paddingInlineEnd:e.calc(g).add(e.fontSizeSM).equal()},[`${i}-submenu-vertical`]:{position:"relative"},[`${i}-submenu${i}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:h,backgroundColor:f,cursor:"not-allowed"}},[`${i}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[Gr(e,"slide-up"),Gr(e,"slide-down"),ng(e,"move-up"),ng(e,"move-down"),mp(e,"zoom-big")]]},rg=(0,X.OF)("Dropdown",(e=>{const{marginXXS:t,sizePopupArrow:i,paddingXXS:n,componentCls:o}=e,a=(0,Fe.oX)(e,{menuCls:`${o}-menu`,dropdownArrowDistance:e.calc(i).div(2).add(t).equal(),dropdownEdgeChildPadding:n});return[ag(a),og(a)]}),(e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},jd({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),Pd(e))),{resetStyle:!1}),sg=t=>{var i;const{menu:n,arrow:o,prefixCls:a,children:c,trigger:d,disabled:u,dropdownRender:h,getPopupContainer:p,overlayClassName:g,rootClassName:f,overlayStyle:m,open:y,onOpenChange:v,visible:b,onVisibleChange:x,mouseEnterDelay:S=.15,mouseLeaveDelay:M=.1,autoAdjustOverflow:A=!0,placement:k="",overlay:w,transitionName:C}=t,{getPopupContainer:I,getPrefixCls:D,direction:N,dropdown:E}=e.useContext(l.QO);Kd("Dropdown");const O=e.useMemo((()=>{const e=D();return void 0!==C?C:k.includes("top")?`${e}-slide-down`:`${e}-slide-up`}),[D,k,C]),L=e.useMemo((()=>k?k.includes("Center")?k.slice(0,k.indexOf("Center")):k:"rtl"===N?"bottomRight":"bottomLeft"),[k,N]);const T=D("dropdown",a),R=Mr(T),[P,z,j]=rg(T,R),[,B]=(0,Se.Ay)(),$=e.Children.only(c),F=Bs($,{className:r()(`${T}-trigger`,{[`${T}-rtl`]:"rtl"===N},$.props.className),disabled:null!==(i=$.props.disabled)&&void 0!==i?i:u}),_=u?[]:d,H=!!(null===_||void 0===_?void 0:_.includes("contextMenu")),[W,G]=(0,xt.A)(!1,{value:null!==y&&void 0!==y?y:b}),V=(0,di.A)((e=>{null===v||void 0===v||v(e,{source:"trigger"}),null===x||void 0===x||x(e),G(e)})),K=r()(g,f,z,j,R,null===E||void 0===E?void 0:E.className,{[`${T}-rtl`]:"rtl"===N}),Y=Wd({arrowPointAtCenter:"object"===typeof o&&o.pointAtCenter,autoAdjustOverflow:A,offset:B.marginXXS,arrowWidth:o?B.sizePopupArrow:0,borderRadius:B.borderRadius}),X=e.useCallback((()=>{(null===n||void 0===n?void 0:n.selectable)&&(null===n||void 0===n?void 0:n.multiple)||(null===v||void 0===v||v(!1,{source:"menu"}),G(!1))}),[null===n||void 0===n?void 0:n.selectable,null===n||void 0===n?void 0:n.multiple]),[Z,q]=Rd("Dropdown",null===m||void 0===m?void 0:m.zIndex);let Q=e.createElement(yo,Object.assign({alignPoint:H},(0,s.A)(t,["rootClassName"]),{mouseEnterDelay:S,mouseLeaveDelay:M,visible:W,builtinPlacements:Y,arrow:!!o,overlayClassName:K,prefixCls:T,getPopupContainer:p||I,transitionName:O,trigger:_,overlay:()=>{let t;return t=(null===n||void 0===n?void 0:n.items)?e.createElement(Xp,Object.assign({},n)):"function"===typeof w?w():w,h&&(t=h(t)),t=e.Children.only("string"===typeof t?e.createElement("span",null,t):t),e.createElement(Op,{prefixCls:`${T}-menu`,rootClassName:r()(j,R),expandIcon:e.createElement("span",{className:`${T}-menu-submenu-arrow`},e.createElement(U,{className:`${T}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:X,validator:e=>{let{mode:t}=e}},t)},placement:L,onVisibleChange:V,overlayStyle:Object.assign(Object.assign(Object.assign({},null===E||void 0===E?void 0:E.style),m),{zIndex:Z})}),F);return Z&&(Q=e.createElement(Ed.Provider,{value:q},Q)),P(Q)};const lg=Su(sg,"dropdown",(e=>e),(function(e){return Object.assign(Object.assign({},e),{align:{overflow:{adjustX:!1,adjustY:!1}}})}));sg._InternalPanelDoNotUseOrYouWillBeFired=t=>e.createElement(lg,Object.assign({},t),e.createElement("span",null));const cg=sg,dg=t=>{let{children:i}=t;const{getPrefixCls:n}=e.useContext(l.QO),o=n("breadcrumb");return e.createElement("li",{className:`${o}-separator`,"aria-hidden":"true"},""===i?i:i||"/")};dg.__ANT_BREADCRUMB_SEPARATOR=!0;const ug=dg;var hg=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function pg(t,i,n,o){if(null===n||void 0===n)return null;const{className:a,onClick:s}=i,l=hg(i,["className","onClick"]),c=Object.assign(Object.assign({},fc(l,{data:!0,aria:!0})),{onClick:s});return void 0!==o?e.createElement("a",Object.assign({},c,{className:r()(`${t}-link`,a),href:o}),n):e.createElement("span",Object.assign({},c,{className:r()(`${t}-link`,a)}),n)}function gg(e,t){return(i,n,o,a,r)=>{if(t)return t(i,n,o,a);const s=function(e,t){if(void 0===e.title||null===e.title)return null;const i=Object.keys(t).join("|");return"object"===typeof e.title?e.title:String(e.title).replace(new RegExp(`:(${i})`,"g"),((e,i)=>t[i]||e))}(i,n);return pg(e,i,s,r)}}var fg=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const mg=t=>{const{prefixCls:i,separator:n="/",children:o,menu:a,overlay:r,dropdownProps:s,href:l}=t;const c=(t=>{if(a||r){const n=Object.assign({},s);if(a){const t=a||{},{items:i}=t,o=fg(t,["items"]);n.menu=Object.assign(Object.assign({},o),{items:null===i||void 0===i?void 0:i.map(((t,i)=>{var{key:n,title:o,label:a,path:r}=t,s=fg(t,["key","title","label","path"]);let c=null!==a&&void 0!==a?a:o;return r&&(c=e.createElement("a",{href:`${l}${r}`},c)),Object.assign(Object.assign({},s),{key:null!==n&&void 0!==n?n:i,label:c})}))})}else r&&(n.overlay=r);return e.createElement(cg,Object.assign({placement:"bottom"},n),e.createElement("span",{className:`${i}-overlay-link`},t,e.createElement(Nd,null)))}return t})(o);return void 0!==c&&null!==c?e.createElement(e.Fragment,null,e.createElement("li",null,c),n&&e.createElement(ug,null,n)):null},yg=t=>{const{prefixCls:i,children:n,href:o}=t,a=fg(t,["prefixCls","children","href"]),{getPrefixCls:r}=e.useContext(l.QO),s=r("breadcrumb",i);return e.createElement(mg,Object.assign({},a,{prefixCls:s}),pg(s,a,n,o))};yg.__ANT_BREADCRUMB_ITEM=!0;const vg=yg,bg=(0,X.OF)("Breadcrumb",(e=>(e=>{const{componentCls:t,iconCls:i,calc:n}=e;return{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{color:e.itemColor,fontSize:e.fontSize,[i]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${(0,Y.zA)(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:n(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,Or.K8)(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`\n          > ${i} + span,\n          > ${i} + a\n        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${(0,Y.zA)(e.paddingXXS)}`,marginInline:n(e.marginXXS).mul(-1).equal(),[`> ${i}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}})((0,Fe.oX)(e,{}))),(e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS})));var xg=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function Sg(e){const{breadcrumbName:t,children:i}=e,n=xg(e,["breadcrumbName","children"]),o=Object.assign({title:t},n);return i&&(o.menu={items:i.map((e=>{var{breadcrumbName:t}=e,i=xg(e,["breadcrumbName"]);return Object.assign(Object.assign({},i),{title:t})}))}),o}var Mg=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Ag=t=>{const{prefixCls:i,separator:n="/",style:o,className:a,rootClassName:s,routes:c,items:d,children:h,itemRender:p,params:g={}}=t,f=Mg(t,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:m,direction:y,breadcrumb:v}=e.useContext(l.QO);let b;const x=m("breadcrumb",i),[S,M,A]=bg(x),k=function(t,i){return(0,e.useMemo)((()=>t||(i?i.map(Sg):null)),[t,i])}(d,c);const w=gg(x,p);if(k&&k.length>0){const t=[],i=d||c;b=k.map(((o,a)=>{const{path:r,key:s,type:l,menu:c,overlay:d,onClick:u,className:h,separator:p,dropdownProps:f}=o,m=((e,t)=>{if(void 0===t)return t;let i=(t||"").replace(/^\//,"");return Object.keys(e).forEach((t=>{i=i.replace(`:${t}`,e[t])})),i})(g,r);void 0!==m&&t.push(m);const y=null!==s&&void 0!==s?s:a;if("separator"===l)return e.createElement(ug,{key:y},p);const v={},b=a===k.length-1;c?v.menu=c:d&&(v.overlay=d);let{href:S}=o;return t.length&&void 0!==m&&(S=`#/${t.join("/")}`),e.createElement(mg,Object.assign({key:y},v,fc(o,{data:!0,aria:!0}),{className:h,dropdownProps:f,href:S,separator:b?"":n,onClick:u,prefixCls:x}),w(o,g,i,t,S))}))}else if(h){const e=u(h).length;b=u(h).map(((t,i)=>{if(!t)return t;return Bs(t,{separator:i===e-1?"":n,key:i})}))}const C=r()(x,null===v||void 0===v?void 0:v.className,{[`${x}-rtl`]:"rtl"===y},a,s,M,A),I=Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),o);return S(e.createElement("nav",Object.assign({className:C,style:I},f),e.createElement("ol",null,b)))};Ag.Item=vg,Ag.Separator=ug;const kg=Ag;function wg(e){return(0,Fe.oX)(e,{inputAffixPadding:e.paddingXXS})}const Cg=e=>{const{controlHeight:t,fontSize:i,lineHeight:n,lineWidth:o,controlHeightSM:a,controlHeightLG:r,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:d,controlPaddingHorizontal:u,colorFillAlter:h,colorPrimaryHover:p,colorPrimary:g,controlOutlineWidth:f,controlOutline:m,colorErrorOutline:y,colorWarningOutline:v,colorBgContainer:b}=e;return{paddingBlock:Math.max(Math.round((t-i*n)/2*10)/10-o,0),paddingBlockSM:Math.max(Math.round((a-i*n)/2*10)/10-o,0),paddingBlockLG:Math.ceil((r-s*l)/2*10)/10-o,paddingInline:c-o,paddingInlineSM:d-o,paddingInlineLG:u-o,addonBg:h,activeBorderColor:g,hoverBorderColor:p,activeShadow:`0 0 0 ${f}px ${m}`,errorActiveShadow:`0 0 0 ${f}px ${y}`,warningActiveShadow:`0 0 0 ${f}px ${v}`,hoverBg:b,activeBg:b,inputFontSize:i,inputFontSizeLG:s,inputFontSizeSM:i}},Ig=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),Dg=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Ig((0,Fe.oX)(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),Ng=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),Eg=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Ng(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),Og=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ng(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Dg(e))}),Eg(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Eg(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),Lg=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),Tg=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Lg(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),Lg(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},Dg(e))}})}),Rg=(e,t)=>{const{componentCls:i}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${i}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${i}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${i}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},Pg=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===t||void 0===t?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),zg=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Pg(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),jg=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pg(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Dg(e))}),zg(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),zg(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),Bg=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),$g=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary},[`${e.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}}},Bg(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),Bg(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),Fg=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),_g=e=>{const{paddingBlockLG:t,lineHeightLG:i,borderRadiusLG:n,paddingInlineLG:o}=e;return{padding:`${(0,Y.zA)(t)} ${(0,Y.zA)(o)}`,fontSize:e.inputFontSizeLG,lineHeight:i,borderRadius:n}},Hg=e=>({padding:`${(0,Y.zA)(e.paddingBlockSM)} ${(0,Y.zA)(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),Wg=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,Y.zA)(e.paddingBlock)} ${(0,Y.zA)(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},Fg(e.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},_g(e)),"&-sm":Object.assign({},Hg(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Gg=e=>{const{componentCls:t,antCls:i}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},_g(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},Hg(e)),[`&-lg ${i}-select-single ${i}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${i}-select-single ${i}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,Y.zA)(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${i}-select`]:{margin:`${(0,Y.zA)(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${(0,Y.zA)(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${i}-select-single:not(${i}-select-customize-input):not(${i}-pagination-size-changer)`]:{[`${i}-select-selector`]:{backgroundColor:"inherit",border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${i}-cascader-picker`]:{margin:`-9px ${(0,Y.zA)(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${i}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${i}-select ${i}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${i}-select ${i}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,Or.t6)()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${t}-affix-wrapper,\n        & > ${t}-number-affix-wrapper,\n        & > ${i}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${i}-select > ${i}-select-selector,\n      & > ${i}-select-auto-complete ${t},\n      & > ${i}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${i}-select-focused`]:{zIndex:1},[`& > ${i}-select > ${i}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${i}-select:first-child > ${i}-select-selector,\n      & > ${i}-select-auto-complete:first-child ${t},\n      & > ${i}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${i}-select:last-child > ${i}-select-selector,\n      & > ${i}-cascader-picker:last-child ${t},\n      & > ${i}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${i}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},Vg=e=>{const{componentCls:t,controlHeightSM:i,lineWidth:n,calc:o}=e,a=o(i).sub(o(n).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),Wg(e)),Og(e)),jg(e)),Rg(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:i,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Ug=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,Y.zA)(e.inputAffixPadding)}`}}}},Kg=e=>{const{componentCls:t,inputAffixPadding:i,colorTextDescription:n,motionDurationSlow:o,colorIcon:a,colorIconHover:r,iconCls:s}=e,l=`${t}-affix-wrapper`,c=`${t}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},Wg(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:n},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:i},"&-suffix":{marginInlineStart:i}}}),Ug(e)),{[`${s}${t}-password-icon`]:{color:a,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:r}}}),[c]:{[`${s}${t}-password-icon`]:{color:a,cursor:"not-allowed","&:hover":{color:a}}}}},Yg=e=>{const{componentCls:t,borderRadiusLG:i,borderRadiusSM:n}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),Gg(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:i,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:n}}},Tg(e)),$g(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},Xg=e=>{const{componentCls:t,antCls:i}=e,n=`${t}-search`;return{[n]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${n}-button:not(${i}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${n}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${n}-button:not(${i}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${i}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${n}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${n}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${n}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},Zg=e=>{const{componentCls:t,paddingLG:i}=e,n=`${t}-textarea`;return{[n]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${t},\n        &-affix-wrapper${n}-has-feedback ${t}\n      `]:{paddingInlineEnd:i},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${n}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},qg=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},Qg=(0,X.OF)("Input",(e=>{const t=(0,Fe.oX)(e,wg(e));return[Vg(t),Zg(t),Kg(t),Yg(t),Xg(t),qg(t),gd(t)]}),Cg,{resetFont:!1}),Jg=t=>{const{getPrefixCls:i,direction:n}=(0,e.useContext)(l.QO),{prefixCls:o,className:a}=t,s=i("input-group",o),c=i("input"),[d,u]=Qg(c),h=r()(s,{[`${s}-lg`]:"large"===t.size,[`${s}-sm`]:"small"===t.size,[`${s}-compact`]:t.compact,[`${s}-rtl`]:"rtl"===n},u,a),p=(0,e.useContext)(Jh),g=(0,e.useMemo)((()=>Object.assign(Object.assign({},p),{isFormItemInput:!1})),[p]);return d(e.createElement("span",{className:h,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},e.createElement(Jh.Provider,{value:g},t.children)))};function ef(e,t,i){var n=t.cloneNode(!0),o=Object.create(e,{target:{value:n},currentTarget:{value:n}});return n.value=i,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(n.selectionStart=t.selectionStart,n.selectionEnd=t.selectionEnd),n.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},o}function tf(e,t,i,n){if(i){var o=t;"click"!==t.type?"file"===e.type||void 0===n?i(o):i(o=ef(t,e,n)):i(o=ef(t,e,""))}}function nf(e,t){if(e){e.focus(t);var i=(t||{}).cursor;if(i){var n=e.value.length;switch(i){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}}const of=e.forwardRef((function(t,i){var n,o,a=t.inputElement,s=t.children,l=t.prefixCls,c=t.prefix,d=t.suffix,u=t.addonBefore,p=t.addonAfter,g=t.className,m=t.style,y=t.disabled,v=t.readOnly,b=t.focused,M=t.triggerFocus,A=t.allowClear,k=t.value,w=t.handleReset,C=t.hidden,I=t.classes,D=t.classNames,N=t.dataAttrs,E=t.styles,O=t.components,L=t.onClear,T=null!==s&&void 0!==s?s:a,R=(null===O||void 0===O?void 0:O.affixWrapper)||"span",P=(null===O||void 0===O?void 0:O.groupWrapper)||"span",z=(null===O||void 0===O?void 0:O.wrapper)||"span",j=(null===O||void 0===O?void 0:O.groupAddon)||"span",B=(0,e.useRef)(null),$=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(t),F=(0,e.cloneElement)(T,{value:k,className:r()(T.props.className,!$&&(null===D||void 0===D?void 0:D.variant))||null}),_=(0,e.useRef)(null);if(e.useImperativeHandle(i,(function(){return{nativeElement:_.current||B.current}})),$){var H=null;if(A){var W=!y&&!v&&k,G="".concat(l,"-clear-icon"),V="object"===(0,S.A)(A)&&null!==A&&void 0!==A&&A.clearIcon?A.clearIcon:"\u2716";H=e.createElement("span",{onClick:function(e){null===w||void 0===w||w(e),null===L||void 0===L||L()},onMouseDown:function(e){return e.preventDefault()},className:r()(G,(0,f.A)((0,f.A)({},"".concat(G,"-hidden"),!W),"".concat(G,"-has-suffix"),!!d)),role:"button",tabIndex:-1},V)}var U="".concat(l,"-affix-wrapper"),K=r()(U,(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(l,"-disabled"),y),"".concat(U,"-disabled"),y),"".concat(U,"-focused"),b),"".concat(U,"-readonly"),v),"".concat(U,"-input-with-clear-btn"),d&&A&&k),null===I||void 0===I?void 0:I.affixWrapper,null===D||void 0===D?void 0:D.affixWrapper,null===D||void 0===D?void 0:D.variant),Y=(d||A)&&e.createElement("span",{className:r()("".concat(l,"-suffix"),null===D||void 0===D?void 0:D.suffix),style:null===E||void 0===E?void 0:E.suffix},H,d);F=e.createElement(R,(0,h.A)({className:K,style:null===E||void 0===E?void 0:E.affixWrapper,onClick:function(e){var t;null!==(t=B.current)&&void 0!==t&&t.contains(e.target)&&(null===M||void 0===M||M())}},null===N||void 0===N?void 0:N.affixWrapper,{ref:B}),c&&e.createElement("span",{className:r()("".concat(l,"-prefix"),null===D||void 0===D?void 0:D.prefix),style:null===E||void 0===E?void 0:E.prefix},c),F,Y)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(t)){var X="".concat(l,"-group"),Z="".concat(X,"-addon"),q="".concat(X,"-wrapper"),Q=r()("".concat(l,"-wrapper"),X,null===I||void 0===I?void 0:I.wrapper,null===D||void 0===D?void 0:D.wrapper),J=r()(q,(0,f.A)({},"".concat(q,"-disabled"),y),null===I||void 0===I?void 0:I.group,null===D||void 0===D?void 0:D.groupWrapper);F=e.createElement(P,{className:J,ref:_},e.createElement(z,{className:Q},u&&e.createElement(j,{className:Z},u),F,p&&e.createElement(j,{className:Z},p)))}return e.cloneElement(F,{className:r()(null===(n=F.props)||void 0===n?void 0:n.className,g)||null,style:(0,x.A)((0,x.A)({},null===(o=F.props)||void 0===o?void 0:o.style),m),hidden:C})}));var af=["show"];function rf(t,i){return e.useMemo((function(){var e={};i&&(e.show="object"===(0,S.A)(i)&&i.formatter?i.formatter:!!i);var n=e=(0,x.A)((0,x.A)({},e),t),o=n.show,a=y(n,af);return(0,x.A)((0,x.A)({},a),{},{show:!!o,showFormatter:"function"===typeof o?o:void 0,strategy:a.strategy||function(e){return e.length}})}),[t,i])}var sf=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"];const lf=(0,e.forwardRef)((function(t,i){var n=t.autoComplete,a=t.onChange,l=t.onFocus,c=t.onBlur,d=t.onPressEnter,u=t.onKeyDown,p=t.onKeyUp,m=t.prefixCls,v=void 0===m?"rc-input":m,b=t.disabled,S=t.htmlSize,M=t.className,A=t.maxLength,k=t.suffix,w=t.showCount,C=t.count,I=t.type,D=void 0===I?"text":I,N=t.classes,E=t.classNames,O=t.styles,L=t.onCompositionStart,T=t.onCompositionEnd,R=y(t,sf),P=(0,e.useState)(!1),z=(0,g.A)(P,2),j=z[0],B=z[1],$=(0,e.useRef)(!1),F=(0,e.useRef)(!1),_=(0,e.useRef)(null),H=(0,e.useRef)(null),W=function(e){_.current&&nf(_.current,e)},G=(0,xt.A)(t.defaultValue,{value:t.value}),V=(0,g.A)(G,2),U=V[0],K=V[1],Y=void 0===U||null===U?"":String(U),X=(0,e.useState)(null),Z=(0,g.A)(X,2),q=Z[0],Q=Z[1],J=rf(C,w),ee=J.max||A,te=J.strategy(Y),ie=!!ee&&te>ee;(0,e.useImperativeHandle)(i,(function(){var e;return{focus:W,blur:function(){var e;null===(e=_.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,i){var n;null===(n=_.current)||void 0===n||n.setSelectionRange(e,t,i)},select:function(){var e;null===(e=_.current)||void 0===e||e.select()},input:_.current,nativeElement:(null===(e=H.current)||void 0===e?void 0:e.nativeElement)||_.current}})),(0,e.useEffect)((function(){F.current&&(F.current=!1),B((function(e){return(!e||!b)&&e}))}),[b]);var ne=function(e,t,i){var n,o,r=t;if(!$.current&&J.exceedFormatter&&J.max&&J.strategy(t)>J.max)t!==(r=J.exceedFormatter(t,{max:J.max}))&&Q([(null===(n=_.current)||void 0===n?void 0:n.selectionStart)||0,(null===(o=_.current)||void 0===o?void 0:o.selectionEnd)||0]);else if("compositionEnd"===i.source)return;K(r),_.current&&tf(_.current,e,a,r)};(0,e.useEffect)((function(){var e;q&&(null===(e=_.current)||void 0===e||e.setSelectionRange.apply(e,(0,o.A)(q)))}),[q]);var oe=function(e){ne(e,e.target.value,{source:"change"})},ae=function(e){$.current=!1,ne(e,e.currentTarget.value,{source:"compositionEnd"}),null===T||void 0===T||T(e)},re=function(e){d&&"Enter"===e.key&&!F.current&&(F.current=!0,d(e)),null===u||void 0===u||u(e)},se=function(e){"Enter"===e.key&&(F.current=!1),null===p||void 0===p||p(e)},le=function(e){B(!0),null===l||void 0===l||l(e)},ce=function(e){F.current&&(F.current=!1),B(!1),null===c||void 0===c||c(e)},de=ie&&"".concat(v,"-out-of-range");return e.createElement(of,(0,h.A)({},R,{prefixCls:v,className:r()(M,de),handleReset:function(e){K(""),W(),_.current&&tf(_.current,e,a)},value:Y,focused:j,triggerFocus:W,suffix:function(){var t=Number(ee)>0;if(k||J.show){var i=J.showFormatter?J.showFormatter({value:Y,count:te,maxLength:ee}):"".concat(te).concat(t?" / ".concat(ee):"");return e.createElement(e.Fragment,null,J.show&&e.createElement("span",{className:r()("".concat(v,"-show-count-suffix"),(0,f.A)({},"".concat(v,"-show-count-has-suffix"),!!k),null===E||void 0===E?void 0:E.count),style:(0,x.A)({},null===O||void 0===O?void 0:O.count)},i),k)}return null}(),disabled:b,classes:N,classNames:E,styles:O}),function(){var i=(0,s.A)(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return e.createElement("input",(0,h.A)({autoComplete:n},i,{onChange:oe,onFocus:le,onBlur:ce,onKeyDown:re,onKeyUp:se,className:r()(v,(0,f.A)({},"".concat(v,"-disabled"),b),null===E||void 0===E?void 0:E.input),style:null===O||void 0===O?void 0:O.input,ref:_,size:S,type:D,onCompositionStart:function(e){$.current=!0,null===L||void 0===L||L(e)},onCompositionEnd:ae}))}())}));const cf={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var df=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:cf}))};const uf=e.forwardRef(df),hf=t=>{let i;return"object"===typeof t&&(null===t||void 0===t?void 0:t.clearIcon)?i=t:t&&(i={clearIcon:e.createElement(uf,null)}),i};function pf(e,t,i){return r()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:i})}const gf=(e,t)=>t||e,ff=function(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var o,a;const{variant:r,[t]:s}=(0,e.useContext)(l.QO),c=(0,e.useContext)(tp),d=null===s||void 0===s?void 0:s.variant;let u;u="undefined"!==typeof i?i:!1===n?"borderless":null!==(a=null!==(o=null!==c&&void 0!==c?c:d)&&void 0!==o?o:r)&&void 0!==a?a:"outlined";return[u,l.lJ.includes(u)]};function mf(t,i){const n=(0,e.useRef)([]),o=()=>{n.current.push(setTimeout((()=>{var e,i,n,o;(null===(e=t.current)||void 0===e?void 0:e.input)&&"password"===(null===(i=t.current)||void 0===i?void 0:i.input.getAttribute("type"))&&(null===(n=t.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(o=t.current)||void 0===o||o.input.removeAttribute("value"))})))};return(0,e.useEffect)((()=>(i&&o(),()=>n.current.forEach((e=>{e&&clearTimeout(e)})))),[]),o}var yf=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const vf=(0,e.forwardRef)(((t,i)=>{var n;const{prefixCls:o,bordered:a=!0,status:s,size:c,disabled:d,onBlur:u,onFocus:h,suffix:p,allowClear:g,addonAfter:f,addonBefore:m,className:y,style:v,styles:b,rootClassName:x,onChange:S,classNames:M,variant:A}=t,k=yf(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:w,direction:C,input:I}=e.useContext(l.QO),D=w("input",o),N=(0,e.useRef)(null),E=Mr(D),[O,L,T]=Qg(D,E),{compactSize:R,compactItemClassnames:P}=gl(D,C),z=Be((e=>{var t;return null!==(t=null!==c&&void 0!==c?c:R)&&void 0!==t?t:e})),j=e.useContext(hl),B=null!==d&&void 0!==d?d:j,{status:$,hasFeedback:F,feedbackIcon:_}=(0,e.useContext)(Jh),H=gf($,s),W=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(t)||!!F;(0,e.useRef)(W);const G=mf(N,!0),V=(F||p)&&e.createElement(e.Fragment,null,p,F&&_),U=hf(null!==g&&void 0!==g?g:null===I||void 0===I?void 0:I.allowClear),[K,Y]=ff("input",A,a);return O(e.createElement(lf,Object.assign({ref:(0,Dt.K4)(i,N),prefixCls:D,autoComplete:null===I||void 0===I?void 0:I.autoComplete},k,{disabled:B,onBlur:e=>{G(),null===u||void 0===u||u(e)},onFocus:e=>{G(),null===h||void 0===h||h(e)},style:Object.assign(Object.assign({},null===I||void 0===I?void 0:I.style),v),styles:Object.assign(Object.assign({},null===I||void 0===I?void 0:I.styles),b),suffix:V,allowClear:U,className:r()(y,x,T,E,P,null===I||void 0===I?void 0:I.className),onChange:e=>{G(),null===S||void 0===S||S(e)},addonBefore:m&&e.createElement(ip,{form:!0,space:!0},m),addonAfter:f&&e.createElement(ip,{form:!0,space:!0},f),classNames:Object.assign(Object.assign(Object.assign({},M),null===I||void 0===I?void 0:I.classNames),{input:r()({[`${D}-sm`]:"small"===z,[`${D}-lg`]:"large"===z,[`${D}-rtl`]:"rtl"===C},null===M||void 0===M?void 0:M.input,null===(n=null===I||void 0===I?void 0:I.classNames)||void 0===n?void 0:n.input,L),variant:r()({[`${D}-${K}`]:Y},pf(D,H)),affixWrapper:r()({[`${D}-affix-wrapper-sm`]:"small"===z,[`${D}-affix-wrapper-lg`]:"large"===z,[`${D}-affix-wrapper-rtl`]:"rtl"===C},L),wrapper:r()({[`${D}-group-rtl`]:"rtl"===C},L),groupWrapper:r()({[`${D}-group-wrapper-sm`]:"small"===z,[`${D}-group-wrapper-lg`]:"large"===z,[`${D}-group-wrapper-rtl`]:"rtl"===C,[`${D}-group-wrapper-${K}`]:Y},pf(`${D}-group-wrapper`,H,F),L)})})))})),bf=e=>{const{componentCls:t,paddingXS:i}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:i,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},xf=(0,X.OF)(["Input","OTP"],(e=>{const t=(0,Fe.oX)(e,wg(e));return[bf(t)]}),Cg);var Sf=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Mf=e.forwardRef(((t,i)=>{const{value:n,onChange:o,onActiveChange:a,index:r,mask:s}=t,l=Sf(t,["value","onChange","onActiveChange","index","mask"]),c=n&&"string"===typeof s?s:n,d=e.useRef(null);e.useImperativeHandle(i,(()=>d.current));const u=()=>{yi((()=>{var e;const t=null===(e=d.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return e.createElement(vf,Object.assign({type:!0===s?"password":"text"},l,{ref:d,value:c,onInput:e=>{o(r,e.target.value)},onFocus:u,onKeyDown:e=>{const{key:t,ctrlKey:i,metaKey:n}=e;"ArrowLeft"===t?a(r-1):"ArrowRight"===t?a(r+1):"z"===t&&(i||n)&&e.preventDefault(),u()},onKeyUp:e=>{"Backspace"!==e.key||n||a(r-1),u()},onMouseDown:u,onMouseUp:u}))}));var Af=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function kf(e){return(e||"").split("")}const wf=e.forwardRef(((t,i)=>{const{prefixCls:n,length:a=6,size:s,defaultValue:c,value:d,onChange:u,formatter:h,variant:p,disabled:g,status:f,autoFocus:m,mask:y,type:v,onInput:b,inputMode:x}=t,S=Af(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]);const{getPrefixCls:M,direction:A}=e.useContext(l.QO),k=M("otp",n),w=fc(S,{aria:!0,data:!0,attr:!0}),C=Mr(k),[I,D,N]=xf(k,C),E=Be((e=>null!==s&&void 0!==s?s:e)),O=e.useContext(Jh),L=gf(O.status,f),T=e.useMemo((()=>Object.assign(Object.assign({},O),{status:L,hasFeedback:!1,feedbackIcon:null})),[O,L]),R=e.useRef(null),P=e.useRef({});e.useImperativeHandle(i,(()=>({focus:()=>{var e;null===(e=P.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<a;t+=1)null===(e=P.current[t])||void 0===e||e.blur()},nativeElement:R.current})));const z=e=>h?h(e):e,[j,B]=e.useState(kf(z(c||"")));e.useEffect((()=>{void 0!==d&&B(kf(d))}),[d]);const $=(0,di.A)((e=>{B(e),b&&b(e),u&&e.length===a&&e.every((e=>e))&&e.some(((e,t)=>j[t]!==e))&&u(e.join(""))})),F=(0,di.A)(((e,t)=>{let i=(0,o.A)(j);for(let o=0;o<e;o+=1)i[o]||(i[o]="");t.length<=1?i[e]=t:i=i.slice(0,e).concat(kf(t)),i=i.slice(0,a);for(let o=i.length-1;o>=0&&!i[o];o-=1)i.pop();const n=z(i.map((e=>e||" ")).join(""));return i=kf(n).map(((e,t)=>" "!==e||i[t]?e:i[t])),i})),_=(e,t)=>{var i;const n=F(e,t),o=Math.min(e+t.length,a-1);o!==e&&void 0!==n[e]&&(null===(i=P.current[o])||void 0===i||i.focus()),$(n)},H=e=>{var t;null===(t=P.current[e])||void 0===t||t.focus()},W={variant:p,disabled:g,status:L,mask:y,type:v,inputMode:x};return I(e.createElement("div",Object.assign({},w,{ref:R,className:r()(k,{[`${k}-sm`]:"small"===E,[`${k}-lg`]:"large"===E,[`${k}-rtl`]:"rtl"===A},N,D)}),e.createElement(Jh.Provider,{value:T},Array.from({length:a}).map(((t,i)=>{const n=`otp-${i}`,o=j[i]||"";return e.createElement(Mf,Object.assign({ref:e=>{P.current[i]=e},key:n,index:i,size:E,htmlSize:1,className:`${k}-input`,onChange:_,value:o,onActiveChange:H,autoFocus:0===i&&m},W))})))))}));const Cf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var If=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:Cf}))};const Df=e.forwardRef(If);const Nf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var Ef=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:Nf}))};const Of=e.forwardRef(Ef);var Lf=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Tf=t=>t?e.createElement(Of,null):e.createElement(Df,null),Rf={click:"onClick",hover:"onMouseOver"};const Pf=e.forwardRef(((t,i)=>{const{disabled:n,action:o="click",visibilityToggle:a=!0,iconRender:c=Tf}=t,d=e.useContext(hl),u=null!==n&&void 0!==n?n:d,h="object"===typeof a&&void 0!==a.visible,[p,g]=(0,e.useState)((()=>!!h&&a.visible)),f=(0,e.useRef)(null);e.useEffect((()=>{h&&g(a.visible)}),[h,a]);const m=mf(f),y=()=>{u||(p&&m(),g((e=>{var t;const i=!e;return"object"===typeof a&&(null===(t=a.onVisibleChange)||void 0===t||t.call(a,i)),i})))},{className:v,prefixCls:b,inputPrefixCls:x,size:S}=t,M=Lf(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:A}=e.useContext(l.QO),k=A("input",x),w=A("input-password",b),C=a&&(t=>{const i=Rf[o]||"",n=c(p),a={[i]:y,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(n)?n:e.createElement("span",null,n),a)})(w),I=r()(w,v,{[`${w}-${S}`]:!!S}),D=Object.assign(Object.assign({},(0,s.A)(M,["suffix","iconRender","visibilityToggle"])),{type:p?"text":"password",className:I,prefixCls:k,suffix:C});return S&&(D.size=S),e.createElement(vf,Object.assign({ref:(0,Dt.K4)(i,f)},D))}));const zf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var jf=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:zf}))};const Bf=e.forwardRef(jf);var $f=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Ff=e.forwardRef(((t,i)=>{const{prefixCls:n,inputPrefixCls:o,className:a,size:s,suffix:c,enterButton:d=!1,addonAfter:u,loading:h,disabled:p,onSearch:g,onChange:f,onCompositionStart:m,onCompositionEnd:y}=t,v=$f(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:b,direction:x}=e.useContext(l.QO),S=e.useRef(!1),M=b("input-search",n),A=b("input",o),{compactSize:k}=gl(M,x),w=Be((e=>{var t;return null!==(t=null!==s&&void 0!==s?s:k)&&void 0!==t?t:e})),C=e.useRef(null),I=e=>{var t;document.activeElement===(null===(t=C.current)||void 0===t?void 0:t.input)&&e.preventDefault()},D=e=>{var t,i;g&&g(null===(i=null===(t=C.current)||void 0===t?void 0:t.input)||void 0===i?void 0:i.value,e,{source:"input"})},N="boolean"===typeof d?e.createElement(Bf,null):null,E=`${M}-button`;let O;const L=d||{},T=L.type&&!0===L.type.__ANT_BUTTON;O=T||"button"===L.type?Bs(L,Object.assign({onMouseDown:I,onClick:e=>{var t,i;null===(i=null===(t=null===L||void 0===L?void 0:L.props)||void 0===t?void 0:t.onClick)||void 0===i||i.call(t,e),D(e)},key:"enterButton"},T?{className:E,size:w}:{})):e.createElement(Md,{className:E,type:d?"primary":void 0,size:w,disabled:p,key:"enterButton",onMouseDown:I,onClick:D,loading:h,icon:N},d),u&&(O=[O,Bs(u,{key:"addonAfter"})]);const R=r()(M,{[`${M}-rtl`]:"rtl"===x,[`${M}-${w}`]:!!w,[`${M}-with-button`]:!!d},a);return e.createElement(vf,Object.assign({ref:(0,Dt.K4)(C,i),onPressEnter:e=>{S.current||h||D(e)}},v,{size:w,onCompositionStart:e=>{S.current=!0,null===m||void 0===m||m(e)},onCompositionEnd:e=>{S.current=!1,null===y||void 0===y||y(e)},prefixCls:A,addonAfter:O,suffix:c,onChange:e=>{(null===e||void 0===e?void 0:e.target)&&"click"===e.type&&g&&g(e.target.value,e,{source:"clear"}),null===f||void 0===f||f(e)},className:R,disabled:p}))}));var _f,Hf=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Wf={};function Gf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_f||((_f=document.createElement("textarea")).setAttribute("tab-index","-1"),_f.setAttribute("aria-hidden","true"),_f.setAttribute("name","hiddenTextarea"),document.body.appendChild(_f)),e.getAttribute("wrap")?_f.setAttribute("wrap",e.getAttribute("wrap")):_f.removeAttribute("wrap");var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Wf[i])return Wf[i];var n=window.getComputedStyle(e),o=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),a=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),r=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),s={sizingStyle:Hf.map((function(e){return"".concat(e,":").concat(n.getPropertyValue(e))})).join(";"),paddingSize:a,borderSize:r,boxSizing:o};return t&&i&&(Wf[i]=s),s}(e,t),a=o.paddingSize,r=o.borderSize,s=o.boxSizing,l=o.sizingStyle;_f.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),_f.value=e.value||e.placeholder||"";var c,d=void 0,u=void 0,h=_f.scrollHeight;if("border-box"===s?h+=r:"content-box"===s&&(h-=a),null!==i||null!==n){_f.value=" ";var p=_f.scrollHeight-a;null!==i&&(d=p*i,"border-box"===s&&(d=d+a+r),h=Math.max(d,h)),null!==n&&(u=p*n,"border-box"===s&&(u=u+a+r),c=h>u?"":"hidden",h=Math.min(u,h))}var g={height:h,overflowY:c,resize:"none"};return d&&(g.minHeight=d),u&&(g.maxHeight=u),g}var Vf=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"];const Uf=e.forwardRef((function(t,i){var n=t,o=n.prefixCls,a=n.defaultValue,s=n.value,l=n.autoSize,c=n.onResize,d=n.className,u=n.style,p=n.disabled,m=n.onChange,v=(n.onInternalAutoSize,y(n,Vf)),b=(0,xt.A)(a,{value:s,postState:function(e){return null!==e&&void 0!==e?e:""}}),M=(0,g.A)(b,2),A=M[0],k=M[1],w=e.useRef();e.useImperativeHandle(i,(function(){return{textArea:w.current}}));var C=e.useMemo((function(){return l&&"object"===(0,S.A)(l)?[l.minRows,l.maxRows]:[]}),[l]),I=(0,g.A)(C,2),D=I[0],N=I[1],E=!!l,O=e.useState(2),L=(0,g.A)(O,2),T=L[0],R=L[1],P=e.useState(),z=(0,g.A)(P,2),j=z[0],B=z[1],$=function(){R(0)};(0,Mi.A)((function(){E&&$()}),[s,D,N,E]),(0,Mi.A)((function(){if(0===T)R(1);else if(1===T){var e=Gf(w.current,!1,D,N);R(2),B(e)}else!function(){try{if(document.activeElement===w.current){var e=w.current,t=e.selectionStart,i=e.selectionEnd,n=e.scrollTop;w.current.setSelectionRange(t,i),w.current.scrollTop=n}}catch(Zfe){}}()}),[T]);var F=e.useRef(),_=function(){yi.cancel(F.current)};e.useEffect((function(){return _}),[]);var H=E?j:null,W=(0,x.A)((0,x.A)({},u),H);return 0!==T&&1!==T||(W.overflowY="hidden",W.overflowX="hidden"),e.createElement(ci,{onResize:function(e){2===T&&(null===c||void 0===c||c(e),l&&(_(),F.current=yi((function(){$()}))))},disabled:!(l||c)},e.createElement("textarea",(0,h.A)({},v,{ref:w,style:W,className:r()(o,d,(0,f.A)({},"".concat(o,"-disabled"),p)),disabled:p,value:A,onChange:function(e){k(e.target.value),null===m||void 0===m||m(e)}})))}));var Kf=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"];const Yf=e.forwardRef((function(t,i){var n,a=t.defaultValue,s=t.value,l=t.onFocus,c=t.onBlur,d=t.onChange,u=t.allowClear,p=t.maxLength,m=t.onCompositionStart,v=t.onCompositionEnd,b=t.suffix,S=t.prefixCls,M=void 0===S?"rc-textarea":S,A=t.showCount,k=t.count,w=t.className,C=t.style,I=t.disabled,D=t.hidden,N=t.classNames,E=t.styles,O=t.onResize,L=t.onClear,T=t.onPressEnter,R=t.readOnly,P=t.autoSize,z=t.onKeyDown,j=y(t,Kf),B=(0,xt.A)(a,{value:s,defaultValue:a}),$=(0,g.A)(B,2),F=$[0],_=$[1],H=void 0===F||null===F?"":String(F),W=e.useState(!1),G=(0,g.A)(W,2),V=G[0],U=G[1],K=e.useRef(!1),Y=e.useState(null),X=(0,g.A)(Y,2),Z=X[0],q=X[1],Q=(0,e.useRef)(null),J=(0,e.useRef)(null),ee=function(){var e;return null===(e=J.current)||void 0===e?void 0:e.textArea},te=function(){ee().focus()};(0,e.useImperativeHandle)(i,(function(){var e;return{resizableTextArea:J.current,focus:te,blur:function(){ee().blur()},nativeElement:(null===(e=Q.current)||void 0===e?void 0:e.nativeElement)||ee()}})),(0,e.useEffect)((function(){U((function(e){return!I&&e}))}),[I]);var ie=e.useState(null),ne=(0,g.A)(ie,2),oe=ne[0],ae=ne[1];e.useEffect((function(){var e;oe&&(e=ee()).setSelectionRange.apply(e,(0,o.A)(oe))}),[oe]);var re,se=rf(k,A),le=null!==(n=se.max)&&void 0!==n?n:p,ce=Number(le)>0,de=se.strategy(H),ue=!!le&&de>le,he=function(e,t){var i=t;!K.current&&se.exceedFormatter&&se.max&&se.strategy(t)>se.max&&t!==(i=se.exceedFormatter(t,{max:se.max}))&&ae([ee().selectionStart||0,ee().selectionEnd||0]),_(i),tf(e.currentTarget,e,d,i)},pe=b;se.show&&(re=se.showFormatter?se.showFormatter({value:H,count:de,maxLength:le}):"".concat(de).concat(ce?" / ".concat(le):""),pe=e.createElement(e.Fragment,null,pe,e.createElement("span",{className:r()("".concat(M,"-data-count"),null===N||void 0===N?void 0:N.count),style:null===E||void 0===E?void 0:E.count},re)));var ge=!P&&!A&&!u;return e.createElement(of,{ref:Q,value:H,allowClear:u,handleReset:function(e){_(""),te(),tf(ee(),e,d)},suffix:pe,prefixCls:M,classNames:(0,x.A)((0,x.A)({},N),{},{affixWrapper:r()(null===N||void 0===N?void 0:N.affixWrapper,(0,f.A)((0,f.A)({},"".concat(M,"-show-count"),A),"".concat(M,"-textarea-allow-clear"),u))}),disabled:I,focused:V,className:r()(w,ue&&"".concat(M,"-out-of-range")),style:(0,x.A)((0,x.A)({},C),Z&&!ge?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof re?re:void 0}},hidden:D,readOnly:R,onClear:L},e.createElement(Uf,(0,h.A)({},j,{autoSize:P,maxLength:p,onKeyDown:function(e){"Enter"===e.key&&T&&T(e),null===z||void 0===z||z(e)},onChange:function(e){he(e,e.target.value)},onFocus:function(e){U(!0),null===l||void 0===l||l(e)},onBlur:function(e){U(!1),null===c||void 0===c||c(e)},onCompositionStart:function(e){K.current=!0,null===m||void 0===m||m(e)},onCompositionEnd:function(e){K.current=!1,he(e,e.currentTarget.value),null===v||void 0===v||v(e)},className:r()(null===N||void 0===N?void 0:N.textarea),style:(0,x.A)((0,x.A)({},null===E||void 0===E?void 0:E.textarea),{},{resize:null===C||void 0===C?void 0:C.resize}),disabled:I,prefixCls:M,onResize:function(e){var t;null===O||void 0===O||O(e),null!==(t=ee())&&void 0!==t&&t.style.height&&q(!0)},ref:J,readOnly:R})))}));var Xf=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Zf=(0,e.forwardRef)(((t,i)=>{var n,o;const{prefixCls:a,bordered:s=!0,size:c,disabled:d,status:u,allowClear:h,classNames:p,rootClassName:g,className:f,style:m,styles:y,variant:v}=t,b=Xf(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:x,direction:S,textArea:M}=e.useContext(l.QO),A=Be(c),k=e.useContext(hl),w=null!==d&&void 0!==d?d:k,{status:C,hasFeedback:I,feedbackIcon:D}=e.useContext(Jh),N=gf(C,u),E=e.useRef(null);e.useImperativeHandle(i,(()=>{var e;return{resizableTextArea:null===(e=E.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,i;nf(null===(i=null===(t=E.current)||void 0===t?void 0:t.resizableTextArea)||void 0===i?void 0:i.textArea,e)},blur:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.blur()}}}));const O=x("input",a),L=Mr(O),[T,R,P]=Qg(O,L),[z,j]=ff("textArea",v,s),B=hf(null!==h&&void 0!==h?h:null===M||void 0===M?void 0:M.allowClear);return T(e.createElement(Yf,Object.assign({autoComplete:null===M||void 0===M?void 0:M.autoComplete},b,{style:Object.assign(Object.assign({},null===M||void 0===M?void 0:M.style),m),styles:Object.assign(Object.assign({},null===M||void 0===M?void 0:M.styles),y),disabled:w,allowClear:B,className:r()(P,L,f,g,null===M||void 0===M?void 0:M.className),classNames:Object.assign(Object.assign(Object.assign({},p),null===M||void 0===M?void 0:M.classNames),{textarea:r()({[`${O}-sm`]:"small"===A,[`${O}-lg`]:"large"===A},R,null===p||void 0===p?void 0:p.textarea,null===(n=null===M||void 0===M?void 0:M.classNames)||void 0===n?void 0:n.textarea),variant:r()({[`${O}-${z}`]:j},pf(O,N)),affixWrapper:r()(`${O}-textarea-affix-wrapper`,{[`${O}-affix-wrapper-rtl`]:"rtl"===S,[`${O}-affix-wrapper-sm`]:"small"===A,[`${O}-affix-wrapper-lg`]:"large"===A,[`${O}-textarea-show-count`]:t.showCount||(null===(o=t.count)||void 0===o?void 0:o.show)},R)}),prefixCls:O,suffix:I&&e.createElement("span",{className:`${O}-textarea-suffix`},D),ref:E})))})),qf=vf;qf.Group=Jg,qf.Search=Ff,qf.TextArea=Zf,qf.Password=Pf,qf.OTP=wf;const Qf=qf;function Jf(t){let{data:i,setState:n}=t;const[o,a]=(0,e.useState)("");return(0,Ad.jsxs)("div",{className:"navbarContainer",children:[(0,Ad.jsx)("ul",{className:"navLinksList",children:(0,Ad.jsx)("li",{children:(0,Ad.jsx)(kg,{separator:">",items:[{title:"Home",href:""},{title:"Dashboard V2",href:""}]})})}),(0,Ad.jsxs)("ul",{className:"navLinksList",children:[(0,Ad.jsx)("li",{children:(0,Ad.jsx)(Qf,{size:"small",style:{width:"300px"},prefix:(0,Ad.jsx)(Bf,{}),onChange:e=>{const t=e.target.value;a(t),n(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function e(i){var n,o;return!(null===(n=i.widget_name)||void 0===n||null===(o=n.trimStart())||void 0===o||!o.toLocaleUpperCase().includes(t.toLocaleUpperCase()))||(Array.isArray(null===i||void 0===i?void 0:i.children)?(i.children=i.children.filter(e)).length:void 0)}))}(i,t))},value:o,type:"search",disableUnderline:!0,className:"input",placeholder:"Search..."})}),em.map(((e,t)=>(0,Ad.jsx)("li",{children:(0,Ad.jsx)("i",{className:"navIcons",disableRipple:!0,children:(0,Ad.jsx)("svg",{viewBox:e.viewBox,width:e.width,height:e.height,fill:"currentColor",children:(0,Ad.jsx)("path",{d:e.path_d})})})},t)))]})]},i.id)}const em=[{title:"newplayground",viewBox:"0 0 24 24",width:"22px",height:"22px",path_d:"M21 5H3v14h9v2H1V3h22v7h-2V5zm-3 11v-3h2v3h3v2h-3v3h-2v-3h-3v-2h3zM6 8l7 4.001L6 16v-2.303l2.969-1.696L6 10.303V8z"},{title:"notifications",viewBox:"0 0 24 24",width:"22px",height:"22px",path_d:"M18 16v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 6c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2z"},{title:"profile",viewBox:"0 0 24 24",width:"22px",height:"22px",path_d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2a7.2 7.2 0 0 1-6-3.22c.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"}],tm=e=>{let{item:t,onChecked:i}=e;return(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsxs)("div",{style:{displayL:"flex",padding:"8px",marginBottom:"12px",border:"1px solid black"},children:[(0,Ad.jsx)("input",{style:{width:"18px",height:"18px"},type:t.type,onClick:e=>i(e,t.id)}),(0,Ad.jsx)("label",{style:{margin:"8px",fontWeight:600},children:t.widget_name})]},t.id)})};const im={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var nm=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:im}))};const om=e.forwardRef(nm);const am={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var rm=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:am}))};const sm=e.forwardRef(rm);const lm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var cm=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:lm}))};const dm=e.forwardRef(cm);function um(e){return!!(null===e||void 0===e?void 0:e.then)}const hm=t=>{const{type:i,children:n,prefixCls:o,buttonProps:a,close:r,autoFocus:s,emitEvent:l,isSilent:c,quitOnNullishReturnValue:d,actionFn:u}=t,h=e.useRef(!1),p=e.useRef(null),[g,f]=(0,Yi.A)(!1),m=function(){null===r||void 0===r||r.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return s&&(e=setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.focus({preventScroll:!0})}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(Md,Object.assign({},Sl(i),{onClick:e=>{if(h.current)return;if(h.current=!0,!u)return void m();let t;if(l){if(t=u(e),d&&!um(t))return h.current=!1,void m(e)}else if(u.length)t=u(r),h.current=!1;else if(t=u(),!um(t))return void m();(e=>{um(e)&&(f(!0),e.then((function(){f(!1,!0),m.apply(void 0,arguments),h.current=!1}),(e=>{if(f(!1,!0),h.current=!1,!(null===c||void 0===c?void 0:c()))return Promise.reject(e)})))})(t)},loading:g,prefixCls:o},a,{ref:p}),n)},pm=e.createContext({}),{Provider:gm}=pm,fm=()=>{const{autoFocusButton:t,cancelButtonProps:i,cancelTextLocale:n,isSilent:o,mergedOkCancel:a,rootPrefixCls:r,close:s,onCancel:l,onConfirm:c}=(0,e.useContext)(pm);return a?e.createElement(hm,{isSilent:o,actionFn:l,close:function(){null===s||void 0===s||s.apply(void 0,arguments),null===c||void 0===c||c(!1)},autoFocus:"cancel"===t,buttonProps:i,prefixCls:`${r}-btn`},n):null},mm=()=>{const{autoFocusButton:t,close:i,isSilent:n,okButtonProps:o,rootPrefixCls:a,okTextLocale:r,okType:s,onConfirm:l,onOk:c}=(0,e.useContext)(pm);return e.createElement(hm,{isSilent:n,type:s||"primary",actionFn:c,close:function(){null===i||void 0===i||i.apply(void 0,arguments),null===l||void 0===l||l(!0)},autoFocus:"ok"===t,buttonProps:o,prefixCls:`${a}-btn`},r)};var ym=e.createContext({}),vm=i(3739);function bm(e,t,i){var n=t;return!n&&i&&(n="".concat(e,"-").concat(i)),n}function xm(e,t){var i=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!==typeof i){var o=e.document;"number"!==typeof(i=o.documentElement[n])&&(i=o.body[n])}return i}const Sm=e.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var Mm={width:0,height:0,overflow:"hidden",outline:"none"},Am={outline:"none"};const km=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.className,a=t.style,s=t.title,l=t.ariaId,c=t.footer,d=t.closable,u=t.closeIcon,p=t.onClose,g=t.children,f=t.bodyStyle,m=t.bodyProps,y=t.modalRender,v=t.onMouseDown,b=t.onMouseUp,M=t.holderRef,A=t.visible,k=t.forceRender,w=t.width,C=t.height,I=t.classNames,D=t.styles,N=e.useContext(ym).panel,E=(0,Dt.xK)(M,N),O=(0,e.useRef)(),L=(0,e.useRef)();e.useImperativeHandle(i,(function(){return{focus:function(){var e;null===(e=O.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===L.current?O.current.focus({preventScroll:!0}):e||t!==O.current||L.current.focus({preventScroll:!0})}}}));var T={};void 0!==w&&(T.width=w),void 0!==C&&(T.height=C);var R=c?e.createElement("div",{className:r()("".concat(n,"-footer"),null===I||void 0===I?void 0:I.footer),style:(0,x.A)({},null===D||void 0===D?void 0:D.footer)},c):null,P=s?e.createElement("div",{className:r()("".concat(n,"-header"),null===I||void 0===I?void 0:I.header),style:(0,x.A)({},null===D||void 0===D?void 0:D.header)},e.createElement("div",{className:"".concat(n,"-title"),id:l},s)):null,z=(0,e.useMemo)((function(){return"object"===(0,S.A)(d)&&null!==d?d:d?{closeIcon:null!==u&&void 0!==u?u:e.createElement("span",{className:"".concat(n,"-close-x")})}:{}}),[d,u,n]),j=fc(z,!0),B="object"===(0,S.A)(d)&&d.disabled,$=d?e.createElement("button",(0,h.A)({type:"button",onClick:p,"aria-label":"Close"},j,{className:"".concat(n,"-close"),disabled:B}),z.closeIcon):null,F=e.createElement("div",{className:r()("".concat(n,"-content"),null===I||void 0===I?void 0:I.content),style:null===D||void 0===D?void 0:D.content},$,P,e.createElement("div",(0,h.A)({className:r()("".concat(n,"-body"),null===I||void 0===I?void 0:I.body),style:(0,x.A)((0,x.A)({},f),null===D||void 0===D?void 0:D.body)},m),g),R);return e.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?l:null,"aria-modal":"true",ref:E,style:(0,x.A)((0,x.A)({},a),T),className:r()(n,o),onMouseDown:v,onMouseUp:b},e.createElement("div",{ref:O,tabIndex:0,style:Am},e.createElement(Sm,{shouldUpdate:A||k},y?y(F):F)),e.createElement("div",{tabIndex:0,ref:L,style:Mm}))}));var wm=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.title,a=t.style,s=t.className,l=t.visible,c=t.forceRender,d=t.destroyOnClose,u=t.motionName,p=t.ariaId,f=t.onVisibleChanged,m=t.mousePosition,y=(0,e.useRef)(),v=e.useState(),b=(0,g.A)(v,2),S=b[0],M=b[1],A={};function k(){var e=function(e){var t=e.getBoundingClientRect(),i={left:t.left,top:t.top},n=e.ownerDocument,o=n.defaultView||n.parentWindow;return i.left+=xm(o),i.top+=xm(o,!0),i}(y.current);M(m&&(m.x||m.y)?"".concat(m.x-e.left,"px ").concat(m.y-e.top,"px"):"")}return S&&(A.transformOrigin=S),e.createElement(jn,{visible:l,onVisibleChanged:f,onAppearPrepare:k,onEnterPrepare:k,forceRender:c,motionName:u,removeOnLeave:d,ref:y},(function(l,c){var d=l.className,u=l.style;return e.createElement(km,(0,h.A)({},t,{ref:i,title:o,ariaId:p,prefixCls:n,holderRef:c,style:(0,x.A)((0,x.A)((0,x.A)({},u),a),A),className:r()(s,d)}))}))}));wm.displayName="Content";const Cm=wm;const Im=function(t){var i=t.prefixCls,n=t.style,o=t.visible,a=t.maskProps,s=t.motionName,l=t.className;return e.createElement(jn,{key:"mask",visible:o,motionName:s,leavedClassName:"".concat(i,"-mask-hidden")},(function(t,o){var s=t.className,c=t.style;return e.createElement("div",(0,h.A)({ref:o,style:(0,x.A)((0,x.A)({},c),n),className:r()("".concat(i,"-mask"),s,l)},a))}))};const Dm=function(t){var i=t.prefixCls,n=void 0===i?"rc-dialog":i,o=t.zIndex,a=t.visible,s=void 0!==a&&a,l=t.keyboard,c=void 0===l||l,d=t.focusTriggerAfterClose,u=void 0===d||d,p=t.wrapStyle,f=t.wrapClassName,m=t.wrapProps,y=t.onClose,v=t.afterOpenChange,b=t.afterClose,S=t.transitionName,M=t.animation,A=t.closable,k=void 0===A||A,w=t.mask,C=void 0===w||w,I=t.maskTransitionName,D=t.maskAnimation,N=t.maskClosable,E=void 0===N||N,O=t.maskStyle,L=t.maskProps,T=t.rootClassName,R=t.classNames,P=t.styles;var z=(0,e.useRef)(),j=(0,e.useRef)(),B=(0,e.useRef)(),$=e.useState(s),F=(0,g.A)($,2),_=F[0],H=F[1],W=Hi();function G(e){null===y||void 0===y||y(e)}var V=(0,e.useRef)(!1),U=(0,e.useRef)(),K=null;E&&(K=function(e){V.current?V.current=!1:j.current===e.target&&G(e)}),(0,e.useEffect)((function(){s&&(H(!0),(0,vm.A)(j.current,document.activeElement)||(z.current=document.activeElement))}),[s]),(0,e.useEffect)((function(){return function(){clearTimeout(U.current)}}),[]);var Y=(0,x.A)((0,x.A)((0,x.A)({zIndex:o},p),null===P||void 0===P?void 0:P.wrapper),{},{display:_?null:"none"});return e.createElement("div",(0,h.A)({className:r()("".concat(n,"-root"),T)},fc(t,{data:!0})),e.createElement(Im,{prefixCls:n,visible:C&&s,motionName:bm(n,I,D),style:(0,x.A)((0,x.A)({zIndex:o},O),null===P||void 0===P?void 0:P.mask),maskProps:L,className:null===R||void 0===R?void 0:R.mask}),e.createElement("div",(0,h.A)({tabIndex:-1,onKeyDown:function(e){if(c&&e.keyCode===so.ESC)return e.stopPropagation(),void G(e);s&&e.keyCode===so.TAB&&B.current.changeActive(!e.shiftKey)},className:r()("".concat(n,"-wrap"),f,null===R||void 0===R?void 0:R.wrapper),ref:j,onClick:K,style:Y},m),e.createElement(Cm,(0,h.A)({},t,{onMouseDown:function(){clearTimeout(U.current),V.current=!0},onMouseUp:function(){U.current=setTimeout((function(){V.current=!1}))},ref:B,closable:k,ariaId:W,prefixCls:n,visible:s&&_,onClose:G,onVisibleChanged:function(e){if(e)!function(){var e;(0,vm.A)(j.current,document.activeElement)||null===(e=B.current)||void 0===e||e.focus()}();else{if(H(!1),C&&z.current&&u){try{z.current.focus({preventScroll:!0})}catch(Zfe){}z.current=null}_&&(null===b||void 0===b||b())}null===v||void 0===v||v(e)},motionName:bm(n,S,M)}))))};var Nm=function(t){var i=t.visible,n=t.getContainer,o=t.forceRender,a=t.destroyOnClose,r=void 0!==a&&a,s=t.afterClose,l=t.panelRef,c=e.useState(i),d=(0,g.A)(c,2),u=d[0],p=d[1],f=e.useMemo((function(){return{panel:l}}),[l]);return e.useEffect((function(){i&&p(!0)}),[i]),o||!r||u?e.createElement(ym.Provider,{value:f},e.createElement($i,{open:i||o||u,autoDestroy:!1,getContainer:n,autoLock:i||u},e.createElement(Dm,(0,h.A)({},t,{destroyOnClose:r,afterClose:function(){null===s||void 0===s||s(),p(!1)}})))):null};Nm.displayName="Dialog";const Em=Nm;function Om(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Lm(t){const{closable:i,closeIcon:n}=t||{};return e.useMemo((()=>{if(!i&&(!1===i||!1===n||null===n))return!1;if(void 0===i&&void 0===n)return null;let e={closeIcon:"boolean"!==typeof n&&null!==n?n:void 0};return i&&"object"===typeof i&&(e=Object.assign(Object.assign({},e),i)),e}),[i,n])}function Tm(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach((t=>{t&&Object.keys(t).forEach((i=>{void 0!==t[i]&&(e[i]=t[i])}))})),e}const Rm={};function Pm(){}const zm=e.createContext({add:Pm,remove:Pm});const jm=()=>{const{cancelButtonProps:t,cancelTextLocale:i,onCancel:n}=(0,e.useContext)(pm);return e.createElement(Md,Object.assign({onClick:n},t),i)},Bm=()=>{const{confirmLoading:t,okButtonProps:i,okType:n,okTextLocale:o,onOk:a}=(0,e.useContext)(pm);return e.createElement(Md,Object.assign({},Sl(n),{loading:t,onClick:a},i),o)};function $m(t,i){return e.createElement("span",{className:`${t}-close-x`},i||e.createElement(pt,{className:`${t}-close-icon`}))}const Fm=t=>{const{okText:i,okType:n="primary",cancelText:a,confirmLoading:r,onOk:s,onCancel:l,okButtonProps:c,cancelButtonProps:d,footer:u}=t,[h]=Is("Modal",Qd()),p={confirmLoading:r,okButtonProps:c,cancelButtonProps:d,okTextLocale:i||(null===h||void 0===h?void 0:h.okText),cancelTextLocale:a||(null===h||void 0===h?void 0:h.cancelText),okType:n,onOk:s,onCancel:l},g=e.useMemo((()=>p),(0,o.A)(Object.values(p)));let f;return"function"===typeof u||"undefined"===typeof u?(f=e.createElement(e.Fragment,null,e.createElement(jm,null),e.createElement(Bm,null)),"function"===typeof u&&(f=u(f,{OkBtn:Bm,CancelBtn:jm})),f=e.createElement(gm,{value:g},f)):f=u,e.createElement(ul,{disabled:!1},f)},_m=new Y.Mo("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Hm=new Y.Mo("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Wm=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:i}=e,n=`${i}-fade`,o=t?"&":"";return[Rr(n,_m,Hm,e.motionDurationMid,t),{[`\n        ${o}${n}-enter,\n        ${o}${n}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${n}-leave`]:{animationTimingFunction:"linear"}}]};function Gm(e){return{position:e,inset:0}}const Vm=e=>{const{componentCls:t,antCls:i}=e;return[{[`${t}-root`]:{[`${t}${i}-zoom-enter, ${t}${i}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${i}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Gm("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Gm("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Wm(e)}]},Um=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,Y.zA)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,Y.zA)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,Y.zA)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Or.K8)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,Y.zA)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Km=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Ym=e=>{const t=e.padding,i=e.fontSizeHeading5,n=e.lineHeightHeading5;return(0,Fe.oX)(e,{modalHeaderHeight:e.calc(e.calc(n).mul(i).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Xm=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,Y.zA)(e.paddingMD)} ${(0,Y.zA)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,Y.zA)(e.padding)} ${(0,Y.zA)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,Y.zA)(e.paddingXS)} ${(0,Y.zA)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,Y.zA)(e.borderRadiusLG)} ${(0,Y.zA)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,Y.zA)(2*e.padding)} ${(0,Y.zA)(2*e.padding)} ${(0,Y.zA)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Zm=(0,X.OF)("Modal",(e=>{const t=Ym(e);return[Um(t),Km(t),Vm(t),mp(t,"zoom")]}),Xm,{unitless:{titleLineHeight:!0}});var qm=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};let Qm;const Jm=e=>{Qm={x:e.pageX,y:e.pageY},setTimeout((()=>{Qm=null}),100)};(0,Ei.A)()&&window.document.documentElement&&document.documentElement.addEventListener("click",Jm,!0);const ey=t=>{var i;const{getPopupContainer:n,getPrefixCls:o,direction:a,modal:s}=e.useContext(l.QO),c=e=>{const{onCancel:i}=t;null===i||void 0===i||i(e)};const{prefixCls:d,className:u,rootClassName:h,open:p,wrapClassName:g,centered:f,getContainer:m,focusTriggerAfterClose:y=!0,style:v,visible:b,width:x=520,footer:S,classNames:M,styles:A,children:k,loading:w}=t,C=qm(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),I=o("modal",d),D=o(),N=Mr(I),[E,O,L]=Zm(I,N),T=r()(g,{[`${I}-centered`]:!!f,[`${I}-wrap-rtl`]:"rtl"===a}),R=null===S||w?null:e.createElement(Fm,Object.assign({},t,{onOk:e=>{const{onOk:i}=t;null===i||void 0===i||i(e)},onCancel:c})),[P,z,j]=function(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rm;const o=Lm(t),a=Lm(i),r="boolean"!==typeof o&&!!(null===o||void 0===o?void 0:o.disabled),s=e.useMemo((()=>Object.assign({closeIcon:e.createElement(pt,null)},n)),[n]),l=e.useMemo((()=>!1!==o&&(o?Tm(s,a,o):!1!==a&&(a?Tm(s,a):!!s.closable&&s))),[o,a,s]);return e.useMemo((()=>{if(!1===l)return[!1,null,r];const{closeIconRender:t}=s,{closeIcon:i}=l;let n=i;if(null!==n&&void 0!==n){t&&(n=t(i));const o=fc(l,!0);Object.keys(o).length&&(n=e.isValidElement(n)?e.cloneElement(n,o):e.createElement("span",Object.assign({},o),n))}return[!0,n,r]}),[l,s])}(Om(t),Om(s),{closable:!0,closeIcon:e.createElement(pt,{className:`${I}-close-icon`}),closeIconRender:e=>$m(I,e)}),B=function(t){const i=e.useContext(zm),n=e.useRef();return(0,di.A)((e=>{if(e){const o=t?e.querySelector(t):e;i.add(o),n.current=o}else i.remove(n.current)}))}(`.${I}-content`),[$,F]=Rd("Modal",C.zIndex);return E(e.createElement(ip,{form:!0,space:!0},e.createElement(Ed.Provider,{value:F},e.createElement(Em,Object.assign({width:x},C,{zIndex:$,getContainer:void 0===m?n:m,prefixCls:I,rootClassName:r()(O,h,L,N),footer:R,visible:null!==p&&void 0!==p?p:b,mousePosition:null!==(i=C.mousePosition)&&void 0!==i?i:Qm,onClose:c,closable:P?{disabled:j,closeIcon:z}:P,closeIcon:z,focusTriggerAfterClose:y,transitionName:Ir(D,"zoom",t.transitionName),maskTransitionName:Ir(D,"fade",t.maskTransitionName),className:r()(O,u,null===s||void 0===s?void 0:s.className),style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),v),classNames:Object.assign(Object.assign(Object.assign({},null===s||void 0===s?void 0:s.classNames),M),{wrapper:r()(T,null===M||void 0===M?void 0:M.wrapper)}),styles:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.styles),A),panelRef:B}),w?e.createElement(dt,{active:!0,title:!1,paragraph:{rows:4},className:`${I}-body-skeleton`}):k))))},ty=e=>{const{componentCls:t,titleFontSize:i,titleLineHeight:n,modalConfirmIconSize:o,fontSize:a,lineHeight:r,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=e,d=`${t}-confirm`;return{[d]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${d}-body-wrapper`]:Object.assign({},(0,Or.t6)()),[`&${t} ${t}-body`]:{padding:c},[`${d}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(s).sub(o).equal()).div(2).equal()}},[`${d}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},[`${e.iconCls} + ${d}-paragraph`]:{maxWidth:`calc(100% - ${(0,Y.zA)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${d}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:i,lineHeight:n},[`${d}-content`]:{color:e.colorText,fontSize:a,lineHeight:r},[`${d}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${d}-error ${d}-body > ${e.iconCls}`]:{color:e.colorError},[`${d}-warning ${d}-body > ${e.iconCls},\n        ${d}-confirm ${d}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${d}-info ${d}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${d}-success ${d}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},iy=(0,X.bf)(["Modal","confirm"],(e=>{const t=Ym(e);return[ty(t)]}),Xm,{order:-1e3});var ny=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function oy(t){const{prefixCls:i,icon:n,okText:a,cancelText:s,confirmPrefixCls:l,type:c,okCancel:d,footer:u,locale:h}=t,p=ny(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let g=n;if(!n&&null!==n)switch(c){case"info":g=e.createElement(dm,null);break;case"success":g=e.createElement(om,null);break;case"error":g=e.createElement(uf,null);break;default:g=e.createElement(sm,null)}const f=null!==d&&void 0!==d?d:"confirm"===c,m=null!==t.autoFocusButton&&(t.autoFocusButton||"ok"),[y]=Is("Modal"),v=h||y,b=a||(f?null===v||void 0===v?void 0:v.okText:null===v||void 0===v?void 0:v.justOkText),x=s||(null===v||void 0===v?void 0:v.cancelText),S=Object.assign({autoFocusButton:m,cancelTextLocale:x,okTextLocale:b,mergedOkCancel:f},p),M=e.useMemo((()=>S),(0,o.A)(Object.values(S))),A=e.createElement(e.Fragment,null,e.createElement(fm,null),e.createElement(mm,null)),k=void 0!==t.title&&null!==t.title,w=`${l}-body`;return e.createElement("div",{className:`${l}-body-wrapper`},e.createElement("div",{className:r()(w,{[`${w}-has-title`]:k})},g,e.createElement("div",{className:`${l}-paragraph`},k&&e.createElement("span",{className:`${l}-title`},t.title),e.createElement("div",{className:`${l}-content`},t.content))),void 0===u||"function"===typeof u?e.createElement(gm,{value:M},e.createElement("div",{className:`${l}-btns`},"function"===typeof u?u(A,{OkBtn:mm,CancelBtn:fm}):A)):u,e.createElement(iy,{prefixCls:i}))}const ay=t=>{const{close:i,zIndex:n,afterClose:o,open:a,keyboard:s,centered:l,getContainer:c,maskStyle:d,direction:u,prefixCls:h,wrapClassName:p,rootPrefixCls:g,bodyStyle:f,closable:m=!1,closeIcon:y,modalRender:v,focusTriggerAfterClose:b,onConfirm:x,styles:S}=t;const M=`${h}-confirm`,A=t.width||416,k=t.style||{},w=void 0===t.mask||t.mask,C=void 0!==t.maskClosable&&t.maskClosable,I=r()(M,`${M}-${t.type}`,{[`${M}-rtl`]:"rtl"===u},t.className),[,D]=(0,Se.Ay)(),N=e.useMemo((()=>void 0!==n?n:D.zIndexPopupBase+1e3),[n,D]);return e.createElement(ey,{prefixCls:h,className:I,wrapClassName:r()({[`${M}-centered`]:!!t.centered},p),onCancel:()=>{null===i||void 0===i||i({triggerCancel:!0}),null===x||void 0===x||x(!1)},open:a,title:"",footer:null,transitionName:Ir(g||"","zoom",t.transitionName),maskTransitionName:Ir(g||"","fade",t.maskTransitionName),mask:w,maskClosable:C,style:k,styles:Object.assign({body:f,mask:d},S),width:A,zIndex:N,afterClose:o,keyboard:s,centered:l,getContainer:c,closable:m,closeIcon:y,modalRender:v,focusTriggerAfterClose:b},e.createElement(oy,Object.assign({},t,{confirmPrefixCls:M})))};const ry=t=>{const{rootPrefixCls:i,iconPrefixCls:n,direction:o,theme:a}=t;return e.createElement(bu,{prefixCls:i,iconPrefixCls:n,direction:o,theme:a},e.createElement(ay,Object.assign({},t)))},sy=[];let ly="";function cy(){return ly}const dy=t=>{var i,n;const{prefixCls:o,getContainer:a,direction:r}=t,s=Qd(),c=(0,e.useContext)(l.QO),d=cy()||c.getPrefixCls(),u=o||`${d}-modal`;let h=a;return!1===h&&(h=void 0),e.createElement(ry,Object.assign({},t,{rootPrefixCls:d,prefixCls:u,iconPrefixCls:c.iconPrefixCls,theme:c.theme,direction:null!==r&&void 0!==r?r:c.direction,locale:null!==(n=null===(i=c.locale)||void 0===i?void 0:i.Modal)&&void 0!==n?n:s,getContainer:h}))};function uy(t){const i={getPrefixCls:(e,t)=>t||(e?`${fu()}-${e}`:fu()),getIconPrefixCls:mu,getRootPrefixCls:()=>uu||fu(),getTheme:()=>pu,holderRender:gu};const n=document.createDocumentFragment();let a,r=Object.assign(Object.assign({},t),{close:c,open:!0});function s(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var s;a.some((e=>null===e||void 0===e?void 0:e.triggerCancel))&&(null===(e=t.onCancel)||void 0===e||(s=e).call.apply(s,[t,()=>{}].concat((0,o.A)(a.slice(1)))));for(let t=0;t<sy.length;t++){if(sy[t]===c){sy.splice(t,1);break}}il(n)}function l(t){clearTimeout(a),a=setTimeout((()=>{const o=i.getPrefixCls(void 0,cy()),a=i.getIconPrefixCls(),r=i.getTheme(),s=e.createElement(dy,Object.assign({},t));Qs(e.createElement(bu,{prefixCls:o,iconPrefixCls:a,theme:r},i.holderRender?i.holderRender(s):s),n)}))}function c(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{"function"===typeof t.afterClose&&t.afterClose(),s.apply(this,i)}}),r.visible&&delete r.visible,l(r)}return l(r),sy.push(c),{destroy:c,update:function(e){r="function"===typeof e?e(r):Object.assign(Object.assign({},r),e),l(r)}}}function hy(e){return Object.assign(Object.assign({},e),{type:"warning"})}function py(e){return Object.assign(Object.assign({},e),{type:"info"})}function gy(e){return Object.assign(Object.assign({},e),{type:"success"})}function fy(e){return Object.assign(Object.assign({},e),{type:"error"})}function my(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var yy=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const vy=xu((t=>{const{prefixCls:i,className:n,closeIcon:o,closable:a,type:s,title:c,children:d,footer:u}=t,h=yy(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:p}=e.useContext(l.QO),g=p(),f=i||p("modal"),m=Mr(g),[y,v,b]=Zm(f,m),x=`${f}-confirm`;let S={};return S=s?{closable:null!==a&&void 0!==a&&a,title:"",footer:"",children:e.createElement(oy,Object.assign({},t,{prefixCls:f,confirmPrefixCls:x,rootPrefixCls:g,content:d}))}:{closable:null===a||void 0===a||a,title:c,footer:null!==u&&e.createElement(Fm,Object.assign({},t)),children:d},y(e.createElement(km,Object.assign({prefixCls:f,className:r()(v,`${f}-pure-panel`,s&&x,s&&`${x}-${s}`,n,b,m)},h,{closeIcon:$m(f,o),closable:a},S)))}));var by=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const xy=(t,i)=>{var n,{afterClose:a,config:r}=t,s=by(t,["afterClose","config"]);const[c,d]=e.useState(!0),[u,h]=e.useState(r),{direction:p,getPrefixCls:g}=e.useContext(l.QO),f=g("modal"),m=g(),y=function(){var e;d(!1);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a;i.some((e=>null===e||void 0===e?void 0:e.triggerCancel))&&(null===(e=u.onCancel)||void 0===e||(a=e).call.apply(a,[u,()=>{}].concat((0,o.A)(i.slice(1)))))};e.useImperativeHandle(i,(()=>({destroy:y,update:e=>{h((t=>Object.assign(Object.assign({},t),e)))}})));const v=null!==(n=u.okCancel)&&void 0!==n?n:"confirm"===u.type,[b]=Is("Modal",Cs.Modal);return e.createElement(ry,Object.assign({prefixCls:f,rootPrefixCls:m},u,{close:y,open:c,afterClose:()=>{var e;a(),null===(e=u.afterClose)||void 0===e||e.call(u)},okText:u.okText||(v?null===b||void 0===b?void 0:b.okText:null===b||void 0===b?void 0:b.justOkText),direction:u.direction||p,cancelText:u.cancelText||(null===b||void 0===b?void 0:b.cancelText)},s))},Sy=e.forwardRef(xy);let My=0;const Ay=e.memo(e.forwardRef(((t,i)=>{const[n,a]=function(){const[t,i]=e.useState([]);return[t,e.useCallback((e=>(i((t=>[].concat((0,o.A)(t),[e]))),()=>{i((t=>t.filter((t=>t!==e))))})),[])]}();return e.useImperativeHandle(i,(()=>({patchElement:a})),[]),e.createElement(e.Fragment,null,n)})));const ky=function(){const t=e.useRef(null),[i,n]=e.useState([]);e.useEffect((()=>{if(i.length){(0,o.A)(i).forEach((e=>{e()})),n([])}}),[i]);const a=e.useCallback((i=>function(a){var r;My+=1;const s=e.createRef();let l;const c=new Promise((e=>{l=e}));let d,u=!1;const h=e.createElement(Sy,{key:`modal-${My}`,config:i(a),ref:s,afterClose:()=>{null===d||void 0===d||d()},isSilent:()=>u,onConfirm:e=>{l(e)}});d=null===(r=t.current)||void 0===r?void 0:r.patchElement(h),d&&sy.push(d);const p={destroy:()=>{function e(){var e;null===(e=s.current)||void 0===e||e.destroy()}s.current?e():n((t=>[].concat((0,o.A)(t),[e])))},update:e=>{function t(){var t;null===(t=s.current)||void 0===t||t.update(e)}s.current?t():n((e=>[].concat((0,o.A)(e),[t])))},then:e=>(u=!0,c.then(e))};return p}),[]);return[e.useMemo((()=>({info:a(py),success:a(gy),error:a(fy),warning:a(hy),confirm:a(my)})),[]),e.createElement(Ay,{key:"modal-holder",ref:t})]};function wy(e){return uy(hy(e))}const Cy=ey;Cy.useModal=ky,Cy.info=function(e){return uy(py(e))},Cy.success=function(e){return uy(gy(e))},Cy.error=function(e){return uy(fy(e))},Cy.warning=wy,Cy.warn=wy,Cy.confirm=function(e){return uy(my(e))},Cy.destroyAll=function(){for(;sy.length;){const e=sy.pop();e&&e()}},Cy.config=function(e){let{rootPrefixCls:t}=e;ly=t},Cy._InternalPanelDoNotUseOrYouWillBeFired=vy;const Iy=Cy;function Dy(t){const[i,n]=e.useState(t);return e.useEffect((()=>{const e=setTimeout((()=>{n(t)}),t.length?0:10);return()=>{clearTimeout(e)}}),[t]),i}const Ny=e=>{const{componentCls:t}=e,i=`${t}-show-help`,n=`${t}-show-help-item`;return{[i]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}},Ey=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${(0,Y.zA)(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),Oy=(e,t)=>{const{formItemCls:i}=e;return{[i]:{[`${i}-label > label`]:{height:t},[`${i}-control-input`]:{minHeight:t}}}},Ly=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),Ey(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},Oy(e,e.controlHeightSM)),"&-large":Object.assign({},Oy(e,e.controlHeightLG))})}},Ty=e=>{const{formItemCls:t,iconCls:i,componentCls:n,rootPrefixCls:o,antCls:a,labelRequiredMarkColor:r,labelColor:s,labelFontSize:l,labelHeight:c,labelColonMarginInlineStart:d,labelColonMarginInlineEnd:u,itemMarginBottom:h}=e;return{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{marginBottom:h,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${a}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:c,color:s,fontSize:l,[`> ${i}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:r,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${n}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${n}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:d,marginInlineEnd:u},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:np,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},Ry=(e,t)=>{const{formItemCls:i}=e;return{[`${t}-horizontal`]:{[`${i}-label`]:{flexGrow:0},[`${i}-control`]:{flex:"1 1 0",minWidth:0},[`${i}-label[class$='-24'], ${i}-label[class*='-24 ']`]:{[`& + ${i}-control`]:{minWidth:"unset"}}}}},Py=e=>{const{componentCls:t,formItemCls:i,inlineItemMarginBottom:n}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[i]:{flex:"none",marginInlineEnd:e.margin,marginBottom:n,"&-row":{flexWrap:"nowrap"},[`> ${i}-label,\n        > ${i}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${i}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${i}-has-feedback`]:{display:"inline-block"}}}}},zy=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),jy=e=>{const{componentCls:t,formItemCls:i,rootPrefixCls:n}=e;return{[`${i} ${i}-label`]:zy(e),[`${t}:not(${t}-inline)`]:{[i]:{flexWrap:"wrap",[`${i}-label, ${i}-control`]:{[`&:not([class*=" ${n}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},By=e=>{const{componentCls:t,formItemCls:i,antCls:n}=e;return{[`${t}-vertical`]:{[`${i}:not(${i}-horizontal)`]:{[`${i}-row`]:{flexDirection:"column"},[`${i}-label > label`]:{height:"auto"},[`${i}-control`]:{width:"100%"},[`${i}-label,\n        ${n}-col-24${i}-label,\n        ${n}-col-xl-24${i}-label`]:zy(e)}},[`@media (max-width: ${(0,Y.zA)(e.screenXSMax)})`]:[jy(e),{[t]:{[`${i}:not(${i}-horizontal)`]:{[`${n}-col-xs-24${i}-label`]:zy(e)}}}],[`@media (max-width: ${(0,Y.zA)(e.screenSMMax)})`]:{[t]:{[`${i}:not(${i}-horizontal)`]:{[`${n}-col-sm-24${i}-label`]:zy(e)}}},[`@media (max-width: ${(0,Y.zA)(e.screenMDMax)})`]:{[t]:{[`${i}:not(${i}-horizontal)`]:{[`${n}-col-md-24${i}-label`]:zy(e)}}},[`@media (max-width: ${(0,Y.zA)(e.screenLGMax)})`]:{[t]:{[`${i}:not(${i}-horizontal)`]:{[`${n}-col-lg-24${i}-label`]:zy(e)}}}}},$y=e=>{const{formItemCls:t,antCls:i}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${i}-col-24${t}-label,\n      ${i}-col-xl-24${t}-label`]:zy(e),[`@media (max-width: ${(0,Y.zA)(e.screenXSMax)})`]:[jy(e),{[t]:{[`${i}-col-xs-24${t}-label`]:zy(e)}}],[`@media (max-width: ${(0,Y.zA)(e.screenSMMax)})`]:{[t]:{[`${i}-col-sm-24${t}-label`]:zy(e)}},[`@media (max-width: ${(0,Y.zA)(e.screenMDMax)})`]:{[t]:{[`${i}-col-md-24${t}-label`]:zy(e)}},[`@media (max-width: ${(0,Y.zA)(e.screenLGMax)})`]:{[t]:{[`${i}-col-lg-24${t}-label`]:zy(e)}}}},Fy=(e,t)=>(0,Fe.oX)(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),_y=(0,X.OF)("Form",((e,t)=>{let{rootPrefixCls:i}=t;const n=Fy(e,i);return[Ly(n),Ty(n),Ny(n),Ry(n,n.componentCls),Ry(n,n.formItemCls),Py(n),By(n),$y(n),Sc(n),np]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0})),{order:-1e3}),Hy=[];function Wy(e,t,i){return{key:"string"===typeof e?e:`${t}-${arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}`,error:e,errorStatus:i}}const Gy=t=>{let{help:i,helpStatus:n,errors:a=Hy,warnings:s=Hy,className:l,fieldId:c,onVisibleChanged:d}=t;const{prefixCls:u}=e.useContext(Qh),h=`${u}-item-explain`,p=Mr(u),[g,f,m]=_y(u,p),y=(0,e.useMemo)((()=>Dr(u)),[u]),v=Dy(a),b=Dy(s),x=e.useMemo((()=>void 0!==i&&null!==i?[Wy(i,"help",n)]:[].concat((0,o.A)(v.map(((e,t)=>Wy(e,"error","error",t)))),(0,o.A)(b.map(((e,t)=>Wy(e,"warning","warning",t)))))),[i,n,v,b]),S=e.useMemo((()=>{const e={};return x.forEach((t=>{let{key:i}=t;e[i]=(e[i]||0)+1})),x.map(((t,i)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${i}`:t.key})))}),[x]),M={};return c&&(M.id=`${c}_help`),g(e.createElement(jn,{motionDeadline:y.motionDeadline,motionName:`${u}-show-help`,visible:!!S.length,onVisibleChanged:d},(t=>{const{className:i,style:n}=t;return e.createElement("div",Object.assign({},M,{className:r()(h,i,m,p,l,f),style:n,role:"alert"}),e.createElement(zn,Object.assign({keys:S},Dr(u),{motionName:`${u}-show-help-item`,component:!1}),(t=>{const{key:i,error:n,errorStatus:o,className:a,style:s}=t;return e.createElement("div",{key:i,className:r()(a,{[`${h}-${o}`]:o}),style:s},n)})))})))},Vy=e=>"object"==typeof e&&null!=e&&1===e.nodeType,Uy=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,Ky=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const i=getComputedStyle(e,null);return Uy(i.overflowY,t)||Uy(i.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},Yy=(e,t,i,n,o,a,r,s)=>a<e&&r>t||a>e&&r<t?0:a<=e&&s<=i||r>=t&&s>=i?a-e-n:r>t&&s<i||a<e&&s>i?r-t+o:0,Xy=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},Zy=(e,t)=>{var i,n,o,a;if("undefined"==typeof document)return[];const{scrollMode:r,block:s,inline:l,boundary:c,skipOverflowHiddenElements:d}=t,u="function"==typeof c?c:e=>e!==c;if(!Vy(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,p=[];let g=e;for(;Vy(g)&&u(g);){if(g=Xy(g),g===h){p.push(g);break}null!=g&&g===document.body&&Ky(g)&&!Ky(document.documentElement)||null!=g&&Ky(g,d)&&p.push(g)}const f=null!=(n=null==(i=window.visualViewport)?void 0:i.width)?n:innerWidth,m=null!=(a=null==(o=window.visualViewport)?void 0:o.height)?a:innerHeight,{scrollX:y,scrollY:v}=window,{height:b,width:x,top:S,right:M,bottom:A,left:k}=e.getBoundingClientRect(),{top:w,right:C,bottom:I,left:D}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let N="start"===s||"nearest"===s?S-w:"end"===s?A+I:S+b/2-w+I,E="center"===l?k+x/2-D+C:"end"===l?M+C:k-D;const O=[];for(let L=0;L<p.length;L++){const e=p[L],{height:t,width:i,top:n,right:o,bottom:a,left:c}=e.getBoundingClientRect();if("if-needed"===r&&S>=0&&k>=0&&A<=m&&M<=f&&S>=n&&A<=a&&k>=c&&M<=o)return O;const d=getComputedStyle(e),u=parseInt(d.borderLeftWidth,10),g=parseInt(d.borderTopWidth,10),w=parseInt(d.borderRightWidth,10),C=parseInt(d.borderBottomWidth,10);let I=0,D=0;const T="offsetWidth"in e?e.offsetWidth-e.clientWidth-u-w:0,R="offsetHeight"in e?e.offsetHeight-e.clientHeight-g-C:0,P="offsetWidth"in e?0===e.offsetWidth?0:i/e.offsetWidth:0,z="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(h===e)I="start"===s?N:"end"===s?N-m:"nearest"===s?Yy(v,v+m,m,g,C,v+N,v+N+b,b):N-m/2,D="start"===l?E:"center"===l?E-f/2:"end"===l?E-f:Yy(y,y+f,f,u,w,y+E,y+E+x,x),I=Math.max(0,I+v),D=Math.max(0,D+y);else{I="start"===s?N-n-g:"end"===s?N-a+C+R:"nearest"===s?Yy(n,a,t,g,C+R,N,N+b,b):N-(n+t/2)+R/2,D="start"===l?E-c-u:"center"===l?E-(c+i/2)+T/2:"end"===l?E-o+w+T:Yy(c,o,i,u,w+T,E,E+x,x);const{scrollLeft:r,scrollTop:d}=e;I=0===z?0:Math.max(0,Math.min(d+I/z,e.scrollHeight-t/z+R)),D=0===P?0:Math.max(0,Math.min(r+D/P,e.scrollWidth-i/P+T)),N+=d-I,E+=r-D}O.push({el:e,top:I,left:D})}return O};function qy(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const i=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof(n=t)&&"function"==typeof n.behavior)return t.behavior(Zy(e,t));var n;const o="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:a,top:r,left:s}of Zy(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=r-i.top+i.bottom,t=s-i.left+i.right;a.scroll({top:e,left:t,behavior:o})}}const Qy=["parentNode"];function Jy(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function ev(e,t){if(!e.length)return;const i=e.join("_");if(t)return`${t}_${i}`;return Qy.includes(i)?`form_item_${i}`:i}function tv(e,t,i,n,o,a){let r=n;return void 0!==a?r=a:i.validating?r="validating":e.length?r="error":t.length?r="warning":(i.touched||o&&i.validated)&&(r="success"),r}function iv(e){return Jy(e).join("_")}function nv(e,t){const i=Ct(t.getFieldInstance(e));if(i)return i;const n=ev(Jy(e),t.__INTERNAL__.name);return n?document.getElementById(n):void 0}function ov(t){const[i]=Bh(),n=e.useRef({}),o=e.useMemo((()=>null!==t&&void 0!==t?t:Object.assign(Object.assign({},i),{__INTERNAL__:{itemRef:e=>t=>{const i=iv(e);t?n.current[i]=t:delete n.current[i]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=nv(e,o);i&&qy(i,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},focusField:e=>{var t;const i=nv(e,o);i&&(null===(t=i.focus)||void 0===t||t.call(i))},getFieldInstance:e=>{const t=iv(e);return n.current[t]}})),[t,i]);return[o]}var av=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const rv=(t,i)=>{const n=e.useContext(hl),{getPrefixCls:o,direction:a,form:s}=e.useContext(l.QO),{prefixCls:c,className:d,rootClassName:u,size:h,disabled:p=n,form:g,colon:f,labelAlign:m,labelWrap:y,labelCol:v,wrapperCol:b,hideRequiredMark:x,layout:S="horizontal",scrollToFirstError:M,requiredMark:A,onFinishFailed:k,name:w,style:C,feedbackIcons:I,variant:D}=t,N=av(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),E=Be(h),O=e.useContext(Yd);const L=(0,e.useMemo)((()=>void 0!==A?A:!x&&(!s||void 0===s.requiredMark||s.requiredMark)),[x,A,s]),T=null!==f&&void 0!==f?f:null===s||void 0===s?void 0:s.colon,R=o("form",c),P=Mr(R),[z,j,B]=_y(R,P),$=r()(R,`${R}-${S}`,{[`${R}-hide-required-mark`]:!1===L,[`${R}-rtl`]:"rtl"===a,[`${R}-${E}`]:E},B,P,j,null===s||void 0===s?void 0:s.className,d,u),[F]=ov(g),{__INTERNAL__:_}=F;_.name=w;const H=(0,e.useMemo)((()=>({name:w,labelAlign:m,labelCol:v,labelWrap:y,wrapperCol:b,vertical:"vertical"===S,colon:T,requiredMark:L,itemRef:_.itemRef,form:F,feedbackIcons:I})),[w,m,v,b,S,T,L,F,I]),W=e.useRef(null);e.useImperativeHandle(i,(()=>{var e;return Object.assign(Object.assign({},F),{nativeElement:null===(e=W.current)||void 0===e?void 0:e.nativeElement})}));const G=(e,t)=>{if(e){let i={block:"nearest"};"object"===typeof e&&(i=Object.assign(Object.assign({},i),e)),F.scrollToField(t,i),i.focus&&F.focusField(t)}};return z(e.createElement(tp.Provider,{value:D},e.createElement(ul,{disabled:p},e.createElement(je.Provider,{value:E},e.createElement(qh,{validateMessages:O},e.createElement(Xh.Provider,{value:H},e.createElement(Yh,Object.assign({id:w},N,{name:w,onFinishFailed:e=>{if(null===k||void 0===k||k(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==M)return void G(M,t);s&&void 0!==s.scrollToFirstError&&G(s.scrollToFirstError,t)}},form:F,ref:W,style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),C),className:$}))))))))};const sv=e.forwardRef(rv);const lv=()=>{const{status:t,errors:i=[],warnings:n=[]}=(0,e.useContext)(Jh);return{status:t,errors:i,warnings:n}};lv.Context=Jh;const cv=lv;const dv=["xxl","xl","lg","md","sm","xs"];function uv(){const[,t]=(0,Se.Ay)(),i=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,i=[].concat(dv).reverse();return i.forEach(((e,n)=>{const o=e.toUpperCase(),a=`screen${o}Min`,r=`screen${o}`;if(!(t[a]<=t[r]))throw new Error(`${a}<=${r} fails : !(${t[a]}<=${t[r]})`);if(n<i.length-1){const e=`screen${o}Max`;if(!(t[r]<=t[e]))throw new Error(`${r}<=${e} fails : !(${t[r]}<=${t[e]})`);const a=`screen${i[n+1].toUpperCase()}Min`;if(!(t[e]<=t[a]))throw new Error(`${e}<=${a} fails : !(${t[e]}<=${t[a]})`)}})),e})(t));return e.useMemo((()=>{const e=new Map;let t=-1,n={};return{matchHandlers:{},dispatch:t=>(n=t,e.forEach((e=>e(n))),e.size>=1),subscribe(i){return e.size||this.register(),t+=1,e.set(t,i),i(n),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(i).forEach((e=>{const t=i[e],n=this.matchHandlers[t];null===n||void 0===n||n.mql.removeListener(null===n||void 0===n?void 0:n.listener)})),e.clear()},register(){Object.keys(i).forEach((e=>{const t=i[e],o=t=>{let{matches:i}=t;this.dispatch(Object.assign(Object.assign({},n),{[e]:i}))},a=window.matchMedia(t);a.addListener(o),this.matchHandlers[t]={mql:a,listener:o},o(a)}))},responsiveMap:i}}),[t])}const hv=(0,e.createContext)({}),pv=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},gv=(e,t)=>((e,t)=>{const{prefixCls:i,componentCls:n,gridColumns:o}=e,a={};for(let r=o;r>=0;r--)0===r?(a[`${n}${t}-${r}`]={display:"none"},a[`${n}-push-${r}`]={insetInlineStart:"auto"},a[`${n}-pull-${r}`]={insetInlineEnd:"auto"},a[`${n}${t}-push-${r}`]={insetInlineStart:"auto"},a[`${n}${t}-pull-${r}`]={insetInlineEnd:"auto"},a[`${n}${t}-offset-${r}`]={marginInlineStart:0},a[`${n}${t}-order-${r}`]={order:0}):(a[`${n}${t}-${r}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${r/o*100}%`,maxWidth:r/o*100+"%"}],a[`${n}${t}-push-${r}`]={insetInlineStart:r/o*100+"%"},a[`${n}${t}-pull-${r}`]={insetInlineEnd:r/o*100+"%"},a[`${n}${t}-offset-${r}`]={marginInlineStart:r/o*100+"%"},a[`${n}${t}-order-${r}`]={order:r});return a[`${n}${t}-flex`]={flex:`var(--${i}${t}-flex)`},a})(e,t),fv=(0,X.OF)("Grid",(e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}}),(()=>({}))),mv=(0,X.OF)("Grid",(e=>{const t=(0,Fe.oX)(e,{gridColumns:24}),i={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[pv(t),gv(t,""),gv(t,"-xs"),Object.keys(i).map((e=>((e,t,i)=>({[`@media (min-width: ${(0,Y.zA)(t)})`]:Object.assign({},gv(e,i))}))(t,i[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}),(()=>({})));var yv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function vv(t,i){const[n,o]=e.useState("string"===typeof t?t:"");return e.useEffect((()=>{(()=>{if("string"===typeof t&&o(t),"object"===typeof t)for(let e=0;e<dv.length;e++){const n=dv[e];if(!i[n])continue;const a=t[n];if(void 0!==a)return void o(a)}})()}),[JSON.stringify(t),i]),n}const bv=e.forwardRef(((t,i)=>{const{prefixCls:n,justify:o,align:a,className:s,style:c,children:d,gutter:u=0,wrap:h}=t,p=yv(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:g,direction:f}=e.useContext(l.QO),[m,y]=e.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[v,b]=e.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),x=vv(a,v),S=vv(o,v),M=e.useRef(u),A=uv();e.useEffect((()=>{const e=A.subscribe((e=>{b(e);const t=M.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&y(e)}));return()=>A.unsubscribe(e)}),[]);const k=g("row",n),[w,C,I]=fv(k),D=(()=>{const e=[void 0,void 0];return(Array.isArray(u)?u:[u,void 0]).forEach(((t,i)=>{if("object"===typeof t)for(let n=0;n<dv.length;n++){const o=dv[n];if(m[o]&&void 0!==t[o]){e[i]=t[o];break}}else e[i]=t})),e})(),N=r()(k,{[`${k}-no-wrap`]:!1===h,[`${k}-${S}`]:S,[`${k}-${x}`]:x,[`${k}-rtl`]:"rtl"===f},s,C,I),E={},O=null!=D[0]&&D[0]>0?D[0]/-2:void 0;O&&(E.marginLeft=O,E.marginRight=O);const[L,T]=D;E.rowGap=T;const R=e.useMemo((()=>({gutter:[L,T],wrap:h})),[L,T,h]);return w(e.createElement(hv.Provider,{value:R},e.createElement("div",Object.assign({},p,{className:N,style:Object.assign(Object.assign({},E),c),ref:i}),d)))}));var xv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function Sv(e){return"number"===typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const Mv=["xs","sm","md","lg","xl","xxl"];const Av=e.forwardRef(((t,i)=>{const{getPrefixCls:n,direction:o}=e.useContext(l.QO),{gutter:a,wrap:s}=e.useContext(hv),{prefixCls:c,span:d,order:u,offset:h,push:p,pull:g,className:f,children:m,flex:y,style:v}=t,b=xv(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=n("col",c),[S,M,A]=mv(x),k={};let w={};Mv.forEach((e=>{let i={};const n=t[e];"number"===typeof n?i.span=n:"object"===typeof n&&(i=n||{}),delete b[e],w=Object.assign(Object.assign({},w),{[`${x}-${e}-${i.span}`]:void 0!==i.span,[`${x}-${e}-order-${i.order}`]:i.order||0===i.order,[`${x}-${e}-offset-${i.offset}`]:i.offset||0===i.offset,[`${x}-${e}-push-${i.push}`]:i.push||0===i.push,[`${x}-${e}-pull-${i.pull}`]:i.pull||0===i.pull,[`${x}-rtl`]:"rtl"===o}),i.flex&&(w[`${x}-${e}-flex`]=!0,k[`--${x}-${e}-flex`]=Sv(i.flex))}));const C=r()(x,{[`${x}-${d}`]:void 0!==d,[`${x}-order-${u}`]:u,[`${x}-offset-${h}`]:h,[`${x}-push-${p}`]:p,[`${x}-pull-${g}`]:g},f,w,M,A),I={};if(a&&a[0]>0){const e=a[0]/2;I.paddingLeft=e,I.paddingRight=e}return y&&(I.flex=Sv(y),!1!==s||I.minWidth||(I.minWidth=0)),S(e.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign(Object.assign({},I),v),k),className:C,ref:i}),m))})),kv=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},wv=(0,X.bf)(["Form","item-item"],((e,t)=>{let{rootPrefixCls:i}=t;const n=Fy(e,i);return[kv(n)]}));var Cv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Iv=t=>{const{prefixCls:i,status:n,labelCol:o,wrapperCol:a,children:s,errors:l,warnings:c,_internalItemRender:d,extra:u,help:h,fieldId:p,marginBottom:g,onErrorVisibleChanged:f,label:m}=t,y=`${i}-item`,v=e.useContext(Xh),b=e.useMemo((()=>{let e=Object.assign({},a||v.wrapperCol||{});if(null===m&&!o&&!a&&v.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach((t=>{const i=t?[t]:[],n=(0,Ki.Jt)(v.labelCol,i),o="object"===typeof n?n:{},a=(0,Ki.Jt)(e,i);"span"in o&&!("offset"in("object"===typeof a?a:{}))&&o.span<24&&(e=(0,Ki.hZ)(e,[].concat(i,["offset"]),o.span))}))}return e}),[a,v]),x=r()(`${y}-control`,b.className),S=e.useMemo((()=>{const{labelCol:e,wrapperCol:t}=v;return Cv(v,["labelCol","wrapperCol"])}),[v]),M=e.useRef(null),[A,k]=e.useState(0);(0,Mi.A)((()=>{u&&M.current?k(M.current.clientHeight):k(0)}),[u]);const w=e.createElement("div",{className:`${y}-control-input`},e.createElement("div",{className:`${y}-control-input-content`},s)),C=e.useMemo((()=>({prefixCls:i,status:n})),[i,n]),I=null!==g||l.length||c.length?e.createElement(Qh.Provider,{value:C},e.createElement(Gy,{fieldId:p,errors:l,warnings:c,help:h,helpStatus:n,className:`${y}-explain-connected`,onVisibleChanged:f})):null,D={};p&&(D.id=`${p}_extra`);const N=u?e.createElement("div",Object.assign({},D,{className:`${y}-extra`,ref:M}),u):null,E=I||N?e.createElement("div",{className:`${y}-additional`,style:g?{minHeight:g+A}:{}},I,N):null,O=d&&"pro_table_render"===d.mark&&d.render?d.render(t,{input:w,errorList:I,extra:N}):e.createElement(e.Fragment,null,w,E);return e.createElement(Xh.Provider,{value:S},e.createElement(Av,Object.assign({},b,{className:x}),O),e.createElement(wv,{prefixCls:i}))};const Dv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var Nv=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:Dv}))};const Ev=e.forwardRef(Nv);var Ov=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Lv=t=>{let{prefixCls:i,label:n,htmlFor:o,labelCol:a,labelAlign:s,colon:l,required:c,requiredMark:d,tooltip:u,vertical:h}=t;var p;const[g]=Is("Form"),{labelAlign:f,labelCol:m,labelWrap:y,colon:v}=e.useContext(Xh);if(!n)return null;const b=a||m||{},x=s||f,S=`${i}-item-label`,M=r()(S,"left"===x&&`${S}-left`,b.className,{[`${S}-wrap`]:!!y});let A=n;const k=!0===l||!1!==v&&!1!==l;k&&!h&&"string"===typeof n&&n.trim()&&(A=n.replace(/[:|\uff1a]\s*$/,""));const w=function(t){return t?"object"!==typeof t||e.isValidElement(t)?{title:t}:t:null}(u);if(w){const{icon:t=e.createElement(Ev,null)}=w,n=Ov(w,["icon"]),o=e.createElement(Ip,Object.assign({},n),e.cloneElement(t,{className:`${i}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));A=e.createElement(e.Fragment,null,A,o)}const C="optional"===d,I="function"===typeof d;I?A=d(A,{required:!!c}):C&&!c&&(A=e.createElement(e.Fragment,null,A,e.createElement("span",{className:`${i}-item-optional`,title:""},(null===g||void 0===g?void 0:g.optional)||(null===(p=Cs.Form)||void 0===p?void 0:p.optional))));const D=r()({[`${i}-item-required`]:c,[`${i}-item-required-mark-optional`]:C||I,[`${i}-item-no-colon`]:!k});return e.createElement(Av,Object.assign({},b,{className:M}),e.createElement("label",{htmlFor:o,className:D,title:"string"===typeof n?n:""},A))},Tv={success:om,warning:sm,error:uf,validating:Dl};function Rv(t){let{children:i,errors:n,warnings:o,hasFeedback:a,validateStatus:s,prefixCls:l,meta:c,noStyle:d}=t;const u=`${l}-item`,{feedbackIcons:h}=e.useContext(Xh),p=tv(n,o,c,null,!!a,s),{isFormItemInput:g,status:f,hasFeedback:m,feedbackIcon:y}=e.useContext(Jh),v=e.useMemo((()=>{var t;let i;if(a){const s=!0!==a&&a.icons||h,l=p&&(null===(t=null===s||void 0===s?void 0:s({status:p,errors:n,warnings:o}))||void 0===t?void 0:t[p]),c=p&&Tv[p];i=!1!==l&&c?e.createElement("span",{className:r()(`${u}-feedback-icon`,`${u}-feedback-icon-${p}`)},l||e.createElement(c,null)):null}const s={status:p||"",errors:n,warnings:o,hasFeedback:!!a,feedbackIcon:i,isFormItemInput:!0};return d&&(s.status=(null!==p&&void 0!==p?p:f)||"",s.isFormItemInput=g,s.hasFeedback=!!(null!==a&&void 0!==a?a:m),s.feedbackIcon=void 0!==a?s.feedbackIcon:y),s}),[p,a,d,g,f]);return e.createElement(Jh.Provider,{value:v},i)}var Pv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function zv(t){const{prefixCls:i,className:n,rootClassName:o,style:a,help:l,errors:c,warnings:d,validateStatus:u,meta:h,hasFeedback:p,hidden:g,children:f,fieldId:m,required:y,isRequired:v,onSubItemMetaChange:b,layout:x}=t,S=Pv(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),M=`${i}-item`,{requiredMark:A,vertical:k}=e.useContext(Xh),w=k||"vertical"===x,C=e.useRef(null),I=Dy(c),D=Dy(d),N=void 0!==l&&null!==l,E=!!(N||c.length||d.length),O=!!C.current&&Vn(C.current),[L,T]=e.useState(null);(0,Mi.A)((()=>{if(E&&C.current){const e=getComputedStyle(C.current);T(parseInt(e.marginBottom,10))}}),[E,O]);const R=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return tv(e?I:h.errors,e?D:h.warnings,h,"",!!p,u)}(),P=r()(M,n,o,{[`${M}-with-help`]:N||I.length||D.length,[`${M}-has-feedback`]:R&&p,[`${M}-has-success`]:"success"===R,[`${M}-has-warning`]:"warning"===R,[`${M}-has-error`]:"error"===R,[`${M}-is-validating`]:"validating"===R,[`${M}-hidden`]:g,[`${M}-${x}`]:x});return e.createElement("div",{className:P,style:a,ref:C},e.createElement(bv,Object.assign({className:`${M}-row`},(0,s.A)(S,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),e.createElement(Lv,Object.assign({htmlFor:m},t,{requiredMark:A,required:null!==y&&void 0!==y?y:v,prefixCls:i,vertical:w})),e.createElement(Iv,Object.assign({},t,h,{errors:I,warnings:D,prefixCls:i,status:R,help:l,marginBottom:L,onErrorVisibleChanged:e=>{e||T(null)}}),e.createElement(Zh.Provider,{value:b},e.createElement(Rv,{prefixCls:i,meta:h,errors:h.errors,warnings:h.warnings,hasFeedback:p,validateStatus:R},f)))),!!L&&e.createElement("div",{className:`${M}-margin-offset`,style:{marginBottom:-L}}))}const jv=e.memo((e=>{let{children:t}=e;return t}),((e,t)=>function(e,t){const i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every((i=>{const n=e[i],o=t[i];return n===o||"function"===typeof n||"function"===typeof o}))}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,i)=>e===t.childProps[i]))));const Bv=function(t){const{name:i,noStyle:n,className:a,dependencies:s,prefixCls:c,shouldUpdate:d,rules:h,children:p,required:g,label:f,messageVariables:m,trigger:y="onChange",validateTrigger:v,hidden:b,help:x,layout:S}=t,{getPrefixCls:M}=e.useContext(l.QO),{name:A}=e.useContext(Xh),k=function(e){if("function"===typeof e)return e;const t=u(e);return t.length<=1?t[0]:t}(p),w="function"===typeof k,C=e.useContext(Zh),{validateTrigger:I}=e.useContext(Pu),D=void 0!==v?v:I,N=!(void 0===i||null===i),E=M("form",c),O=Mr(E),[L,T,R]=_y(E,O);Kd("Form.Item");const P=e.useContext(zu),z=e.useRef(),[j,B]=function(t){const[i,n]=e.useState(t),o=(0,e.useRef)(null),a=(0,e.useRef)([]),r=(0,e.useRef)(!1);return e.useEffect((()=>(r.current=!1,()=>{r.current=!0,yi.cancel(o.current),o.current=null})),[]),[i,function(e){r.current||(null===o.current&&(a.current=[],o.current=yi((()=>{o.current=null,n((e=>{let t=e;return a.current.forEach((e=>{t=e(t)})),t}))}))),a.current.push(e))}]}({}),[$,F]=(0,Yi.A)((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),_=(e,t)=>{B((i=>{const n=Object.assign({},i),a=[].concat((0,o.A)(e.name.slice(0,-1)),(0,o.A)(t)).join("__SPLIT__");return e.destroy?delete n[a]:n[a]=e,n}))},[H,W]=e.useMemo((()=>{const e=(0,o.A)($.errors),t=(0,o.A)($.warnings);return Object.values(j).forEach((i=>{e.push.apply(e,(0,o.A)(i.errors||[])),t.push.apply(t,(0,o.A)(i.warnings||[]))})),[e,t]}),[j,$.errors,$.warnings]),G=function(){const{itemRef:t}=e.useContext(Xh),i=e.useRef({});return function(e,n){const o=n&&"object"===typeof n&&n.ref,a=e.join("_");return i.current.name===a&&i.current.originRef===o||(i.current.name=a,i.current.originRef=o,i.current.ref=(0,Dt.K4)(t(e),o)),i.current.ref}}();function V(i,o,s){return n&&!b?e.createElement(Rv,{prefixCls:E,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:$,errors:H,warnings:W,noStyle:!0},i):e.createElement(zv,Object.assign({key:"row"},t,{className:r()(a,R,O,T),prefixCls:E,fieldId:o,isRequired:s,errors:H,warnings:W,meta:$,onSubItemMetaChange:_,layout:S}),i)}if(!N&&!w&&!s)return L(V(k));let U={};return"string"===typeof f?U.label=f:i&&(U.label=String(i)),m&&(U=Object.assign(Object.assign({},U),m)),L(e.createElement(Oh,Object.assign({},t,{messageVariables:U,trigger:y,validateTrigger:D,onMetaChange:e=>{const t=null===P||void 0===P?void 0:P.getKey(e.name);if(F(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),n&&!1!==x&&C){let i=e.name;if(e.destroy)i=z.current||i;else if(void 0!==t){const[e,n]=t;i=[e].concat((0,o.A)(n)),z.current=i}C(e,i)}}}),((n,a,r)=>{const l=Jy(i).length&&a?a.name:[],c=ev(l,A),u=void 0!==g?g:!!(null===h||void 0===h?void 0:h.some((e=>{if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){const t=e(r);return(null===t||void 0===t?void 0:t.required)&&!(null===t||void 0===t?void 0:t.warningOnly)}return!1}))),p=Object.assign({},n);let f=null;if(Array.isArray(k)&&N)f=k;else if(w&&(!d&&!s||N));else if(!s||w||N)if(e.isValidElement(k)){const i=Object.assign(Object.assign({},k.props),p);if(i.id||(i.id=c),x||H.length>0||W.length>0||t.extra){const e=[];(x||H.length>0)&&e.push(`${c}_help`),t.extra&&e.push(`${c}_extra`),i["aria-describedby"]=e.join(" ")}H.length>0&&(i["aria-invalid"]="true"),u&&(i["aria-required"]="true"),(0,Dt.f3)(k)&&(i.ref=G(l,k));new Set([].concat((0,o.A)(Jy(y)),(0,o.A)(Jy(D)))).forEach((e=>{i[e]=function(){for(var t,i,n,o,a,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];null===(n=p[e])||void 0===n||(t=n).call.apply(t,[p].concat(s)),null===(a=(o=k.props)[e])||void 0===a||(i=a).call.apply(i,[o].concat(s))}}));const n=[i["aria-required"],i["aria-invalid"],i["aria-describedby"]];f=e.createElement(jv,{control:p,update:k,childProps:n},Bs(k,i))}else f=w&&(d||s)&&!N?k(r):k;else;return V(f,c,u)})))};Bv.useStatus=cv;const $v=Bv;var Fv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const _v=t=>{var{prefixCls:i,children:n}=t,o=Fv(t,["prefixCls","children"]);const{getPrefixCls:a}=e.useContext(l.QO),r=a("form",i),s=e.useMemo((()=>({prefixCls:r,status:"error"})),[r]);return e.createElement(Lh,Object.assign({},o),((t,i,o)=>e.createElement(Qh.Provider,{value:s},n(t.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),i,{errors:o.errors,warnings:o.warnings}))))};const Hv=sv;Hv.Item=$v,Hv.List=_v,Hv.ErrorList=Gy,Hv.useForm=ov,Hv.useFormInstance=function(){const{form:t}=(0,e.useContext)(Xh);return t},Hv.useWatch=Uh,Hv.Provider=qh,Hv.create=()=>{};const Wv=Hv,Gv=e=>e?"function"===typeof e?e():e:null,Vv=e=>{const{componentCls:t,popoverColor:i,titleMinWidth:n,fontWeightStrong:o,innerPadding:a,boxShadowSecondary:r,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:d,colorBgElevated:u,popoverBg:h,titleBorderBottom:p,innerContentPadding:g,titlePadding:f}=e;return[{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":u,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:h,backgroundClip:"padding-box",borderRadius:l,boxShadow:r,padding:a},[`${t}-title`]:{minWidth:n,marginBottom:d,color:s,fontWeight:o,borderBottom:p,padding:f},[`${t}-inner-content`]:{color:i,padding:g}})},$d(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},Uv=e=>{const{componentCls:t}=e;return{[t]:yp.map((i=>{const n=e[`${i}6`];return{[`&${t}-${i}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}}))}},Kv=(0,X.OF)("Popover",(e=>{const{colorBgElevated:t,colorText:i}=e,n=(0,Fe.oX)(e,{popoverBg:t,popoverColor:i});return[Vv(n),Uv(n),mp(n,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:i,fontHeight:n,padding:o,wireframe:a,zIndexPopupBase:r,borderRadiusLG:s,marginXS:l,lineType:c,colorSplit:d,paddingSM:u}=e,h=i-n,p=h/2,g=h/2-t,f=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:r+30},Pd(e)),jd({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:l,titlePadding:a?`${p}px ${f}px ${g}px`:0,titleBorderBottom:a?`${t}px ${c} ${d}`:"none",innerContentPadding:a?`${u}px ${f}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Yv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Xv=t=>{let{title:i,content:n,prefixCls:o}=t;return i||n?e.createElement(e.Fragment,null,i&&e.createElement("div",{className:`${o}-title`},i),n&&e.createElement("div",{className:`${o}-inner-content`},n)):null},Zv=t=>{const{hashId:i,prefixCls:n,className:o,style:a,placement:s="top",title:l,content:c,children:d}=t,u=Gv(l),h=Gv(c),p=r()(i,n,`${n}-pure`,`${n}-placement-${s}`,o);return e.createElement("div",{className:p,style:a},e.createElement("div",{className:`${n}-arrow`}),e.createElement(wu,Object.assign({},t,{className:i,prefixCls:n}),d||e.createElement(Xv,{prefixCls:n,title:u,content:h})))},qv=t=>{const{prefixCls:i,className:n}=t,o=Yv(t,["prefixCls","className"]),{getPrefixCls:a}=e.useContext(l.QO),s=a("popover",i),[c,d,u]=Kv(s);return c(e.createElement(Zv,Object.assign({},o,{prefixCls:s,hashId:d,className:r()(n,u)})))};var Qv=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const Jv=e.forwardRef(((t,i)=>{var n,o;const{prefixCls:a,title:s,content:c,overlayClassName:d,placement:u="top",trigger:h="hover",children:p,mouseEnterDelay:g=.1,mouseLeaveDelay:f=.1,onOpenChange:m,overlayStyle:y={}}=t,v=Qv(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:b}=e.useContext(l.QO),x=b("popover",a),[S,M,A]=Kv(x),k=b(),w=r()(d,M,A),[C,I]=(0,xt.A)(!1,{value:null!==(n=t.open)&&void 0!==n?n:t.visible,defaultValue:null!==(o=t.defaultOpen)&&void 0!==o?o:t.defaultVisible}),D=(e,t)=>{I(e,!0),null===m||void 0===m||m(e,t)},N=Gv(s),E=Gv(c);return S(e.createElement(Ip,Object.assign({placement:u,trigger:h,mouseEnterDelay:g,mouseLeaveDelay:f,overlayStyle:y},v,{prefixCls:x,overlayClassName:w,ref:i,open:C,onOpenChange:e=>{D(e)},overlay:N||E?e.createElement(Xv,{prefixCls:x,title:N,content:E}):null,transitionName:Ir(k,"zoom-big",v.transitionName),"data-popover-inject":!0}),Bs(p,{onKeyDown:t=>{var i,n;e.isValidElement(p)&&(null===(n=null===p||void 0===p?void 0:(i=p.props).onKeyDown)||void 0===n||n.call(i,t)),(e=>{e.keyCode===so.ESC&&D(!1,e)})(t)}})))}));Jv._InternalPanelDoNotUseOrYouWillBeFired=qv;const eb=Jv,tb=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:i,colorSplit:n,lineWidth:o,textPaddingInline:a,orientationMargin:r,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{borderBlockStart:`${(0,Y.zA)(o)} solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,Y.zA)(o)} solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,Y.zA)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,Y.zA)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,Y.zA)(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${r} * 100%)`},"&::after":{width:`calc(100% - ${r} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${r} * 100%)`},"&::after":{width:`calc(${r} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${(0,Y.zA)(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:`${(0,Y.zA)(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:i}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:i}}})}},ib=(0,X.OF)("Divider",(e=>{const t=(0,Fe.oX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[tb(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var nb=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const ob=t=>{const{getPrefixCls:i,direction:n,divider:o}=e.useContext(l.QO),{prefixCls:a,type:s="horizontal",orientation:c="center",orientationMargin:d,className:u,rootClassName:h,children:p,dashed:g,variant:f="solid",plain:m,style:y}=t,v=nb(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),b=i("divider",a),[x,S,M]=ib(b),A=!!p,k="left"===c&&null!=d,w="right"===c&&null!=d,C=r()(b,null===o||void 0===o?void 0:o.className,S,M,`${b}-${s}`,{[`${b}-with-text`]:A,[`${b}-with-text-${c}`]:A,[`${b}-dashed`]:!!g,[`${b}-${f}`]:"solid"!==f,[`${b}-plain`]:!!m,[`${b}-rtl`]:"rtl"===n,[`${b}-no-default-orientation-margin-left`]:k,[`${b}-no-default-orientation-margin-right`]:w},u,h),I=e.useMemo((()=>"number"===typeof d?d:/^\d+$/.test(d)?Number(d):d),[d]),D=Object.assign(Object.assign({},k&&{marginLeft:I}),w&&{marginRight:I});return x(e.createElement("div",Object.assign({className:C,style:Object.assign(Object.assign({},null===o||void 0===o?void 0:o.style),y)},v,{role:"separator"}),p&&"vertical"!==s&&e.createElement("span",{className:`${b}-inner-text`,style:D},p)))};var ab=function(e,t){if(!e)return null;var i={left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth,top:e.offsetTop,bottom:e.parentElement.clientHeight-e.clientHeight-e.offsetTop,height:e.clientHeight};return t?{left:0,right:0,width:0,top:i.top,bottom:i.bottom,height:i.height}:{left:i.left,right:i.right,width:i.width,top:0,bottom:0,height:0}},rb=function(e){return void 0!==e?"".concat(e,"px"):void 0};function sb(t){var i=t.prefixCls,n=t.containerRef,o=t.value,a=t.getValueIndex,s=t.motionName,l=t.onMotionStart,c=t.onMotionEnd,d=t.direction,u=t.vertical,h=void 0!==u&&u,p=e.useRef(null),f=e.useState(o),m=(0,g.A)(f,2),y=m[0],v=m[1],b=function(e){var t,o=a(e),r=null===(t=n.current)||void 0===t?void 0:t.querySelectorAll(".".concat(i,"-item"))[o];return(null===r||void 0===r?void 0:r.offsetParent)&&r},S=e.useState(null),M=(0,g.A)(S,2),A=M[0],k=M[1],w=e.useState(null),C=(0,g.A)(w,2),I=C[0],D=C[1];(0,Mi.A)((function(){if(y!==o){var e=b(y),t=b(o),i=ab(e,h),n=ab(t,h);v(o),k(i),D(n),e&&t?l():c()}}),[o]);var N=e.useMemo((function(){var e;return rb(h?null!==(e=null===A||void 0===A?void 0:A.top)&&void 0!==e?e:0:"rtl"===d?-(null===A||void 0===A?void 0:A.right):null===A||void 0===A?void 0:A.left)}),[h,d,A]),E=e.useMemo((function(){var e;return rb(h?null!==(e=null===I||void 0===I?void 0:I.top)&&void 0!==e?e:0:"rtl"===d?-(null===I||void 0===I?void 0:I.right):null===I||void 0===I?void 0:I.left)}),[h,d,I]);return A&&I?e.createElement(jn,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:function(){return h?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return h?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){k(null),D(null),c()}},(function(t,n){var o=t.className,a=t.style,s=(0,x.A)((0,x.A)({},a),{},{"--thumb-start-left":N,"--thumb-start-width":rb(null===A||void 0===A?void 0:A.width),"--thumb-active-left":E,"--thumb-active-width":rb(null===I||void 0===I?void 0:I.width),"--thumb-start-top":N,"--thumb-start-height":rb(null===A||void 0===A?void 0:A.height),"--thumb-active-top":E,"--thumb-active-height":rb(null===I||void 0===I?void 0:I.height)}),l={ref:(0,Dt.K4)(p,n),style:s,className:r()("".concat(i,"-thumb"),o)};return e.createElement("div",l)})):null}var lb=["prefixCls","direction","vertical","options","disabled","defaultValue","value","onChange","className","motionName"];function cb(e){return e.map((function(e){if("object"===(0,S.A)(e)&&null!==e){var t=function(e){return"undefined"!==typeof e.title?e.title:"object"!==(0,S.A)(e.label)?null===(t=e.label)||void 0===t?void 0:t.toString():void 0;var t}(e);return(0,x.A)((0,x.A)({},e),{},{title:t})}return{label:null===e||void 0===e?void 0:e.toString(),title:null===e||void 0===e?void 0:e.toString(),value:e}}))}var db=function(t){var i=t.prefixCls,n=t.className,o=t.disabled,a=t.checked,s=t.label,l=t.title,c=t.value,d=t.onChange;return e.createElement("label",{className:r()(n,(0,f.A)({},"".concat(i,"-item-disabled"),o))},e.createElement("input",{className:"".concat(i,"-item-input"),type:"radio",disabled:o,checked:a,onChange:function(e){o||d(e,c)}}),e.createElement("div",{className:"".concat(i,"-item-label"),title:l,role:"option","aria-selected":a},s))};const ub=e.forwardRef((function(t,i){var n,o,a=t.prefixCls,l=void 0===a?"rc-segmented":a,c=t.direction,d=t.vertical,u=t.options,p=void 0===u?[]:u,m=t.disabled,v=t.defaultValue,b=t.value,x=t.onChange,S=t.className,M=void 0===S?"":S,A=t.motionName,k=void 0===A?"thumb-motion":A,w=y(t,lb),C=e.useRef(null),I=e.useMemo((function(){return(0,Dt.K4)(C,i)}),[C,i]),D=e.useMemo((function(){return cb(p)}),[p]),N=(0,xt.A)(null===(n=D[0])||void 0===n?void 0:n.value,{value:b,defaultValue:v}),E=(0,g.A)(N,2),O=E[0],L=E[1],T=e.useState(!1),R=(0,g.A)(T,2),P=R[0],z=R[1],j=function(e,t){m||(L(t),null===x||void 0===x||x(t))},B=(0,s.A)(w,["children"]);return e.createElement("div",(0,h.A)({role:"listbox","aria-label":"segmented control"},B,{className:r()(l,(o={},(0,f.A)(o,"".concat(l,"-rtl"),"rtl"===c),(0,f.A)(o,"".concat(l,"-disabled"),m),(0,f.A)(o,"".concat(l,"-vertical"),d),o),M),ref:I}),e.createElement("div",{className:"".concat(l,"-group")},e.createElement(sb,{vertical:d,prefixCls:l,value:O,containerRef:C,motionName:"".concat(l,"-").concat(k),direction:c,getValueIndex:function(e){return D.findIndex((function(t){return t.value===e}))},onMotionStart:function(){z(!0)},onMotionEnd:function(){z(!1)}}),D.map((function(t){return e.createElement(db,(0,h.A)({},t,{key:t.value,prefixCls:l,className:r()(t.className,"".concat(l,"-item"),(0,f.A)({},"".concat(l,"-item-selected"),t.value===O&&!P)),checked:t.value===O,onChange:j,disabled:!!m||!!t.disabled}))}))))}));function hb(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function pb(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const gb=Object.assign({overflow:"hidden"},Or.L9),fb=e=>{const{componentCls:t}=e,i=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),n=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),o=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,Y.zA)(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},pb(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:i,lineHeight:(0,Y.zA)(i),padding:`0 ${(0,Y.zA)(e.segmentedPaddingHorizontal)}`},gb),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},pb(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,Y.zA)(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:n,lineHeight:(0,Y.zA)(n),padding:`0 ${(0,Y.zA)(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:o,lineHeight:(0,Y.zA)(o),padding:`0 ${(0,Y.zA)(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),hb(`&-disabled ${t}-item`,e)),hb(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},mb=(0,X.OF)("Segmented",(e=>{const{lineWidth:t,calc:i}=e,n=(0,Fe.oX)(e,{segmentedPaddingHorizontal:i(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:i(e.controlPaddingHorizontalSM).sub(t).equal()});return[fb(n)]}),(e=>{const{colorTextLabel:t,colorText:i,colorFillSecondary:n,colorBgElevated:o,colorFill:a,lineWidthBold:r,colorBgLayout:s}=e;return{trackPadding:r,trackBg:s,itemColor:t,itemHoverColor:i,itemHoverBg:n,itemSelectedBg:o,itemActiveBg:a,itemSelectedColor:i}}));var yb=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const vb=e.forwardRef(((t,i)=>{const{prefixCls:n,className:o,rootClassName:a,block:s,options:c=[],size:d="middle",style:u,vertical:h}=t,p=yb(t,["prefixCls","className","rootClassName","block","options","size","style","vertical"]),{getPrefixCls:g,direction:f,segmented:m}=e.useContext(l.QO),y=g("segmented",n),[v,b,x]=mb(y),S=Be(d),M=e.useMemo((()=>c.map((t=>{if(function(e){return"object"===typeof e&&!!(null===e||void 0===e?void 0:e.icon)}(t)){const{icon:i,label:n}=t,o=yb(t,["icon","label"]);return Object.assign(Object.assign({},o),{label:e.createElement(e.Fragment,null,e.createElement("span",{className:`${y}-item-icon`},i),n&&e.createElement("span",null,n))})}return t}))),[c,y]),A=r()(o,a,null===m||void 0===m?void 0:m.className,{[`${y}-block`]:s,[`${y}-sm`]:"small"===S,[`${y}-lg`]:"large"===S,[`${y}-vertical`]:h},b,x),k=Object.assign(Object.assign({},null===m||void 0===m?void 0:m.style),u);return v(e.createElement(ub,Object.assign({},p,{className:A,style:k,options:M,ref:i,prefixCls:y,direction:f,vertical:h})))})),bb=e.createContext({}),xb=e.createContext({}),Sb=t=>{let{prefixCls:i,value:n,onChange:o}=t;return e.createElement("div",{className:`${i}-clear`,onClick:()=>{if(o&&n&&!n.cleared){const e=n.toHsb();e.a=0;const t=Nc(e);t.cleared=!0,o(t)}}})};const Mb=function(t){var i=t.className,n=t.customizeIcon,o=t.customizeIconProps,a=t.children,s=t.onMouseDown,l=t.onClick,c="function"===typeof n?n(o):n;return e.createElement("span",{className:i,onMouseDown:function(e){e.preventDefault(),null===s||void 0===s||s(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},void 0!==c?c:e.createElement("span",{className:r()(i.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},a))};var Ab=e.createContext(null);function kb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,i=e.useRef(null),n=e.useRef(null);return e.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return i.current},function(e){(e||null===i.current)&&(i.current=e),window.clearTimeout(n.current),n.current=window.setTimeout((function(){i.current=null}),t)}]}var wb=function(t,i){var n,o=t.prefixCls,a=t.id,s=t.inputElement,l=t.disabled,c=t.tabIndex,d=t.autoFocus,u=t.autoComplete,h=t.editable,p=t.activeDescendantId,g=t.value,f=t.maxLength,m=t.onKeyDown,y=t.onMouseDown,v=t.onChange,b=t.onPaste,S=t.onCompositionStart,M=t.onCompositionEnd,A=t.open,k=t.attrs,C=s||e.createElement("input",null),I=C,D=I.ref,N=I.props,E=N.onKeyDown,O=N.onChange,L=N.onMouseDown,T=N.onCompositionStart,R=N.onCompositionEnd,P=N.style;return(0,w.$e)(!("maxLength"in C.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),C=e.cloneElement(C,(0,x.A)((0,x.A)((0,x.A)({type:"search"},N),{},{id:a,ref:(0,Dt.K4)(i,D),disabled:l,tabIndex:c,autoComplete:u||"off",autoFocus:d,className:r()("".concat(o,"-selection-search-input"),null===(n=C)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":A||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":A?p:void 0},k),{},{value:h?g:"",maxLength:f,readOnly:!h,unselectable:h?null:"on",style:(0,x.A)((0,x.A)({},P),{},{opacity:h?null:0}),onKeyDown:function(e){m(e),E&&E(e)},onMouseDown:function(e){y(e),L&&L(e)},onChange:function(e){v(e),O&&O(e)},onCompositionStart:function(e){S(e),T&&T(e)},onCompositionEnd:function(e){M(e),R&&R(e)},onPaste:b}))};const Cb=e.forwardRef(wb);function Ib(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Db="undefined"!==typeof window&&window.document&&window.document.documentElement;function Nb(e){return["string","number"].includes((0,S.A)(e))}function Eb(e){var t=void 0;return e&&(Nb(e.title)?t=e.title.toString():Nb(e.label)&&(t=e.label.toString())),t}function Ob(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Lb=function(e){e.preventDefault(),e.stopPropagation()};const Tb=function(t){var i,n,o=t.id,a=t.prefixCls,s=t.values,l=t.open,c=t.searchValue,d=t.autoClearSearchValue,u=t.inputRef,h=t.placeholder,p=t.disabled,m=t.mode,y=t.showSearch,v=t.autoFocus,b=t.autoComplete,x=t.activeDescendantId,S=t.tabIndex,M=t.removeIcon,A=t.maxTagCount,k=t.maxTagTextLength,w=t.maxTagPlaceholder,C=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,I=t.tagRender,D=t.onToggleOpen,N=t.onRemove,E=t.onInputChange,O=t.onInputPaste,L=t.onInputKeyDown,T=t.onInputMouseDown,R=t.onInputCompositionStart,P=t.onInputCompositionEnd,z=e.useRef(null),j=(0,e.useState)(0),B=(0,g.A)(j,2),$=B[0],F=B[1],_=(0,e.useState)(!1),H=(0,g.A)(_,2),W=H[0],G=H[1],V="".concat(a,"-selection"),U=l||"multiple"===m&&!1===d||"tags"===m?c:"",K="tags"===m||"multiple"===m&&!1===d||y&&(l||W);i=function(){F(z.current.scrollWidth)},n=[U],Db?e.useLayoutEffect(i,n):e.useEffect(i,n);var Y=function(t,i,n,o,a){return e.createElement("span",{title:Eb(t),className:r()("".concat(V,"-item"),(0,f.A)({},"".concat(V,"-item-disabled"),n))},e.createElement("span",{className:"".concat(V,"-item-content")},i),o&&e.createElement(Mb,{className:"".concat(V,"-item-remove"),onMouseDown:Lb,onClick:a,customizeIcon:M},"\xd7"))},X=function(t,i,n,o,a,r){return e.createElement("span",{onMouseDown:function(e){Lb(e),D(!l)}},I({label:i,value:t,disabled:n,closable:o,onClose:a,isMaxTag:!!r}))},Z=e.createElement("div",{className:"".concat(V,"-search"),style:{width:$},onFocus:function(){G(!0)},onBlur:function(){G(!1)}},e.createElement(Cb,{ref:u,open:l,prefixCls:a,id:o,inputElement:null,disabled:p,autoFocus:v,autoComplete:b,editable:K,activeDescendantId:x,value:U,onKeyDown:L,onMouseDown:T,onChange:E,onPaste:O,onCompositionStart:R,onCompositionEnd:P,tabIndex:S,attrs:fc(t,!0)}),e.createElement("span",{ref:z,className:"".concat(V,"-search-mirror"),"aria-hidden":!0},U,"\xa0")),q=e.createElement(Bo,{prefixCls:"".concat(V,"-overflow"),data:s,renderItem:function(e){var t=e.disabled,i=e.label,n=e.value,o=!p&&!t,a=i;if("number"===typeof k&&("string"===typeof i||"number"===typeof i)){var r=String(a);r.length>k&&(a="".concat(r.slice(0,k),"..."))}var s=function(t){t&&t.stopPropagation(),N(e)};return"function"===typeof I?X(n,a,t,o,s):Y(e,a,t,o,s)},renderRest:function(e){var t="function"===typeof C?C(e):C;return"function"===typeof I?X(void 0,t,!1,!1,void 0,!0):Y({title:t},t,!1)},suffix:Z,itemKey:Ob,maxCount:A});return e.createElement("span",{className:"".concat(V,"-wrap")},q,!s.length&&!U&&e.createElement("span",{className:"".concat(V,"-placeholder")},h))};const Rb=function(t){var i=t.inputElement,n=t.prefixCls,o=t.id,a=t.inputRef,r=t.disabled,s=t.autoFocus,l=t.autoComplete,c=t.activeDescendantId,d=t.mode,u=t.open,h=t.values,p=t.placeholder,f=t.tabIndex,m=t.showSearch,y=t.searchValue,v=t.activeValue,b=t.maxLength,x=t.onInputKeyDown,S=t.onInputMouseDown,M=t.onInputChange,A=t.onInputPaste,k=t.onInputCompositionStart,w=t.onInputCompositionEnd,C=t.title,I=e.useState(!1),D=(0,g.A)(I,2),N=D[0],E=D[1],O="combobox"===d,L=O||m,T=h[0],R=y||"";O&&v&&!N&&(R=v),e.useEffect((function(){O&&E(!1)}),[O,v]);var P=!("combobox"!==d&&!u&&!m)&&!!R,z=void 0===C?Eb(T):C,j=e.useMemo((function(){return T?null:e.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:P?{visibility:"hidden"}:void 0},p)}),[T,P,p,n]);return e.createElement("span",{className:"".concat(n,"-selection-wrap")},e.createElement("span",{className:"".concat(n,"-selection-search")},e.createElement(Cb,{ref:a,prefixCls:n,id:o,open:u,inputElement:i,disabled:r,autoFocus:s,autoComplete:l,editable:L,activeDescendantId:c,value:R,onKeyDown:x,onMouseDown:S,onChange:function(e){E(!0),M(e)},onPaste:A,onCompositionStart:k,onCompositionEnd:w,tabIndex:f,attrs:fc(t,!0),maxLength:O?b:void 0})),!O&&T?e.createElement("span",{className:"".concat(n,"-selection-item"),title:z,style:P?{visibility:"hidden"}:void 0},T.label):null,j)};var Pb=function(t,i){var n=(0,e.useRef)(null),o=(0,e.useRef)(!1),a=t.prefixCls,r=t.open,s=t.mode,l=t.showSearch,c=t.tokenWithEnter,d=t.disabled,u=t.prefix,p=t.autoClearSearchValue,f=t.onSearch,m=t.onSearchSubmit,y=t.onToggleOpen,v=t.onInputKeyDown,b=t.domRef;e.useImperativeHandle(i,(function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}}));var x=kb(0),S=(0,g.A)(x,2),M=S[0],A=S[1],k=(0,e.useRef)(null),w=function(e){!1!==f(e,!0,o.current)&&y(!0)},C={inputRef:n,onInputKeyDown:function(e){var t,i=e.which,a=n.current instanceof HTMLTextAreaElement;(a||!r||i!==so.UP&&i!==so.DOWN||e.preventDefault(),v&&v(e),i!==so.ENTER||"tags"!==s||o.current||r||null===m||void 0===m||m(e.target.value),a&&!r&&~[so.UP,so.DOWN,so.LEFT,so.RIGHT].indexOf(i))||(t=i,[so.ESC,so.SHIFT,so.BACKSPACE,so.TAB,so.WIN_KEY,so.ALT,so.META,so.WIN_KEY_RIGHT,so.CTRL,so.SEMICOLON,so.EQUALS,so.CAPS_LOCK,so.CONTEXT_MENU,so.F1,so.F2,so.F3,so.F4,so.F5,so.F6,so.F7,so.F8,so.F9,so.F10,so.F11,so.F12].includes(t)||y(!0))},onInputMouseDown:function(){A(!0)},onInputChange:function(e){var t=e.target.value;if(c&&k.current&&/[\r\n]/.test(k.current)){var i=k.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(i,k.current)}k.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData,i=null===t||void 0===t?void 0:t.getData("text");k.current=i||""},onInputCompositionStart:function(){o.current=!0},onInputCompositionEnd:function(e){o.current=!1,"combobox"!==s&&w(e.target.value)}},I="multiple"===s||"tags"===s?e.createElement(Tb,(0,h.A)({},t,C)):e.createElement(Rb,(0,h.A)({},t,C));return e.createElement("div",{ref:b,className:"".concat(a,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=M();e.target===n.current||t||"combobox"===s&&d||e.preventDefault(),("combobox"===s||l&&t)&&r||(r&&!1!==p&&f("",!0,!1),y())}},u&&e.createElement("div",{className:"".concat(a,"-prefix")},u),I)};const zb=e.forwardRef(Pb);var jb=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Bb=function(t,i){var n=t.prefixCls,o=(t.disabled,t.visible),a=t.children,s=t.popupElement,l=t.animation,c=t.transitionName,d=t.dropdownStyle,u=t.dropdownClassName,p=t.direction,g=void 0===p?"ltr":p,m=t.placement,v=t.builtinPlacements,b=t.dropdownMatchSelectWidth,S=t.dropdownRender,M=t.dropdownAlign,A=t.getPopupContainer,k=t.empty,w=t.getTriggerDOMNode,C=t.onPopupVisibleChange,I=t.onPopupMouseEnter,D=y(t,jb),N="".concat(n,"-dropdown"),E=s;S&&(E=S(s));var O=e.useMemo((function(){return v||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(b)}),[v,b]),L=l?"".concat(N,"-").concat(l):c,T="number"===typeof b,R=e.useMemo((function(){return T?null:!1===b?"minWidth":"width"}),[b,T]),P=d;T&&(P=(0,x.A)((0,x.A)({},P),{},{width:b}));var z=e.useRef(null);return e.useImperativeHandle(i,(function(){return{getPopupElement:function(){var e;return null===(e=z.current)||void 0===e?void 0:e.popupElement}}})),e.createElement(ao,(0,h.A)({},D,{showAction:C?["click"]:[],hideAction:C?["click"]:[],popupPlacement:m||("rtl"===g?"bottomRight":"bottomLeft"),builtinPlacements:O,prefixCls:N,popupTransitionName:L,popup:e.createElement("div",{onMouseEnter:I},E),ref:z,stretch:R,popupAlign:M,popupVisible:o,getPopupContainer:A,popupClassName:r()(u,(0,f.A)({},"".concat(N,"-empty"),k)),popupStyle:P,getTriggerDOMNode:w,onPopupVisibleChange:C}),a)};const $b=e.forwardRef(Bb);var Fb=i(7695);function _b(e,t){var i,n=e.key;return"value"in e&&(i=e.value),null!==n&&void 0!==n?n:void 0!==i?i:"rc-index-key-".concat(t)}function Hb(e){return"undefined"!==typeof e&&!Number.isNaN(e)}function Wb(e,t){var i=e||{},n=i.label||(t?"children":"label");return{label:n,value:i.value||"value",options:i.options||"options",groupLabel:i.groupLabel||n}}function Gb(e){var t=(0,x.A)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,w.Ay)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const Vb=e.createContext(null);function Ub(t){var i=t.visible,n=t.values;if(!i)return null;return e.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map((function(e){var t=e.label,i=e.value;return["number","string"].includes((0,S.A)(t))?t:i})).join(", ")),n.length>50?", ...":null)}var Kb=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Yb=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Xb=function(e){return"tags"===e||"multiple"===e};const Zb=e.forwardRef((function(t,i){var n,a=t.id,s=t.prefixCls,l=t.className,c=t.showSearch,d=t.tagRender,u=t.direction,p=t.omitDomProps,m=t.displayValues,v=t.onDisplayValuesChange,b=t.emptyOptions,M=t.notFoundContent,A=void 0===M?"Not Found":M,k=t.onClear,w=t.mode,C=t.disabled,I=t.loading,D=t.getInputElement,N=t.getRawInputElement,E=t.open,O=t.defaultOpen,L=t.onDropdownVisibleChange,T=t.activeValue,R=t.onActiveValueChange,P=t.activeDescendantId,z=t.searchValue,j=t.autoClearSearchValue,B=t.onSearch,$=t.onSearchSplit,F=t.tokenSeparators,_=t.allowClear,H=t.prefix,W=t.suffixIcon,G=t.clearIcon,V=t.OptionList,U=t.animation,K=t.transitionName,Y=t.dropdownStyle,X=t.dropdownClassName,Z=t.dropdownMatchSelectWidth,q=t.dropdownRender,Q=t.dropdownAlign,J=t.placement,ee=t.builtinPlacements,te=t.getPopupContainer,ie=t.showAction,ne=void 0===ie?[]:ie,oe=t.onFocus,ae=t.onBlur,re=t.onKeyUp,se=t.onKeyDown,le=t.onMouseDown,ce=y(t,Kb),de=Xb(w),ue=(void 0!==c?c:de)||"combobox"===w,he=(0,x.A)({},ce);Yb.forEach((function(e){delete he[e]})),null===p||void 0===p||p.forEach((function(e){delete he[e]}));var pe=e.useState(!1),ge=(0,g.A)(pe,2),fe=ge[0],me=ge[1];e.useEffect((function(){me(St())}),[]);var ye=e.useRef(null),ve=e.useRef(null),be=e.useRef(null),xe=e.useRef(null),Se=e.useRef(null),Me=e.useRef(!1),Ae=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=e.useState(!1),n=(0,g.A)(i,2),o=n[0],a=n[1],r=e.useRef(null),s=function(){window.clearTimeout(r.current)};return e.useEffect((function(){return s}),[]),[o,function(e,i){s(),r.current=window.setTimeout((function(){a(e),i&&i()}),t)},s]}(),ke=(0,g.A)(Ae,3),we=ke[0],Ce=ke[1],Ie=ke[2];e.useImperativeHandle(i,(function(){var e,t;return{focus:null===(e=xe.current)||void 0===e?void 0:e.focus,blur:null===(t=xe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=Se.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:ye.current||ve.current}}));var De=e.useMemo((function(){var e;if("combobox"!==w)return z;var t=null===(e=m[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[z,w,m]),Ne="combobox"===w&&"function"===typeof D&&D()||null,Ee="function"===typeof N&&N(),Oe=(0,Dt.xK)(ve,null===Ee||void 0===Ee||null===(n=Ee.props)||void 0===n?void 0:n.ref),Le=e.useState(!1),Te=(0,g.A)(Le,2),Re=Te[0],Pe=Te[1];(0,Mi.A)((function(){Pe(!0)}),[]);var ze=(0,xt.A)(!1,{defaultValue:O,value:E}),je=(0,g.A)(ze,2),Be=je[0],$e=je[1],Fe=!!Re&&Be,_e=!A&&b;(C||_e&&Fe&&"combobox"===w)&&(Fe=!1);var He=!_e&&Fe,We=e.useCallback((function(e){var t=void 0!==e?e:!Fe;C||($e(t),Fe!==t&&(null===L||void 0===L||L(t)))}),[C,Fe,$e,L]),Ge=e.useMemo((function(){return(F||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[F]),Ve=e.useContext(Vb)||{},Ue=Ve.maxCount,Ke=Ve.rawValues,Ye=function(e,t,i){if(!(de&&Hb(Ue)&&(null===Ke||void 0===Ke?void 0:Ke.size)>=Ue)){var n=!0,a=e;null===R||void 0===R||R(null);var r=function(e,t,i){if(!t||!t.length)return null;var n=!1,a=function e(t,i){var a=(0,Fb.A)(i),r=a[0],s=a.slice(1);if(!r)return[t];var l=t.split(r);return n=n||l.length>1,l.reduce((function(t,i){return[].concat((0,o.A)(t),(0,o.A)(e(i,s)))}),[]).filter(Boolean)}(e,t);return n?"undefined"!==typeof i?a.slice(0,i):a:null}(e,F,Hb(Ue)?Ue-Ke.size:void 0),s=i?null:r;return"combobox"!==w&&s&&(a="",null===$||void 0===$||$(s),We(!1),n=!1),B&&De!==a&&B(a,{source:t?"typing":"effect"}),n}};e.useEffect((function(){Fe||de||"combobox"===w||Ye("",!1,!1)}),[Fe]),e.useEffect((function(){Be&&C&&$e(!1),C&&!Me.current&&Ce(!1)}),[C]);var Xe=kb(),Ze=(0,g.A)(Xe,2),qe=Ze[0],Qe=Ze[1],Je=e.useRef(!1),et=e.useRef(!1),tt=[];e.useEffect((function(){return function(){tt.forEach((function(e){return clearTimeout(e)})),tt.splice(0,tt.length)}}),[]);var it,nt=e.useState({}),ot=(0,g.A)(nt,2)[1];Ee&&(it=function(e){We(e)}),function(t,i,n,o){var a=e.useRef(null);a.current={open:i,triggerOpen:n,customizedTrigger:o},e.useEffect((function(){function e(e){var i;if(null===(i=a.current)||void 0===i||!i.customizedTrigger){var n=e.target;n.shadowRoot&&e.composed&&(n=e.composedPath()[0]||n),a.current.open&&t().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var e;return[ye.current,null===(e=be.current)||void 0===e?void 0:e.getPopupElement()]}),He,We,!!Ee);var at,rt=e.useMemo((function(){return(0,x.A)((0,x.A)({},t),{},{notFoundContent:A,open:Fe,triggerOpen:He,id:a,showSearch:ue,multiple:de,toggleOpen:We})}),[t,A,He,Fe,a,ue,de,We]),st=!!W||I;st&&(at=e.createElement(Mb,{className:r()("".concat(s,"-arrow"),(0,f.A)({},"".concat(s,"-arrow-loading"),I)),customizeIcon:W,customizeIconProps:{loading:I,searchValue:De,open:Fe,focused:we,showSearch:ue}}));var lt,ct=function(t,i,n,o,a){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=e.useMemo((function(){return"object"===(0,S.A)(o)?o.clearIcon:a||void 0}),[o,a]);return{allowClear:e.useMemo((function(){return!(r||!o||!n.length&&!s||"combobox"===l&&""===s)}),[o,r,n.length,s,l]),clearIcon:e.createElement(Mb,{className:"".concat(t,"-clear"),onMouseDown:i,customizeIcon:c},"\xd7")}}(s,(function(){var e;null===k||void 0===k||k(),null===(e=xe.current)||void 0===e||e.focus(),v([],{type:"clear",values:m}),Ye("",!1,!1)}),m,_,G,C,De,w),dt=ct.allowClear,ut=ct.clearIcon,ht=e.createElement(V,{ref:Se}),pt=r()(s,l,(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(s,"-focused"),we),"".concat(s,"-multiple"),de),"".concat(s,"-single"),!de),"".concat(s,"-allow-clear"),_),"".concat(s,"-show-arrow"),st),"".concat(s,"-disabled"),C),"".concat(s,"-loading"),I),"".concat(s,"-open"),Fe),"".concat(s,"-customize-input"),Ne),"".concat(s,"-show-search"),ue)),gt=e.createElement($b,{ref:be,disabled:C,prefixCls:s,visible:He,popupElement:ht,animation:U,transitionName:K,dropdownStyle:Y,dropdownClassName:X,direction:u,dropdownMatchSelectWidth:Z,dropdownRender:q,dropdownAlign:Q,placement:J,builtinPlacements:ee,getPopupContainer:te,empty:b,getTriggerDOMNode:function(e){return ve.current||e},onPopupVisibleChange:it,onPopupMouseEnter:function(){ot({})}},Ee?e.cloneElement(Ee,{ref:Oe}):e.createElement(zb,(0,h.A)({},t,{domRef:ve,prefixCls:s,inputElement:Ne,ref:xe,id:a,prefix:H,showSearch:ue,autoClearSearchValue:j,mode:w,activeDescendantId:P,tagRender:d,values:m,open:Fe,onToggleOpen:We,activeValue:T,searchValue:De,onSearch:Ye,onSearchSubmit:function(e){e&&e.trim()&&B(e,{source:"submit"})},onRemove:function(e){var t=m.filter((function(t){return t!==e}));v(t,{type:"remove",values:[e]})},tokenWithEnter:Ge})));return lt=Ee?gt:e.createElement("div",(0,h.A)({className:pt},he,{ref:ye,onMouseDown:function(e){var t,i=e.target,n=null===(t=be.current)||void 0===t?void 0:t.getPopupElement();if(n&&n.contains(i)){var o=setTimeout((function(){var e,t=tt.indexOf(o);-1!==t&&tt.splice(t,1),Ie(),fe||n.contains(document.activeElement)||null===(e=xe.current)||void 0===e||e.focus()}));tt.push(o)}for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];null===le||void 0===le||le.apply(void 0,[e].concat(r))},onKeyDown:function(e){var t,i=qe(),n=e.key,a="Enter"===n;if(a&&("combobox"!==w&&e.preventDefault(),Fe||We(!0)),Qe(!!De),"Backspace"===n&&!i&&de&&!De&&m.length){for(var r=(0,o.A)(m),s=null,l=r.length-1;l>=0;l-=1){var c=r[l];if(!c.disabled){r.splice(l,1),s=c;break}}s&&v(r,{type:"remove",values:[s]})}for(var d=arguments.length,u=new Array(d>1?d-1:0),h=1;h<d;h++)u[h-1]=arguments[h];!Fe||a&&Je.current||null===(t=Se.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(u)),a&&(Je.current=!0),null===se||void 0===se||se.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o;Fe&&(null===(o=Se.current)||void 0===o||o.onKeyUp.apply(o,[e].concat(i))),"Enter"===e.key&&(Je.current=!1),null===re||void 0===re||re.apply(void 0,[e].concat(i))},onFocus:function(){Ce(!0),C||(oe&&!et.current&&oe.apply(void 0,arguments),ne.includes("focus")&&We(!0)),et.current=!0},onBlur:function(){Me.current=!0,Ce(!1,(function(){et.current=!1,Me.current=!1,We(!1)})),C||(De&&("tags"===w?B(De,{source:"submit"}):"multiple"===w&&B("",{source:"blur"})),ae&&ae.apply(void 0,arguments))}}),e.createElement(Ub,{visible:we&&!Fe,values:m}),gt,at,dt&&ut),e.createElement(Ab.Provider,{value:rt},lt)}));var qb=function(){return null};qb.isSelectOptGroup=!0;const Qb=qb;var Jb=function(){return null};Jb.isSelectOption=!0;const ex=Jb;var tx=e.forwardRef((function(t,i){var n=t.height,o=t.offsetY,a=t.offsetX,s=t.children,l=t.prefixCls,c=t.onInnerResize,d=t.innerProps,u=t.rtl,p=t.extra,g={},m={display:"flex",flexDirection:"column"};return void 0!==o&&(g={height:n,position:"relative",overflow:"hidden"},m=(0,x.A)((0,x.A)({},m),{},(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)({transform:"translateY(".concat(o,"px)")},u?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),e.createElement("div",{style:g},e.createElement(ci,{onResize:function(e){e.offsetHeight&&c&&c()}},e.createElement("div",(0,h.A)({style:m,className:r()((0,f.A)({},"".concat(l,"-holder-inner"),l)),ref:i},d),s,p)))}));tx.displayName="Filler";const ix=tx;function nx(t){var i=t.children,n=t.setRef,o=e.useCallback((function(e){n(e)}),[]);return e.cloneElement(i,{ref:o})}function ox(t,i,n){var o=e.useState(t),a=(0,g.A)(o,2),r=a[0],s=a[1],l=e.useState(null),c=(0,g.A)(l,2),d=c[0],u=c[1];return e.useEffect((function(){var e=function(e,t,i){var n,o,a=e.length,r=t.length;if(0===a&&0===r)return null;a<r?(n=e,o=t):(n=t,o=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?i(e):s}for(var c=null,d=1!==Math.abs(a-r),u=0;u<o.length;u+=1){var h=l(n[u]);if(h!==l(o[u])){c=u,d=d||h!==l(o[u+1]);break}}return null===c?null:{index:c,multiple:d}}(r||[],t||[],i);void 0!==(null===e||void 0===e?void 0:e.index)&&(null===n||void 0===n||n(e.index),u(t[e.index])),s(t)}),[t]),[d]}const ax="object"===("undefined"===typeof navigator?"undefined":(0,S.A)(navigator))&&/Firefox/i.test(navigator.userAgent),rx=function(t,i,n,o){var a=(0,e.useRef)(!1),r=(0,e.useRef)(null);var s=(0,e.useRef)({top:t,bottom:i,left:n,right:o});return s.current.top=t,s.current.bottom=i,s.current.left=n,s.current.right=o,function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e?t<0&&s.current.left||t>0&&s.current.right:t<0&&s.current.top||t>0&&s.current.bottom;return i&&n?(clearTimeout(r.current),a.current=!1):n&&!a.current||(clearTimeout(r.current),a.current=!0,r.current=setTimeout((function(){a.current=!1}),50)),!a.current&&n}};function sx(t,i,n,o,a,r,s){var l=(0,e.useRef)(0),c=(0,e.useRef)(null),d=(0,e.useRef)(null),u=(0,e.useRef)(!1),h=rx(i,n,o,a);var p=(0,e.useRef)(null),g=(0,e.useRef)(null);return[function(e){if(t){yi.cancel(g.current),g.current=yi((function(){p.current=null}),2);var i=e.deltaX,n=e.deltaY,o=e.shiftKey,a=i,f=n;("sx"===p.current||!p.current&&o&&n&&!i)&&(a=n,f=0,p.current="sx");var m=Math.abs(a),y=Math.abs(f);null===p.current&&(p.current=r&&m>y?"x":"y"),"y"===p.current?function(e,t){if(yi.cancel(c.current),!h(!1,t)){var i=e;i._virtualHandled||(i._virtualHandled=!0,l.current+=t,d.current=t,ax||i.preventDefault(),c.current=yi((function(){var e=u.current?10:1;s(l.current*e,!1),l.current=0})))}}(e,f):function(e,t){s(t,!0),ax||e.preventDefault()}(e,a)}},function(e){t&&(u.current=e.detail===d.current)}]}const lx=function(){function e(){(0,ei.A)(this,e),(0,f.A)(this,"maps",void 0),(0,f.A)(this,"id",0),this.maps=Object.create(null)}return(0,ti.A)(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function cx(e){var t=parseFloat(e);return isNaN(t)?0:t}var dx=14/15;function ux(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}const hx=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.rtl,a=t.scrollOffset,s=t.scrollRange,l=t.onStartMove,c=t.onStopMove,d=t.onScroll,u=t.horizontal,h=t.spinSize,p=t.containerSize,m=t.style,y=t.thumbStyle,v=e.useState(!1),b=(0,g.A)(v,2),S=b[0],M=b[1],A=e.useState(null),k=(0,g.A)(A,2),w=k[0],C=k[1],I=e.useState(null),D=(0,g.A)(I,2),N=D[0],E=D[1],O=!o,L=e.useRef(),T=e.useRef(),R=e.useState(!1),P=(0,g.A)(R,2),z=P[0],j=P[1],B=e.useRef(),$=function(){clearTimeout(B.current),j(!0),B.current=setTimeout((function(){j(!1)}),3e3)},F=s-p||0,_=p-h||0,H=e.useMemo((function(){return 0===a||0===F?0:a/F*_}),[a,F,_]),W=e.useRef({top:H,dragging:S,pageY:w,startTop:N});W.current={top:H,dragging:S,pageY:w,startTop:N};var G=function(e){M(!0),C(ux(e,u)),E(W.current.top),l(),e.stopPropagation(),e.preventDefault()};e.useEffect((function(){var e=function(e){e.preventDefault()},t=L.current,i=T.current;return t.addEventListener("touchstart",e,{passive:!1}),i.addEventListener("touchstart",G,{passive:!1}),function(){t.removeEventListener("touchstart",e),i.removeEventListener("touchstart",G)}}),[]);var V=e.useRef();V.current=F;var U=e.useRef();U.current=_,e.useEffect((function(){if(S){var e,t=function(t){var i=W.current,n=i.dragging,o=i.pageY,a=i.startTop;yi.cancel(e);var r=L.current.getBoundingClientRect(),s=p/(u?r.width:r.height);if(n){var l=(ux(t,u)-o)*s,c=a;!O&&u?c-=l:c+=l;var h=V.current,g=U.current,f=g?c/g:0,m=Math.ceil(f*h);m=Math.max(m,0),m=Math.min(m,h),e=yi((function(){d(m,u)}))}},i=function(){M(!1),c()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",i,{passive:!0}),window.addEventListener("touchend",i,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i),yi.cancel(e)}}}),[S]),e.useEffect((function(){return $(),function(){clearTimeout(B.current)}}),[a]),e.useImperativeHandle(i,(function(){return{delayHidden:$}}));var K="".concat(n,"-scrollbar"),Y={position:"absolute",visibility:z?null:"hidden"},X={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(Y.height=8,Y.left=0,Y.right=0,Y.bottom=0,X.height="100%",X.width=h,O?X.left=H:X.right=H):(Y.width=8,Y.top=0,Y.bottom=0,O?Y.right=0:Y.left=0,X.width="100%",X.height=h,X.top=H),e.createElement("div",{ref:L,className:r()(K,(0,f.A)((0,f.A)((0,f.A)({},"".concat(K,"-horizontal"),u),"".concat(K,"-vertical"),!u),"".concat(K,"-visible"),z)),style:(0,x.A)((0,x.A)({},Y),m),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:$},e.createElement("div",{ref:T,className:r()("".concat(K,"-thumb"),(0,f.A)({},"".concat(K,"-thumb-moving"),S)),style:(0,x.A)((0,x.A)({},X),y),onMouseDown:G}))}));function px(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var gx=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],fx=[],mx={overflowY:"auto",overflowAnchor:"none"};function yx(t,i){var n=t.prefixCls,o=void 0===n?"rc-virtual-list":n,a=t.className,s=t.height,l=t.itemHeight,c=t.fullHeight,d=void 0===c||c,u=t.style,p=t.data,m=t.children,v=t.itemKey,b=t.virtual,M=t.direction,A=t.scrollWidth,k=t.component,w=void 0===k?"div":k,C=t.onScroll,I=t.onVirtualScroll,D=t.onVisibleChange,N=t.innerProps,E=t.extraRender,O=t.styles,L=y(t,gx),T=e.useCallback((function(e){return"function"===typeof v?v(e):null===e||void 0===e?void 0:e[v]}),[v]),R=function(t,i,n){var o=e.useState(0),a=(0,g.A)(o,2),r=a[0],s=a[1],l=(0,e.useRef)(new Map),c=(0,e.useRef)(new lx),d=(0,e.useRef)();function u(){yi.cancel(d.current)}function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u();var t=function(){l.current.forEach((function(e,t){if(e&&e.offsetParent){var i=It(e),n=i.offsetHeight,o=getComputedStyle(i),a=o.marginTop,r=o.marginBottom,s=n+cx(a)+cx(r);c.current.get(t)!==s&&c.current.set(t,s)}})),s((function(e){return e+1}))};e?t():d.current=yi(t)}return(0,e.useEffect)((function(){return u}),[]),[function(e,o){var a=t(e),r=l.current.get(a);o?(l.current.set(a,o),h()):l.current.delete(a),!r!==!o&&(o?null===i||void 0===i||i(e):null===n||void 0===n||n(e))},h,c.current,r]}(T,null,null),P=(0,g.A)(R,4),z=P[0],j=P[1],B=P[2],$=P[3],F=!(!1===b||!s||!l),_=e.useMemo((function(){return Object.values(B.maps).reduce((function(e,t){return e+t}),0)}),[B.id,B.maps]),H=F&&p&&(Math.max(l*p.length,_)>s||!!A),W="rtl"===M,G=r()(o,(0,f.A)({},"".concat(o,"-rtl"),W),a),V=p||fx,U=(0,e.useRef)(),K=(0,e.useRef)(),Y=(0,e.useRef)(),X=(0,e.useState)(0),Z=(0,g.A)(X,2),q=Z[0],Q=Z[1],J=(0,e.useState)(0),ee=(0,g.A)(J,2),te=ee[0],ie=ee[1],ne=(0,e.useState)(!1),oe=(0,g.A)(ne,2),ae=oe[0],re=oe[1],se=function(){re(!0)},le=function(){re(!1)},ce={getKey:T};function de(e){Q((function(t){var i=function(e){var t=e;Number.isNaN(Ne.current)||(t=Math.min(t,Ne.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return U.current.scrollTop=i,i}))}var ue=(0,e.useRef)({start:0,end:V.length}),he=(0,e.useRef)(),pe=ox(V,T),ge=(0,g.A)(pe,1)[0];he.current=ge;var fe=e.useMemo((function(){if(!F)return{scrollHeight:void 0,start:0,end:V.length-1,offset:void 0};var e;if(!H)return{scrollHeight:(null===(e=K.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:V.length-1,offset:void 0};for(var t,i,n,o=0,a=V.length,r=0;r<a;r+=1){var c=V[r],d=T(c),u=B.get(d),h=o+(void 0===u?l:u);h>=q&&void 0===t&&(t=r,i=o),h>q+s&&void 0===n&&(n=r),o=h}return void 0===t&&(t=0,i=0,n=Math.ceil(s/l)),void 0===n&&(n=V.length-1),{scrollHeight:o,start:t,end:n=Math.min(n+1,V.length-1),offset:i}}),[H,F,q,V,$,s]),me=fe.scrollHeight,ye=fe.start,ve=fe.end,be=fe.offset;ue.current.start=ye,ue.current.end=ve;var xe=e.useState({width:0,height:s}),Se=(0,g.A)(xe,2),Me=Se[0],Ae=Se[1],ke=(0,e.useRef)(),we=(0,e.useRef)(),Ce=e.useMemo((function(){return px(Me.width,A)}),[Me.width,A]),Ie=e.useMemo((function(){return px(Me.height,me)}),[Me.height,me]),De=me-s,Ne=(0,e.useRef)(De);Ne.current=De;var Ee=q<=0,Oe=q>=De,Le=te<=0,Te=te>=A,Re=rx(Ee,Oe,Le,Te),Pe=function(){return{x:W?-te:te,y:q}},ze=(0,e.useRef)(Pe()),je=(0,Ki._q)((function(e){if(I){var t=(0,x.A)((0,x.A)({},Pe()),e);ze.current.x===t.x&&ze.current.y===t.y||(I(t),ze.current=t)}}));function Be(e,t){var i=e;t?((0,At.flushSync)((function(){ie(i)})),je()):de(i)}var $e=function(e){var t=e,i=A?A-Me.width:0;return t=Math.max(t,0),t=Math.min(t,i)},Fe=(0,Ki._q)((function(e,t){t?((0,At.flushSync)((function(){ie((function(t){return $e(t+(W?-e:e))}))})),je()):de((function(t){return t+e}))})),_e=sx(F,Ee,Oe,Le,Te,!!A,Fe),He=(0,g.A)(_e,2),We=He[0],Ge=He[1];!function(t,i,n){var o,a=(0,e.useRef)(!1),r=(0,e.useRef)(0),s=(0,e.useRef)(0),l=(0,e.useRef)(null),c=(0,e.useRef)(null),d=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageX),i=Math.ceil(e.touches[0].pageY),o=r.current-t,l=s.current-i,d=Math.abs(o)>Math.abs(l);d?r.current=t:s.current=i;var u=n(d,d?o:l,!1,e);u&&e.preventDefault(),clearInterval(c.current),u&&(c.current=setInterval((function(){d?o*=dx:l*=dx;var e=Math.floor(d?o:l);(!n(d,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16))}},u=function(){a.current=!1,o()},h=function(e){o(),1!==e.touches.length||a.current||(a.current=!0,r.current=Math.ceil(e.touches[0].pageX),s.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",d,{passive:!1}),l.current.addEventListener("touchend",u,{passive:!0}))};o=function(){l.current&&(l.current.removeEventListener("touchmove",d),l.current.removeEventListener("touchend",u))},(0,Mi.A)((function(){return t&&i.current.addEventListener("touchstart",h,{passive:!0}),function(){var e;null===(e=i.current)||void 0===e||e.removeEventListener("touchstart",h),o(),clearInterval(c.current)}}),[t])}(F,U,(function(e,t,i,n){var o=n;return!Re(e,t,i)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),We({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),(0,Mi.A)((function(){function e(e){var t=Ee&&e.detail<0,i=Oe&&e.detail>0;!F||t||i||e.preventDefault()}var t=U.current;return t.addEventListener("wheel",We,{passive:!1}),t.addEventListener("DOMMouseScroll",Ge,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",We),t.removeEventListener("DOMMouseScroll",Ge),t.removeEventListener("MozMousePixelScroll",e)}}),[F,Ee,Oe]),(0,Mi.A)((function(){if(A){var e=$e(te);ie(e),je({x:e})}}),[Me.width,A]);var Ve=function(){var e,t;null===(e=ke.current)||void 0===e||e.delayHidden(),null===(t=we.current)||void 0===t||t.delayHidden()},Ue=function(t,i,n,o,a,r,s,l){var c=e.useRef(),d=e.useState(null),u=(0,g.A)(d,2),h=u[0],p=u[1];return(0,Mi.A)((function(){if(h&&h.times<10){if(!t.current)return void p((function(e){return(0,x.A)({},e)}));r();var e=h.targetAlign,l=h.originAlign,c=h.index,d=h.offset,u=t.current.clientHeight,g=!1,f=e,m=null;if(u){for(var y=e||l,v=0,b=0,S=0,M=Math.min(i.length-1,c),A=0;A<=M;A+=1){var k=a(i[A]);b=v;var w=n.get(k);v=S=b+(void 0===w?o:w)}for(var C="top"===y?d:u-d,I=M;I>=0;I-=1){var D=a(i[I]),N=n.get(D);if(void 0===N){g=!0;break}if((C-=N)<=0)break}switch(y){case"top":m=b-d;break;case"bottom":m=S-u+d;break;default:var E=t.current.scrollTop;b<E?f="top":S>E+u&&(f="bottom")}null!==m&&s(m),m!==h.lastTop&&(g=!0)}g&&p((0,x.A)((0,x.A)({},h),{},{times:h.times+1,targetAlign:f,lastTop:m}))}}),[h,t.current]),function(e){if(null!==e&&void 0!==e){if(yi.cancel(c.current),"number"===typeof e)s(e);else if(e&&"object"===(0,S.A)(e)){var t,n=e.align;t="index"in e?e.index:i.findIndex((function(t){return a(t)===e.key}));var o=e.offset;p({times:0,index:t,offset:void 0===o?0:o,originAlign:n})}}else l()}}(U,V,B,l,T,(function(){return j(!0)}),de,Ve);e.useImperativeHandle(i,(function(){return{nativeElement:Y.current,getScrollInfo:Pe,scrollTo:function(e){var t;(t=e)&&"object"===(0,S.A)(t)&&("left"in t||"top"in t)?(void 0!==e.left&&ie($e(e.left)),Ue(e.top)):Ue(e)}}})),(0,Mi.A)((function(){if(D){var e=V.slice(ye,ve+1);D(e,V)}}),[ye,ve,V]);var Ke=function(t,i,n,o){var a=e.useMemo((function(){return[new Map,[]]}),[t,n.id,o]),r=(0,g.A)(a,2),s=r[0],l=r[1];return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=s.get(e),c=s.get(a);if(void 0===r||void 0===c)for(var d=t.length,u=l.length;u<d;u+=1){var h,p=t[u],g=i(p);s.set(g,u);var f=null!==(h=n.get(g))&&void 0!==h?h:o;if(l[u]=(l[u-1]||0)+f,g===e&&(r=u),g===a&&(c=u),void 0!==r&&void 0!==c)break}return{top:l[r-1]||0,bottom:l[c]}}}(V,T,B,l),Ye=null===E||void 0===E?void 0:E({start:ye,end:ve,virtual:H,offsetX:te,offsetY:be,rtl:W,getSize:Ke}),Xe=function(t,i,n,o,a,r,s,l){var c=l.getKey;return t.slice(i,n+1).map((function(t,n){var l=s(t,i+n,{style:{width:o},offsetX:a}),d=c(t);return e.createElement(nx,{key:d,setRef:function(e){return r(t,e)}},l)}))}(V,ye,ve,A,te,z,m,ce),Ze=null;s&&(Ze=(0,x.A)((0,f.A)({},d?"height":"maxHeight",s),mx),F&&(Ze.overflowY="hidden",A&&(Ze.overflowX="hidden"),ae&&(Ze.pointerEvents="none")));var qe={};return W&&(qe.dir="rtl"),e.createElement("div",(0,h.A)({ref:Y,style:(0,x.A)((0,x.A)({},u),{},{position:"relative"}),className:G},qe,L),e.createElement(ci,{onResize:function(e){Ae({width:e.offsetWidth,height:e.offsetHeight})}},e.createElement(w,{className:"".concat(o,"-holder"),style:Ze,ref:U,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==q&&de(t),null===C||void 0===C||C(e),je()},onMouseEnter:Ve},e.createElement(ix,{prefixCls:o,height:me,offsetX:te,offsetY:be,scrollWidth:A,onInnerResize:j,ref:K,innerProps:N,rtl:W,extra:Ye},Xe))),H&&me>s&&e.createElement(hx,{ref:ke,prefixCls:o,scrollOffset:q,scrollRange:me,rtl:W,onScroll:Be,onStartMove:se,onStopMove:le,spinSize:Ie,containerSize:Me.height,style:null===O||void 0===O?void 0:O.verticalScrollBar,thumbStyle:null===O||void 0===O?void 0:O.verticalScrollBarThumb}),H&&A>Me.width&&e.createElement(hx,{ref:we,prefixCls:o,scrollOffset:te,scrollRange:A,rtl:W,onScroll:Be,onStartMove:se,onStopMove:le,spinSize:Ce,containerSize:Me.width,horizontal:!0,style:null===O||void 0===O?void 0:O.horizontalScrollBar,thumbStyle:null===O||void 0===O?void 0:O.horizontalScrollBarThumb}))}var vx=e.forwardRef(yx);vx.displayName="List";const bx=vx;var xx=["disabled","title","children","style","className"];function Sx(e){return"string"===typeof e||"number"===typeof e}var Mx=function(t,i){var n=e.useContext(Ab),a=n.prefixCls,l=n.id,c=n.open,d=n.multiple,u=n.mode,p=n.searchValue,m=n.toggleOpen,v=n.notFoundContent,b=n.onPopupScroll,x=e.useContext(Vb),S=x.maxCount,M=x.flattenOptions,A=x.onActiveValue,k=x.defaultActiveFirstOption,w=x.onSelect,C=x.menuItemSelectedIcon,I=x.rawValues,D=x.fieldNames,N=x.virtual,E=x.direction,O=x.listHeight,L=x.listItemHeight,T=x.optionRender,R="".concat(a,"-item"),P=(0,Wo.A)((function(){return M}),[c,M],(function(e,t){return t[0]&&e[1]!==t[1]})),z=e.useRef(null),j=e.useMemo((function(){return d&&Hb(S)&&(null===I||void 0===I?void 0:I.size)>=S}),[d,S,null===I||void 0===I?void 0:I.size]),B=function(e){e.preventDefault()},$=function(e){var t;null===(t=z.current)||void 0===t||t.scrollTo("number"===typeof e?{index:e}:e)},F=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=P.length,n=0;n<i;n+=1){var o=(e+n*t+i)%i,a=P[o]||{},r=a.group,s=a.data;if(!r&&(null===s||void 0===s||!s.disabled)&&!j)return o}return-1},_=e.useState((function(){return F(0)})),H=(0,g.A)(_,2),W=H[0],G=H[1],V=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];G(e);var i={source:t?"keyboard":"mouse"},n=P[e];n?A(n.value,e,i):A(null,-1,i)};(0,e.useEffect)((function(){V(!1!==k?F(0):-1)}),[P.length,p]);var U=e.useCallback((function(e){return"combobox"!==u&&I.has(e)}),[u,(0,o.A)(I).toString(),I.size]),K=e.useCallback((function(e){return"combobox"===u?String(e).toLowerCase()===p.toLowerCase():I.has(e)}),[u,p,(0,o.A)(I).toString(),I.size]);(0,e.useEffect)((function(){var e,t=setTimeout((function(){if(!d&&c&&1===I.size){var e=Array.from(I)[0],t=P.findIndex((function(t){return t.data.value===e}));-1!==t&&(V(t),$(t))}}));c&&(null===(e=z.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[c,p]);var Y=function(e){void 0!==e&&w(e,{selected:!I.has(e)}),d||m(!1)};if(e.useImperativeHandle(i,(function(){return{onKeyDown:function(e){var t=e.which,i=e.ctrlKey;switch(t){case so.N:case so.P:case so.UP:case so.DOWN:var n=0;if(t===so.UP?n=-1:t===so.DOWN?n=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&i&&(t===so.N?n=1:t===so.P&&(n=-1)),0!==n){var o=F(W+n,n);$(o),V(o,!0)}break;case so.TAB:case so.ENTER:var a,r=P[W];!r||null!==r&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.disabled||j?Y(void 0):Y(r.value),c&&e.preventDefault();break;case so.ESC:m(!1),c&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){$(e)}}})),0===P.length)return e.createElement("div",{role:"listbox",id:"".concat(l,"_list"),className:"".concat(R,"-empty"),onMouseDown:B},v);var X=Object.keys(D).map((function(e){return D[e]})),Z=function(e){return e.label};function q(e,t){return{role:e.group?"presentation":"option",id:"".concat(l,"_list_").concat(t)}}var Q=function(t){var i=P[t];if(!i)return null;var n=i.data||{},o=n.value,a=i.group,r=fc(n,!0),s=Z(i);return i?e.createElement("div",(0,h.A)({"aria-label":"string"!==typeof s||a?null:s},r,{key:t},q(i,t),{"aria-selected":K(o)}),o):null},J={role:"listbox",id:"".concat(l,"_list")};return e.createElement(e.Fragment,null,N&&e.createElement("div",(0,h.A)({},J,{style:{height:0,width:0,overflow:"hidden"}}),Q(W-1),Q(W),Q(W+1)),e.createElement(bx,{itemKey:"key",ref:z,data:P,height:O,itemHeight:L,fullHeight:!1,onMouseDown:B,onScroll:b,virtual:N,direction:E,innerProps:N?null:J},(function(t,i){var n=t.group,o=t.groupOption,a=t.data,l=t.label,c=t.value,d=a.key;if(n){var u,p=null!==(u=a.title)&&void 0!==u?u:Sx(l)?l.toString():void 0;return e.createElement("div",{className:r()(R,"".concat(R,"-group"),a.className),title:p},void 0!==l?l:d)}var g=a.disabled,m=a.title,v=(a.children,a.style),b=a.className,x=y(a,xx),S=(0,s.A)(x,X),M=U(c),A=g||!M&&j,k="".concat(R,"-option"),w=r()(R,k,b,(0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(k,"-grouped"),o),"".concat(k,"-active"),W===i&&!A),"".concat(k,"-disabled"),A),"".concat(k,"-selected"),M)),I=Z(t),D=!C||"function"===typeof C||M,E="number"===typeof I?I:I||c,O=Sx(E)?E.toString():void 0;return void 0!==m&&(O=m),e.createElement("div",(0,h.A)({},fc(S),N?{}:q(t,i),{"aria-selected":K(c),className:w,title:O,onMouseMove:function(){W===i||A||V(i)},onClick:function(){A||Y(c)},style:v}),e.createElement("div",{className:"".concat(k,"-content")},"function"===typeof T?T(t,{index:i}):E),e.isValidElement(C)||M,D&&e.createElement(Mb,{className:"".concat(R,"-option-state"),customizeIcon:C,customizeIconProps:{value:c,disabled:A,isSelected:M}},M?"\u2713":null))})))};const Ax=e.forwardRef(Mx);function kx(e,t){return Ib(e).join("").toUpperCase().includes(t)}var wx=0,Cx=(0,Ei.A)();function Ix(t){var i=e.useState(),n=(0,g.A)(i,2),o=n[0],a=n[1];return e.useEffect((function(){a("rc_select_".concat(function(){var e;return Cx?(e=wx,wx+=1):e="TEST_OR_SSR",e}()))}),[]),t||o}var Dx=["children","value"],Nx=["children"];function Ex(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(t).map((function(t,n){if(!e.isValidElement(t)||!t.type)return null;var o=t,a=o.type.isSelectOptGroup,r=o.key,s=o.props,l=s.children,c=y(s,Nx);return i||!a?function(e){var t=e,i=t.key,n=t.props,o=n.children,a=n.value,r=y(n,Dx);return(0,x.A)({key:i,value:void 0!==a?a:i,children:o},r)}(t):(0,x.A)((0,x.A)({key:"__RC_SELECT_GRP__".concat(null===r?n:r,"__"),label:r},c),{},{options:Ex(l)})})).filter((function(e){return e}))}const Ox=function(t,i,n,o,a){return e.useMemo((function(){var e=t;!t&&(e=Ex(i));var r=new Map,s=new Map,l=function(e,t,i){i&&"string"===typeof i&&e.set(t[i],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var d=t[c];!d[n.options]||i?(r.set(d[n.value],d),l(s,d,n.label),l(s,d,o),l(s,d,a)):e(d[n.options],!0)}}(e),{options:e,valueOptions:r,labelOptions:s}}),[t,i,n,o,a])};function Lx(t){var i=e.useRef();i.current=t;var n=e.useCallback((function(){return i.current.apply(i,arguments)}),[]);return n}var Tx=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Rx=["inputValue"];var Px=e.forwardRef((function(t,i){var n=t.id,a=t.mode,r=t.prefixCls,s=void 0===r?"rc-select":r,l=t.backfill,c=t.fieldNames,d=t.inputValue,u=t.searchValue,p=t.onSearch,m=t.autoClearSearchValue,v=void 0===m||m,b=t.onSelect,M=t.onDeselect,A=t.dropdownMatchSelectWidth,k=void 0===A||A,w=t.filterOption,C=t.filterSort,I=t.optionFilterProp,D=t.optionLabelProp,N=t.options,E=t.optionRender,O=t.children,L=t.defaultActiveFirstOption,T=t.menuItemSelectedIcon,R=t.virtual,P=t.direction,z=t.listHeight,j=void 0===z?200:z,B=t.listItemHeight,$=void 0===B?20:B,F=t.labelRender,_=t.value,H=t.defaultValue,W=t.labelInValue,G=t.onChange,V=t.maxCount,U=y(t,Tx),K=Ix(n),Y=Xb(a),X=!(N||!O),Z=e.useMemo((function(){return(void 0!==w||"combobox"!==a)&&w}),[w,a]),q=e.useMemo((function(){return Wb(c,X)}),[JSON.stringify(c),X]),Q=(0,xt.A)("",{value:void 0!==u?u:d,postState:function(e){return e||""}}),J=(0,g.A)(Q,2),ee=J[0],te=J[1],ie=Ox(N,O,q,I,D),ne=ie.valueOptions,oe=ie.labelOptions,ae=ie.options,re=e.useCallback((function(e){return Ib(e).map((function(e){var t,i,n,o,a,r;(function(e){return!e||"object"!==(0,S.A)(e)})(e)?t=e:(n=e.key,i=e.label,t=null!==(r=e.value)&&void 0!==r?r:n);var s,l=ne.get(t);l&&(void 0===i&&(i=null===l||void 0===l?void 0:l[D||q.label]),void 0===n&&(n=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),o=null===l||void 0===l?void 0:l.disabled,a=null===l||void 0===l?void 0:l.title);return{label:i,value:t,key:n,disabled:o,title:a}}))}),[q,D,ne]),se=(0,xt.A)(H,{value:_}),le=(0,g.A)(se,2),ce=le[0],de=le[1],ue=e.useMemo((function(){var e,t=re(Y&&null===ce?[]:ce);return"combobox"===a&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ce,re,a,Y]),he=function(t,i){var n=e.useRef({values:new Map,options:new Map});return[e.useMemo((function(){var e=n.current,o=e.values,a=e.options,r=t.map((function(e){var t;return void 0===e.label?(0,x.A)((0,x.A)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return r.forEach((function(e){s.set(e.value,e),l.set(e.value,i.get(e.value)||a.get(e.value))})),n.current.values=s,n.current.options=l,r}),[t,i]),e.useCallback((function(e){return i.get(e)||n.current.options.get(e)}),[i])]}(ue,ne),pe=(0,g.A)(he,2),ge=pe[0],fe=pe[1],me=e.useMemo((function(){if(!a&&1===ge.length){var e=ge[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ge.map((function(e){var t;return(0,x.A)((0,x.A)({},e),{},{label:null!==(t="function"===typeof F?F(e):e.label)&&void 0!==t?t:e.value})}))}),[a,ge,F]),ye=e.useMemo((function(){return new Set(ge.map((function(e){return e.value})))}),[ge]);e.useEffect((function(){if("combobox"===a){var e,t=null===(e=ge[0])||void 0===e?void 0:e.value;te(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ge]);var ve=Lx((function(e,t){var i=null!==t&&void 0!==t?t:e;return(0,f.A)((0,f.A)({},q.value,e),q.label,i)})),be=function(t,i,n,o,a){return e.useMemo((function(){if(!n||!1===o)return t;var e=i.options,r=i.label,s=i.value,l=[],c="function"===typeof o,d=n.toUpperCase(),u=c?o:function(t,i){return a?kx(i[a],d):i[e]?kx(i["children"!==r?r:"label"],d):kx(i[s],d)},h=c?function(e){return Gb(e)}:function(e){return e};return t.forEach((function(t){if(t[e])if(u(n,h(t)))l.push(t);else{var i=t[e].filter((function(e){return u(n,h(e))}));i.length&&l.push((0,x.A)((0,x.A)({},t),{},(0,f.A)({},e,i)))}else u(n,h(t))&&l.push(t)})),l}),[t,o,a,n,i])}(e.useMemo((function(){if("tags"!==a)return ae;var e=(0,o.A)(ae);return(0,o.A)(ge).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var i=t.value;(function(e){return ne.has(e)})(i)||e.push(ve(i,t.label))})),e}),[ve,ae,ne,ge,a]),q,ee,Z,I),xe=e.useMemo((function(){return"tags"!==a||!ee||be.some((function(e){return e[I||"value"]===ee}))||be.some((function(e){return e[q.value]===ee}))?be:[ve(ee)].concat((0,o.A)(be))}),[ve,I,a,be,ee,q]),Se=function e(t){return(0,o.A)(t).sort((function(e,t){return C(e,t,{searchValue:ee})})).map((function(t){return Array.isArray(t.options)?(0,x.A)((0,x.A)({},t),{},{options:t.options.length>0?e(t.options):t.options}):t}))},Me=e.useMemo((function(){return C?Se(xe):xe}),[xe,C,ee]),Ae=e.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.fieldNames,n=t.childrenAsData,o=[],a=Wb(i,!1),r=a.label,s=a.value,l=a.options,c=a.groupLabel;return function e(t,i){Array.isArray(t)&&t.forEach((function(t){if(i||!(l in t)){var a=t[s];o.push({key:_b(t,o.length),groupOption:i,data:t,label:t[r],value:a})}else{var d=t[c];void 0===d&&n&&(d=t.label),o.push({key:_b(t,o.length),group:!0,data:t,label:d}),e(t[l],!0)}}))}(e,!1),o}(Me,{fieldNames:q,childrenAsData:X})}),[Me,q,X]),ke=function(e){var t=re(e);if(de(t),G&&(t.length!==ge.length||t.some((function(e,t){var i;return(null===(i=ge[t])||void 0===i?void 0:i.value)!==(null===e||void 0===e?void 0:e.value)})))){var i=W?t:t.map((function(e){return e.value})),n=t.map((function(e){return Gb(fe(e.value))}));G(Y?i:i[0],Y?n:n[0])}},we=e.useState(null),Ce=(0,g.A)(we,2),Ie=Ce[0],De=Ce[1],Ne=e.useState(0),Ee=(0,g.A)(Ne,2),Oe=Ee[0],Le=Ee[1],Te=void 0!==L?L:"combobox"!==a,Re=e.useCallback((function(e,t){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,n=void 0===i?"keyboard":i;Le(t),l&&"combobox"===a&&null!==e&&"keyboard"===n&&De(String(e))}),[l,a]),Pe=function(e,t,i){var n=function(){var t,i=fe(e);return[W?{label:null===i||void 0===i?void 0:i[q.label],value:e,key:null!==(t=null===i||void 0===i?void 0:i.key)&&void 0!==t?t:e}:e,Gb(i)]};if(t&&b){var o=n(),a=(0,g.A)(o,2),r=a[0],s=a[1];b(r,s)}else if(!t&&M&&"clear"!==i){var l=n(),c=(0,g.A)(l,2),d=c[0],u=c[1];M(d,u)}},ze=Lx((function(e,t){var i,n=!Y||t.selected;i=n?Y?[].concat((0,o.A)(ge),[e]):[e]:ge.filter((function(t){return t.value!==e})),ke(i),Pe(e,n),"combobox"===a?De(""):Xb&&!v||(te(""),De(""))})),je=e.useMemo((function(){var e=!1!==R&&!1!==k;return(0,x.A)((0,x.A)({},ie),{},{flattenOptions:Ae,onActiveValue:Re,defaultActiveFirstOption:Te,onSelect:ze,menuItemSelectedIcon:T,rawValues:ye,fieldNames:q,virtual:e,direction:P,listHeight:j,listItemHeight:$,childrenAsData:X,maxCount:V,optionRender:E})}),[V,ie,Ae,Re,Te,ze,T,ye,q,R,k,P,j,$,X,E]);return e.createElement(Vb.Provider,{value:je},e.createElement(Zb,(0,h.A)({},U,{id:K,prefixCls:s,ref:i,omitDomProps:Rx,mode:a,displayValues:me,onDisplayValuesChange:function(e,t){ke(e);var i=t.type,n=t.values;"remove"!==i&&"clear"!==i||n.forEach((function(e){Pe(e.value,!1,i)}))},direction:P,searchValue:ee,onSearch:function(e,t){if(te(e),De(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===a&&ke(e),null===p||void 0===p||p(e));else{var i=(e||"").trim();if(i){var n=Array.from(new Set([].concat((0,o.A)(ye),[i])));ke(n),Pe(i,!0),te("")}}},autoClearSearchValue:v,onSearchSplit:function(e){var t=e;"tags"!==a&&(t=e.map((function(e){var t=oe.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var i=Array.from(new Set([].concat((0,o.A)(ye),(0,o.A)(t))));ke(i),i.forEach((function(e){Pe(e,!0)}))},dropdownMatchSelectWidth:k,OptionList:Ax,emptyOptions:!Ae.length,activeValue:Ie,activeDescendantId:"".concat(K,"_list_").concat(Oe)})))}));Px.Option=ex,Px.OptGroup=Qb;const zx=Px,jx=t=>{const{componentName:i}=t,{getPrefixCls:n}=(0,e.useContext)(l.QO),o=n("empty");switch(i){case"Table":case"List":return e.createElement(zs,{image:zs.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return e.createElement(zs,{image:zs.PRESENTED_IMAGE_SIMPLE,className:`${o}-small`});case"Table.filter":return null;default:return e.createElement(zs,null)}};const Bx=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},$x=e=>{const{optionHeight:t,optionFontSize:i,optionLineHeight:n,optionPadding:o}=e;return{position:"relative",display:"block",minHeight:t,padding:o,color:e.colorText,fontWeight:"normal",fontSize:i,lineHeight:n,boxSizing:"border-box"}},Fx=e=>{const{antCls:t,componentCls:i}=e,n=`${i}-item`,o=`&${t}-slide-up-enter${t}-slide-up-enter-active`,a=`&${t}-slide-up-appear${t}-slide-up-appear-active`,r=`&${t}-slide-up-leave${t}-slide-up-leave-active`,s=`${i}-dropdown-placement-`;return[{[`${i}-dropdown`]:Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n          ${o}${s}bottomLeft,\n          ${a}${s}bottomLeft\n        `]:{animationName:Pr},[`\n          ${o}${s}topLeft,\n          ${a}${s}topLeft,\n          ${o}${s}topRight,\n          ${a}${s}topRight\n        `]:{animationName:jr},[`${r}${s}bottomLeft`]:{animationName:zr},[`\n          ${r}${s}topLeft,\n          ${r}${s}topRight\n        `]:{animationName:Br},"&-hidden":{display:"none"},[n]:Object.assign(Object.assign({},$x(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Or.L9),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${n}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${n}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${n}-option-state`]:{color:e.colorPrimary},[`&:has(+ ${n}-option-selected:not(${n}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${n}-option-selected:not(${n}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${n}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},$x(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Gr(e,"slide-up"),Gr(e,"slide-down"),ng(e,"move-up"),ng(e,"move-down")]},_x=e=>{const{componentCls:t,iconCls:i,borderRadiusSM:n,motionDurationSlow:o,paddingXS:a,multipleItemColorDisabled:r,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:d}=e,u=`${t}-selection-overflow`;return{[u]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:d,borderRadius:n,cursor:"default",transition:`font-size ${o}, line-height ${o}, height ${o}`,marginInlineEnd:e.calc(d).mul(2).equal(),paddingInlineStart:a,paddingInlineEnd:e.calc(a).div(2).equal(),[`${t}-disabled&`]:{color:r,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(a).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Or.Nk)()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${i}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},Hx=(e,t)=>{const{componentCls:i,INTERNAL_FIXED_ITEM_MARGIN:n}=e,o=`${i}-selection-overflow`,a=e.multipleSelectItemHeight,r=(e=>{const{multipleSelectItemHeight:t,selectHeight:i,lineWidth:n}=e;return e.calc(i).sub(t).div(2).sub(n).equal()})(e),s=t?`${i}-${t}`:"",l=(e=>{const{multipleSelectItemHeight:t,paddingXXS:i,lineWidth:n,INTERNAL_FIXED_ITEM_MARGIN:o}=e,a=e.max(e.calc(i).sub(n).equal(),0);return{basePadding:a,containerPadding:e.max(e.calc(a).sub(o).equal(),0),itemHeight:(0,Y.zA)(t),itemLineHeight:(0,Y.zA)(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}})(e);return{[`${i}-multiple${s}`]:Object.assign(Object.assign({},_x(e)),{[`${i}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:e.borderRadius,[`${i}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,Y.zA)(n)} 0`,lineHeight:(0,Y.zA)(a),visibility:"hidden",content:'"\\a0"'}},[`${i}-selection-item`]:{height:l.itemHeight,lineHeight:(0,Y.zA)(l.itemLineHeight)},[`${i}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,Y.zA)(a),marginBlock:n}},[`${i}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${o}-item + ${o}-item,\n        ${i}-prefix + ${i}-selection-wrap\n      `]:{[`${i}-selection-search`]:{marginInlineStart:0},[`${i}-selection-placeholder`]:{insetInlineStart:0}},[`${o}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:n},[`${i}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(r).equal(),"\n          &-input,\n          &-mirror\n        ":{height:a,fontFamily:e.fontFamily,lineHeight:(0,Y.zA)(a),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${i}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function Wx(e,t){const{componentCls:i}=e,n=t?`${i}-${t}`:"",o={[`${i}-multiple${n}`]:{fontSize:e.fontSize,[`${i}-selector`]:{[`${i}-show-search&`]:{cursor:"text"}},[`\n        &${i}-show-arrow ${i}-selector,\n        &${i}-allow-clear ${i}-selector\n      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[Hx(e,t),o]}const Gx=e=>{const{componentCls:t}=e,i=(0,Fe.oX)(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),n=(0,Fe.oX)(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[Wx(e),Wx(i,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},Wx(n,"lg")]};function Vx(e,t){const{componentCls:i,inputPaddingHorizontalBase:n,borderRadius:o}=e,a=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),r=t?`${i}-${t}`:"";return{[`${i}-single${r}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${i}-selector`]:Object.assign(Object.assign({},(0,Or.dF)(e,!0)),{display:"flex",borderRadius:o,flex:"1 1 auto",[`${i}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`\n          ${i}-selection-item,\n          ${i}-selection-placeholder\n        `]:{display:"block",padding:0,lineHeight:(0,Y.zA)(a),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${i}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${i}-selection-item:empty:after`,`${i}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${i}-show-arrow ${i}-selection-item,\n        &${i}-show-arrow ${i}-selection-search,\n        &${i}-show-arrow ${i}-selection-placeholder\n      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${i}-open ${i}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${i}-customize-input)`]:{[`${i}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,Y.zA)(n)}`,[`${i}-selection-search-input`]:{height:a},"&:after":{lineHeight:(0,Y.zA)(a)}}},[`&${i}-customize-input`]:{[`${i}-selector`]:{"&:after":{display:"none"},[`${i}-selection-search`]:{position:"static",width:"100%"},[`${i}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,Y.zA)(n)}`,"&:after":{display:"none"}}}}}}}function Ux(e){const{componentCls:t}=e,i=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[Vx(e),Vx((0,Fe.oX)(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${(0,Y.zA)(i)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(i).add(e.calc(e.fontSize).mul(1.5)).equal()},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},Vx((0,Fe.oX)(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const Kx=(e,t)=>{const{componentCls:i,antCls:n,controlOutlineWidth:o}=e;return{[`&:not(${i}-customize-input) ${i}-selector`]:{border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${i}-disabled):not(${i}-customize-input):not(${n}-pagination-size-changer)`]:{[`&:hover ${i}-selector`]:{borderColor:t.hoverBorderHover},[`${i}-focused& ${i}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${(0,Y.zA)(o)} ${t.activeOutlineColor}`,outline:0},[`${i}-prefix`]:{color:t.color}}}},Yx=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Kx(e,t))}),Xx=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},Kx(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),Yx(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),Yx(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),Zx=(e,t)=>{const{componentCls:i,antCls:n}=e;return{[`&:not(${i}-customize-input) ${i}-selector`]:{background:t.bg,border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${i}-disabled):not(${i}-customize-input):not(${n}-pagination-size-changer)`]:{[`&:hover ${i}-selector`]:{background:t.hoverBg},[`${i}-focused& ${i}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},qx=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Zx(e,t))}),Qx=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Zx(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),qx(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),qx(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),Jx=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${(0,Y.zA)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),eS=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},Xx(e)),Qx(e)),Jx(e))}),tS=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},iS=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},nS=e=>{const{antCls:t,componentCls:i,inputPaddingHorizontalBase:n,iconCls:o}=e;return{[i]:Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${i}-customize-input) ${i}-selector`]:Object.assign(Object.assign({},tS(e)),iS(e)),[`${i}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Or.L9),{[`> ${t}-typography`]:{display:"inline"}}),[`${i}-selection-placeholder`]:Object.assign(Object.assign({},Or.L9),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${i}-arrow`]:Object.assign(Object.assign({},(0,Or.Nk)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[o]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${i}-suffix)`]:{pointerEvents:"auto"}},[`${i}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${i}-selection-wrap`]:{display:"flex",width:"100%",position:"relative","&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${i}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${i}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},[`&:hover ${i}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}}),[`${i}-has-feedback`]:{[`${i}-clear`]:{insetInlineEnd:e.calc(n).add(e.fontSize).add(e.paddingXS).equal()}}}},oS=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},nS(e),Ux(e),Gx(e),Fx(e),{[`${t}-rtl`]:{direction:"rtl"}},gd(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},aS=(0,X.OF)("Select",((e,t)=>{let{rootPrefixCls:i}=t;const n=(0,Fe.oX)(e,{rootPrefixCls:i,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[oS(n),eS(n)]}),(e=>{const{fontSize:t,lineHeight:i,lineWidth:n,controlHeight:o,controlHeightSM:a,controlHeightLG:r,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:d,fontWeightStrong:u,controlItemBgActive:h,controlItemBgHover:p,colorBgContainer:g,colorFillSecondary:f,colorBgContainerDisabled:m,colorTextDisabled:y,colorPrimaryHover:v,colorPrimary:b,controlOutline:x}=e,S=2*s,M=2*n,A=Math.min(o-S,o-M),k=Math.min(a-S,a-M),w=Math.min(r-S,r-M);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:d,optionSelectedFontWeight:u,optionSelectedBg:h,optionActiveBg:p,optionPadding:`${(o-t*i)/2}px ${l}px`,optionFontSize:t,optionLineHeight:i,optionHeight:o,selectorBg:g,clearBg:g,singleItemHeightLG:r,multipleItemBg:f,multipleItemBorderColor:"transparent",multipleItemHeight:A,multipleItemHeightSM:k,multipleItemHeightLG:w,multipleSelectorBgDisabled:m,multipleItemColorDisabled:y,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize),hoverBorderColor:v,activeBorderColor:b,activeOutlineColor:x,selectAffixPadding:s}}),{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const rS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var sS=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:rS}))};const lS=e.forwardRef(sS);var cS=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const dS="SECRET_COMBOBOX_MODE_DO_NOT_USE",uS=(t,i)=>{var n;const{prefixCls:o,bordered:a,className:c,rootClassName:d,getPopupContainer:u,popupClassName:h,dropdownClassName:p,listHeight:g=256,placement:f,listItemHeight:m,size:y,disabled:v,notFoundContent:b,status:x,builtinPlacements:S,dropdownMatchSelectWidth:M,popupMatchSelectWidth:A,direction:k,style:w,allowClear:C,variant:I,dropdownStyle:D,transitionName:N,tagRender:E,maxCount:O,prefix:L}=t,T=cS(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:R,getPrefixCls:P,renderEmpty:z,direction:j,virtual:B,popupMatchSelectWidth:$,popupOverflow:F,select:_}=e.useContext(l.QO),[,H]=(0,Se.Ay)(),W=null!==m&&void 0!==m?m:null===H||void 0===H?void 0:H.controlHeight,G=P("select",o),V=P(),U=null!==k&&void 0!==k?k:j,{compactSize:K,compactItemClassnames:Y}=gl(G,U),[X,Z]=ff("select",I,a),q=Mr(G),[Q,J,ee]=aS(G,q),te=e.useMemo((()=>{const{mode:e}=t;if("combobox"!==e)return e===dS?"combobox":e}),[t.mode]),ie="multiple"===te||"tags"===te,ne=function(e,t){return void 0!==t?t:null!==e}(t.suffixIcon,t.showArrow),oe=null!==(n=null!==A&&void 0!==A?A:M)&&void 0!==n?n:$,{status:ae,hasFeedback:re,isFormItemInput:se,feedbackIcon:le}=e.useContext(Jh),ce=gf(ae,x);let de;de=void 0!==b?b:"combobox"===te?null:(null===z||void 0===z?void 0:z("Select"))||e.createElement(jx,{componentName:"Select"});const{suffixIcon:ue,itemIcon:he,removeIcon:pe,clearIcon:ge}=function(t){let{suffixIcon:i,clearIcon:n,menuItemSelectedIcon:o,removeIcon:a,loading:r,multiple:s,hasFeedback:l,prefixCls:c,showSuffixIcon:d,feedbackIcon:u,showArrow:h,componentName:p}=t;const g=null!==n&&void 0!==n?n:e.createElement(uf,null),f=t=>null!==i||l||h?e.createElement(e.Fragment,null,!1!==d&&t,l&&u):null;let m=null;if(void 0!==i)m=f(i);else if(r)m=f(e.createElement(Dl,{spin:!0}));else{const t=`${c}-suffix`;m=i=>{let{open:n,showSearch:o}=i;return f(n&&o?e.createElement(Bf,{className:t}):e.createElement(Nd,{className:t}))}}let y=null;y=void 0!==o?o:s?e.createElement(lS,null):null;let v=null;return v=void 0!==a?a:e.createElement(pt,null),{clearIcon:g,suffixIcon:m,itemIcon:y,removeIcon:v}}(Object.assign(Object.assign({},T),{multiple:ie,hasFeedback:re,feedbackIcon:le,showSuffixIcon:ne,prefixCls:G,componentName:"Select"})),fe=!0===C?{clearIcon:ge}:C,me=(0,s.A)(T,["suffixIcon","itemIcon"]),ye=r()(h||p,{[`${G}-dropdown-${U}`]:"rtl"===U},d,ee,q,J),ve=Be((e=>{var t;return null!==(t=null!==y&&void 0!==y?y:K)&&void 0!==t?t:e})),be=e.useContext(hl),xe=null!==v&&void 0!==v?v:be,Me=r()({[`${G}-lg`]:"large"===ve,[`${G}-sm`]:"small"===ve,[`${G}-rtl`]:"rtl"===U,[`${G}-${X}`]:Z,[`${G}-in-form-item`]:se},pf(G,ce,re),Y,null===_||void 0===_?void 0:_.className,c,d,ee,q,J),Ae=e.useMemo((()=>void 0!==f?f:"rtl"===U?"bottomRight":"bottomLeft"),[f,U]);const[ke]=Rd("SelectLike",null===D||void 0===D?void 0:D.zIndex);return Q(e.createElement(zx,Object.assign({ref:i,virtual:B,showSearch:null===_||void 0===_?void 0:_.showSearch},me,{style:Object.assign(Object.assign({},null===_||void 0===_?void 0:_.style),w),dropdownMatchSelectWidth:oe,transitionName:Ir(V,"slide-up",N),builtinPlacements:Bx(S,F),listHeight:g,listItemHeight:W,mode:te,prefixCls:G,placement:Ae,direction:U,prefix:L,suffixIcon:ue,menuItemSelectedIcon:he,removeIcon:pe,allowClear:fe,notFoundContent:de,className:Me,getPopupContainer:u||R,dropdownClassName:ye,disabled:xe,dropdownStyle:Object.assign(Object.assign({},D),{zIndex:ke}),maxCount:ie?O:void 0,tagRender:ie?E:void 0})))};const hS=e.forwardRef(uS),pS=Su(hS);hS.SECRET_COMBOBOX_MODE_DO_NOT_USE=dS,hS.Option=ex,hS.OptGroup=Qb,hS._InternalPanelDoNotUseOrYouWillBeFired=pS;const gS=hS;var fS,mS;(mS=fS||(fS={})).hex="hex",mS.rgb="rgb",mS.hsb="hsb";const yS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};var vS=function(t,i){return e.createElement(B,(0,h.A)({},t,{ref:i,icon:yS}))};const bS=e.forwardRef(vS);function xS(){return"function"===typeof BigInt}function SS(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function MS(e){var t=e.trim(),i=t.startsWith("-");i&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var n=t||"0",o=n.split("."),a=o[0]||"0",r=o[1]||"0";"0"===a&&"0"===r&&(i=!1);var s=i?"-":"";return{negative:i,negativeStr:s,trimStr:n,integerStr:a,decimalStr:r,fullStr:"".concat(s).concat(n)}}function AS(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function kS(e){var t=String(e);if(AS(e)){var i=Number(t.slice(t.indexOf("e-")+2)),n=t.match(/\.(\d+)/);return null!==n&&void 0!==n&&n[1]&&(i+=n[1].length),i}return t.includes(".")&&CS(t)?t.length-t.indexOf(".")-1:0}function wS(e){var t=String(e);if(AS(e)){if(e>Number.MAX_SAFE_INTEGER)return String(xS()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(xS()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(kS(t))}return MS(t).fullStr}function CS(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var IS=function(){function e(t){if((0,ei.A)(this,e),(0,f.A)(this,"origin",""),(0,f.A)(this,"negative",void 0),(0,f.A)(this,"integer",void 0),(0,f.A)(this,"decimal",void 0),(0,f.A)(this,"decimalLen",void 0),(0,f.A)(this,"empty",void 0),(0,f.A)(this,"nan",void 0),SS(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var i=t;if(AS(i)&&(i=Number(i)),CS(i="string"===typeof i?i:wS(i))){var n=MS(i);this.negative=n.negative;var o=n.trimStr.split(".");this.integer=BigInt(o[0]);var a=o[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}}return(0,ti.A)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,i,n){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),a=i(this.alignDecimal(o),t.alignDecimal(o)).toString(),r=n(o),s=MS(a),l=s.negativeStr,c=s.trimStr,d="".concat(l).concat(c.padStart(r+1,"0"));return new e("".concat(d.slice(0,-r),".").concat(d.slice(-r)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=new e(t);return i.isInvalidate()?this:this.cal(i,(function(e,t){return e+t}),(function(e){return e}))}},{key:"multi",value:function(t){var i=new e(t);return this.isInvalidate()||i.isInvalidate()?new e(NaN):this.cal(i,(function(e,t){return e*t}),(function(e){return 2*e}))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":MS("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),DS=function(){function e(t){(0,ei.A)(this,e),(0,f.A)(this,"origin",""),(0,f.A)(this,"number",void 0),(0,f.A)(this,"empty",void 0),SS(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return(0,ti.A)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=Number(t);if(Number.isNaN(i))return this;var n=this.number+i;if(n>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(kS(this.number),kS(i));return new e(n.toFixed(o))}},{key:"multi",value:function(t){var i=Number(t);if(this.isInvalidate()||Number.isNaN(i))return new e(NaN);var n=this.number*i;if(n>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(kS(this.number),kS(i));return new e(n.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":wS(this.number):this.origin}}]),e}();function NS(e){return xS()?new IS(e):new DS(e)}function ES(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=MS(e),a=o.negativeStr,r=o.integerStr,s=o.decimalStr,l="".concat(t).concat(s),c="".concat(a).concat(r);if(i>=0){var d=Number(s[i]);return d>=5&&!n?ES(NS(e).add("".concat(a,"0.").concat("0".repeat(i)).concat(10-d)).toString(),t,i,n):0===i?c:"".concat(c).concat(t).concat(s.padEnd(i,"0").slice(0,i))}return".0"===l?c:"".concat(c).concat(l)}const OS=NS;const LS=function(){var t=(0,e.useState)(!1),i=(0,g.A)(t,2),n=i[0],o=i[1];return(0,Mi.A)((function(){o(St())}),[]),n};function TS(t){var i=t.prefixCls,n=t.upNode,o=t.downNode,a=t.upDisabled,s=t.downDisabled,l=t.onStep,c=e.useRef(),d=e.useRef([]),u=e.useRef();u.current=l;var p=function(){clearTimeout(c.current)},g=function(e,t){e.preventDefault(),p(),u.current(t),c.current=setTimeout((function e(){u.current(t),c.current=setTimeout(e,200)}),600)};if(e.useEffect((function(){return function(){p(),d.current.forEach((function(e){return yi.cancel(e)}))}}),[]),LS())return null;var m="".concat(i,"-handler"),y=r()(m,"".concat(m,"-up"),(0,f.A)({},"".concat(m,"-up-disabled"),a)),v=r()(m,"".concat(m,"-down"),(0,f.A)({},"".concat(m,"-down-disabled"),s)),b=function(){return d.current.push(yi(p))},x={unselectable:"on",role:"button",onMouseUp:b,onMouseLeave:b};return e.createElement("div",{className:"".concat(m,"-wrap")},e.createElement("span",(0,h.A)({},x,{onMouseDown:function(e){g(e,!0)},"aria-label":"Increase Value","aria-disabled":a,className:y}),n||e.createElement("span",{unselectable:"on",className:"".concat(i,"-handler-up-inner")})),e.createElement("span",(0,h.A)({},x,{onMouseDown:function(e){g(e,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:v}),o||e.createElement("span",{unselectable:"on",className:"".concat(i,"-handler-down-inner")})))}function RS(e){var t="number"===typeof e?wS(e):MS(e).fullStr;return t.includes(".")?MS(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var PS=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],zS=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],jS=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},BS=function(e){var t=OS(e);return t.isInvalidate()?null:t},$S=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.className,a=t.style,s=t.min,l=t.max,c=t.step,d=void 0===c?1:c,u=t.defaultValue,p=t.value,m=t.disabled,v=t.readOnly,b=t.upHandler,x=t.downHandler,M=t.keyboard,A=t.changeOnWheel,k=void 0!==A&&A,C=t.controls,I=void 0===C||C,D=(t.classNames,t.stringMode),N=t.parser,E=t.formatter,O=t.precision,L=t.decimalSeparator,T=t.onChange,R=t.onInput,P=t.onPressEnter,z=t.onStep,j=t.changeOnBlur,B=void 0===j||j,$=t.domRef,F=y(t,PS),_="".concat(n,"-input"),H=e.useRef(null),W=e.useState(!1),G=(0,g.A)(W,2),V=G[0],U=G[1],K=e.useRef(!1),Y=e.useRef(!1),X=e.useRef(!1),Z=e.useState((function(){return OS(null!==p&&void 0!==p?p:u)})),q=(0,g.A)(Z,2),Q=q[0],J=q[1];var ee=e.useCallback((function(e,t){if(!t)return O>=0?O:Math.max(kS(e),kS(d))}),[O,d]),te=e.useCallback((function(e){var t=String(e);if(N)return N(t);var i=t;return L&&(i=i.replace(L,".")),i.replace(/[^\w.-]+/g,"")}),[N,L]),ie=e.useRef(""),ne=e.useCallback((function(e,t){if(E)return E(e,{userTyping:t,input:String(ie.current)});var i="number"===typeof e?wS(e):e;if(!t){var n=ee(i,t);if(CS(i)&&(L||n>=0))i=ES(i,L||".",n)}return i}),[E,ee,L]),oe=e.useState((function(){var e=null!==u&&void 0!==u?u:p;return Q.isInvalidate()&&["string","number"].includes((0,S.A)(e))?Number.isNaN(e)?"":e:ne(Q.toString(),!1)})),ae=(0,g.A)(oe,2),re=ae[0],se=ae[1];function le(e,t){se(ne(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}ie.current=re;var ce=e.useMemo((function(){return BS(l)}),[l,O]),de=e.useMemo((function(){return BS(s)}),[s,O]),ue=e.useMemo((function(){return!(!ce||!Q||Q.isInvalidate())&&ce.lessEquals(Q)}),[ce,Q]),he=e.useMemo((function(){return!(!de||!Q||Q.isInvalidate())&&Q.lessEquals(de)}),[de,Q]),pe=function(t,i){var n=(0,e.useRef)(null);return[function(){try{var e=t.selectionStart,i=t.selectionEnd,o=t.value,a=o.substring(0,e),r=o.substring(i);n.current={start:e,end:i,value:o,beforeTxt:a,afterTxt:r}}catch(Zfe){}},function(){if(t&&n.current&&i)try{var e=t.value,o=n.current,a=o.beforeTxt,r=o.afterTxt,s=o.start,l=e.length;if(e.startsWith(a))l=a.length;else if(e.endsWith(r))l=e.length-n.current.afterTxt.length;else{var c=a[s-1],d=e.indexOf(c,s-1);-1!==d&&(l=d+1)}t.setSelectionRange(l,l)}catch(Zfe){(0,w.Ay)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Zfe.message))}}]}(H.current,V),ge=(0,g.A)(pe,2),fe=ge[0],me=ge[1],ye=function(e){return ce&&!e.lessEquals(ce)?ce:de&&!de.lessEquals(e)?de:null},ve=function(e){return!ye(e)},be=function(e,t){var i,n=e,o=ve(n)||n.isEmpty();if(n.isEmpty()||t||(n=ye(n)||n,o=!0),!v&&!m&&o){var a=n.toString(),r=ee(a,t);return r>=0&&(n=OS(ES(a,".",r)),ve(n)||(n=OS(ES(a,".",r,!0)))),n.equals(Q)||(i=n,void 0===p&&J(i),null===T||void 0===T||T(n.isEmpty()?null:jS(D,n)),void 0===p&&le(n,t)),n}return Q},xe=function(){var t=(0,e.useRef)(0),i=function(){yi.cancel(t.current)};return(0,e.useEffect)((function(){return i}),[]),function(e){i(),t.current=yi((function(){e()}))}}(),Se=function e(t){if(fe(),ie.current=t,se(t),!Y.current){var i=te(t),n=OS(i);n.isNaN()||be(n,!0)}null===R||void 0===R||R(t),xe((function(){var i=t;N||(i=t.replace(/\u3002/g,".")),i!==t&&e(i)}))},Me=function(e){var t;if(!(e&&ue||!e&&he)){K.current=!1;var i=OS(X.current?RS(d):d);e||(i=i.negate());var n=(Q||OS(0)).add(i.toString()),o=be(n,!1);null===z||void 0===z||z(jS(D,o),{offset:X.current?RS(d):d,type:e?"up":"down"}),null===(t=H.current)||void 0===t||t.focus()}},Ae=function(e){var t,i=OS(te(re));t=i.isNaN()?be(Q,e):be(i,e),void 0!==p?le(Q,!1):t.isNaN()||le(t,!1)};e.useEffect((function(){if(k&&V){var e=function(e){Me(e.deltaY<0),e.preventDefault()},t=H.current;if(t)return t.addEventListener("wheel",e,{passive:!1}),function(){return t.removeEventListener("wheel",e)}}}));return(0,Mi.o)((function(){Q.isInvalidate()||le(Q,!1)}),[O,E]),(0,Mi.o)((function(){var e=OS(p);J(e);var t=OS(te(re));e.equals(t)&&K.current&&!E||le(e,K.current)}),[p]),(0,Mi.o)((function(){E&&me()}),[re]),e.createElement("div",{ref:$,className:r()(n,o,(0,f.A)((0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(n,"-focused"),V),"".concat(n,"-disabled"),m),"".concat(n,"-readonly"),v),"".concat(n,"-not-a-number"),Q.isNaN()),"".concat(n,"-out-of-range"),!Q.isInvalidate()&&!ve(Q))),style:a,onFocus:function(){U(!0)},onBlur:function(){B&&Ae(!1),U(!1),K.current=!1},onKeyDown:function(e){var t=e.key,i=e.shiftKey;K.current=!0,X.current=i,"Enter"===t&&(Y.current||(K.current=!1),Ae(!1),null===P||void 0===P||P(e)),!1!==M&&!Y.current&&["Up","ArrowUp","Down","ArrowDown"].includes(t)&&(Me("Up"===t||"ArrowUp"===t),e.preventDefault())},onKeyUp:function(){K.current=!1,X.current=!1},onCompositionStart:function(){Y.current=!0},onCompositionEnd:function(){Y.current=!1,Se(H.current.value)},onBeforeInput:function(){K.current=!0}},I&&e.createElement(TS,{prefixCls:n,upNode:b,downNode:x,upDisabled:ue,downDisabled:he,onStep:Me}),e.createElement("div",{className:"".concat(_,"-wrap")},e.createElement("input",(0,h.A)({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":l,"aria-valuenow":Q.isInvalidate()?null:Q.toString(),step:d},F,{ref:(0,Dt.K4)(H,i),className:_,value:re,onChange:function(e){Se(e.target.value)},disabled:m,readOnly:v}))))}));const FS=e.forwardRef((function(t,i){var n=t.disabled,o=t.style,a=t.prefixCls,r=void 0===a?"rc-input-number":a,s=t.value,l=t.prefix,c=t.suffix,d=t.addonBefore,u=t.addonAfter,p=t.className,g=t.classNames,f=y(t,zS),m=e.useRef(null),v=e.useRef(null),b=e.useRef(null),x=function(e){b.current&&nf(b.current,e)};return e.useImperativeHandle(i,(function(){return e=b.current,t={focus:x,nativeElement:m.current.nativeElement||v.current},"undefined"!==typeof Proxy&&e?new Proxy(e,{get:function(e,i){if(t[i])return t[i];var n=e[i];return"function"===typeof n?n.bind(e):n}}):e;var e,t})),e.createElement(of,{className:p,triggerFocus:x,prefixCls:r,value:s,disabled:n,style:o,prefix:l,suffix:c,addonAfter:u,addonBefore:d,classNames:g,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:m},e.createElement($S,(0,h.A)({prefixCls:r,disabled:n,ref:b,domRef:v,className:null===g||void 0===g?void 0:g.input},f)))})),_S=(e,t)=>{let{componentCls:i,borderRadiusSM:n,borderRadiusLG:o}=e;const a="lg"===t?o:n;return{[`&-${t}`]:{[`${i}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${i}-handler-up`]:{borderStartEndRadius:a},[`${i}-handler-down`]:{borderEndEndRadius:a}}}},HS=e=>{const{componentCls:t,lineWidth:i,lineType:n,borderRadius:o,inputFontSizeSM:a,inputFontSizeLG:r,controlHeightLG:s,controlHeightSM:l,colorError:c,paddingInlineSM:d,paddingBlockSM:u,paddingBlockLG:h,paddingInlineLG:p,colorTextDescription:g,motionDurationMid:f,handleHoverColor:m,handleOpacity:y,paddingInline:v,paddingBlock:b,handleBg:x,handleActiveBg:S,colorTextDisabled:M,borderRadiusSM:A,borderRadiusLG:k,controlWidth:w,handleBorderColor:C,filledHandleBg:I,lineHeightLG:D,calc:N}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),Wg(e)),{display:"inline-block",width:w,margin:0,padding:0,borderRadius:o}),Og(e,{[`${t}-handler-wrap`]:{background:x,[`${t}-handler-down`]:{borderBlockStart:`${(0,Y.zA)(i)} ${n} ${C}`}}})),jg(e,{[`${t}-handler-wrap`]:{background:I,[`${t}-handler-down`]:{borderBlockStart:`${(0,Y.zA)(i)} ${n} ${C}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:x}}})),Rg(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:r,lineHeight:D,borderRadius:k,[`input${t}-input`]:{height:N(s).sub(N(i).mul(2)).equal(),padding:`${(0,Y.zA)(h)} ${(0,Y.zA)(p)}`}},"&-sm":{padding:0,fontSize:a,borderRadius:A,[`input${t}-input`]:{height:N(l).sub(N(i).mul(2)).equal(),padding:`${(0,Y.zA)(u)} ${(0,Y.zA)(d)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:c}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),Gg(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:k,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:A}}},Tg(e)),$g(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,Or.dF)(e)),{width:"100%",padding:`${(0,Y.zA)(b)} ${(0,Y.zA)(v)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${f} linear`,appearance:"textfield",fontSize:"inherit"}),Fg(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:y,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${f}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:g,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,Y.zA)(i)} ${n} ${C}`,transition:`all ${f} linear`,"&:active":{background:S},"&:hover":{height:"60%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{color:m}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,Or.Nk)()),{color:g,transition:`all ${f} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:o},[`${t}-handler-down`]:{borderEndEndRadius:o}},_S(e,"lg")),_S(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`\n          ${t}-handler-up-disabled,\n          ${t}-handler-down-disabled\n        `]:{cursor:"not-allowed"},[`\n          ${t}-handler-up-disabled:hover &-handler-up-inner,\n          ${t}-handler-down-disabled:hover &-handler-down-inner\n        `]:{color:M}})}]},WS=e=>{const{componentCls:t,paddingBlock:i,paddingInline:n,inputAffixPadding:o,controlWidth:a,borderRadiusLG:r,borderRadiusSM:s,paddingInlineLG:l,paddingInlineSM:c,paddingBlockLG:d,paddingBlockSM:u,motionDurationMid:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${(0,Y.zA)(i)} 0`}},Wg(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:a,padding:0,paddingInlineStart:n,"&-lg":{borderRadius:r,paddingInlineStart:l,[`input${t}-input`]:{padding:`${(0,Y.zA)(d)} 0`}},"&-sm":{borderRadius:s,paddingInlineStart:c,[`input${t}-input`]:{padding:`${(0,Y.zA)(u)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:n,marginInlineStart:o,transition:`margin ${h}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(n).equal()}})}},GS=(0,X.OF)("InputNumber",(e=>{const t=(0,Fe.oX)(e,wg(e));return[HS(t),WS(t),gd(t)]}),(e=>{var t;const i=null!==(t=e.handleVisible)&&void 0!==t?t:"auto";return Object.assign(Object.assign({},Cg(e)),{controlWidth:90,handleWidth:e.controlHeightSM-2*e.lineWidth,handleFontSize:e.fontSize/2,handleVisible:i,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Ie.q(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:!0===i?1:0})}),{unitless:{handleOpacity:!0}});var VS=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const US=e.forwardRef(((t,i)=>{const{getPrefixCls:n,direction:o}=e.useContext(l.QO),a=e.useRef(null);e.useImperativeHandle(i,(()=>a.current));const{className:s,rootClassName:c,size:d,disabled:u,prefixCls:h,addonBefore:p,addonAfter:g,prefix:f,suffix:m,bordered:y,readOnly:v,status:b,controls:x,variant:S}=t,M=VS(t,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),A=n("input-number",h),k=Mr(A),[w,C,I]=GS(A,k),{compactSize:D,compactItemClassnames:N}=gl(A,o);let E=e.createElement(bS,{className:`${A}-handler-up-inner`}),O=e.createElement(Nd,{className:`${A}-handler-down-inner`});const L="boolean"===typeof x?x:void 0;"object"===typeof x&&(E="undefined"===typeof x.upIcon?E:e.createElement("span",{className:`${A}-handler-up-inner`},x.upIcon),O="undefined"===typeof x.downIcon?O:e.createElement("span",{className:`${A}-handler-down-inner`},x.downIcon));const{hasFeedback:T,status:R,isFormItemInput:P,feedbackIcon:z}=e.useContext(Jh),j=gf(R,b),B=Be((e=>{var t;return null!==(t=null!==d&&void 0!==d?d:D)&&void 0!==t?t:e})),$=e.useContext(hl),F=null!==u&&void 0!==u?u:$,[_,H]=ff("inputNumber",S,y),W=T&&e.createElement(e.Fragment,null,z),G=r()({[`${A}-lg`]:"large"===B,[`${A}-sm`]:"small"===B,[`${A}-rtl`]:"rtl"===o,[`${A}-in-form-item`]:P},C),V=`${A}-group`;return w(e.createElement(FS,Object.assign({ref:a,disabled:F,className:r()(I,k,s,c,N),upHandler:E,downHandler:O,prefixCls:A,readOnly:v,controls:L,prefix:f,suffix:W||m,addonBefore:p&&e.createElement(ip,{form:!0,space:!0},p),addonAfter:g&&e.createElement(ip,{form:!0,space:!0},g),classNames:{input:G,variant:r()({[`${A}-${_}`]:H},pf(A,j,T)),affixWrapper:r()({[`${A}-affix-wrapper-sm`]:"small"===B,[`${A}-affix-wrapper-lg`]:"large"===B,[`${A}-affix-wrapper-rtl`]:"rtl"===o,[`${A}-affix-wrapper-without-controls`]:!1===x},C),wrapper:r()({[`${V}-rtl`]:"rtl"===o},C),groupWrapper:r()({[`${A}-group-wrapper-sm`]:"small"===B,[`${A}-group-wrapper-lg`]:"large"===B,[`${A}-group-wrapper-rtl`]:"rtl"===o,[`${A}-group-wrapper-${_}`]:H},pf(`${A}-group-wrapper`,j,T),C)}},M)))})),KS=US;KS._InternalPanelDoNotUseOrYouWillBeFired=t=>e.createElement(bu,{theme:{components:{InputNumber:{handleVisible:!0}}}},e.createElement(US,Object.assign({},t)));const YS=KS,XS=t=>{let{prefixCls:i,min:n=0,max:o=100,value:a,onChange:s,className:l,formatter:c}=t;const d=`${i}-steppers`,[u,h]=(0,e.useState)(a);return(0,e.useEffect)((()=>{Number.isNaN(a)||h(a)}),[a]),e.createElement(YS,{className:r()(d,l),min:n,max:o,value:u,formatter:c,size:"small",onChange:e=>{a||h(e||0),null===s||void 0===s||s(e)}})},ZS=t=>{let{prefixCls:i,value:n,onChange:o}=t;const a=`${i}-alpha-input`,[r,s]=(0,e.useState)(Nc(n||"#000"));(0,e.useEffect)((()=>{n&&s(n)}),[n]);return e.createElement(XS,{value:Oc(r),prefixCls:i,formatter:e=>`${e}%`,className:a,onChange:e=>{const t=r.toHsb();t.a=(e||0)/100;const i=Nc(t);n||s(i),null===o||void 0===o||o(i)}})},qS=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,QS=t=>{let{prefixCls:i,value:n,onChange:o}=t;const a=`${i}-hex-input`,[r,s]=(0,e.useState)((()=>n?ac(n.toHexString()):void 0));(0,e.useEffect)((()=>{n&&s(ac(n.toHexString()))}),[n]);return e.createElement(Qf,{className:a,value:r,prefix:"#",onChange:e=>{const t=e.target.value;var i;s(ac(t)),i=ac(t,!0),qS.test(`#${i}`)&&(null===o||void 0===o||o(Nc(t)))},size:"small"})},JS=t=>{let{prefixCls:i,value:n,onChange:o}=t;const a=`${i}-hsb-input`,[r,s]=(0,e.useState)(Nc(n||"#000"));(0,e.useEffect)((()=>{n&&s(n)}),[n]);const l=(e,t)=>{const i=r.toHsb();i[t]="h"===t?e:(e||0)/100;const a=Nc(i);n||s(a),null===o||void 0===o||o(a)};return e.createElement("div",{className:a},e.createElement(XS,{max:360,min:0,value:Number(r.toHsb().h),prefixCls:i,className:a,formatter:e=>Ec(e||0).toString(),onChange:e=>l(Number(e),"h")}),e.createElement(XS,{max:100,min:0,value:100*Number(r.toHsb().s),prefixCls:i,className:a,formatter:e=>`${Ec(e||0)}%`,onChange:e=>l(Number(e),"s")}),e.createElement(XS,{max:100,min:0,value:100*Number(r.toHsb().b),prefixCls:i,className:a,formatter:e=>`${Ec(e||0)}%`,onChange:e=>l(Number(e),"b")}))},eM=t=>{let{prefixCls:i,value:n,onChange:o}=t;const a=`${i}-rgb-input`,[r,s]=(0,e.useState)(Nc(n||"#000"));(0,e.useEffect)((()=>{n&&s(n)}),[n]);const l=(e,t)=>{const i=r.toRgb();i[t]=e||0;const a=Nc(i);n||s(a),null===o||void 0===o||o(a)};return e.createElement("div",{className:a},e.createElement(XS,{max:255,min:0,value:Number(r.toRgb().r),prefixCls:i,className:a,onChange:e=>l(Number(e),"r")}),e.createElement(XS,{max:255,min:0,value:Number(r.toRgb().g),prefixCls:i,className:a,onChange:e=>l(Number(e),"g")}),e.createElement(XS,{max:255,min:0,value:Number(r.toRgb().b),prefixCls:i,className:a,onChange:e=>l(Number(e),"b")}))},tM=[fS.hex,fS.hsb,fS.rgb].map((e=>({value:e,label:e.toLocaleUpperCase()}))),iM=t=>{const{prefixCls:i,format:n,value:o,disabledAlpha:a,onFormatChange:r,onChange:s,disabledFormat:l}=t,[c,d]=(0,xt.A)(fS.hex,{value:n,onChange:r}),u=`${i}-input`,h=(0,e.useMemo)((()=>{const t={value:o,prefixCls:i,onChange:s};switch(c){case fS.hsb:return e.createElement(JS,Object.assign({},t));case fS.rgb:return e.createElement(eM,Object.assign({},t));default:return e.createElement(QS,Object.assign({},t))}}),[c,i,o,s]);return e.createElement("div",{className:`${u}-container`},!l&&e.createElement(gS,{value:c,variant:"borderless",getPopupContainer:e=>e,popupMatchSelectWidth:68,placement:"bottomRight",onChange:e=>{d(e)},className:`${i}-format-select`,size:"small",options:tM}),e.createElement("div",{className:u},h),!a&&e.createElement(ZS,{prefixCls:i,value:o,onChange:s}))};function nM(e,t,i){return(e-t)/(i-t)}function oM(e,t,i,n){var o=nM(t,i,n),a={};switch(e){case"rtl":a.right="".concat(100*o,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*o,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*o,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*o,"%"),a.transform="translateX(-50%)"}return a}function aM(e,t){return Array.isArray(e)?e[t]:e}const rM=e.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var sM=e.createContext({}),lM=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const cM=e.forwardRef((function(t,i){var n,o=t.prefixCls,a=t.value,s=t.valueIndex,l=t.onStartMove,c=t.onDelete,d=t.style,u=t.render,p=t.dragging,g=t.draggingDelete,m=t.onOffsetChange,v=t.onChangeComplete,b=t.onFocus,S=t.onMouseEnter,M=y(t,lM),A=e.useContext(rM),k=A.min,w=A.max,C=A.direction,I=A.disabled,D=A.keyboard,N=A.range,E=A.tabIndex,O=A.ariaLabelForHandle,L=A.ariaLabelledByForHandle,T=A.ariaValueTextFormatterForHandle,R=A.styles,P=A.classNames,z="".concat(o,"-handle"),j=function(e){I||l(e,s)},B=oM(C,a,k,w),$={};null!==s&&($={tabIndex:I?null:aM(E,s),role:"slider","aria-valuemin":k,"aria-valuemax":w,"aria-valuenow":a,"aria-disabled":I,"aria-label":aM(O,s),"aria-labelledby":aM(L,s),"aria-valuetext":null===(n=aM(T,s))||void 0===n?void 0:n(a),"aria-orientation":"ltr"===C||"rtl"===C?"horizontal":"vertical",onMouseDown:j,onTouchStart:j,onFocus:function(e){null===b||void 0===b||b(e,s)},onMouseEnter:function(e){S(e,s)},onKeyDown:function(e){if(!I&&D){var t=null;switch(e.which||e.keyCode){case so.LEFT:t="ltr"===C||"btt"===C?-1:1;break;case so.RIGHT:t="ltr"===C||"btt"===C?1:-1;break;case so.UP:t="ttb"!==C?1:-1;break;case so.DOWN:t="ttb"!==C?-1:1;break;case so.HOME:t="min";break;case so.END:t="max";break;case so.PAGE_UP:t=2;break;case so.PAGE_DOWN:t=-2;break;case so.BACKSPACE:case so.DELETE:c(s)}null!==t&&(e.preventDefault(),m(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case so.LEFT:case so.RIGHT:case so.UP:case so.DOWN:case so.HOME:case so.END:case so.PAGE_UP:case so.PAGE_DOWN:null===v||void 0===v||v()}}});var F=e.createElement("div",(0,h.A)({ref:i,className:r()(z,(0,f.A)((0,f.A)((0,f.A)({},"".concat(z,"-").concat(s+1),null!==s&&N),"".concat(z,"-dragging"),p),"".concat(z,"-dragging-delete"),g),P.handle),style:(0,x.A)((0,x.A)((0,x.A)({},B),d),R.handle)},$,M));return u&&(F=u(F,{index:s,prefixCls:o,value:a,dragging:p,draggingDelete:g})),F}));var dM=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"];const uM=e.forwardRef((function(t,i){var n=t.prefixCls,o=t.style,a=t.onStartMove,r=t.onOffsetChange,s=t.values,l=t.handleRender,c=t.activeHandleRender,d=t.draggingIndex,u=t.draggingDelete,p=t.onFocus,f=y(t,dM),m=e.useRef({}),v=e.useState(!1),b=(0,g.A)(v,2),S=b[0],M=b[1],A=e.useState(-1),k=(0,g.A)(A,2),w=k[0],C=k[1],I=function(e){C(e),M(!0)};e.useImperativeHandle(i,(function(){return{focus:function(e){var t;null===(t=m.current[e])||void 0===t||t.focus()},hideHelp:function(){(0,At.flushSync)((function(){M(!1)}))}}}));var D=(0,x.A)({prefixCls:n,onStartMove:a,onOffsetChange:r,render:l,onFocus:function(e,t){I(t),null===p||void 0===p||p(e)},onMouseEnter:function(e,t){I(t)}},f);return e.createElement(e.Fragment,null,s.map((function(t,i){var n=d===i;return e.createElement(cM,(0,h.A)({ref:function(e){e?m.current[i]=e:delete m.current[i]},dragging:n,draggingDelete:n&&u,style:aM(o,i),key:i,value:t,valueIndex:i},D))})),c&&S&&e.createElement(cM,(0,h.A)({key:"a11y"},D,{value:s[w],valueIndex:null,dragging:-1!==d,draggingDelete:u,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}));const hM=function(t){var i=t.prefixCls,n=t.style,o=t.children,a=t.value,s=t.onClick,l=e.useContext(rM),c=l.min,d=l.max,u=l.direction,h=l.includedStart,p=l.includedEnd,g=l.included,m="".concat(i,"-text"),y=oM(u,a,c,d);return e.createElement("span",{className:r()(m,(0,f.A)({},"".concat(m,"-active"),g&&h<=a&&a<=p)),style:(0,x.A)((0,x.A)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(a)}},o)};const pM=function(t){var i=t.prefixCls,n=t.marks,o=t.onClick,a="".concat(i,"-mark");return n.length?e.createElement("div",{className:a},n.map((function(t){var i=t.value,n=t.style,r=t.label;return e.createElement(hM,{key:i,prefixCls:a,style:n,value:i,onClick:o},r)}))):null};const gM=function(t){var i=t.prefixCls,n=t.value,o=t.style,a=t.activeStyle,s=e.useContext(rM),l=s.min,c=s.max,d=s.direction,u=s.included,h=s.includedStart,p=s.includedEnd,g="".concat(i,"-dot"),m=u&&h<=n&&n<=p,y=(0,x.A)((0,x.A)({},oM(d,n,l,c)),"function"===typeof o?o(n):o);return m&&(y=(0,x.A)((0,x.A)({},y),"function"===typeof a?a(n):a)),e.createElement("span",{className:r()(g,(0,f.A)({},"".concat(g,"-active"),m)),style:y})};const fM=function(t){var i=t.prefixCls,n=t.marks,o=t.dots,a=t.style,r=t.activeStyle,s=e.useContext(rM),l=s.min,c=s.max,d=s.step,u=e.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),o&&null!==d)for(var t=l;t<=c;)e.add(t),t+=d;return Array.from(e)}),[l,c,d,o,n]);return e.createElement("div",{className:"".concat(i,"-step")},u.map((function(t){return e.createElement(gM,{prefixCls:i,key:t,value:t,style:a,activeStyle:r})})))};const mM=function(t){var i=t.prefixCls,n=t.style,o=t.start,a=t.end,s=t.index,l=t.onStartMove,c=t.replaceCls,d=e.useContext(rM),u=d.direction,h=d.min,p=d.max,g=d.disabled,m=d.range,y=d.classNames,v="".concat(i,"-track"),b=nM(o,h,p),S=nM(a,h,p),M=function(e){!g&&l&&l(e,-1)},A={};switch(u){case"rtl":A.right="".concat(100*b,"%"),A.width="".concat(100*S-100*b,"%");break;case"btt":A.bottom="".concat(100*b,"%"),A.height="".concat(100*S-100*b,"%");break;case"ttb":A.top="".concat(100*b,"%"),A.height="".concat(100*S-100*b,"%");break;default:A.left="".concat(100*b,"%"),A.width="".concat(100*S-100*b,"%")}var k=c||r()(v,(0,f.A)((0,f.A)({},"".concat(v,"-").concat(s+1),null!==s&&m),"".concat(i,"-track-draggable"),l),y.track);return e.createElement("div",{className:k,style:(0,x.A)((0,x.A)({},A),n),onMouseDown:M,onTouchStart:M})};const yM=function(t){var i=t.prefixCls,n=t.style,o=t.values,a=t.startPoint,s=t.onStartMove,l=e.useContext(rM),c=l.included,d=l.range,u=l.min,h=l.styles,p=l.classNames,g=e.useMemo((function(){if(!d){if(0===o.length)return[];var e=null!==a&&void 0!==a?a:u,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var i=[],n=0;n<o.length-1;n+=1)i.push({start:o[n],end:o[n+1]});return i}),[o,d,a,u]);if(!c)return null;var f=p.tracks||h.tracks?e.createElement(mM,{index:null,prefixCls:i,start:g[0].start,end:g[g.length-1].end,replaceCls:r()(p.tracks,"".concat(i,"-tracks")),style:h.tracks}):null;return e.createElement(e.Fragment,null,f,g.map((function(t,o){var a=t.start,r=t.end;return e.createElement(mM,{index:o,prefixCls:i,style:(0,x.A)((0,x.A)({},aM(n,o)),h.track),start:a,end:r,key:o,onStartMove:s})})))};function vM(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const bM=function(t,i,n,a,r,s,l,c,d,u,h){var p=e.useState(null),f=(0,g.A)(p,2),m=f[0],y=f[1],v=e.useState(-1),b=(0,g.A)(v,2),x=b[0],S=b[1],M=e.useState(!1),A=(0,g.A)(M,2),k=A[0],w=A[1],C=e.useState(n),I=(0,g.A)(C,2),D=I[0],N=I[1],E=e.useState(n),O=(0,g.A)(E,2),L=O[0],T=O[1],R=e.useRef(null),P=e.useRef(null),z=e.useRef(null),j=e.useContext(sM),B=j.onDragStart,$=j.onDragChange;(0,Mi.A)((function(){-1===x&&N(n)}),[n,x]),e.useEffect((function(){return function(){document.removeEventListener("mousemove",R.current),document.removeEventListener("mouseup",P.current),z.current&&(z.current.removeEventListener("touchmove",R.current),z.current.removeEventListener("touchend",P.current))}}),[]);var F=function(e,t,i){void 0!==t&&y(t),N(e);var n=e;i&&(n=e.filter((function(e,t){return t!==x}))),l(n),$&&$({rawValues:e,deleteIndex:i?x:-1,draggingIndex:x,draggingValue:t})},_=(0,di.A)((function(e,t,i){if(-1===e){var n=L[0],l=L[L.length-1],c=a-n,u=r-l,h=t*(r-a);h=Math.max(h,c),h=Math.min(h,u);var p=s(n+h);h=p-n;var g=L.map((function(e){return e+h}));F(g)}else{var f=(r-a)*t,m=(0,o.A)(D);m[e]=L[e];var y=d(m,f,e,"dist");F(y.values,y.value,i)}})),H=e.useMemo((function(){var e=(0,o.A)(n).sort((function(e,t){return e-t})),t=(0,o.A)(D).sort((function(e,t){return e-t})),i={};t.forEach((function(e){i[e]=(i[e]||0)+1})),e.forEach((function(e){i[e]=(i[e]||0)-1}));var a=u?1:0;return Object.values(i).reduce((function(e,t){return e+Math.abs(t)}),0)<=a?D:n}),[n,D,u]);return[x,m,k,H,function(e,o,a){e.stopPropagation();var r=a||n,s=r[o];S(o),y(s),T(r),N(r),w(!1);var l=vM(e),d=l.pageX,p=l.pageY,g=!1;B&&B({rawValues:r,draggingIndex:o,draggingValue:s});var f=function(e){e.preventDefault();var n,a,r=vM(e),s=r.pageX,l=r.pageY,c=s-d,f=l-p,m=t.current.getBoundingClientRect(),y=m.width,v=m.height;switch(i){case"btt":n=-f/v,a=c;break;case"ttb":n=f/v,a=c;break;case"rtl":n=-c/y,a=f;break;default:n=c/y,a=f}g=!!u&&(Math.abs(a)>130&&h<D.length),w(g),_(o,n,g)},m=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",f),z.current&&(z.current.removeEventListener("touchmove",R.current),z.current.removeEventListener("touchend",P.current)),R.current=null,P.current=null,z.current=null,c(g),S(-1),w(!1)};document.addEventListener("mouseup",m),document.addEventListener("mousemove",f),e.currentTarget.addEventListener("touchend",m),e.currentTarget.addEventListener("touchmove",f),R.current=f,P.current=m,z.current=e.currentTarget}]};const xM=e.forwardRef((function(t,i){var n=t.prefixCls,a=void 0===n?"rc-slider":n,s=t.className,l=t.style,c=t.classNames,d=t.styles,u=t.id,h=t.disabled,p=void 0!==h&&h,m=t.keyboard,y=void 0===m||m,v=t.autoFocus,b=t.onFocus,M=t.onBlur,A=t.min,k=void 0===A?0:A,C=t.max,I=void 0===C?100:C,D=t.step,N=void 0===D?1:D,E=t.value,O=t.defaultValue,L=t.range,T=t.count,R=t.onChange,P=t.onBeforeChange,z=t.onAfterChange,j=t.onChangeComplete,B=t.allowCross,$=void 0===B||B,F=t.pushable,_=void 0!==F&&F,H=t.reverse,W=t.vertical,G=t.included,V=void 0===G||G,U=t.startPoint,K=t.trackStyle,Y=t.handleStyle,X=t.railStyle,Z=t.dotStyle,q=t.activeDotStyle,Q=t.marks,J=t.dots,ee=t.handleRender,te=t.activeHandleRender,ie=t.track,ne=t.tabIndex,oe=void 0===ne?0:ne,ae=t.ariaLabelForHandle,re=t.ariaLabelledByForHandle,se=t.ariaValueTextFormatterForHandle,le=e.useRef(null),ce=e.useRef(null),de=e.useMemo((function(){return W?H?"ttb":"btt":H?"rtl":"ltr"}),[H,W]),ue=function(t){return(0,e.useMemo)((function(){if(!0===t||!t)return[!!t,!1,!1,0];var e=t.editable,i=t.draggableTrack;return[!0,e,!e&&i,t.minCount||0,t.maxCount]}),[t])}(L),he=(0,g.A)(ue,5),pe=he[0],ge=he[1],fe=he[2],me=he[3],ye=he[4],ve=e.useMemo((function(){return isFinite(k)?k:0}),[k]),be=e.useMemo((function(){return isFinite(I)?I:100}),[I]),xe=e.useMemo((function(){return null!==N&&N<=0?1:N}),[N]),Se=e.useMemo((function(){return"boolean"===typeof _?!!_&&xe:_>=0&&_}),[_,xe]),Me=e.useMemo((function(){return Object.keys(Q||{}).map((function(t){var i=Q[t],n={value:Number(t)};return i&&"object"===(0,S.A)(i)&&!e.isValidElement(i)&&("label"in i||"style"in i)?(n.style=i.style,n.label=i.label):n.label=i,n})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[Q]),Ae=function(t,i,n,a,r,s){var l=e.useCallback((function(e){return Math.max(t,Math.min(i,e))}),[t,i]),c=e.useCallback((function(e){if(null!==n){var o=t+Math.round((l(e)-t)/n)*n,a=function(e){return(String(e).split(".")[1]||"").length},r=Math.max(a(n),a(i),a(t)),s=Number(o.toFixed(r));return t<=s&&s<=i?s:null}return null}),[n,t,i,l]),d=e.useCallback((function(e){var o=l(e),r=a.map((function(e){return e.value}));null!==n&&r.push(c(e)),r.push(t,i);var s=r[0],d=i-t;return r.forEach((function(e){var t=Math.abs(o-e);t<=d&&(s=e,d=t)})),s}),[t,i,a,n,l,c]),u=function e(r,s,l){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof s){var u,h=r[l],p=h+s,g=[];a.forEach((function(e){g.push(e.value)})),g.push(t,i),g.push(c(h));var f=s>0?1:-1;"unit"===d?g.push(c(h+f*n)):g.push(c(p)),g=g.filter((function(e){return null!==e})).filter((function(e){return s<0?e<=h:e>=h})),"unit"===d&&(g=g.filter((function(e){return e!==h})));var m="unit"===d?h:p;u=g[0];var y=Math.abs(u-m);if(g.forEach((function(e){var t=Math.abs(e-m);t<y&&(u=e,y=t)})),void 0===u)return s<0?t:i;if("dist"===d)return u;if(Math.abs(s)>1){var v=(0,o.A)(r);return v[l]=u,e(v,s-f,l,d)}return u}return"min"===s?t:"max"===s?i:void 0},h=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[i],a=u(e,t,i,n);return{value:a,changed:a!==o}},p=function(e){return null===s&&0===e||"number"===typeof s&&e<s};return[d,function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(d),a=o[i],l=u(o,t,i,n);if(o[i]=l,!1===r){var c=s||0;i>0&&o[i-1]!==a&&(o[i]=Math.max(o[i],o[i-1]+c)),i<o.length-1&&o[i+1]!==a&&(o[i]=Math.min(o[i],o[i+1]-c))}else if("number"===typeof s||null===s){for(var g=i+1;g<o.length;g+=1)for(var f=!0;p(o[g]-o[g-1])&&f;){var m=h(o,1,g);o[g]=m.value,f=m.changed}for(var y=i;y>0;y-=1)for(var v=!0;p(o[y]-o[y-1])&&v;){var b=h(o,-1,y-1);o[y-1]=b.value,v=b.changed}for(var x=o.length-1;x>0;x-=1)for(var S=!0;p(o[x]-o[x-1])&&S;){var M=h(o,-1,x-1);o[x-1]=M.value,S=M.changed}for(var A=0;A<o.length-1;A+=1)for(var k=!0;p(o[A+1]-o[A])&&k;){var w=h(o,1,A+1);o[A+1]=w.value,k=w.changed}}return{value:o[i],values:o}}]}(ve,be,xe,Me,$,Se),ke=(0,g.A)(Ae,2),we=ke[0],Ce=ke[1],Ie=(0,xt.A)(O,{value:E}),De=(0,g.A)(Ie,2),Ne=De[0],Ee=De[1],Oe=e.useMemo((function(){var e=null===Ne||void 0===Ne?[]:Array.isArray(Ne)?Ne:[Ne],t=(0,g.A)(e,1)[0],i=null===Ne?[]:[void 0===t?ve:t];if(pe){if(i=(0,o.A)(e),T||void 0===Ne){var n=T>=0?T+1:2;for(i=i.slice(0,n);i.length<n;){var a;i.push(null!==(a=i[i.length-1])&&void 0!==a?a:ve)}}i.sort((function(e,t){return e-t}))}return i.forEach((function(e,t){i[t]=we(e)})),i}),[Ne,pe,ve,T,we]),Le=function(e){return pe?e:e[0]},Te=(0,di.A)((function(e){var t=(0,o.A)(e).sort((function(e,t){return e-t}));R&&!(0,$o.A)(t,Oe,!0)&&R(Le(t)),Ee(t)})),Re=(0,di.A)((function(e){e&&le.current.hideHelp();var t=Le(Oe);null===z||void 0===z||z(t),(0,w.Ay)(!z,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===j||void 0===j||j(t)})),Pe=bM(ce,de,Oe,ve,be,we,Te,Re,Ce,ge,me),ze=(0,g.A)(Pe,5),je=ze[0],Be=ze[1],$e=ze[2],Fe=ze[3],_e=ze[4],He=function(e,t){if(!p){var i=(0,o.A)(Oe),n=0,a=0,r=be-ve;Oe.forEach((function(t,i){var o=Math.abs(e-t);o<=r&&(r=o,n=i),t<e&&(a=i)}));var s=n;ge&&0!==r&&(!ye||Oe.length<ye)?(i.splice(a+1,0,e),s=a+1):i[n]=e,pe&&!Oe.length&&void 0===T&&i.push(e);var l,c,d=Le(i);if(null===P||void 0===P||P(d),Te(i),t)null===(l=document.activeElement)||void 0===l||null===(c=l.blur)||void 0===c||c.call(l),le.current.focus(s),_e(t,s,i);else null===z||void 0===z||z(d),(0,w.Ay)(!z,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===j||void 0===j||j(d)}},We=e.useState(null),Ge=(0,g.A)(We,2),Ve=Ge[0],Ue=Ge[1];e.useEffect((function(){if(null!==Ve){var e=Oe.indexOf(Ve);e>=0&&le.current.focus(e)}Ue(null)}),[Ve]);var Ke=e.useMemo((function(){return(!fe||null!==xe)&&fe}),[fe,xe]),Ye=(0,di.A)((function(e,t){_e(e,t),null===P||void 0===P||P(Le(Oe))})),Xe=-1!==je;e.useEffect((function(){if(!Xe){var e=Oe.lastIndexOf(Be);le.current.focus(e)}}),[Xe]);var Ze=e.useMemo((function(){return(0,o.A)(Fe).sort((function(e,t){return e-t}))}),[Fe]),qe=e.useMemo((function(){return pe?[Ze[0],Ze[Ze.length-1]]:[ve,Ze[0]]}),[Ze,pe,ve]),Qe=(0,g.A)(qe,2),Je=Qe[0],et=Qe[1];e.useImperativeHandle(i,(function(){return{focus:function(){le.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=ce.current)&&void 0!==e&&e.contains(t)&&(null===t||void 0===t||t.blur())}}})),e.useEffect((function(){v&&le.current.focus(0)}),[]);var tt=e.useMemo((function(){return{min:ve,max:be,direction:de,disabled:p,keyboard:y,step:xe,included:V,includedStart:Je,includedEnd:et,range:pe,tabIndex:oe,ariaLabelForHandle:ae,ariaLabelledByForHandle:re,ariaValueTextFormatterForHandle:se,styles:d||{},classNames:c||{}}}),[ve,be,de,p,y,xe,V,Je,et,pe,oe,ae,re,se,d,c]);return e.createElement(rM.Provider,{value:tt},e.createElement("div",{ref:ce,className:r()(a,s,(0,f.A)((0,f.A)((0,f.A)((0,f.A)({},"".concat(a,"-disabled"),p),"".concat(a,"-vertical"),W),"".concat(a,"-horizontal"),!W),"".concat(a,"-with-marks"),Me.length)),style:l,onMouseDown:function(e){e.preventDefault();var t,i=ce.current.getBoundingClientRect(),n=i.width,o=i.height,a=i.left,r=i.top,s=i.bottom,l=i.right,c=e.clientX,d=e.clientY;switch(de){case"btt":t=(s-d)/o;break;case"ttb":t=(d-r)/o;break;case"rtl":t=(l-c)/n;break;default:t=(c-a)/n}He(we(ve+t*(be-ve)),e)},id:u},e.createElement("div",{className:r()("".concat(a,"-rail"),null===c||void 0===c?void 0:c.rail),style:(0,x.A)((0,x.A)({},X),null===d||void 0===d?void 0:d.rail)}),!1!==ie&&e.createElement(yM,{prefixCls:a,style:K,values:Oe,startPoint:U,onStartMove:Ke?Ye:void 0}),e.createElement(fM,{prefixCls:a,marks:Me,dots:J,style:Z,activeStyle:q}),e.createElement(uM,{ref:le,prefixCls:a,style:Y,values:Fe,draggingIndex:je,draggingDelete:$e,onStartMove:Ye,onOffsetChange:function(e,t){if(!p){var i=Ce(Oe,e,t);null===P||void 0===P||P(Le(Oe)),Te(i.values),Ue(i.value)}},onFocus:b,onBlur:M,handleRender:ee,activeHandleRender:te,onChangeComplete:Re,onDelete:ge?function(e){if(!(p||!ge||Oe.length<=me)){var t=(0,o.A)(Oe);t.splice(e,1),null===P||void 0===P||P(Le(t)),Te(t);var i=Math.max(0,e-1);le.current.hideHelp(),le.current.focus(i)}}:void 0}),e.createElement(pM,{prefixCls:a,marks:Me,onClick:He})))}));const SM=e.forwardRef(((t,i)=>{const{open:n,draggingDelete:o}=t,a=(0,e.useRef)(null),r=n&&!o,s=(0,e.useRef)(null);function l(){yi.cancel(s.current),s.current=null}return e.useEffect((()=>(r?s.current=yi((()=>{var e;null===(e=a.current)||void 0===e||e.forceAlign(),s.current=null})):l(),l)),[r,t.title]),e.createElement(Ip,Object.assign({ref:(0,Dt.K4)(a,i)},t,{open:r}))})),MM=e=>{const{componentCls:t,antCls:i,controlSize:n,dotSize:o,marginFull:a,marginPart:r,colorFillContentHover:s,handleColorDisabled:l,calc:c,handleSize:d,handleSizeHover:u,handleActiveColor:h,handleActiveOutlineColor:p,handleLineWidth:g,handleLineWidthHover:f,motionDurationMid:m}=e;return{[t]:Object.assign(Object.assign({},(0,Or.dF)(e)),{position:"relative",height:n,margin:`${(0,Y.zA)(r)} ${(0,Y.zA)(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,Y.zA)(a)} ${(0,Y.zA)(r)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${m}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${m}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:s},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${(0,Y.zA)(g)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(g).mul(-1).equal(),insetBlockStart:c(g).mul(-1).equal(),width:c(d).add(c(g).mul(2)).equal(),height:c(d).add(c(g).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${(0,Y.zA)(g)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`\n            inset-inline-start ${m},\n            inset-block-start ${m},\n            width ${m},\n            height ${m},\n            box-shadow ${m},\n            outline ${m}\n          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(u).sub(d).div(2).add(f).mul(-1).equal(),insetBlockStart:c(u).sub(d).div(2).add(f).mul(-1).equal(),width:c(u).add(c(f).mul(2)).equal(),height:c(u).add(c(f).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,Y.zA)(f)} ${h}`,outline:`6px solid ${p}`,width:u,height:u,insetInlineStart:e.calc(d).sub(u).div(2).equal(),insetBlockStart:e.calc(d).sub(u).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${(0,Y.zA)(g)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`\n          ${t}-dot\n        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${(0,Y.zA)(g)} ${l}`,insetInlineStart:0,insetBlockStart:0},[`\n          ${t}-mark-text,\n          ${t}-dot\n        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${i}-tooltip-inner`]:{minWidth:"unset"}})}},AM=(e,t)=>{const{componentCls:i,railSize:n,handleSize:o,dotSize:a,marginFull:r,calc:s}=e,l=t?"paddingBlock":"paddingInline",c=t?"width":"height",d=t?"height":"width",u=t?"insetBlockStart":"insetInlineStart",h=t?"top":"insetInlineStart",p=s(n).mul(3).sub(o).div(2).equal(),g=s(o).sub(n).div(2).equal(),f=t?{borderWidth:`${(0,Y.zA)(g)} 0`,transform:`translateY(${(0,Y.zA)(s(g).mul(-1).equal())})`}:{borderWidth:`0 ${(0,Y.zA)(g)}`,transform:`translateX(${(0,Y.zA)(e.calc(g).mul(-1).equal())})`};return{[l]:n,[d]:s(n).mul(3).equal(),[`${i}-rail`]:{[c]:"100%",[d]:n},[`${i}-track,${i}-tracks`]:{[d]:n},[`${i}-track-draggable`]:Object.assign({},f),[`${i}-handle`]:{[u]:p},[`${i}-mark`]:{insetInlineStart:0,top:0,[h]:s(n).mul(3).add(t?0:r).equal(),[c]:"100%"},[`${i}-step`]:{insetInlineStart:0,top:0,[h]:n,[c]:"100%",[d]:n},[`${i}-dot`]:{position:"absolute",[u]:s(n).sub(a).div(2).equal()}}},kM=e=>{const{componentCls:t,marginPartWithMark:i}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},AM(e,!0)),{[`&${t}-with-marks`]:{marginBottom:i}})}},wM=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},AM(e,!1)),{height:"100%"})}},CM=(0,X.OF)("Slider",(e=>{const t=(0,Fe.oX)(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[MM(t),kM(t),wM(t)]}),(e=>{const t=e.controlHeightLG/4,i=e.controlHeightSM/2,n=e.lineWidth+1,o=e.lineWidth+1.5,a=e.colorPrimary,r=new Ie.q(a).setAlpha(.2).toRgbString();return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:i,dotSize:8,handleLineWidth:n,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:a,handleActiveOutlineColor:r,handleColorDisabled:new Ie.q(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}})),IM=(0,e.createContext)({});function DM(){const[t,i]=e.useState(!1),n=e.useRef(),o=()=>{yi.cancel(n.current)};return e.useEffect((()=>o),[]),[t,e=>{o(),e?i(e):n.current=yi((()=>{i(e)}))}]}var NM=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const EM=e.forwardRef(((t,i)=>{const{prefixCls:n,range:o,className:a,rootClassName:s,style:c,disabled:d,tooltipPrefixCls:u,tipFormatter:h,tooltipVisible:p,getTooltipPopupContainer:g,tooltipPlacement:f,tooltip:m={},onChangeComplete:y}=t,v=NM(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:b}=t,{direction:x,slider:S,getPrefixCls:M,getPopupContainer:A}=e.useContext(l.QO),k=e.useContext(hl),w=null!==d&&void 0!==d?d:k,{handleRender:C,direction:I}=e.useContext(IM),D="rtl"===(I||x),[N,E]=DM(),[O,L]=DM(),T=Object.assign({},m),{open:R,placement:P,getPopupContainer:z,prefixCls:j,formatter:B}=T,$=null!==R&&void 0!==R?R:p,F=(N||O)&&!1!==$,_=function(e,t){return e||null===e?e:t||null===t?t:e=>"number"===typeof e?e.toString():""}(B,h),[H,W]=DM(),G=(e,t)=>e||(t?D?"left":"right":"top"),V=M("slider",n),[U,K,Y]=CM(V),X=r()(a,null===S||void 0===S?void 0:S.className,s,{[`${V}-rtl`]:D,[`${V}-lock`]:H},K,Y);D&&!v.vertical&&(v.reverse=!v.reverse),e.useEffect((()=>{const e=()=>{yi((()=>{L(!1)}),1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[]);const Z=o&&!$,q=C||((t,i)=>{const{index:n}=i,o=t.props;function a(e,t,i){var n,a,r,s;i&&(null===(a=(n=v)[e])||void 0===a||a.call(n,t)),null===(s=(r=o)[e])||void 0===s||s.call(r,t)}const r=Object.assign(Object.assign({},o),{onMouseEnter:e=>{E(!0),a("onMouseEnter",e)},onMouseLeave:e=>{E(!1),a("onMouseLeave",e)},onMouseDown:e=>{L(!0),W(!0),a("onMouseDown",e)},onFocus:e=>{var t;L(!0),null===(t=v.onFocus)||void 0===t||t.call(v,e),a("onFocus",e,!0)},onBlur:e=>{var t;L(!1),null===(t=v.onBlur)||void 0===t||t.call(v,e),a("onBlur",e,!0)}}),s=e.cloneElement(t,r),l=(!!$||F)&&null!==_;return Z?s:e.createElement(SM,Object.assign({},T,{prefixCls:M("tooltip",null!==j&&void 0!==j?j:u),title:_?_(i.value):"",open:l,placement:G(null!==P&&void 0!==P?P:f,b),key:n,overlayClassName:`${V}-tooltip`,getPopupContainer:z||g||A}),s)}),Q=Z?(t,i)=>{const n=e.cloneElement(t,{style:Object.assign(Object.assign({},t.props.style),{visibility:"hidden"})});return e.createElement(SM,Object.assign({},T,{prefixCls:M("tooltip",null!==j&&void 0!==j?j:u),title:_?_(i.value):"",open:null!==_&&F,placement:G(null!==P&&void 0!==P?P:f,b),key:"tooltip",overlayClassName:`${V}-tooltip`,getPopupContainer:z||g||A,draggingDelete:i.draggingDelete}),n)}:void 0,J=Object.assign(Object.assign({},null===S||void 0===S?void 0:S.style),c);return U(e.createElement(xM,Object.assign({},v,{step:v.step,range:o,className:X,style:J,disabled:w,ref:i,prefixCls:V,handleRender:q,activeHandleRender:Q,onChangeComplete:e=>{null===y||void 0===y||y(e),W(!1)}})))}));var OM=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const LM=t=>{const{prefixCls:i,colors:n,type:o,color:a,range:s=!1,className:l,activeIndex:c,onActive:d,onDragStart:u,onDragChange:h,onKeyDelete:p}=t,g=OM(t,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),f=Object.assign(Object.assign({},g),{track:!1}),m=e.useMemo((()=>`linear-gradient(90deg, ${n.map((e=>`${e.color} ${e.percent}%`)).join(", ")})`),[n]),y=e.useMemo((()=>a&&o?"alpha"===o?a.toRgbString():`hsl(${a.toHsb().h}, 100%, 50%)`:null),[a,o]),v=(0,di.A)(u),b=(0,di.A)(h),x=e.useMemo((()=>({onDragStart:v,onDragChange:b})),[]),S=(0,di.A)(((t,a)=>{const{onFocus:s,style:l,className:u,onKeyDown:h}=t.props,g=Object.assign({},l);return"gradient"===o&&(g.background=Tc(n,a.value)),e.cloneElement(t,{onFocus:e=>{null===d||void 0===d||d(a.index),null===s||void 0===s||s(e)},style:g,className:r()(u,{[`${i}-slider-handle-active`]:c===a.index}),onKeyDown:e=>{"Delete"!==e.key&&"Backspace"!==e.key||!p||p(a.index),null===h||void 0===h||h(e)}})})),M=e.useMemo((()=>({direction:"ltr",handleRender:S})),[]);return e.createElement(IM.Provider,{value:M},e.createElement(sM.Provider,{value:x},e.createElement(EM,Object.assign({},f,{className:r()(l,`${i}-slider`),tooltip:{open:!1},range:{editable:s,minCount:2},styles:{rail:{background:m},handle:y?{background:y}:{}},classNames:{rail:`${i}-slider-rail`,handle:`${i}-slider-handle`}}))))},TM=t=>{const{value:i,onChange:n,onChangeComplete:o}=t;return e.createElement(LM,Object.assign({},t,{value:[i],onChange:e=>n(e[0]),onChangeComplete:e=>o(e[0])}))};function RM(e){return(0,o.A)(e).sort(((e,t)=>e.percent-t.percent))}const PM=t=>{const{prefixCls:i,mode:n,onChange:a,onChangeComplete:r,onActive:s,activeIndex:l,onGradientDragging:c,colors:d}=t,u="gradient"===n,h=e.useMemo((()=>d.map((e=>({percent:e.percent,color:e.color.toRgbString()})))),[d]),p=e.useMemo((()=>h.map((e=>e.percent))),[h]),g=e.useRef(h);return u?e.createElement(LM,{min:0,max:100,prefixCls:i,className:`${i}-gradient-slider`,colors:h,color:null,value:p,range:!0,onChangeComplete:e=>{r(new rc(h)),l>=e.length&&s(e.length-1),c(!1)},disabled:!1,type:"gradient",activeIndex:l,onActive:s,onDragStart:e=>{let{rawValues:t,draggingIndex:i,draggingValue:n}=e;if(t.length>h.length){const e=Tc(h,n),t=(0,o.A)(h);t.splice(i,0,{percent:n,color:e}),g.current=t}else g.current=h;c(!0),a(new rc(RM(g.current)),!0)},onDragChange:e=>{let{deleteIndex:t,draggingIndex:i,draggingValue:n}=e,r=(0,o.A)(g.current);-1!==t?r.splice(t,1):(r[i]=Object.assign(Object.assign({},r[i]),{percent:n}),r=RM(r)),a(new rc(r),!0)},onKeyDelete:e=>{const t=(0,o.A)(h);t.splice(e,1);const i=new rc(t);a(i),r(i)}}):null},zM=e.memo(PM);var jM=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const BM={slider:TM},$M=()=>{const t=(0,e.useContext)(bb),{mode:i,onModeChange:n,modeOptions:a,prefixCls:r,allowClear:s,value:l,disabledAlpha:c,onChange:d,onClear:u,onChangeComplete:h,activeIndex:p,gradientDragging:g}=t,f=jM(t,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),m=e.useMemo((()=>l.cleared?[{percent:0,color:new rc("")},{percent:100,color:new rc("")}]:l.getColors()),[l]),y=!l.isGradient(),[v,b]=e.useState(l);(0,Mi.A)((()=>{var e;y||b(null===(e=m[p])||void 0===e?void 0:e.color)}),[g,p]);const x=e.useMemo((()=>{var e;return y?l:g?v:null===(e=m[p])||void 0===e?void 0:e.color}),[l,p,y,v,g]),[S,M]=e.useState(x),[A,k]=e.useState(0),w=(null===S||void 0===S?void 0:S.equals(x))?x:S;(0,Mi.A)((()=>{M(x)}),[A,null===x||void 0===x?void 0:x.toHexString()]);const C=(e,t)=>{let n=Nc(e);if(l.cleared){const e=n.toRgb();if(e.r||e.g||e.b||!t)n=Lc(n);else{const{type:e,value:i=0}=t;n=new rc({h:"hue"===e?i:0,s:1,b:1,a:"alpha"===e?i/100:1})}}if("single"===i)return n;const a=(0,o.A)(m);return a[p]=Object.assign(Object.assign({},a[p]),{color:n}),new rc(a)};let I=null;const D=a.length>1;return(s||D)&&(I=e.createElement("div",{className:`${r}-operation`},D&&e.createElement(vb,{size:"small",options:a,value:i,onChange:n}),e.createElement(Sb,Object.assign({prefixCls:r,value:l,onChange:e=>{d(e),null===u||void 0===u||u()}},f)))),e.createElement(e.Fragment,null,I,e.createElement(zM,Object.assign({},t,{colors:m})),e.createElement(oc,{prefixCls:r,value:null===w||void 0===w?void 0:w.toHsb(),disabledAlpha:c,onChange:(e,t)=>{((e,t,i)=>{const n=C(e,i);M(n.isGradient()?n.getColors()[p].color:n),d(n,t)})(e,!0,t)},onChangeComplete:(e,t)=>{((e,t)=>{h(C(e,t)),k((e=>e+1))})(e,t)},components:BM}),e.createElement(iM,Object.assign({value:x,onChange:e=>{d(C(e))},prefixCls:r,disabledAlpha:c},f)))},FM=()=>{const{prefixCls:t,value:i,presets:n,onChange:o}=(0,e.useContext)(xb);return Array.isArray(n)?e.createElement(jc,{value:i,presets:n,prefixCls:t,onChange:o}):null};const _M=t=>{const{prefixCls:i,presets:n,panelRender:o,value:a,onChange:r,onClear:s,allowClear:l,disabledAlpha:c,mode:d,onModeChange:u,modeOptions:h,onChangeComplete:p,activeIndex:g,onActive:f,format:m,onFormatChange:y,gradientDragging:v,onGradientDragging:b,disabledFormat:x}=t,S=`${i}-inner`,M=e.useMemo((()=>({prefixCls:i,value:a,onChange:r,onClear:s,allowClear:l,disabledAlpha:c,mode:d,onModeChange:u,modeOptions:h,onChangeComplete:p,activeIndex:g,onActive:f,format:m,onFormatChange:y,gradientDragging:v,onGradientDragging:b,disabledFormat:x})),[i,a,r,s,l,c,d,u,h,p,g,f,m,y,v,b,x]),A=e.useMemo((()=>({prefixCls:i,value:a,presets:n,onChange:r})),[i,a,n,r]),k=e.createElement("div",{className:`${S}-content`},e.createElement($M,null),Array.isArray(n)&&e.createElement(ob,null),e.createElement(FM,null));return e.createElement(bb.Provider,{value:M},e.createElement(xb.Provider,{value:A},e.createElement("div",{className:S},"function"===typeof o?o(k,{components:{Picker:$M,Presets:FM}}):k)))};var HM=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const WM=(0,e.forwardRef)(((t,i)=>{const{color:n,prefixCls:o,open:a,disabled:s,format:l,className:c,showText:d,activeIndex:u}=t,h=HM(t,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),p=`${o}-trigger`,g=`${p}-text`,f=`${g}-cell`,[m]=Is("ColorPicker"),y=e.useMemo((()=>{if(!d)return"";if("function"===typeof d)return d(n);if(n.cleared)return m.transparent;if(n.isGradient())return n.getColors().map(((t,i)=>{const n=-1!==u&&u!==i;return e.createElement("span",{key:i,className:r()(f,n&&`${f}-inactive`)},t.color.toRgbString()," ",t.percent,"%")}));const t=n.toHexString().toUpperCase(),i=Oc(n);switch(l){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return i<100?`${t.slice(0,7)},${i}%`:t}}),[n,l,d,u]),v=(0,e.useMemo)((()=>n.cleared?e.createElement(Sb,{prefixCls:o}):e.createElement(Yl,{prefixCls:o,color:n.toCssString()})),[n,o]);return e.createElement("div",Object.assign({ref:i,className:r()(p,c,{[`${p}-active`]:a,[`${p}-disabled`]:s})},fc(h)),v,d&&e.createElement("div",{className:g},y))}));const GM=(e,t)=>({backgroundImage:`conic-gradient(${t} 0 25%, transparent 0 50%, ${t} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`}),VM=(e,t)=>{const{componentCls:i,borderRadiusSM:n,colorPickerInsetShadow:o,lineWidth:a,colorFillSecondary:r}=e;return{[`${i}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:n,width:t,height:t,boxShadow:o,flex:"none"},GM("50%",e.colorFillSecondary)),{[`${i}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,Y.zA)(a)} ${r}`,borderRadius:"inherit"}})}},UM=e=>{const{componentCls:t,antCls:i,fontSizeSM:n,lineHeightSM:o,colorPickerAlphaInputWidth:a,marginXXS:r,paddingXXS:s,controlHeightSM:l,marginXS:c,fontSizeIcon:d,paddingXS:u,colorTextPlaceholder:h,colorPickerInputNumberHandleWidth:p,lineWidth:g}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${i}-input-number`]:{fontSize:n,lineHeight:o,[`${i}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${i}-input-number-handler-wrap`]:{width:p}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${(0,Y.zA)(a)}`,marginInlineStart:r},[`${t}-format-select${i}-select`]:{marginInlineEnd:c,width:"auto","&-single":{[`${i}-select-selector`]:{padding:0,border:0},[`${i}-select-arrow`]:{insetInlineEnd:0},[`${i}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(r).equal(),fontSize:n,lineHeight:(0,Y.zA)(l)},[`${i}-select-item-option-content`]:{fontSize:n,lineHeight:o},[`${i}-select-dropdown`]:{[`${i}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:r,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:r,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${i}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,Y.zA)(u)}`,[`${i}-input`]:{fontSize:n,textTransform:"uppercase",lineHeight:(0,Y.zA)(e.calc(l).sub(e.calc(g).mul(2)).equal())},[`${i}-input-prefix`]:{color:h}}}}}},KM=e=>{const{componentCls:t,controlHeightLG:i,borderRadiusSM:n,colorPickerInsetShadow:o,marginSM:a,colorBgElevated:r,colorFillSecondary:s,lineWidthBold:l,colorPickerHandlerSize:c}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(i).mul(4).equal(),overflow:"hidden",borderRadius:n},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:o,inset:0},marginBottom:a},[`${t}-handler`]:{width:c,height:c,border:`${(0,Y.zA)(l)} solid ${r}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${o}, 0 0 0 1px ${s}`}}},YM=e=>{const{componentCls:t,antCls:i,colorTextQuaternary:n,paddingXXS:o,colorPickerPresetColorSize:a,fontSizeSM:r,colorText:s,lineHeightSM:l,lineWidth:c,borderRadius:d,colorFill:u,colorWhite:h,marginXXS:p,paddingXS:g,fontHeightSM:f}=e;return{[`${t}-presets`]:{[`${i}-collapse-item > ${i}-collapse-header`]:{padding:0,[`${i}-collapse-expand-icon`]:{height:f,color:n,paddingInlineEnd:o}},[`${i}-collapse`]:{display:"flex",flexDirection:"column",gap:p},[`${i}-collapse-item > ${i}-collapse-content > ${i}-collapse-content-box`]:{padding:`${(0,Y.zA)(g)} 0`},"&-label":{fontSize:r,color:s,lineHeight:l},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(p).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:e.calc(a).add(e.calc(c).mul(4)).equal(),height:e.calc(a).add(e.calc(c).mul(4)).equal(),position:"absolute",top:e.calc(c).mul(-2).equal(),insetInlineStart:e.calc(c).mul(-2).equal(),borderRadius:d,border:`${(0,Y.zA)(c)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:u},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(a).div(13).mul(5).equal(),height:e.calc(a).div(13).mul(8).equal(),border:`${(0,Y.zA)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:h,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:r,color:n}}}},XM=e=>{const{componentCls:t,colorPickerInsetShadow:i,colorBgElevated:n,colorFillSecondary:o,lineWidthBold:a,colorPickerHandlerSizeSM:r,colorPickerSliderHeight:s,marginSM:l,marginXS:c}=e,d=e.calc(r).sub(e.calc(a).mul(2).equal()).equal(),u=e.calc(r).add(e.calc(a).mul(2).equal()).equal(),h={"&:after":{transform:"scale(1)",boxShadow:`${i}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[GM((0,Y.zA)(s),e.colorFillSecondary),{margin:0,padding:0,height:s,borderRadius:e.calc(s).div(2).equal(),"&-rail":{height:s,borderRadius:e.calc(s).div(2).equal(),boxShadow:i},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:u,height:u,borderRadius:"100%"},"&:after":{width:r,height:r,border:`${(0,Y.zA)(a)} solid ${n}`,boxShadow:`${i}, 0 0 0 1px ${o}`,outline:"none",insetInlineStart:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":h}}],[`${t}-slider-container`]:{display:"flex",gap:l,marginBottom:l,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:c,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":h}}}},ZM=(e,t,i)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${(0,Y.zA)(e.controlOutlineWidth)} ${i}`,outline:0}),qM=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},QM=(e,t,i)=>{const{componentCls:n,borderRadiusSM:o,lineWidth:a,colorSplit:r,colorBorder:s,red6:l}=e;return{[`${n}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:o,border:`${(0,Y.zA)(a)} solid ${r}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},i),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:l},"&:hover":{borderColor:s}})}},JM=e=>{const{componentCls:t,colorError:i,colorWarning:n,colorErrorHover:o,colorWarningHover:a,colorErrorOutline:r,colorWarningOutline:s}=e;return{[`&${t}-status-error`]:{borderColor:i,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},ZM(e,i,r))},[`&${t}-status-warning`]:{borderColor:n,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},ZM(e,n,s))}}},eA=e=>{const{componentCls:t,controlHeightLG:i,controlHeightSM:n,controlHeight:o,controlHeightXS:a,borderRadius:r,borderRadiusSM:s,borderRadiusXS:l,borderRadiusLG:c,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:i,minHeight:i,borderRadius:c,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:r},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:n,minHeight:n,borderRadius:s,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:l},[`${t}-trigger-text`]:{lineHeight:(0,Y.zA)(a)}}}},tA=e=>{const{antCls:t,componentCls:i,colorPickerWidth:n,colorPrimary:o,motionDurationMid:a,colorBgElevated:r,colorTextDisabled:s,colorText:l,colorBgContainerDisabled:c,borderRadius:d,marginXS:u,marginSM:h,controlHeight:p,controlHeightSM:g,colorBgTextActive:f,colorPickerPresetColorSize:m,colorPickerPreviewSize:y,lineWidth:v,colorBorder:b,paddingXXS:x,fontSize:S,colorPrimaryHover:M,controlOutline:A}=e;return[{[i]:Object.assign({[`${i}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:n,[`& > ${t}-divider`]:{margin:`${(0,Y.zA)(h)} 0 ${(0,Y.zA)(u)}`}},[`${i}-panel`]:Object.assign({},KM(e))},XM(e)),VM(e,y)),UM(e)),YM(e)),QM(e,m,{marginInlineStart:"auto"})),{[`${i}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:u}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:p,minHeight:p,borderRadius:d,border:`${(0,Y.zA)(v)} solid ${b}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${a}`,background:r,padding:e.calc(x).sub(v).equal(),[`${i}-trigger-text`]:{marginInlineStart:u,marginInlineEnd:e.calc(u).sub(e.calc(x).sub(v)).equal(),fontSize:S,color:l,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:s}}},"&:hover":{borderColor:M},[`&${i}-trigger-active`]:Object.assign({},ZM(e,o,A)),"&-disabled":{color:s,background:c,cursor:"not-allowed","&:hover":{borderColor:f},[`${i}-trigger-text`]:{color:s}}},QM(e,g)),VM(e,g)),JM(e)),eA(e))},qM(e))},gd(e,{focusElCls:`${i}-trigger-active`})]},iA=(0,X.OF)("ColorPicker",(e=>{const{colorTextQuaternary:t,marginSM:i}=e,n=(0,Fe.oX)(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:8,colorPickerPreviewSize:e.calc(8).mul(2).add(i).equal()});return[tA(n)]}));var nA=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};const oA=t=>{const{mode:i,value:n,defaultValue:o,format:a,defaultFormat:s,allowClear:c=!1,presets:d,children:u,trigger:h="click",open:p,disabled:g,placement:f="bottomLeft",arrow:m=!0,panelRender:y,showText:v,style:b,className:x,size:S,rootClassName:M,prefixCls:A,styles:k,disabledAlpha:w=!1,onFormatChange:C,onChange:I,onClear:D,onOpenChange:N,onChangeComplete:E,getPopupContainer:O,autoAdjustOverflow:L=!0,destroyTooltipOnHide:T,disabledFormat:R}=t,P=nA(t,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:z,direction:j,colorPicker:B}=(0,e.useContext)(l.QO),$=(0,e.useContext)(hl),F=null!==g&&void 0!==g?g:$,[_,H]=(0,xt.A)(!1,{value:p,postState:e=>!F&&e,onChange:N}),[W,G]=(0,xt.A)(a,{value:a,defaultValue:s,onChange:C}),V=z("color-picker",A),[U,K,Y,X,Z]=function(t,i,n){const[o]=Is("ColorPicker"),[a,r]=(0,xt.A)(t,{value:i}),[s,l]=e.useState("single"),[c,d]=e.useMemo((()=>{const e=(Array.isArray(n)?n:[n]).filter((e=>e));e.length||e.push("single");const t=new Set(e),i=[],a=(e,n)=>{t.has(e)&&i.push({label:n,value:e})};return a("single",o.singleColor),a("gradient",o.gradientColor),[i,t]}),[n]),[u,h]=e.useState(null),p=(0,di.A)((e=>{h(e),r(e)})),g=e.useMemo((()=>{const e=Nc(a||"");return e.equals(u)?u:e}),[a,u]),f=e.useMemo((()=>{var e;return d.has(s)?s:null===(e=c[0])||void 0===e?void 0:e.value}),[d,s,c]);return e.useEffect((()=>{l(g.isGradient()?"gradient":"single")}),[g]),[g,p,f,l,c]}(o,n,i),q=(0,e.useMemo)((()=>Oc(U)<100),[U]),[Q,J]=e.useState(null),ee=e=>{if(E){let t=Nc(e);w&&q&&(t=Lc(e)),E(t)}},te=(e,t)=>{let i=Nc(e);w&&q&&(i=Lc(i)),K(i),J(null),I&&I(i,i.toCssString()),t||ee(i)},[ie,ne]=e.useState(0),[oe,ae]=e.useState(!1),{status:re}=e.useContext(Jh),{compactSize:se,compactItemClassnames:le}=gl(V,j),ce=Be((e=>{var t;return null!==(t=null!==S&&void 0!==S?S:se)&&void 0!==t?t:e})),de=Mr(V),[ue,he,pe]=iA(V,de),ge={[`${V}-rtl`]:j},fe=r()(M,pe,de,ge),me=r()(pf(V,re),{[`${V}-sm`]:"small"===ce,[`${V}-lg`]:"large"===ce},le,null===B||void 0===B?void 0:B.className,fe,x,he),ye=r()(V,fe);const ve={open:_,trigger:h,placement:f,arrow:m,rootClassName:M,getPopupContainer:O,autoAdjustOverflow:L,destroyTooltipOnHide:T},be=Object.assign(Object.assign({},null===B||void 0===B?void 0:B.style),b);return ue(e.createElement(eb,Object.assign({style:null===k||void 0===k?void 0:k.popup,overlayInnerStyle:null===k||void 0===k?void 0:k.popupOverlayInner,onOpenChange:e=>{e&&F||H(e)},content:e.createElement(ip,{form:!0},e.createElement(_M,{mode:Y,onModeChange:e=>{if(X(e),"single"===e&&U.isGradient())ne(0),te(new rc(U.getColors()[0].color)),J(U);else if("gradient"===e&&!U.isGradient()){const e=q?Lc(U):U;te(new rc(Q||[{percent:0,color:e},{percent:100,color:e}]))}},modeOptions:Z,prefixCls:V,value:U,allowClear:c,disabled:F,disabledAlpha:w,presets:d,panelRender:y,format:W,onFormatChange:G,onChange:te,onChangeComplete:ee,onClear:D,activeIndex:ie,onActive:ne,gradientDragging:oe,onGradientDragging:ae,disabledFormat:R})),overlayClassName:ye},ve),u||e.createElement(WM,Object.assign({activeIndex:_?ie:-1,open:_,className:me,style:be,prefixCls:V,disabled:F,showText:v,format:W},P,{color:U}))))};const aA=Su(oA,"color-picker",(e=>e),(e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1})));oA._InternalPanelDoNotUseOrYouWillBeFired=aA;const rA=oA;function sA(e){let{id:t,child_id:i,widgetValue:n,childWidgetTextValue:o,setColorPicker:a,addItem:r,contextHolder:s,setChildWidgetTextValue:l,setWidgetValue:c}=e;return(0,Ad.jsxs)(Ad.Fragment,{children:[(0,Ad.jsx)(Wv.Item,{children:(0,Ad.jsx)("h2",{children:"Add Child"})}),(0,Ad.jsx)(Wv.Item,{name:"widget_Text_value",rules:[{required:!0,message:"Please enter widget_Text_value!"}],children:(0,Ad.jsx)(Qf,{type:"text",defaultValue:o,placeholder:"Widget_Text_value",value:o,onChange:e=>l(e.target.value)})}),(0,Ad.jsx)(Wv.Item,{name:"widget_value",rules:[{required:!0,message:"Please enter widget_Value!"}],children:(0,Ad.jsx)(Qf,{value:n,defaultValue:n,type:"number",placeholder:"widget_Value",onChange:e=>c(e.target.value)})}),(0,Ad.jsx)(Wv.Item,{name:"color_Picker",children:(0,Ad.jsx)(rA,{defaultValue:"#735622",allowClear:!0,showText:!0,mode:["single","gradient"],onChangeComplete:e=>a(e.toCssString())})}),(0,Ad.jsxs)(Wv.Item,{children:[(0,Ad.jsx)(Md,{onClick:()=>r(i,t),style:{width:"100%"},children:"Add"}),s]})]})}const lA=t=>{let{state:i,id:n,setWidgetText:o,setWidgetName:a,setNewState:r,setId:s,child_id:l,widgetName:c,widgetText:d}=t;const[u,h]=(0,e.useState)(""),[p,g]=(0,e.useState)(""),[f,m]=(0,e.useState)(""),[y,v]=Iy.useModal(),[b]=Wv.useForm(),x=(e,t)=>(null===t||void 0===t?void 0:t.map((t=>{if(t.id===e){const e={name:p,value:parseInt(f),fill:u};return t.children=[...null===t||void 0===t?void 0:t.children,e],t}x(e,null===t||void 0===t?void 0:t.children)})))[0];return(0,Ad.jsx)(Ad.Fragment,{children:(0,Ad.jsxs)(Wv,{form:b,labelCol:{span:4},wrapperCol:{span:14},name:"control-hooks",initialValues:{remember:!0},style:{maxWidth:600,marginTop:"34px"},children:[(0,Ad.jsx)(Wv.Item,{name:"widget_name",rules:[{required:!0,message:"Please enter widget_name!"}],children:(0,Ad.jsx)(Qf,{defaultValue:c,onChange:e=>a(e.target.value),type:"text",name:"widget_name",placeholder:"Widget_Name",required:!0})}),(0,Ad.jsx)(Wv.Item,{name:"widget_text",rules:[{required:!0,message:"Please enter widget_text!"}],children:(0,Ad.jsx)(Qf,{defaultValue:d,onChange:e=>o(e.target.value),type:"text",name:"widget_text",placeholder:"Widget_Text",required:!0})}),(0,Ad.jsx)(sA,{id:n,child_id:l,handelChange:e=>{""!==e.target.value&&console.log(e.target.value)},addItem:(e,t)=>{s(t),r((t=>x(e,[t]))),(()=>{b.setFieldsValue({widget_value:"",widget_Text_value:""});let e=5;const t=y.success({title:"One widget child will be Added!",content:`This modal will be destroyed after ${e} second.`}),i=setInterval((()=>{e-=1,t.update({content:`This modal will be destroyed after ${e} second.`})}),1e3);setTimeout((()=>{clearInterval(i),t.destroy()}),1e3*e)})()},contextHolder:v,data:i,widgetValue:f,childWidgetTextValue:p,setColorPicker:h,setChildWidgetTextValue:g,setWidgetValue:m})]})})},cA=t=>{let{state:i,setState:n,setOpen:o,id:a,setId:r}=t;const[s,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(""),[p,g]=(0,e.useState)(null),[f,m]=(0,e.useState)({checked:!1,widget_name:c,widget_text:u,children:[],id:(new Date).getMilliseconds(),type:"checkbox"}),{TabPane:y}=is,v=(e,t,i)=>null===i||void 0===i?void 0:i.map((n=>n.id===e?n.checked=t:(v(e,n,i.children),n))),b=(e,t)=>{g(t);const o=e.target.value;n(v(t,o,i))},x=(e,t)=>null===t||void 0===t?void 0:t.map((t=>t.id===e?(t.children=[...t.children,{...f,id:(new Date).getMilliseconds(),widget_name:c,widget_text:u}],t):(x(e,t.children),t)));return console.log(i),(0,Ad.jsx)("div",{style:{position:"auto",width:"100%",height:"100%",top:"0px",left:"0px",right:"0px",bottom:"0px",margin:"auto"},children:(0,Ad.jsx)("div",{style:{position:"absolute",left:"50%",top:"0px",right:"0px",bottom:"0px",margin:"auto",background:"white"},children:(0,Ad.jsxs)(bs,{style:{transformOrigin:"right",height:"100%"},title:"Add Widget",extra:(0,Ad.jsx)("span",{href:"",onClick:()=>o(!1),children:(0,Ad.jsx)(pt,{})}),bordered:!1,children:[(0,Ad.jsx)("p",{children:"Personalise your dashboard by adding the following widget"}),s?(0,Ad.jsx)(Ad.Fragment,{children:null===i||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.children.map((t=>t.id===p&&(0,Ad.jsx)(lA,{id:e.id,setId:r,child_id:null===f||void 0===f?void 0:f.id,state:i,setState:n,newState:f,widgetName:c,widgetText:u,setWidgetText:h,setWidgetName:d,setNewState:m})))))}):(0,Ad.jsx)(is,{tabBarStyle:{backgroundColor:"white"},defaultActiveKey:"1",onChange:e=>{console.log(e)},children:null===i||void 0===i?void 0:i.map((e=>{var t;return(0,Ad.jsx)(y,{tab:e.label,style:{width:"100%"},children:null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.map((e=>(0,Ad.jsx)(tm,{item:e,onChecked:b})))},e.id)}))}),(0,Ad.jsxs)("div",{style:{display:"flex",justifyContent:"end",position:"fixed",top:"90%",left:"0px",right:"22px",bottom:"0px"},children:[(0,Ad.jsx)(Md,{onClick:()=>o(!1),children:"Cancel"}),(0,Ad.jsx)(Md,{onClick:()=>(e=>{l(!0),""===c&&""===u||(o(!1),n(x(e,i)))})(a),children:"Conform"})]})]})})})};var dA=Object.defineProperty,uA=Object.getOwnPropertyDescriptor,hA=(e,t)=>{for(var i in t)dA(e,i,{get:t[i],enumerable:!0})},pA=(e,t,i,n)=>{for(var o,a=n>1?void 0:n?uA(t,i):t,r=e.length-1;r>=0;r--)(o=e[r])&&(a=(n?o(t,i,a):o(a))||a);return n&&a&&dA(t,i,a),a},gA={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},fA=["bar","line","scatter"],mA=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"];var yA=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(yA||{});hA({},{TimeInterval:()=>AA,day:()=>WA,friday:()=>qA,hour:()=>_A,millisecond:()=>wA,minute:()=>BA,monday:()=>KA,month:()=>ek,saturday:()=>QA,second:()=>PA,sunday:()=>UA,thursday:()=>ZA,tuesday:()=>YA,utcDay:()=>rk,utcHour:()=>ak,utcMinute:()=>ok,utcMonth:()=>sk,utcYear:()=>lk,wednesday:()=>XA,year:()=>ik});var vA=new Map;function bA(e,t){vA.has(t)||(vA.set(t,!0),e())}function xA(e){return e}function SA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{leading:n=!0,trailing:o=!0}=i??{};let a,r,s=!1;function l(){o&&r?(a=setTimeout(l,t),e(...r)):s=!1,r=null}return Object.assign((function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];s?r=o:(s=!0,a=setTimeout(l,t),n?e(...o):r=o)}),{cancel(){clearTimeout(a),s=!1,r=null}})}bA.clear=()=>vA.clear();var MA={log(){console.log(...arguments)},warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.warn(`AG Charts - ${e}`,...i)},error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];"object"===typeof e?console.error("AG Charts error",e,...i):console.error(`AG Charts - ${e}`,...i)},table(){console.table(...arguments)},warnOnce(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];bA((()=>MA.warn(e,...i)),`Logger.warn: ${e}`)},errorOnce(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];bA((()=>MA.error(e,...i)),`Logger.error: ${e}`)}},AA=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){const n=this._rangeCallback?.(e,t),o=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<o)return[];const r=[];for(let s=o;s<=a;s++){const e=this._decode(s);r.push(e)}return n?.(),r}},kA=class extends AA{getOffset(e,t){const i="number"===typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let i,n=0;const o=e;o!==(e=Math.max(1,Math.round(e)))&&MA.warnOnce(`interval step of [${o}] rounded to [${e}].`);const{snapTo:a="start"}=t??{};if("string"===typeof a){const t=n;i=(i,o)=>{const r="start"===a?i:o;return n=this.getOffset(r,e),()=>n=t}}else"number"===typeof a?n=this.getOffset(new Date(a),e):a instanceof Date&&(n=this.getOffset(a,e));return new AA((t=>{const i=this._encode(t);return Math.floor((i-n)/e)}),(t=>this._decode(t*e+n)),i)}};var wA=new kA((function(e){return e.getTime()}),(function(e){return new Date(e)})),CA=wA,IA=(new Date(0).getFullYear(),1e3),DA=6e4,NA=36e5,EA=864e5,OA=6048e5,LA=2592e6,TA=31536e6,RA=(new Date).getTimezoneOffset()*DA;var PA=new kA((function(e){return Math.floor((e.getTime()-RA)/IA)}),(function(e){return new Date(RA+e*IA)})),zA=PA,jA=(new Date).getTimezoneOffset()*DA;var BA=new kA((function(e){return Math.floor((e.getTime()-jA)/DA)}),(function(e){return new Date(jA+e*DA)})),$A=BA,FA=(new Date).getTimezoneOffset()*DA;var _A=new kA((function(e){return Math.floor((e.getTime()-FA)/NA)}),(function(e){return new Date(FA+e*NA)})),HA=_A;var WA=new kA((function(e){const t=e.getTimezoneOffset()*DA;return Math.floor((e.getTime()-t)/EA)}),(function(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t})),GA=WA;function VA(e){const t=(7+e-4)%7;return new kA((function(e){const i=e.getTimezoneOffset()*DA;return Math.floor((e.getTime()-i)/OA-t/7)}),(function(e){const i=new Date(1970,0,1);return i.setDate(i.getDate()+7*e+t),i}))}var UA=VA(0),KA=VA(1),YA=VA(2),XA=VA(3),ZA=VA(4),qA=VA(5),QA=VA(6),JA=UA;var ek=new kA((function(e){return 12*e.getFullYear()+e.getMonth()}),(function(e){const t=Math.floor(e/12);return new Date(t,e-12*t,1)})),tk=ek;var ik=new kA((function(e){return e.getFullYear()}),(function(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t})),nk=ik;var ok=new kA((function(e){return Math.floor(e.getTime()/DA)}),(function(e){return new Date(e*DA)}));var ak=new kA((function(e){return Math.floor(e.getTime()/NA)}),(function(e){return new Date(e*NA)}));var rk=new kA((function(e){return Math.floor(e.getTime()/EA)}),(function(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}));var sk=new kA((function(e){return 12*e.getUTCFullYear()+e.getUTCMonth()}),(function(e){const t=Math.floor(e/12),i=e-12*t;return new Date(Date.UTC(t,i,1))}));var lk=new kA((function(e){return e.getUTCFullYear()}),(function(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t})),ck={};hA(ck,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>iC,fromToMotion:()=>nC,staticFromToMotion:()=>oC});var dk=new Map;function uk(){dk.clear()}function hk(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const n=(dk.get(i)??0)+1;return dk.set(i,n),`${i}-${n}`}function pk(){return crypto.randomUUID?.()??function(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t="";for(let i=0;i<e.length;i++)4!==i&&6!==i&&8!==i&&10!==i||(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}()}function*gk(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)yield*n}function fk(e){return null!=e&&"object"===typeof e&&Symbol.iterator in e?e:[e]}var mk=Symbol("interpolate"),yk=e=>null!=e[mk];function vk(e,t,i){const n={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const o of i){const i=o.distanceSquared(e,t);if(0===i)return{nearest:o,distanceSquared:0};i<n.distanceSquared&&(n.nearest=o,n.distanceSquared=i)}return n}function bk(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:o=e,y:a=t}=i.transformPoint?.(e,t)??{},r={nearest:void 0,distanceSquared:n};for(const s of i.children){const{nearest:e,distanceSquared:t}=s.nearestSquared(o,a,r.distanceSquared);if(0===t)return{nearest:e,distanceSquared:t};t<r.distanceSquared&&(r.nearest=e,r.distanceSquared=t)}return r}var xk={};function Sk(e){return e?xk.document?.[e]:xk.document}function Mk(e){return e?xk.window?.[e]:xk.window}function Ak(e,t,i){const n=Sk().createElement(e);if("object"===typeof t&&(i=t,t=void 0),t)for(const o of t.split(" "))n.classList.add(o);return i&&Object.assign(n.style,i),n}function kk(e,t){return Sk().createElementNS(e,t)}function wk(e,t){const{body:i}=Sk(),n=Ak("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout((()=>i.removeChild(n)))}function Ck(e){xk.document=e}function Ik(e){xk.window=e}function Dk(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}function Nk(e){if(e.focus({preventScroll:!0}),null==e.lastChild?.textContent)return;const t=Sk().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=Mk().getSelection();i?.removeAllRanges(),i?.addRange(t)}"undefined"!==typeof window?xk.window=window:"undefined"!==typeof global&&(xk.window=global.window),"undefined"!==typeof document?xk.document=document:"undefined"!==typeof global&&(xk.document=global.document);var Ek=0;function Ok(e){return`${e??"ag-charts-element"}-${Ek++}`}function Lk(e,t,i){return Math.min(i,Math.max(e,t))}function Tk(e,t){const[i,n]=Rk(t);return Lk(i,e,n)}function Rk(e){if(0===e.length)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function Pk(e){const[t,i]=Rk(e);return i-t}function zk(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return Math.abs(e-t)<i}function jk(e){return-1===Math.sign(e)||Object.is(e,-0)}function Bk(e){const t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(e*t)/t}function $k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function Fk(e,t){return Math.floor(e%t+(e<0?t:0))}function _k(e){if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let e;[t,e]=t.split("e"),null!=e&&(i=Number(e))}const n=t.split(".")[1]?.length??0;return Math.max(n-i,0)}function Hk(e,t){return t=t??Mk("navigator").language,new Intl.NumberFormat(t,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function Wk(e,t){return Hk(e/100,t)}var Gk=class e{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}static fromDOMRect(t){let{x:i,y:n,width:o,height:a}=t;return new e(i,n,o,a)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON:()=>({})}}clone(){const{x:t,y:i,width:n,height:o}=this;return new e(t,i,n,o)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}intersection(t){if(!this.collidesBBox(t))return;const i=Lk(t.x,this.x,t.x+t.width),n=Lk(t.y,this.y,t.y+t.height),o=Lk(t.x,this.x+this.width,t.x+t.width),a=Lk(t.y,this.y+this.height,t.y+t.height);return new e(i,n,o-i,a-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const i=e-Lk(this.x,e,this.x+this.width),n=t-Lk(this.y,t,this.y+this.height);return i*i+n*n}static nearestBox(e,t,i){return vk(e,t,i)}clip(e){if(void 0===e)return this;const t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),n=Math.min(this.x+this.width,e.x+e.width),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.y=i,this.width=Math.max(0,n-t),this.height=Math.max(0,o-i),this}shrink(e,t){const i=(e,t)=>{switch(e){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=2*t;break;case"horizontal":this.x+=t,this.width-=2*t;break;case void 0:this.x+=t,this.width-=2*t,this.y+=t,this.height-=2*t}};return"number"===typeof e?i(t,e):"object"===typeof e&&Object.entries(e).forEach((e=>{let[t,n]=e;return i(t,n)})),this}grow(e,t){if("number"===typeof e)this.shrink(-e,t);else{const t={...e};for(const e in t)t[e]*=-1;this.shrink(t)}return this}translate(e,t){return this.x+=e,this.y+=t,this}combine(e){const{x:t,y:i,width:n,height:o}=this;this.x=Math.min(t,e.x),this.y=Math.min(i,e.y),this.width=Math.max(t+n,e.x+e.width)-this.x,this.height=Math.max(i+o,e.y+e.height)-this.y}static merge(t){let i=1/0,n=1/0,o=-1/0,a=-1/0;for(const e of t)e.x<i&&(i=e.x),e.y<n&&(n=e.y),e.x+e.width>o&&(o=e.x+e.width),e.y+e.height>a&&(a=e.y+e.height);return new e(i,n,o-i,a-n)}[mk](t,i){return new e(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};Gk.zero=Object.freeze(new Gk(0,0,0,0)),Gk.NaN=Object.freeze(new Gk(NaN,NaN,NaN,NaN));var Vk=Gk,Uk=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(Uk||{});function Kk(e){return function(t,i){const n=`__${i}`;t[i]||function(e,t,i,n){const{redraw:o=1,type:a="normal",changeCb:r,convertor:s,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:o,type:a,changeCb:r,checkDirtyOnAssignment:l,convertor:s};let d;switch(a){case"normal":d=function(e,t){const{redraw:i=1,changeCb:n}=t;return function(t){return t!==this[e]?(this[e]=t,this.markDirty(i),n?.(this),t):Yk}}(i,c);break;case"transform":d=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this.markDirtyTransform(i),t):Yk}}(i,c);break;case"path":d=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(i)),t):Yk}}(i,c)}d=function(e,t){const{checkDirtyOnAssignment:i}=t;if(i)return function(t){const i=e.call(this,t);return i!==Yk&&null!=t&&t._dirty>0&&this.markDirty(t._dirty),i};return e}(function(e,t){const{changeCb:i}=t;if(i)return function(t){const n=e.call(this,t);return n!==Yk&&i.call(this,this),n};return e}(function(e,t){const{convertor:i}=t;if(i)return function(t){e.call(this,i(t))};return e}(d,c),c),c);const u=function(){return this[i]};Object.defineProperty(e,t,{set:d,get:u,enumerable:!0,configurable:!0})}(t,i,n,e)}}var Yk=Symbol("no-change");var Xk=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(Xk||{}),Zk=class e{constructor(t){this.serialNumber=e._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0},this.id=hk(this),this.pointerEvents=0,this._dirty=3,this.dirtyZIndex=!1,this.virtualChildrenCount=0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.zIndexSubOrder=void 0,this.name=t?.name,this.isVirtual=t?.isVirtual??!1,this.tag=t?.tag??NaN,this.zIndex=t?.zIndex??0}static*extractBBoxes(e,t){for(const i of e)if(!t||i.visible&&!i.transitionOut){const e=i.getBBox();e&&(yield e)}}get datum(){return this._datum??this.parentNode?.datum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1;for(const e of this.children()){const t=e.preRender();this.childNodeCounts.groups+=t.groups,this.childNodeCounts.nonGroups+=t.nonGroups}return this.childNodeCounts}render(e){const{stats:t}=e;if(this._dirty=0,e.debugNodeSearch){const t=this.name??this.id;e.debugNodeSearch.some((e=>"string"===typeof e?e===t:e.test(t)))&&(e.debugNodes[this.name??this.id]=this)}t&&t.nodesRendered++}_setLayerManager(e){this._layerManager=e,this._debug=e?.debug;for(const t of this.children(!1))t._setLayerManager(e)}sortChildren(e){if(this.dirtyZIndex=!1,!this.childNodes)return;if(this.hasVirtualChildren())return;const t=[...this.childNodes].sort(e);this.childNodes.clear();for(const i of t)this.childNodes.add(i)}*traverseUp(e){let t=this;for(e&&(yield t);t=t.parentNode;)yield t}children(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){if(!e.childNodes)return;const i=[];for(const n of e.childNodes)t&&n.isVirtual?i.push(n.children()):yield n;for(const e of i)yield*e}()}*virtualChildren(){if(this.childNodes&&this.virtualChildrenCount)for(const e of this.childNodes)e.isVirtual&&(yield e)}hasVirtualChildren(){return this.virtualChildrenCount>0}isLeaf(){return!this.childNodes?.size}isRoot(){return!this.parentNode}append(e){this.childNodes??(this.childNodes=new Set);for(const t of fk(e))t.parentNode?.removeChild(t),this.childNodes.add(t),t.parentNode=this,t._setLayerManager(this.layerManager),t.isVirtual&&this.virtualChildrenCount++;this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3)}appendChild(e){return this.append(e),e}removeChild(e){return!!this.childNodes?.delete(e)&&(delete e.parentNode,e._setLayerManager(),e.isVirtual&&this.virtualChildrenCount--,this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3),!0)}remove(){return this.parentNode?.removeChild(this)??!1}clear(){for(const e of this.children(!1))delete e.parentNode,e._setLayerManager();this.childNodes?.clear(),this.invalidateCachedBBox(),this.virtualChildrenCount=0}destroy(){this.parentNode?.removeChild(this)}setProperties(e,t){if(t)for(const i of t)this[i]=e[i];else Object.assign(this,e);return this}containsPoint(e,t){return!1}pickNode(e,t){if(!this.visible||1===this.pointerEvents||!this.containsPoint(e,t))return;const i=[...this.children()];if(i.length>1e3)for(let n=i.length-1;n>=0;n--){const o=i[n],a=o.containsPoint(e,t)?o.pickNode(e,t):void 0;if(a)return a}else if(i.length)for(let n=i.length-1;n>=0;n--){const o=i[n].pickNode(e,t);if(o)return o}else if(!this.isContainerNode)return this}invalidateCachedBBox(){this.cachedBBox=void 0,this.parentNode?.invalidateCachedBBox()}getBBox(){return null==this.cachedBBox&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const{_dirty:i}=this,n=i>e||i===e&&e===t;null==this.cachedBBox&&n||(this.invalidateCachedBBox(),this._dirty=Math.max(i,e),this.parentNode?this.parentNode.markDirty(t):this.layerManager&&this.layerManager.markDirty())}markClean(e){const{force:t=!1,recursive:i=!0}=e??{};if(0!==this._dirty||t){this._dirty=0;for(const e of this.children(!1))(e.isVirtual?!1!==i:!0===i)&&e.markClean({force:t})}}onVisibleChange(){}onZIndexChange(){this.parentNode&&(this.parentNode.dirtyZIndex=!0)}toSVG(){}};Zk._nextSerialNumber=0,pA([Kk({redraw:3,changeCb:e=>e.onVisibleChange()})],Zk.prototype,"visible",2),pA([Kk({redraw:1,changeCb:e=>e.onZIndexChange()})],Zk.prototype,"zIndex",2),pA([Kk({redraw:1,changeCb:e=>e.onZIndexChange()})],Zk.prototype,"zIndexSubOrder",2);var qk=Zk,Qk=(e,t,i)=>e*(1-i)+t*i,Jk=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},ew=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},tw=class e{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=Lk(0,e||0,1),this.g=Lk(0,t||0,1),this.b=Lk(0,i||0,1),this.a=Lk(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!e.parseHex(t):t.indexOf("rgb")>=0?!!e.stringToRgba(t):!!e.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return e.fromHexString(t);const i=e.nameToHex[t.toLowerCase()];if(i)return e.fromHexString(i);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(e){let t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(`${e[i]}${e[i+1]}`,16));break;case 3:case 4:t=e.split("").map((e=>parseInt(e,16))).map((e=>e+16*e))}if(t?.length>=3&&t.every((e=>e>=0)))return 3===t.length&&t.push(255),t}static fromHexString(t){const i=e.parseHex(t);if(i){const[t,n,o,a]=i;return new e(t/255,n/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(e){let t=-1,i=-1;for(let a=0;a<e.length;a++){const n=e[a];if(-1===t&&"("===n)t=a;else if(")"===n){i=a;break}}if(-1===t||-1===i)return;const n=e.substring(t+1,i).split(","),o=[];for(let a=0;a<n.length;a++){const e=n[a];let t=parseFloat(e);if(!Number.isFinite(t))return;e.indexOf("%")>=0?(t=Lk(0,t,100),t/=100):3===a?t=Lk(0,t,1):(t=Lk(0,t,255),t/=255),o.push(t)}return o}static fromRgbaString(t){const i=e.stringToRgba(t);if(i){if(3===i.length)return new e(i[0],i[1],i[2]);if(4===i.length)return new e(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.HSBtoRGB(t,i,n);return new e(a[0],a[1],a[2],o)}static fromHSL(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.HSLtoRGB(t,i,n);return new e(a[0],a[1],a[2],o)}static fromOKLCH(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.OKLCHtoRGB(t,i,n);return new e(a[0],a[1],a[2],o)}static padHex(e){return 1===e.length?"0"+e:e}toHexString(){let t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*i)/i),`rgba(${t.join(", ")})`):`rgb(${t.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return e.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,t,i){const n=Jk(e),o=Jk(t),a=Jk(i),r=Math.cbrt(.4122214708*n+.5363325363*o+.0514459929*a),s=Math.cbrt(.2119034982*n+.6806995451*o+.1073969566*a),l=Math.cbrt(.0883024619*n+.2817188376*o+.6299787005*a),c=.2104542553*r+.793617785*s-.0040720468*l,d=1.9779984951*r-2.428592205*s+.4505937099*l,u=.0259040371*r+.7827717662*s-.808675766*l,h=180*Math.atan2(u,d)/Math.PI;return[c,Math.hypot(d,u),h>=0?h:h+360]}static OKLCHtoRGB(e,t,i){const n=e,o=t*Math.cos(i*Math.PI/180),a=t*Math.sin(i*Math.PI/180),r=(n+.3963377774*o+.2158037573*a)**3,s=(n-.1055613458*o-.0638541728*a)**3,l=(n-.0894841775*o-1.291485548*a)**3,c=-1.2684380046*r+2.6097574011*s-.3413193965*l,d=-.0041960863*r-.7034186147*s+1.707614701*l;return[ew(4.0767416621*r-3.3077115913*s+.2309699292*l),ew(c),ew(d)]}static RGBtoHSL(e,t,i){const n=Math.min(e,t,i),o=Math.max(e,t,i),a=(o+n)/2;let r,s;if(o===n)r=0,s=0;else{const l=o-n;s=a>.5?l/(2-o-n):l/(o+n),r=o===e?(t-i)/l+(t<i?6:0):o===t?(i-e)/l+2:(e-t)/l+4,r*=60}return[r,s,a]}static HSLtoRGB(e,t,i){if(0===t)return[i,i,i];const n=i<.5?i*(1+t):i+t-i*t,o=2*i-n;function a(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?o+6*(n-o)*e:e<.5?n:e<2/3?o+(n-o)*(2/3-e)*6:o}return[a((e=(e%360+360)%360)/360+1/3),a(e/360),a(e/360-1/3)]}static RGBtoHSB(e,t,i){const n=Math.min(e,t,i),o=Math.max(e,t,i);let a=0;if(n!==o){const r=o-n,s=(o-e)/r,l=(o-t)/r,c=(o-i)/r;a=e===o?c-l:t===o?2+s-c:4+l-s,a/=6,a<0&&(a+=1)}return[360*a,0===o?0:(o-n)/o,o]}static HSBtoRGB(e,t,i){e=(e%360+360)%360/360;let n=0,o=0,a=0;if(0===t)n=o=a=i;else{const r=6*(e-Math.floor(e)),s=r-Math.floor(r),l=i*(1-t),c=i*(1-t*s),d=i*(1-t*(1-s));switch(r|0){case 0:n=i,o=d,a=l;break;case 1:n=c,o=i,a=l;break;case 2:n=l,o=i,a=d;break;case 3:n=l,o=c,a=i;break;case 4:n=d,o=l,a=i;break;case 5:n=i,o=l,a=c}}return[n,o,a]}static mix(t,i,n){return new e(Qk(t.r,i.r,n),Qk(t.g,i.g,n),Qk(t.b,i.b,n),Qk(t.a,i.a,n))}};tw.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var iw=tw;function nw(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function ow(e,t){if("string"===typeof e)try{e=iw.fromString(e)}catch(Zfe){e=iw.fromArray([0,0,0])}if("string"===typeof t)try{t=iw.fromString(t)}catch(Zfe){t=iw.fromArray([0,0,0])}return i=>iw.mix(e,t,i).toRgbaString()}var aw=Symbol("BREAK"),rw="__decorator_config";function sw(e,t){null==Object.getOwnPropertyDescriptor(e,rw)&&Object.defineProperty(e,rw,{value:{}});const i=e[rw],n=t.toString();if("undefined"!==typeof i[n])return i[n];const o=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:o};const a=Object.getOwnPropertyDescriptor(e,t),r=a?.set,s=a?.get;return Object.defineProperty(e,t,{set:function(e){const{setters:a,observers:l}=i[n];let c;a.some((e=>e.length>2))&&(c=s?s.call(this):o.get(this));for(const i of a)if((e=i(this,t,e,c))===aw)return;r?r.call(this,e):o.set(this,e);for(const t of l)t(this,e,c)},get:function(){let e=s?s.call(this):o.get(this);for(const o of i[n].getters)if(e=o(this,t,e),e===aw)return;return e},enumerable:!0,configurable:!1}),i[n]}function lw(e,t,i){return(n,o)=>{const a=sw(n,o);a.setters.push(e),t&&a.getters.unshift(t),i&&Object.assign(a,i)}}function cw(e){return"undefined"!==typeof e&&rw in e}function dw(e){const t=new Set;for(;cw(e);)t.add(e?.[rw]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap((e=>Object.keys(e)))}function uw(e){return dw(e).reduce(((t,i)=>(t[i]=e[i]??null,t)),{})}function hw(e){return null!=e}function pw(e){return Array.isArray(e)}function gw(e){return"boolean"===typeof e}function fw(e){return e instanceof Date}function mw(e){return fw(e)&&!isNaN(Number(e))}function yw(e){return e instanceof RegExp}function vw(e){return"function"===typeof e}function bw(e){return"object"===typeof e&&null!==e&&!pw(e)}function xw(e){return pw(e)||Sw(e)}function Sw(e){return"object"===typeof e&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Mw(e){return"string"===typeof e}function Aw(e){return"number"===typeof e}function kw(e){return Number.isFinite(e)}function ww(e){return"undefined"!==typeof window&&e instanceof HTMLElement}function Cw(e,t){return Mw(t)&&Object.keys(e).includes(t)}function Iw(e,t){return Object.values(e).includes(t)}function Dw(e){return"symbol"===typeof e}function Nw(e,t){return e.type!==t}function Ew(e,t,i){for(const n in t)if(!(n in e))return!1;for(const n in e){if(!(n in t))return!1;if(!i(e[n],t[n]))return!1}return!0}function Ow(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Lw(...t.reverse())}function Lw(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const o of i){if(!bw(o))continue;const t=cw(o)?dw(o):Object.keys(o);for(const i of t)Sw(e[i])&&Sw(o[i])?e[i]=Lw(e[i],o[i]):e[i]??(e[i]=o[i])}return e}function Tw(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i&&pw(e)?e.map((e=>Lw(e,...i))):e}function Rw(e,t){return Object.entries(e).reduce(((i,n)=>{let[o,a]=n;return i[o]=t(a,o,e),i}),{})}function Pw(e,t){const i={...e};for(const n of t)delete i[n];return i}function zw(e,t){return(pw(t)?t:t.split(".")).reduce(((e,t)=>e[t]),e)}var jw=new Set(["__proto__","constructor","prototype"]);function Bw(e,t,i){const n=pw(t)?t.slice():t.split("."),o=n.pop();if(n.some((e=>jw.has(e))))return;const a=n.reduce(((e,t)=>e[t]),e);return a[o]=i,a[o]}function $w(e,t,i){if(void 0===i)return t;for(const n of e){const e=i[n];void 0!==e&&(t[n]=e)}return t}var Fw={};hA(Fw,{easeIn:()=>Hw,easeInOut:()=>Gw,easeInOutQuad:()=>Kw,easeInQuad:()=>Vw,easeOut:()=>Ww,easeOutQuad:()=>Uw,inverseEaseOut:()=>Yw,linear:()=>_w});var _w=e=>e,Hw=e=>1-Math.cos(e*Math.PI/2),Ww=e=>Math.sin(e*Math.PI/2),Gw=e=>-(Math.cos(e*Math.PI)-1)/2,Vw=e=>e*e,Uw=e=>1-(1-e)**2,Kw=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,Yw=e=>2*Math.asin(e)/Math.PI,Xw=.2,Zw=["initial","remove","update","add","trailing","end","none"],qw={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Xw,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},Qw=(e=>(e.Loop="loop",e.Reverse="reverse",e))(Qw||{});function Jw(e){return e.every((e=>e instanceof qk))?{nodes:e,selections:[]}:{nodes:[],selections:e}}function eC(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(((e,i)=>eC(e,t[i]))):yk(e)&&yk(t)?e.equals(t):!(!Sw(e)||!Sw(t))&&Ew(e,t,eC))}var tC=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??_w,this.phase=e.phase;const t=e.duration??qw[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,!0===e.skip&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),!1!==e.collapsable&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return eC(e.from,e.to)?0:t}play(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(n-t)):0}get delta(){return this.ease(Lk(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if("object"!==typeof t||yk(t))return this.interpolateValue(e,t);const i=[];for(const n in t){const o=this.interpolateValue(e[n],t[n]);null!=o&&i.push([n,o])}return e=>{const t={};for(const[n,o]of i)t[n]=o(e);return t}}interpolateValue(e,t){if(null!=e&&null!=t){if(yk(e))return i=>e[mk](t,i);try{switch(typeof e){case"number":return nw(e,t);case"string":return ow(e,t);case"boolean":if(e===t)return()=>e}}catch(Zfe){}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},iC={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function nC(e,t,i,n,o,a,r){const{fromFn:s,toFn:l,applyFn:c=(e,t)=>e.setProperties(t)}=o,{nodes:d,selections:u}=Jw(n),h=(n,o)=>{let d,u=0,h=0;for(const p of o){const g=n[u]===p,f={last:h>=o.length-1,lastLive:u>=n.length-1,prev:o[h-1],prevFromProps:d,prevLive:n[u-1],next:o[h+1],nextLive:n[u+(g?1:0)]},m=`${e}_${t}_${p.id}`;i.stopByAnimationId(m);let y="unknown";g?a&&r&&(y=aC(p,p.datum,a,r)):y="removed",p.transitionOut="removed"===y;const{phase:v,start:b,finish:x,delay:S,duration:M,...A}=s(p,p.datum,y,f),{phase:k,start:w,finish:C,delay:I,duration:D,...N}=l(p,p.datum,y,f),E=null==x;i.animate({id:m,groupId:e,phase:v??k??"update",duration:M??D,delay:S??I,from:A,to:N,ease:Ww,collapsable:E,onPlay:()=>{c(p,{...b,...w,...A})},onUpdate(e){c(p,e)},onStop:()=>{c(p,{...b,...w,...A,...N,...x,...C})}}),g&&u++,h++,d=A}};let p=0;for(const g of u){const n=g.nodes();h(n.filter((e=>!g.isGarbage(e))),n),i.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:Ww,onStop(){g.cleanup()}}),p++}h(d,d)}function oC(e,t,i,n,o,a,r){const{nodes:s,selections:l}=Jw(n),{start:c,finish:d,phase:u}=r;i.animate({id:`${e}_${t}`,groupId:e,phase:u??"update",from:o,to:a,ease:Ww,onPlay:()=>{if(c){for(const e of s)e.setProperties(c);for(const e of l)for(const t of e.nodes())t.setProperties(c)}},onUpdate(e){for(const t of s)t.setProperties(e);for(const t of l)for(const i of t.nodes())i.setProperties(e)},onStop:()=>{for(const e of s)e.setProperties({...a,...d});for(const e of l){for(const t of e.nodes())t.setProperties({...a,...d});e.cleanup()}}})}function aC(e,t,i,n){const o=i(e,t);return n.added.has(o)?"added":n.removed.has(o)?"removed":"updated"}var rC=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(e){this[i]!==e&&(this[i]=e,this.invalid=!0)},enumerable:!0,configurable:!1})},sC=class e{constructor(t,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=e.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=i}static is(t){return t instanceof e}transform(e){return e}transformInvert(e){return e}calcBandwidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.getDomain(),i=this.getPixelRange(),n=Math.abs(t[1]-t[0])/e+1,o=Math.floor(i),a=Math.min(n,o);return i/Math.max(1,a)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(e,t){const i=t?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const n=this.getDomain().map((e=>this.transform(e))),[o,a]=n,{range:r}=this,[s,l]=r;if(e=this.transform(e),"clamped"===i){const[t,i]=Rk(n.map(Number));if(Number(e)<t)return s;if(Number(e)>i)return l}return o===a?(s+l)/2:e===o?s:e===a?l:s+(Number(e)-Number(o))/(Number(a)-Number(o))*(l-s)}invert(e){this.refresh();const t=this.getDomain().map((e=>this.transform(e))),[i,n]=t,{range:o}=this,[a,r]=o,s=a>r;let l;return e<(s?r:a)?s?n:i:e>(s?a:r)?s?i:n:(l=a===r?this.toDomain((Number(i)+Number(n))/2):this.toDomain(Number(i)+(e-a)/(r-a)*(Number(n)-Number(i))),this.transformInvert(l))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&MA.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[e,t]=this.range;return Math.abs(t-e)}};sC.defaultTickCount=5,sC.defaultMaxTickCount=6,pA([rC],sC.prototype,"domain",2),pA([rC],sC.prototype,"range",2),pA([rC],sC.prototype,"nice",2),pA([rC],sC.prototype,"interval",2),pA([rC],sC.prototype,"tickCount",2),pA([rC],sC.prototype,"minTickCount",2),pA([rC],sC.prototype,"maxTickCount",2);var lC=sC;function cC(e){if(0===e.length)return null;let t=1/0,i=-1/0;for(let o of e)o instanceof Date&&(o=o.getTime()),"number"===typeof o&&(o<t&&(t=o),o>i&&(i=o));const n=[t,i];return n.every(isFinite)?n:null}function dC(e,t,i){let n=!1;return e.length>2&&(e=cC(e)??[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function uC(e,t){if(null==e||null==t||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!uC(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function hC(e){return"undefined"===typeof e?[]:Array.isArray(e)?e:[e]}function pC(e){return Array.from(new Set(e))}function gC(e,t){return e.reduce(((e,i)=>{const n=t(i);return e[n]??(e[n]=[]),e[n].push(i),e}),{})}function fC(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return[];const n=[];for(let o=0;o<t;o++)n.push(e.at((o+i)%e.length));return n}function mC(e,t){const i=new Map;return t.forEach(((e,t)=>{i.set(e,t)})),e.sort(((e,t)=>(i.get(e)??1/0)-(i.get(t)??1/0)))}var yC={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function vC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(e.getFullYear(),0,1);const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+6e4*i;return Math.floor(n/864e5)}function bC(e,t){const i=(t-new Date(e.getFullYear(),0,1).getDay()+7)%7,n=new Date(e.getFullYear(),0,i+1);return n<=e?Math.floor(vC(e,n)/7)+1:0}function xC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getFullYear();const i=new Date(t,0,1).getDay(),n=new Date(t,0,(4-i+7)%7-3+1);return n<=e?Math.floor(vC(e,n)/7)+1:xC(e,t-1)}var SC={a:e=>yC.shortDays[e.getDay()],A:e=>yC.days[e.getDay()],b:e=>yC.shortMonths[e.getMonth()],B:e=>yC.months[e.getMonth()],c:"%x, %X",d:(e,t)=>AC(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>AC(1e3*e.getMilliseconds(),6,t??"0"),H:(e,t)=>AC(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return 0===i?"12":AC(i,2,t??"0")},j:(e,t)=>AC(vC(e)+1,3,t??"0"),m:(e,t)=>AC(e.getMonth()+1,2,t??"0"),M:(e,t)=>AC(e.getMinutes(),2,t??"0"),L:(e,t)=>AC(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>AC(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>AC(bC(e,0),2,t??"0"),V:(e,t)=>AC(xC(e),2,t??"0"),w:(e,t)=>AC(e.getDay(),2,t??"0"),W:(e,t)=>AC(bC(e,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>AC(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>AC(e.getFullYear(),4,t??"0"),Z:e=>function(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${AC(Math.floor(i/60),2,"0")}${AC(Math.floor(i%60),2,"0")}`}(e),"%":()=>"%"},MC={_:" ",0:"0","-":""};function AC(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function kC(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(0!==i){const n=i>0?e.substring(0,i):e;t.push(n)}if(i<0)break;const n=e[i+1],o=MC[n];null!=o&&i++;const a=e[i+1],r=SC[a];if("function"===typeof r)t.push([r,o]);else if("string"===typeof r){const e=kC(r);t.push([e,o])}else t.push(`${o??""}${a}`);e=e.substring(i+2)}return e=>{const i="number"===typeof e?new Date(e):e;return t.map((e=>"string"===typeof e?e:e[0](i,e[1]))).join("")}}function wC(e){return e instanceof Date?e.getTime():e}function CC(e,t,i){const n=kC(IC(e,t,i));return e=>n(e)}function IC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1/0;for(let s=1;s<e.length;s++)n=Math.min(n,Math.abs(e[s]-e[s-1]));const o=new Date(t[0]).getFullYear(),a=new Date(t.at(-1)).getFullYear()-o>0,r=isFinite(n)?function(e,t){if(e<IA)return 0;if(e<DA)return 1;if(e<NA)return 2;if(e<EA)return 3;if(e<OA)return 4;if(e<24192e5||e<26784e5&&function(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}(t))return 5;if(e<TA)return 6;return 7}(n,e):function(e){if(zA.floor(e)<e)return 0;if($A.floor(e)<e)return 1;if(HA.floor(e)<e)return 2;if(GA.floor(e)<e)return 3;if(tk.floor(e)<e)return JA.floor(e)<e?4:5;if(nk.floor(e)<e)return 6;return 7}(e[0]);return function(e,t,i){const n=wC(i[0]),o=wC(i.at(-1)),a=Math.abs(o-n),r=t||7===e,s=[["hour",216e5,12096e5,3,"%I %p"],["hour",DA,216e5,3,"%I:%M"],["second",1e3,216e5,1,":%S"],["ms",0,216e5,0,".%L"],["am/pm",DA,216e5,3,"%p"]," ",["day",EA,OA,4,"%a"],["month",0===a?0:OA,314496e5,5,"%b %d"],["month",3024e6,31536e7,6,"%B"]," ",["year",r?0:TA,1/0,7,"%Y"]].filter((t=>{if("string"===typeof t)return!0;const[i,n,o,r]=t;return r>=e&&n<=a&&a<o})).reduce(((e,t)=>("string"===typeof t?e.result.push(t):e.used.has(t[0])||(e.result.push(t),e.used.add(t[0])),e)),{result:[],used:new Set}).result,l=s.findIndex((e=>"string"!==typeof e)),c=s.findLastIndex((e=>"string"!==typeof e));return s.slice(l,c+1).map((e=>"string"===typeof e?e:e[4])).join("").replaceAll(/\s+/g," ").trim()}(Math.max(r-i,0),a,e)}var DC=class e{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof e}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&MA.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.index=new Map,this.invalid=!0,this._domain=[];for(const t of e){const e=wC(t);void 0===this.getIndex(e)&&this.index.set(e,this._domain.push(t)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(e){this.refresh();const t=this.getIndex(e);return null==t?NaN:this.ordinalRange[t]??NaN}invert(e){this.refresh();const t=this.ordinalRange.findIndex((t=>t===e));return this.domain[t]}invertNearest(e){this.refresh();let t=-1,i=1/0;const n=this.ordinalRange.findIndex(((n,o)=>{if(n===e)return!0;const a=Math.abs(e-n);return a<i&&(i=a,t=o),!1}));return this.domain[n]??this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=Lk(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=Lk(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=Lk(0,e,1)}get paddingOuter(){return this._paddingOuter}update(){const e=this._domain.length;if(0===e)return;const[t,i]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:o,round:a}=this,r=i-t;let s;1===e?(n=0,s=r*(1-2*o)):s=r/Math.max(1,e-n+2*o);const l=a?Math.floor(s):s;let c=t+(r-l*(e-n))/2,d=l*(1-n);a&&(c=Math.round(c),d=Math.round(d)),this._step=l,this._inset=c,this._bandwidth=d,this._rawBandwidth=s*(1-n),this.ordinalRange=this._domain.map(((e,t)=>c+l*t))}getIndex(e){return this.index.get(e instanceof Date?e.getTime():e)}};pA([rC],DC.prototype,"range",2),pA([rC],DC.prototype,"round",2),pA([rC],DC.prototype,"interval",2);var NC=DC,EC=class{set(e){const{className:t=this.constructor.name}=this.constructor;if("object"!==typeof e)return MA.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const n of dw(this))if(i.has(n)){const t=e[n],o=this;if(LC(o[n]))if(o[n]instanceof OC){const e=o[n].reset(t);null!=e?o[n]=e:MA.warn(`unable to set [${n}] - expecting a properties array`)}else o[n].set(t);else o[n]=t;i.delete(n)}for(const n of i)MA.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return dw(this).every((t=>{const{optional:i}=function(e,t){const i=t.toString();for(;cw(e);){const t=e[rw];if(Object.hasOwn(t,i))return t[i];e=Object.getPrototypeOf(e)}}(this,t),n=!0===i||"undefined"!==typeof this[t];return n||MA.warnOnce(`${e??""}[${t}] is required.`),n}))}toJson(){return dw(this).reduce(((e,t)=>{const i=this[t];return e[t]=LC(i)?i.toJson():i,e}),{})}},OC=class e extends Array{constructor(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];super(i.length);const o=(a=e,Boolean(a?.prototype?.constructor?.name)?t=>(new e).set(t):e);var a;Object.defineProperty(this,"itemFactory",{value:o,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(pw(e)){this.length=e.length;for(let t=0;t<e.length;t++)this[t]=this.itemFactory(e[t])}return this}reset(t){if(Array.isArray(t))return new e(this.itemFactory,...t)}toJson(){return this.map((e=>e?.toJson?.()??e))}};function LC(e){return e instanceof EC||e instanceof OC}function TC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{optional:i=!1,property:n}=t;return lw(((o,a,r)=>{const s={...t,target:o,property:a};if(i&&"undefined"===typeof r||e(r,s))return LC(o[a])&&!LC(r)?(o[a].set(r),o[a]):r;const l=n??String(a).replace(/^_*/,""),c=o.constructor.className??o.constructor.name.replace(/Properties$/,"");let d=OI(r);if(null!=d&&d.length>50){const e=d.length-50;d=d.slice(0,50)+`... (+${e} characters)`}return MA.warn(`Property [${l}] of [${c}] cannot be set to [${d}]${e.message?`; expecting ${NI(e,s)}`:""}, ignoring.`),aw}),void 0,{optional:i})}var RC,PC=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[];return DI(((e,i)=>(n.length=0,t.every((t=>{const o=t(e,i);return o||n.push(NI(t,i)),o})))),(()=>n.filter(Boolean).join(" AND ")))},zC=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return DI(((e,i)=>t.some((t=>t(e,i)))),(e=>t.map(function(e){return t=>NI(t,e)}(e)).filter(Boolean).join(" OR ")))},jC=EI(DI(((e,t)=>LC(e)||bw(e)&&LC(t.target[t.property])),"a properties object")),BC=EI(DI((e=>bw(e)),"an object")),$C=DI(gw,"a boolean"),FC=DI(vw,"a function"),_C=DI(Mw,"a string"),HC=(RC=DI(kw,"a number"),Object.assign(RC,{restrict(){let{min:e,max:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=["a number"],n=Aw(e),o=Aw(t);return n&&o?i.push(`between ${e} and ${t} inclusive`):n?i.push(`greater than or equal to ${e}`):o&&i.push(`less than or equal to ${t}`),DI((i=>kw(i)&&(!n||i>=e)&&(!o||i<=t)),i.join(" "))}})),WC=DI((e=>Aw(e)&&!isNaN(e)),"a real number"),GC=DI((e=>Aw(e)&&isNaN(e)),"NaN"),VC=HC.restrict({min:0}),UC=HC.restrict({min:0,max:1}),KC=HC.restrict({min:-360,max:360}),YC=zC(HC,GC),XC=function(e){return Object.assign(e,{restrict(){let{length:e,minLength:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="an array";return Aw(t)&&t>0?i="a non-empty array":Aw(e)&&(i=`an array of length ${e}`),DI((i=>pw(i)&&(!Aw(e)||i.length===e)&&(!Aw(t)||i.length>=t)),i)}})}(DI(pw,"an array")),ZC=(e,t)=>DI(((t,i)=>pw(t)&&t.every((t=>e(t,i)))),(e=>{const i=NI(XC,e)??"";return t?`${i} of ${t}`:i})),qC=e=>kw(e)||mw(e),QC=e=>DI(((t,i)=>!qC(t)||!qC(i.target[e])||t<i.target[e]),`to be less than ${e}`),JC=e=>DI(((t,i)=>!qC(t)||!qC(i.target[e])||t>i.target[e]),`to be greater than ${e}`),eI=DI(mw,"Date object"),tI=zC(eI,VC),iI="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",nI=DI((e=>Mw(e)&&iw.validColorString(e)),`color String. ${iI}`),oI=DI(ZC(nI),`color strings. ${iI}`),aI=ZC($C,"boolean values"),rI=ZC(HC,"numbers"),sI=ZC(_C,"strings"),lI=DI(ZC(eI),"Date objects"),cI=DI(ZC(jC),"objects"),dI=wI(["butt","round","square"],"a line cap"),uI=wI(["round","bevel","miter"],"a line join"),hI=wI(["solid","dashed","dotted"],"a line style"),pI=DI(ZC(VC),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),gI=wI(["top","right","bottom","left"],"a position"),fI=wI(["normal","italic","oblique"],"a font style"),mI=zC(wI(["normal","bold","bolder","lighter"],"a font weight"),HC.restrict({min:1,max:1e3})),yI=wI(["never","always","hyphenate","on-space"],"a text wrap strategy"),vI=wI(["left","center","right"],"a text align"),bI=wI(["top","middle","bottom"],"a vertical align"),xI=wI(["ellipsis","hide"],"an overflow strategy"),SI=wI(["horizontal","vertical"],"a direction"),MI=wI(["inside","outside"],"a placement"),AI=zC(wI(["exact","nearest"],"interaction range"),HC),kI=wI(["top","bottom","left","right"]);function wI(e){return DI(((t,i)=>{const n=e.find((e=>{const i="string"===typeof e?e:e.value;return t===i}));if(null==n)return!1;if("string"!==typeof n&&(!0===n.deprecated||null!=n.deprecatedTo)){const e=[`Property [%s] with value '${n.value}' is deprecated.`];n.deprecatedTo&&e.push(`Use ${n.deprecatedTo} instead.`),MA.warnOnce(e.join(" "),i.property)}return!0}),`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a"} keyword such as ${function(e){const t=e.filter((e=>"string"===typeof e||!0!==e.undocumented)).map((e=>`'${"string"===typeof e?e:e.value}'`));if(1===t.length)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}(e)}`)}var CI=zC(PC(HC.restrict({min:1}),QC("maxSpacing")),GC),II=zC(PC(HC.restrict({min:1}),JC("minSpacing")),GC);function DI(e,t){return e.message=t,e}function NI(e,t){return vw(e.message)?e.message(t):e.message}function EI(e){return Object.assign(e,{restrict:t=>DI((e=>e instanceof t),(i=>NI(e,i)??`an instance of ${t.name}`))})}function OI(e){if("number"===typeof e){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var LI=(e=>(e.X="x",e.Y="y",e))(LI||{}),TI=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){const t=Mw(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(Mw(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(Mw(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),((t,i)=>e(t.moduleInstance,i)))}destroy(){for(const e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},RI={};function PI(e,t){const{nodes:i,selections:n}=Jw(e);for(const o of n){for(const e of o.nodes()){const i=t(e,e.datum);e.setProperties(i)}o.cleanup()}for(const o of i){const e=t(o,o.datum);o.setProperties(e)}}function zI(e){let t,i;const n=$I.exec(e);n&&([,t,e,i]=n);const o=BI.exec(e);if(!o)throw new Error(`The number formatter is invalid: ${e}`);const[,a,r,s,l,c,d,u,h,p,g]=o;return{fill:a,align:r,sign:s,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:Boolean(p),type:g,prefix:t,suffix:i}}function jI(e){const t="string"===typeof e?zI(e):e,{fill:i,align:n,sign:o="-",symbol:a,zero:r,width:s,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=t;let{trim:p}=t;const g=null==h||isNaN(h);let f,m;if(c)if(c in _I&&c in FI)f=g?FI[c]:_I[c];else if(c in _I)f=_I[c];else{if(!(c in FI))throw new Error(`The number formatter type is invalid: ${c}`);f=FI[c]}else f=_I.g,p=!0;return m=null==h||g?c?6:12:h,e=>{let t=f(e,m);return p&&(t=t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),l&&(t=function(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),o=e.substring(i);for(let a=n.length-3;a>0;a-=3)n.splice(a,0,t);return`${n.join("")}${o}`}(t,l)),t=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===i)return e>=0?t:`(${t})`;const n="+"===i?"+":"";return`${e>=0?n:VI}${t}`}(e,t,o),a&&"#"!==a&&(t=`${a}${t}`),"#"===a&&"x"===c&&(t=`0x${t}`),"s"===c&&(t=`${t}${function(e){return GI[KI(e)]}(e)}`),"%"!==c&&"p"!==c||(t=`${t}%`),null==s||isNaN(s)||(t=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",o=e;if(">"!==n&&n){if("<"===n)o=o.padEnd(t,i);else if("^"===n){const e=Math.max(0,t-o.length),n=Math.ceil(e/2),a=Math.floor(e/2);o=o.padStart(n+o.length,i),o=o.padEnd(a+o.length,i)}}else o=o.padStart(t,i);return o}(t,s,i??r,n)),t=`${d}${t}${u}`,t}}hA(RI,{resetMotion:()=>PI});var BI=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,$I=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,FI={b:e=>UI(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>UI(e).toString(8),x:e=>UI(e).toString(16),X:e=>FI.x(e).toUpperCase(),n:e=>FI.d(e),"%":e=>`${UI(100*e).toFixed(0)}`},_I={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>_I.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>_I.f(e,t).toUpperCase(),g:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>_I.g(e,t).toUpperCase(),n:(e,t)=>_I.g(e,t),p:(e,t)=>_I.r(100*e,t),r:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i))-(t-1);if(n<=0)return i.toFixed(-n);const o=10**n;return(Math.round(i/o)*o).toFixed()},s:(e,t)=>{const i=KI(e);return _I.r(e/10**i,t)},"%":(e,t)=>_I.f(100*e,t)},HI=-24,WI=24,GI={[HI]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[WI]:"Y"},VI="\u2212";function UI(e){return Math.floor(Math.abs(e))}function KI(e){return Lk(HI,e?3*Math.floor(Math.log10(Math.abs(e))/3):0,WI)}var YI=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),XI=[YI(zA,IA,1),YI(zA,IA,5),YI(zA,IA,15),YI(zA,IA,30),YI($A,DA,1),YI($A,DA,5),YI($A,DA,15),YI($A,DA,30),YI(HA,NA,1),YI(HA,NA,3),YI(HA,NA,6),YI(HA,NA,12),YI(GA,EA,1),YI(GA,EA,2),YI(JA,OA,1),YI(JA,OA,2),YI(JA,OA,3),YI(tk,LA,1),YI(tk,LA,2),YI(tk,LA,3),YI(tk,LA,4),YI(tk,LA,6),YI(nk,TA,1)],ZI=[1,2,5,10];function qI(e,t){return Math.abs(Math.round(e)-e)<t}function QI(e,t,i,n,o){if(i<2)return[e,t];const a=eD(e,t,i,n,o);return Number.isFinite(a)?(qI(e/a,1e-12)||(e=Math.ceil(e/a)*a),qI(t/a,1e-12)||(t=Math.floor(t/a)*a),nD(e,t,a)):[]}function JI(e,t,i,n,o,a){const r=a??Math.abs(t-e)/Math.max(i,1);let s=0;for(const h of XI){if(r<=h.duration)break;s++}if(0===s){const a=Math.max(eD(e,t,i,n,o),1);return CA.every(a)}if(s===XI.length){const r=null==a?eD(e/TA,t/TA,i,n,o):1;return nk.every(r)}const l=XI[s-1],c=XI[s],{timeInterval:d,step:u}=r-l.duration<c.duration-r?l:c;return d.every(u)}function eD(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(e===t)return Lk(1,n,o);if(i<1)return NaN;const a=Math.abs(t-e),r=10**Math.floor(Math.log10(a/i));let s=NaN,l=1/0,c=!1;for(const d of ZI){const e=Math.ceil(a/(d*r)),t=e>=n&&e<=o;if(c&&!t)continue;const u=Math.abs(e-i);(l>u||c!==t)&&(c||(c=t),l=u,s=d)}return s*r}function tD(e){for(let t=e.length-1;t>=0;t-=1)if("0"!==e[t])return t+1;return 0}function iD(e,t){const i=zI(t??",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map((e=>{if(!Number.isFinite(e))return 0;const[t,n]=e.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==t&&"-1"!==t?1:0)+tD(n)+1}))):"f%".includes(i.type)&&(i.precision=Math.max(...e.map((e=>{if(!Number.isFinite(e)||0===e)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=i.type?6:12,o=tD(e.toExponential(n-1).split(/\.|e/g)[1]);return Math.max(0,o-t)})))));const n=jI(i);return e=>n(Number(e))}function nD(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**_k(i),o=Math.min(e,t),a=Math.max(e,t),r=[];for(let s=0;;s+=1){const e=Math.round((o+i*s)*n)/n;if(!(e<=a))break;r.push(e)}return r}function oD(e,t){return e>=t&&(MA.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var aD=class e extends lC{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=xA,this.basePow=xA,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,MA.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=e.getBaseLogMethod(this.base),this.basePow=e.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[e,t]=this.domain,i=e>t?Math.ceil:Math.floor,n=e>t?Math.floor:Math.ceil,o=this.pow(i(this.log(e))),a=this.pow(n(this.log(t)));this.niceDomain=[o,a]}ticks(){const e=this.tickCount??10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const t=this.base,[i,n]=this.getDomain(),o=Math.min(i,n),a=Math.max(i,n);let r=this.log(o),s=this.log(a);if(this.interval){const e=e=>e>=o&&e<=a,t=nD(r,s,Math.min(Math.abs(this.interval),Math.abs(s-r))).map(this.pow).filter(e);if(!oD(t.length,this.getPixelRange()))return t}if(!(t%1===0)||s-r>=e)return QI(r,s,Math.min(s-r,e)).map(this.pow);const l=[],c=o>0;r=Math.floor(r)-1,s=Math.round(s)+1;const d=Pk(this.range)/e;let u=1/0;for(let h=r;h<=s;h++){const e=this.convert(this.pow(h+1));for(let i=1;i<t;i++){const n=c?i:t-i+1,r=this.pow(h)*n,s=this.convert(r),p=Math.abs(u-s),g=Math.abs(s-e);r>=o&&r<=a&&(1===i||p>=d&&g>=d||0===l.length)&&(l.push(r),u=s)}}return l}tickFormat(e){let{count:t,ticks:i,specifier:n}=e;return t!==1/0&&null==i&&this.ticks(),n??(n=10===this.base?".0e":","),Mw(n)?jI(n):n}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:return t=>Math.log(t)/Math.log(e)}}static getBasePowerMethod(e){switch(e){case 10:return e=>e>=0?10**e:1/10**-e;case Math.E:return Math.exp;default:return t=>e**t}}};pA([rC],aD.prototype,"base",2);var rD=aD,sD=class e extends lC{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return super.convert(new Date(e),t)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:t,nice:i,tickCount:n,minTickCount:o,maxTickCount:a}=this,[r,s]=Rk(this.getDomain().map(wC));return null!=t?e.getTicksForInterval({start:r,stop:s,interval:t,availableRange:this.getPixelRange()})??e.getDefaultTicks({start:r,stop:s,tickCount:n,minTickCount:o,maxTickCount:a}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):e.getDefaultTicks({start:r,stop:s,tickCount:n,minTickCount:o,maxTickCount:a})}static getDefaultTicks(e){let{start:t,stop:i,tickCount:n,minTickCount:o,maxTickCount:a}=e;const r=JI(t,i,n,o,a);return r?r.range(new Date(t),new Date(i)):[]}static getTicksForInterval(e){let{start:t,stop:i,interval:n,availableRange:o}=e;if(!n)return[];if(n instanceof AA){const e=n.range(new Date(t),new Date(i));if(oD(e.length,o))return;return e}const a=Math.abs(n);if(oD((i-t)/a,o))return;const r=XI.findLast((e=>a%e.duration===0));if(r){return r.timeInterval.every(a/(r.duration/r.step)).range(new Date(t),new Date(i))}let s=new Date(t);const l=new Date(i),c=[];for(;s<=l;)c.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+a);return c}tickFormat(e){let{ticks:t,domain:i,specifier:n,formatOffset:o}=e;return null==n?CC(t,i,o):kC(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[e,t]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(e,t);const[i,n]=this.niceDomain;if(wC(e)===wC(i)&&wC(t)===wC(n))break;e=i,t=n}}updateNiceDomainIteration(e,t){const i=Math.min(wC(e),wC(t)),n=Math.max(wC(e),wC(t)),o=e>t,{interval:a}=this;let r;if(a instanceof AA)r=a;else{r=JI(i,n,"number"===typeof a?(n-i)/Math.max(a,1):this.tickCount,this.minTickCount,this.maxTickCount)}if(r){const e=r.range(new Date(i),new Date(n),!0),t=o?[...e].reverse():e,a=t[0],s=t.at(-1);this.niceDomain=[a,s]}}};function lD(e,t){return e-t}var cD=class e extends NC{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=lC.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof e}setVisibleRange(e){this.visibleRange=e}set domain(e){this.invalid=!0,0!==e.length?(this._domain=e,this.timestamps=pC(e.map(wC)),this.sortedTimestamps=this.timestamps.slice().sort(lD)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[e,t]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(e,t),n=Math.max(e,t),o=e>t;let a;if(null==this.interval)a=this.getDefaultTicks(this.maxTickCount,o);else{const[e,t]=this.range,o=Math.abs(t-e);a=sD.getTicksForInterval({start:i,stop:n,interval:this.interval,availableRange:o})??[]}const r=new Set;return a.filter((e=>{const t=this.convert(e);return!isNaN(t)&&!r.has(t)&&(r.add(t),!0)}))}getDefaultTicks(e,t){const i=[],n=this.timestamps.length,o=Math.ceil(n*(this.visibleRange[1]-this.visibleRange[0])/e),a=Math.floor(o/2);for(const[r,s]of this.timestamps.entries())o>0&&(r+a)%o||(t?i.push(new Date(this.timestamps[n-r-1])):i.push(new Date(s)));return i}convert(e){this.refresh();const t=Number(e);if(t<this.sortedTimestamps[0])return NaN;let i=this.findInterval(t);return this.timestamps[0]!==this.sortedTimestamps[0]&&(i=this.timestamps.length-i-1),this.ordinalRange[i]??NaN}findInterval(e){const{sortedTimestamps:t}=this;let i=0,n=t.length-1;for(;i<=n;){const o=Math.floor((i+n)/2);if(t[o]===e)return o;t[o]<e?i=o+1:n=o-1}return i}tickFormat(e){let{ticks:t,domain:i,specifier:n}=e;return null==n?CC(t,i):kC(n)}invert(e){this.refresh();const t=this.ordinalRange.findIndex((t=>e<=t));return this.domain[t]}invertNearest(e){return new Date(super.invertNearest(e))}};pA([rC],cD.prototype,"tickCount",2),pA([rC],cD.prototype,"minTickCount",2),pA([rC],cD.prototype,"maxTickCount",2),pA([rC],cD.prototype,"interval",2);var dD=cD;function uD(e,t){return"number"===typeof e&&"number"===typeof t?e-t:"string"===typeof e&&"string"===typeof t?e.localeCompare(t):null==e&&null==t?0:null==e?-1:null==t?1:String(e).localeCompare(String(t))}function hD(e){return"function"===typeof e?e():e}function pD(e,t,i){for(const n in e){const o=i(hD(e[n]),hD(t[n]));if(0!==o)return o}return 0}function gD(e){let t=1,i=e.visible?1:0,n=e.dirty>0?1:0;for(const o of e.children(!1)){const e=gD(o);t+=e.count,n+=e.dirtyCount,i+=e.visibleCount}return{count:t,visibleCount:i,dirtyCount:n}}var fD=Object.freeze([1,0,0,1,0,0]);function mD(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8;return e===t||Math.abs(t-e)<i}var yD=class e{get e(){return[...this.elements]}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[...fD];this.elements=e}setElements(e){const t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this}get identity(){const e=this.elements;return mD(e[0],1)&&mD(e[1],0)&&mD(e[2],0)&&mD(e[3],1)&&mD(e[4],0)&&mD(e[5],0)}AxB(e,t,i){const n=e[0]*t[0]+e[2]*t[1],o=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],r=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];(i=i??e)[0]=n,i[1]=o,i[2]=a,i[3]=r,i[4]=s,i[5]=l}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(t){const i=new Array(6);return t instanceof e?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new e(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],o=t[2],a=t[3];const r=t[4],s=t[5],l=1/(i*a-n*o);return i*=l,n*=l,o*=l,a*=l,new e([a,-n,-o,i,o*s-a*r,n*r-i*s])}inverseTo(e){const t=this.elements;let i=t[0],n=t[1],o=t[2],a=t[3];const r=t[4],s=t[5],l=1/(i*a-n*o);return i*=l,n*=l,o*=l,a*=l,e.setElements([a,-n,-o,i,o*s-a*r,n*r-i*s]),this}invertSelf(){const e=this.elements;let t=e[0],i=e[1],n=e[2],o=e[3];const a=e[4],r=e[5],s=1/(t*o-i*n);return t*=s,i*=s,n*=s,o*=s,e[0]=o,e[1]=-i,e[2]=-n,e[3]=t,e[4]=n*r-o*a,e[5]=i*a-t*r,this}transformPoint(e,t){const i=this.elements;return{x:e*i[0]+t*i[2]+i[4],y:e*i[1]+t*i[3]+i[5]}}transformBBox(e,t){const i=this.elements,n=i[0],o=i[1],a=i[2],r=i[3],s=.5*e.width,l=.5*e.height,c=e.x+s,d=e.y+l,u=Math.abs(s*n)+Math.abs(l*a),h=Math.abs(s*o)+Math.abs(l*r);return t??(t=new Vk(0,0,0,0)),t.x=c*n+d*a+i[4]-u,t.y=c*o+d*r+i[5]-h,t.width=u+u,t.height=h+h,t}toContext(e){if(this.identity)return;const t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}static flyweight(t){return e.instance.setElements(t.elements)}static updateTransformMatrix(e,t,i,n,o,a,r){const s=t,l=i;let c,d;1===s&&1===l?(c=0,d=0):(c=r?.scalingCenterX??0,d=r?.scalingCenterY??0);const u=n,h=Math.cos(u),p=Math.sin(u);let g,f;0===u?(g=0,f=0):(g=r?.rotationCenterX??0,f=r?.rotationCenterY??0);const m=o,y=a,v=c*(1-s)-g,b=d*(1-l)-f;return e.setElements([h*s,p*s,-p*l,h*l,h*v-p*b+g+m,p*v+h*b+f+y]),e}static fromContext(t){const i=t.getTransform();return new e([i.a,i.b,i.c,i.d,i.e,i.f])}};yD.instance=new yD;var vD=yD;function bD(e){return SD(e.constructor)}var xD=Symbol("isMatrixTransform");function SD(e){return!0===e[xD]}function MD(e){var t;const i=e;if(SD(e))return e;const n=Symbol("matrix_combined_transform");class o extends i{constructor(){super(...arguments),this[t]=new vD,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty(3)}updateMatrix(e){}computeTransformMatrix(){this._dirtyTransform&&(this[n].setElements(fD),this.updateMatrix(this[n]),this._dirtyTransform=!1)}toParent(e){return this.computeTransformMatrix(),this[n].identity?e.clone():this[n].transformBBox(e)}toParentPoint(e,t){return this.computeTransformMatrix(),this[n].identity?{x:e,y:t}:this[n].transformPoint(e,t)}fromParent(e){return this.computeTransformMatrix(),this[n].identity?e.clone():this[n].inverse().transformBBox(e)}fromParentPoint(e,t){return this.computeTransformMatrix(),this[n].identity?{x:e,y:t}:this[n].inverse().transformPoint(e,t)}computeBBox(){const e=super.computeBBox();return e?this.toParent(e):e}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||({x:e,y:t}=this.fromParentPoint(e,t)),super.pickNode(e,t)}render(e){this._dirtyTransform&&(this.computeTransformMatrix(),e.forceRender||(e={...e,forceRender:"dirtyTransform"}));const t=this[n];let i=!1;t.identity||(e.ctx.save(),i=!0,t.toContext(e.ctx)),super.render(e),i&&e.ctx.restore()}toSVG(){const e=super.toSVG(),t=this[n];if(t.identity||null==e)return e;const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.append(...e.elements);const[o,a,r,s,l,c]=t.e;return i.setAttribute("transform",`matrix(${o} ${a} ${r} ${s} ${l} ${c})`),{elements:[i],defs:e.defs}}}return t=n,o[xD]=!0,o}function AD(e){var t;const i=e,n=Symbol("matrix_rotation");class o extends(MD(i)){constructor(){super(...arguments),this[t]=new vD,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(e){super.updateMatrix(e);const{rotation:t,rotationCenterX:i,rotationCenterY:o}=this;0!==t&&(vD.updateTransformMatrix(this[n],1,1,t,0,0,{rotationCenterX:i,rotationCenterY:o}),e.multiplySelf(this[n]))}}return t=n,pA([Kk({type:"transform"})],o.prototype,"rotationCenterX",2),pA([Kk({type:"transform"})],o.prototype,"rotationCenterY",2),pA([Kk({type:"transform"})],o.prototype,"rotation",2),o}function kD(e){var t;const i=e,n=Symbol("matrix_scale");class o extends(MD(i)){constructor(){super(...arguments),this[t]=new vD,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(e){super.updateMatrix(e);const{scalingX:t,scalingY:i,scalingCenterX:o,scalingCenterY:a}=this;1===t&&1===i||(vD.updateTransformMatrix(this[n],t,i,0,0,0,{scalingCenterX:o,scalingCenterY:a}),e.multiplySelf(this[n]))}}return t=n,pA([Kk({type:"transform"})],o.prototype,"scalingX",2),pA([Kk({type:"transform"})],o.prototype,"scalingY",2),pA([Kk({type:"transform"})],o.prototype,"scalingCenterX",2),pA([Kk({type:"transform"})],o.prototype,"scalingCenterY",2),o}function wD(e){var t;const i=e,n=Symbol("matrix_translation");class o extends(MD(i)){constructor(){super(...arguments),this[t]=new vD,this.translationX=0,this.translationY=0}updateMatrix(e){super.updateMatrix(e);const{translationX:t,translationY:i}=this;0===t&&0===i||(vD.updateTransformMatrix(this[n],1,1,0,t,i),e.multiplySelf(this[n]))}}return t=n,pA([Kk({type:"transform"})],o.prototype,"translationX",2),pA([Kk({type:"transform"})],o.prototype,"translationY",2),o}var CD=class{static fromCanvas(e,t){const i=[];for(const n of e.traverseUp())bD(n)&&i.unshift(n);for(const n of i)t=n.fromParent(t);return bD(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){null==t?t=e.getBBox():bD(e)&&(t=e.toParent(t));for(const i of e.traverseUp())bD(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const n=[];for(const o of e.traverseUp())bD(o)&&n.unshift(o);for(const o of n)({x:t,y:i}=o.fromParentPoint(t,i));return bD(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){bD(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const n of e.traverseUp())bD(n)&&({x:t,y:i}=n.toParentPoint(t,i));return{x:t,y:i}}},ID=class e extends qk{constructor(e){super(e),this.opts=e,this.opacity=1,this.isContainerNode=!0,this.zIndexSubOrder=e?.zIndexSubOrder}static is(t){return t instanceof e}static computeChildrenBBox(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Vk.merge(qk.extractBBoxes(e,t))}static compareChildren(e,t){return pD([e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.serialNumber],[t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.serialNumber],uD)}containsPoint(e,t){return!0}computeBBox(){return e.computeChildrenBBox(this.children())}preRender(){const e=super.preRender();return e.groups+=1,e.nonGroups-=1,e}isDirty(e){const{resized:t}=e,{dirty:i,dirtyZIndex:n}=this,o=i>=2||n||t;let a=o,r=!1;for(const s of this.children())if(a||(a=null==s.layerManager&&s.dirty>=1),r||(r=null!=s.layerManager&&s.dirty>=1),a)break;return this.opts?.name&&this._debug?.({name:this.opts.name,group:this,isDirty:o,isChildDirty:a,renderCtx:e}),{isDirty:o,isChildDirty:a,isChildLayerDirty:r}}debugSkip(e){e.stats&&this.opts?.name&&this._debug?.({name:this.opts.name,group:this,result:"skipping",counts:gD(this),renderCtx:e})}render(t,i){if(i)return super.render(t);const{opts:{name:n}={},_debug:o}=this,{isDirty:a,isChildDirty:r,isChildLayerDirty:s}=this.isDirty(t),{ctx:l,stats:c}=t;let{forceRender:d}=t;if(!a&&!r&&!s&&!d)return this.debugSkip(t),void this.markClean({recursive:!1});"dirtyTransform"!==d&&(d||(d=this.dirtyZIndex)),l.globalAlpha*=this.opacity,this.dirtyZIndex&&this.sortChildren(e.compareChildren);const u=this.sortedChildren(),h=this.renderClip(t)??t.clipBBox,p=d!==t.forceRender||h!==t.clipBBox;this.renderChildren(u,p?{...t,forceRender:d,clipBBox:h}:t),super.render(t),this.clipRect&&l.restore();for(const e of this.virtualChildren())e.markClean({recursive:"virtual"});n&&c&&o?.({name:n,renderCtx:t,result:"rendered",skipped:c.nodesSkipped,counts:gD(this),group:this})}sortedChildren(){let t=this.children();return this.hasVirtualChildren()&&(t=[...t].sort(e.compareChildren)),t}renderClip(e){if(!this.clipRect)return;const{x:t,y:i,width:n,height:o}=this.clipRect,{ctx:a}=e;return a.save(),a.beginPath(),a.rect(t,i,n,o),a.clip(),this._debug?.((()=>({name:this.opts?.name,clipRect:this.clipRect,ctxTransform:a.getTransform(),renderCtx:e,group:this}))),CD.toCanvas(this,this.clipRect)}renderChildren(e,t){const{ctx:i,forceRender:n,stats:o}=t;for(const a of e)a.visible&&this.visible?n||0!==a.dirty?(i.save(),a.render(t),i.restore()):o&&(o.nodesSkipped+=gD(a).count):(a.markClean(),o&&(o.nodesSkipped+=gD(a).count))}setClipRect(e){this.clipRect=e?CD.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}toSVG(){if(!this.visible)return;const e=[],t=[];for(const i of this.sortedChildren()){const n=i.toSVG();null!=n&&(t.push(...n.elements),null!=n.defs&&e.push(...n.defs))}return{elements:t,defs:e}}};ID.className="Group",pA([Kk({redraw:3,convertor:e=>Lk(0,e,1)})],ID.prototype,"opacity",2);var DD=ID,ND=class extends(kD(DD)){},ED=class extends(AD(DD)){},OD=class extends(wD(DD)){},LD=class extends(AD(wD(DD))){},TD=Date.now(),RD={create(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Object.assign((function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];RD.check(...t)&&("function"===typeof i[0]&&(i=hC(i[0]())),(()=>{const e=Date.now()-TD;if(e>2e3){const t=(Math.floor(e/100)/10).toFixed(1);MA.log(`**** ${t}s since last log message ****`)}TD=Date.now()})(),MA.log(...i))}),{check:()=>RD.check(...t)})},check(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];0===t.length&&t.push(!0);return hC(Mk("agChartsDebug")).some((e=>t.includes(e)))}},PD=class e{constructor(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=e,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=RD.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(qk,t)?()=>new t:t}static select(t,i){return new e(t,i,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(e,t){const i=[],n=e=>{t(e)&&i.push(e);for(const t of e.children())n(t)};return n(e),i}static selectByClass(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return e.selectAll(t,(e=>n.some((t=>e instanceof t))))}static selectByTag(t,i){return e.selectAll(t,(e=>e.tag===i))}createNode(e,t,i){const n=this.nodeFactory(e);return n.datum=e,t?.(n),null==i?this._nodes.push(n):this._nodes.splice(i,0,n),this.parentNode.appendChild(n),n}update(e,t,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${e}`),i){const n=new Map(e.map(((e,t)=>[i(e),[e,t]])));for(const[e,t]of this._nodesMap.entries())if(n.has(t)){const[i]=n.get(t);e.datum=i,this.garbageBin.delete(e),n.delete(t)}else this.garbageBin.add(e);for(const[e,[i,o]]of n.entries())this._nodesMap.set(this.createNode(i,t,o),e)}else{const i=Math.max(e.length,this.data.length);for(let n=0;n<i;n++)n>=e.length?this.garbageBin.add(this._nodes[n]):n>=this._nodes.length?this.createNode(e[n],t):(this._nodes[n].datum=e[n],this.garbageBin.delete(this._nodes[n]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter((e=>!this.garbageBin.has(e)||(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1)))),this}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(const t of this._nodes.entries())e(t[1],t[1].datum,t[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const t=this._nodes[e];yield{node:t,datum:t.datum,index:e}}}select(t){return e.selectAll(this.parentNode,t)}selectByClass(t){return e.selectByClass(this.parentNode,t)}selectByTag(t){return e.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}},zD=2*Math.PI;function jD(e){return e%=zD,e+=zD,e%=zD}function BD(e){return e%=zD,(e+=zD)!==zD&&(e%=zD),e}function $D(e){return(e%=zD)<-Math.PI?e+=zD:e>=Math.PI&&(e-=zD),e}function FD(e,t,i){const n=jD(e),o=jD(t),a=jD(i);return o<a?o<=n&&n<=a:!(o>a)||(o<=n||n<=a)}function _D(e){return e/180*Math.PI}function HD(e){return e/Math.PI*180}function WD(e,t,i){i&&([e,t]=[t,e]);const n=jD(e);return(jD(t)+zD-n)%zD}function GD(e,t){return e=jD(e),(t=jD(t))-e+(e>t?2*Math.PI:0)}function VD(e,t,i,n){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}function UD(e,t){return GD(e,t)<1e-6?t:jD(e-t)+t}function KD(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(t-e)>=2*Math.PI?2*Math.PI:jD(t-e);return{startAngle:e=UD(e,i),endAngle:t=e+n}}function YD(e,t,i,n){const o=e-i,a=t-n;return o*o+a*a}function XD(e,t,i,n,o,a,r){if(i===o&&n===a)return Math.min(r,YD(e,t,i,n));const s=o-i,l=a-n,c=Math.max(0,Math.min(1,((e-i)*s+(t-n)*l)/(s*s+l*l))),d=i+c*s,u=n+c*l;return Math.min(r,YD(e,t,d,u))}function ZD(e,t,i,n,o,a,r,s,l){s&&([r,a]=[a,r]);if(!FD(Math.atan2(t-n,e-i),a,r)){const r=i+Math.cos(a)*o,s=n+Math.sin(a)*o,c=i+Math.cos(a)*o,d=n+Math.sin(a)*o;return Math.min(l,YD(e,t,r,s),YD(e,t,c,d))}const c=o-Math.sqrt(YD(e,t,i,n));return Math.min(l,c*c)}var qD=e=>{const t=iw.fromString(e),[i,n,o]=iw.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:o,a:t.a}},QD=1e-6,JD=e=>e.c<QD||e.l<QD||e.l>.999999,eN=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(qD)}update(){const{domain:e,range:t}=this;e.length<2&&(MA.warnOnce("`colorDomain` should have at least 2 values."),0===e.length?e.push(0,1):1===e.length&&e.push(e[0]+1));for(let i=1;i<e.length;i++){if(e[i-1]>=e[i]){MA.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort(((e,t)=>e-t));break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(qD)}convert(e){this.refresh();const{domain:t,range:i,parsedRange:n}=this,o=t[0],a=t.at(-1),r=i[0],s=i[i.length-1];if(e<=o)return r;if(e>=a)return s;let l,c;if(2===t.length){const t=(e-o)/(a-o),n=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(t*(i.length-1)),i.length-2),c=(t-l*n)/n}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const i=t[l];c=(e-i)/(t[l+1]-i)}return((e,t,i)=>{let n;if(i=Lk(0,i,1),JD(e))n=t.h;else if(JD(t))n=e.h;else{const o=e.h;let a=t.h;const r=t.h-e.h;r>180?a-=360:r<-180&&(a+=360),n=o*(1-i)+a*i}const o=e.c*(1-i)+t.c*i,a=e.l*(1-i)+t.l*i,r=e.a*(1-i)+t.a*i;return iw.fromOKLCH(a,o,n,r)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&MA.warnOnce("Expected update to not invalidate scale"))}};pA([rC],eN.prototype,"domain",2),pA([rC],eN.prototype,"range",2);var tN=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t){const i=this.bbox??t;if(null!=this._cache&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:o}=this;if(0===n.length)return;if(1===n.length)return n[0].color;let a=this.createCanvasGradient(e,i);if(null==a)return;const r="oklch"===o;let s=n[0];a.addColorStop(s.offset,s.color);for(let l=1;l<n.length;l+=1){const e=n[l];if(r){const t=new eN;t.domain=[s.offset,e.offset],t.range=[s.color,e.color];for(let i=s.offset+.05;i<e.offset;i+=.05)a.addColorStop(i,t.convert(i))}a.addColorStop(e.offset,e.color),s=e}return"createPattern"in a&&(a=a.createPattern()),this._cache={ctx:e,bbox:i,gradient:a},a}},iN=class extends tN{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,t,arguments.length>3?arguments[3]:void 0),this.angle=i}createCanvasGradient(e,t){const{angle:i}=this,n=jD(_D(i+90)),o=Math.cos(n),a=Math.sin(n),r=t.width,s=t.height,l=t.x+.5*r,c=t.y+.5*s,d=Math.sqrt(s*s+r*r)/2,u=Math.atan2(s,r);let h;h=n<Math.PI/2?n:n<Math.PI?Math.PI-n:n<1.5*Math.PI?n-Math.PI:2*Math.PI-n;const p=d*Math.abs(Math.cos(h-u));return e.createLinearGradient(l+o*p,c+a*p,l-o*p,c-a*p)}},nN=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,oN=class e extends qk{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=e.defaultStyles.fill,this.stroke=e.defaultStyles.stroke,this.strokeWidth=e.defaultStyles.strokeWidth,this.lineDash=e.defaultStyles.lineDash,this.lineDashOffset=e.defaultStyles.lineDashOffset,this.lineCap=e.defaultStyles.lineCap,this.lineJoin=e.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=e.defaultStyles.opacity,this.fillShadow=e.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}onFillChange(){const{fill:e}=this;let t;if(e instanceof tN)this.gradient=e;else if(e?.startsWith("linear-gradient")&&(t=nN.exec(e))){const e=parseFloat(t[1]),i=[],n=t[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let a;for(;a=o.exec(n);)i.push(a[0]);this.gradient=new iN("rgb",i.map(((e,t)=>({color:e,offset:t/(i.length-1)}))),e)}else this.gradient=void 0}align(e,t){const i=this.layerManager?.canvas?.pixelRatio??1,n=Math.round(e*i)/i;return null==t?n:0===t?0:t<1?Math.ceil(t*i)/i:Math.round((t+e)*i)/i-n}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){if(this.fill){const{globalAlpha:i}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=i}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,t){t?e.fill(t):e.fill()}applyFill(e){e.fillStyle=this.gradient?.createGradient(e,this.getBBox())??("string"===typeof this.fill?this.fill:void 0)??"black"}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){const t=this.layerManager?.canvas.pixelRatio??1,i=this.fillShadow;i?.enabled&&(e.shadowColor=i.color,e.shadowOffsetX=i.xOffset*t,e.shadowOffsetY=i.yOffset*t,e.shadowBlur=i.blur*t)}renderStroke(e,t){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=e;e.strokeStyle=this.stroke,e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),null!=this.miterLimit&&(e.miterLimit=this.miterLimit),this.executeStroke(e,t),e.globalAlpha=i}}executeStroke(e,t){t?e.stroke(t):e.stroke()}containsPoint(e,t){return this.isPointInPath(e,t)}};oN.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},pA([Kk({redraw:2})],oN.prototype,"fillOpacity",2),pA([Kk({redraw:2})],oN.prototype,"strokeOpacity",2),pA([Kk({redraw:2,changeCb:e=>e.onFillChange()})],oN.prototype,"fill",2),pA([Kk({redraw:2})],oN.prototype,"stroke",2),pA([Kk({redraw:2})],oN.prototype,"strokeWidth",2),pA([Kk({redraw:2})],oN.prototype,"lineDash",2),pA([Kk({redraw:2})],oN.prototype,"lineDashOffset",2),pA([Kk({redraw:2})],oN.prototype,"lineCap",2),pA([Kk({redraw:2})],oN.prototype,"lineJoin",2),pA([Kk({redraw:2})],oN.prototype,"miterLimit",2),pA([Kk({redraw:2,convertor:e=>Lk(0,e,1)})],oN.prototype,"opacity",2),pA([Kk({redraw:2,checkDirtyOnAssignment:!0})],oN.prototype,"fillShadow",2);var aN=oN,rN=class extends aN{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Vk(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return(this.x1===this.x2||this.y1===this.y2)&&this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t)}distanceSquared(e,t){const{x1:i,y1:n,x2:o,y2:a}=this;return XD(e,t,i,n,o,a,1/0)}render(e){const{ctx:t,forceRender:i,stats:n,devicePixelRatio:o}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=gD(this).count));let{x1:a,y1:r,x2:s,y2:l}=this;if(a===s){const{strokeWidth:e}=this,t=Math.round(a*o)/o+Math.trunc(e*o)%2/(2*o);a=t,s=t}else if(r===l){const{strokeWidth:e}=this,t=Math.round(r*o)/o+Math.trunc(e*o)%2/(2*o);r=t,l=t}t.beginPath(),t.moveTo(a,r),t.lineTo(s,l),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=document.createElementNS("http://www.w3.org/2000/svg","line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),e.setAttribute("stroke",this.stroke??"none"),e.setAttribute("stroke-opacity",String(this.strokeOpacity)),e.setAttribute("stroke-width",String(this.strokeWidth)),{elements:[e]}}};rN.className="Line",rN.defaultStyles={...aN.defaultStyles,fill:void 0,strokeWidth:1},pA([Kk({redraw:3})],rN.prototype,"x1",2),pA([Kk({redraw:3})],rN.prototype,"y1",2),pA([Kk({redraw:3})],rN.prototype,"x2",2),pA([Kk({redraw:3})],rN.prototype,"y2",2);var sN=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const e=this.store.keys();let t=this.store.size-this.maxCacheSize;for(;t>0;){const i=e.next();i.done||this.store.delete(i.value),t--}}return t}clear(){this.store.clear()}},lN=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t="string"===typeof e.font?e.font:dN.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=Ak("canvas");return i.style.display="block",i.style.width=e+"px",i.style.height=t+"px",i.getContext("2d")}();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";const o=new cN(n,t);return this.instanceMap.set(i,o),o}};lN.instanceMap=new sN(10);var cN=class{constructor(e,t){this.ctx=e,this.measureMap=new sN(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font="string"===typeof t.font?t.font:dN.toFontString(t.font),this.textMeasurer=new uN((e=>this.cachedCtxMeasureText(e)),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},dN=class{static toFontString(e){let{fontSize:t=10,fontStyle:i,fontWeight:n,fontFamily:o,lineHeight:a}=e,r="";return i&&(r+=`${i} `),n&&(r+=`${n} `),r+=`${t}px`,a&&(r+=`/${a}px`),r+=` ${o}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}};dN.EllipsisChar="\u2026",dN.defaultLineHeight=1.15,dN.lineSplitter=/\r?\n/g;var uN=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alphabetic";this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,o=0,a=0;const r=dN.getVerticalModifier(this.textBaseline),s=[];let l=0;const c=e.length;for(const d of e){const e=this.measureTextFn(d);e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),t<e.width&&(t=e.width),o<e.actualBoundingBoxLeft&&(o=e.actualBoundingBoxLeft),0===l?(i+=e.actualBoundingBoxAscent,n+=e.actualBoundingBoxAscent):a+=e.fontBoundingBoxAscent,l===c-1?i+=e.actualBoundingBoxDescent:a+=e.fontBoundingBoxDescent,s.push({text:d,width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}),l++}return i+=a,n+=a*r,{width:t,height:i,offsetTop:n,offsetLeft:o,lineMetrics:s}}textWidth(e,t){if(t){let t=0;for(let i=0;i<e.length;i++)t+=this.textWidth(e.charAt(i));return t}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t="string"===typeof e?e.split(dN.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},hN=class e extends aN{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=e.defaultStyles.textAlign,this.textBaseline=e.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split("\n").map((e=>e.trim()))??[]}static computeBBox(e,t,i,n){const{offsetTop:o,offsetLeft:a,width:r,height:s}=lN.measureLines(e,n);return new Vk(t-a,i-o,r,s)}computeBBox(){const{x:t,y:i,lines:n,textBaseline:o,textAlign:a}=this;return e.computeBBox(n,t,i,{font:this,textBaseline:o,textAlign:a})}isPointInPath(e,t){const i=this.getBBox();return!!i&&i.containsPoint(e,t)}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=gD(this).count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=gD(this).count));const{fill:o,stroke:a,strokeWidth:r}=this,{pixelRatio:s}=this.layerManager.canvas;if(t.font=dN.toFontString(this),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,o){this.applyFill(t),t.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:e}=this;e?.enabled&&(t.shadowColor=e.color,t.shadowOffsetX=e.xOffset*s,t.shadowOffsetY=e.yOffset*s,t.shadowBlur=e.blur*s),this.renderLines(((e,i,n)=>t.fillText(e,i,n)))}if(a&&r){t.strokeStyle=a,t.lineWidth=r,t.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:e,lineDashOffset:i,lineCap:n,lineJoin:o}=this;e&&t.setLineDash(e),i&&(t.lineDashOffset=i),n&&(t.lineCap=n),o&&(t.lineJoin=o),this.renderLines(((e,i,n)=>t.strokeText(e,i,n)))}super.render(e)}renderLines(e){const{lines:t,x:i,y:n}=this,o=this.lineHeight??dN.getLineHeight(this.fontSize);let a=(o-o*t.length)*dN.getVerticalModifier(this.textBaseline);for(const r of t)e(r,i,n+a),a+=o}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}toSVG(){if(!this.visible||!this.text)return;const e=document.createElementNS("http://www.w3.org/2000/svg","text");return e.setAttribute("font-family",this.fontFamily?.split(",")[0]??""),e.setAttribute("font-size",String(this.fontSize)),e.setAttribute("font-style",this.fontStyle??""),e.setAttribute("font-weight",String(this.fontWeight??"")),e.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),e.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),e.setAttribute("x",String(this.x)),e.setAttribute("y",String(this.y)),e.textContent=this.text??"",{elements:[e]}}};hN.className="Text",hN.defaultStyles={...aN.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"},pA([Kk({redraw:3})],hN.prototype,"x",2),pA([Kk({redraw:3})],hN.prototype,"y",2),pA([Kk({redraw:3,changeCb:e=>e.onTextChange()})],hN.prototype,"text",2),pA([Kk()],hN.prototype,"fontStyle",2),pA([Kk()],hN.prototype,"fontWeight",2),pA([Kk()],hN.prototype,"fontSize",2),pA([Kk()],hN.prototype,"fontFamily",2),pA([Kk({redraw:3})],hN.prototype,"textAlign",2),pA([Kk({redraw:3})],hN.prototype,"textBaseline",2),pA([Kk({redraw:3})],hN.prototype,"lineHeight",2);var pN=hN,gN=class extends(AD(pN)){},fN=class extends(AD(wD(pN))){};function mN(e,t,i,n,o,a){if(0===e.size)return!1;let r=e.x,s=e.y;null!=t&&(r-=(t.x-.5)*e.size,s-=(t.y-.5)*e.size);let l=r;r<i?l=i:r>i+o&&(l=i+o);let c=s;s<n?c=n:s>n+a&&(c=n+a);const d=r-l,u=s-c;return Math.sqrt(d*d+u*u)<=.5*e.size}function yN(e,t,i,n,o){const a=e.x+e.width>t&&e.x<t+n,r=e.y+e.height>i&&e.y<i+o;return a&&r}var vN={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function bN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[];for(let n=0;n<e.length;n++){const o=e[n],{point:{x:a,y:r},label:{text:s}}=o;let{width:l,height:c}=o.label;if(l+=t,c+=t,i.some((e=>yN(e,a,r,l,c))))return!0;i.push({index:n,text:s,x:a,y:r,width:l,height:c,datum:o})}return!1}function xN(e,t){return e.length===t.length&&e.every(((e,i)=>Number(e)===Number(t[i])))}var SN="class-instance";function MN(e,t,i){if(pw(t)){if(!pw(e)||e.length!==t.length||t.some(((t,i)=>null!=MN(e[i],t))))return t}else{if(Sw(t)){if(!Sw(e))return t;const n={},o=new Set([...Object.keys(e),...Object.keys(t)]);for(const a of o)if(e[a]!==t[a]&&!i?.includes(a))if(typeof e[a]===typeof t[a]){const i=MN(e[a],t[a]);null!==i&&(n[a]=i)}else n[a]=t[a];return Object.keys(n).length?n:null}if(e!==t)return t}return null}function AN(e,t){return pw(e)?e.map((e=>AN(e,t))):Sw(e)?Rw(e,((e,i)=>t?.shallow?.includes(i)?kN(e):AN(e,t))):e instanceof Map?new Map(AN(Array.from(e))):kN(e)}function kN(e){return pw(e)?[...e]:Sw(e)?{...e}:fw(e)?new Date(e):yw(e)?new RegExp(e.source,e.flags):e}function wN(e,t,i){for(var n=arguments.length,o=new Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];if(pw(e))t(e,...o),e.forEach(((e,n)=>{wN(e,t,i,...IN(o,n))}));else if(Sw(e)){t(e,...o);for(const n of Object.keys(e)){if(i?.skip?.includes(n))continue;const a=e[n];(pw(a)||Sw(a))&&wN(a,t,i,...IN(o,n))}}}function CN(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n,matcherPath:o=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:a=[]}=i;if(null==e)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(null==t)return e;if(LC(e))return e.set(t);const r=e,s=DN(e);for(const c in t){if(jw.has(c))continue;const d=`${o?o+".":""}${c}`;if(a.includes(d))continue;const u=t[c],h=`${n?n+".":""}${c}`,p=r.constructor,g=r[c];try{const t=DN(g),n=DN(u);if(s===SN&&!(c in e)){MA.warn(`unable to set [${h}] in ${p?.name} - property is unknown`);continue}if(null!=t&&null!=n&&n!==t&&(t!==SN||"object"!==n)){MA.warn(`unable to set [${h}] in ${p?.name} - can't apply type of [${n}], allowed types are: [${t}]`);continue}LC(g)?r[c].set(u):"object"===n?(null==g&&(r[c]={}),CN(g??r[c],u,{...i,path:h,matcherPath:d})):r[c]=u}catch(l){MA.warn(`unable to set [${h}] in [${p?.name}]; nested error is: ${l.message}`)}}return e}function IN(e,t){return e.map((e=>e?.[t]))}function DN(e){return null==e?null:ww(e)||fw(e)?"primitive":pw(e)?"array":bw(e)?Sw(e)?"object":SN:vw(e)?"function":"primitive"}function NN(e,t){const i=pw(e)?e:e.split(".");if(1===i.length){const[e]=i;return lw(((t,i,n)=>t[e]=n),(t=>t[e]),t)}return lw(((e,t,n)=>Bw(e,i,n)),(e=>zw(e,i)),t)}function EN(e){return lw(((t,i,n)=>t[e]=n))}function ON(e,t){return lw(((i,n,o)=>i[e][t??n]=o))}function LN(e){const{newValue:t,oldValue:i,changeValue:n}=e;return lw(((e,o,a,r)=>(a!==r&&(void 0!==r&&i?.call(e,r),void 0!==a&&t?.call(e,a),n?.call(e,a,r)),a)))}function TN(e){return t=e,(e,i)=>{sw(e,i).observers.push(t)};var t}var RN="color: green",PN="color: grey",zN=class e{constructor(e,t,i){this.defaultState=e,this.states=t,this.enterEach=i,this.debug=RD.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,RN)}transition(t,i){if(!this.transitionChild(t,i)||this.state===e.child||this.state===e.parent)return;const n=this.state,o=this.states[this.state];let a=o[t];const r=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(a))a=a.find((e=>{if(!e.guard)return!0;const t=e.guard(i);return t||this.debug(`${r} ${e.target} (guarded)`,PN),t}));else if("object"===typeof a&&!(a instanceof e)&&a.guard&&!a.guard(i))return void this.debug(`${r} ${a.target} (guarded)`,PN);if(!a)return void this.debug(`${r} ${this.state}`,PN);const s=this.getDestinationState(a),l=s===this.state?void 0:o.onExit;this.debug(`${r} ${s}`,RN),this.state=s,"function"===typeof a?a(i):"object"!==typeof a||a instanceof e||a.action?.(i),l?.(),this.enterEach?.(n,s),s!==n&&s!==e.child&&s!==e.parent&&this.states[s].onEnter?.(n,i)}transitionAsync(e,t){setTimeout((()=>{this.transition(e,t)}),0)}is(t){return this.state===e.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){return this.state!==e.child||!this.childState||(this.childState.transition(t,i),!this.childState.is(e.parent)||(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,RN),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1))}getDestinationState(t){let i=this.state;return"string"===typeof t?i=t:t instanceof e?(this.childState=t,i=e.child):"object"===typeof t&&(t.target instanceof e?(this.childState=t.target,i=e.child):null!=t.target&&(i=t.target)),i}};zN.child="__child",zN.parent="__parent";var jN=zN,BN=class{static wrapText(e,t){return this.wrapLines(e,t).join("\n")}static wrapLines(e,t){const i=this.textWrap(e,t);return"hide"===t.overflow&&i.some((e=>e.endsWith(dN.EllipsisChar)))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+dN.EllipsisChar}static truncateLine(e,t,i,n){const o=t.textWidth(dN.EllipsisChar);let a=0,r=0;for(;r<e.length;r++){const n=t.textWidth(e.charAt(r));if(a+n>i)break;a+=n}if(e.length===r&&(!n||a+o<=i))return n?e+dN.EllipsisChar:e;for(e=e.slice(0,r).trimEnd();e.length&&t.textWidth(e)+o>i;)e=e.slice(0,-1).trimEnd();return e+dN.EllipsisChar}static textWrap(e,t){const i=e.split(dN.lineSplitter),n=lN.getMeasurer(t);if("never"===t.textWrap)return i.map((e=>this.truncateLine(e.trimEnd(),n,t.maxWidth)));const o=[],a="hyphenate"===t.textWrap,r=null==t.textWrap||"on-space"===t.textWrap;for(let s of i)if(s=s.trimEnd(),""!==s){for(let e=0,i=0,l=0;e<s.length;e++){const c=s.charAt(e);if(i+=n.textWidth(c)," "===c&&(l=e),i>t.maxWidth){if(0===e)break;const c=n.textWidth(s.slice(0,e+1));if(c<=t.maxWidth){i=c;continue}if(l){const a=this.getWordAt(s,l+1),c=n.textWidth(a);if(c<=t.maxWidth){o.push(s.slice(0,l).trimEnd()),s=s.slice(l).trimStart(),e=-1,i=0,l=0;continue}r&&c>t.maxWidth&&o.push(s.slice(0,l).trimEnd(),this.truncateLine(s.slice(l).trimStart(),n,t.maxWidth,!0))}else r&&o.push(this.truncateLine(s,n,t.maxWidth,!0));if(r){s="";break}const d=a?"-":"";let u=s.slice(0,e).trim();for(;u.length&&n.textWidth(u+d)>t.maxWidth;)u=u.slice(0,-1).trimEnd();if(o.push(u+d),!u.length){s="";break}s=s.slice(u.length).trimStart(),e=-1,i=0,l=0}}s&&o.push(s)}else o.push(s);return this.avoidOrphans(o,n,t),this.clipLines(o,n,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return-1===i?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:n,lineMetrics:o}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let a=0,r=0;a<o.length;a++){const{lineHeight:n}=o[a];if(r+=n,r>i.maxHeight){if("hide"===i.overflow)return[];const n=e.slice(0,a||1),o=n.pop();return n.concat(this.truncateLine(o,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(!1===i.avoidOrphans||e.length<2)return;const{length:n}=e,o=e[n-1],a=e[n-2];if(a.length<o.length)return;const r=a.lastIndexOf(" ");if(-1===r||r===a.indexOf(" ")||o.includes(" "))return;const s=a.slice(r+1);t.textWidth(o+s)<=i.maxWidth&&(e[n-2]=a.slice(0,r),e[n-1]=s+" "+o)}},$N={isEnterprise:!1};function FN(e,t,i){void 0===i||""===i?e?.removeAttribute(t):e?.setAttribute(t,i.toString())}function _N(e,t){if(null==t)return;let i;for(i in t)"class"!==i&&FN(e,i,t[i])}function HN(e,t,i){if(!(e instanceof HTMLElement))return;const n=e.getAttribute(t);if(null===n)return i;const o=typeof{}[t];return"boolean"===o?"true"===n:"number"===o?Number(n):"string"===o?n:void 0}function WN(e,t,i){null!=e&&(null==i?e.style.removeProperty(t):e.style.setProperty(t,i))}function GN(e,t,i,n){let{top:o,right:a,bottom:r,left:s,width:l,height:c}=n;return null!=s?null!=l?a=i.width-s+l:null!=a&&(l=i.width-s-a):null!=a&&null!=l&&(s=i.width-a-l),null!=o?null!=c?r=i.height-o-c:null!=r&&(c=i.height-r-o):null!=r&&null!=c&&(o=i.height-r-c),null==l?null==c?(l=e,c=t):l=Math.ceil(e*c/t):null==c&&(c=Math.ceil(t*l/e)),null==s&&(s=null==a?Math.floor((i.width-l)/2):i.width-a-l),null==o&&(o=null==r?Math.floor((i.height-c)/2):i.height-c-r),{x:s,y:o,width:l,height:c}}var VN="ag-chart-tooltip",UN="ag-chart-dark-tooltip",KN={html:"",ariaLabel:""};function YN(e){const t=(e,t,i)=>0===t||"."!==i[t-1]?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function XN(e,t){if("string"===typeof e)return{html:e,ariaLabel:e};const{content:i=t?.content??"",title:n=t?.title,color:o=t?.color??"white",backgroundColor:a=t?.backgroundColor??"#888"}=e;return{html:`${n?`<div class="${VN}-title"\n        style="color: ${o}; background-color: ${a}">${n}</div>`:""}${i?`<div class="${VN}-content">${i}</div>`:""}`,ariaLabel:YN(`${n?`${n}: `:""}${i}`)}}var ZN=class extends EC{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};pA([TC(wI(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0}],"a position type"))],ZN.prototype,"type",2),pA([TC(HC)],ZN.prototype,"xOffset",2),pA([TC(HC)],ZN.prototype,"yOffset",2);var qN=class extends EC{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new ZN,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",VN),this.element.classList.add(VN)}destroy(e){e.removeChild("canvas-overlay",VN)}isVisible(){return!this.element?.classList.contains(VN+"-hidden")}show(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{element:a}=this,r=a?.getBoundingClientRect();if(null!=n&&null!=a)a.innerHTML=n.html;else if(!a?.innerHTML)return void this.toggle(!1);const s=i.position?.type??this.position.type,l=i.position?.xOffset??0,c=i.position?.yOffset??0,d=this.getTooltipBounds({positionType:s,meta:i,yOffset:c,xOffset:l,canvasRect:t}),u={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height},h=GN(a.clientWidth,a.clientHeight,u,d),p=u.x,g=u.y,f=u.width-a.clientWidth-1+p,m=u.height-a.clientHeight+g,y=Lk(p,h.x,f),v=Lk(g,h.y,m);let b=!1;if(null!=r){const e=u.width-r.width-1+p,t=u.height-r.height+g;b=e>f||t>m}const x=y!==h.x||v!==h.y,S=("node"===s||"pointer"===s||"sparkline"===s)&&!x&&!l&&!c,M=i.showArrow??this.showArrow??S;this.updateShowArrow(M),b&&(a.style.transition="none"),a.style.transform=`translate(${Math.round(y)}px, ${Math.round(v)}px)`,b&&(a.style.transition=""),i.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",FN(a,"aria-hidden",void 0)):(this.enableInteraction=!1,a.style.pointerEvents="none",FN(a,"aria-hidden",!0)),this.delay>0&&!o?(this.toggle(!1),this.showTimeout=setTimeout((()=>{this.toggle(!0)}),this.delay)):this.toggle(!0)}toggle(e){if(!this.element)return;const{classList:t}=this.element,i=(e,i)=>t.toggle(`${VN}-${e}`,i),n=this.isVisible();let o=1/0;if(e||clearTimeout(this.showTimeout),n!==e){const e=Date.now();o=e-this.lastVisibilityChange,this.lastVisibilityChange=e}o>5&&i("no-animation",!n&&e&&o>100),i("no-interaction",!this.enableInteraction),i("hidden",!e),i("arrow",this._showArrow),t.toggle(UN,this.darkTheme);for(const a of this.wrapTypes)t.toggle(`${VN}-wrap-${a}`,a===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,meta:i,yOffset:n,xOffset:o,canvasRect:a}=e,{clientWidth:r,clientHeight:s}=this.element,l={width:r,height:s};switch(t){case"node":case"pointer":return l.top=i.offsetY+n-s-8,l.left=i.offsetX+o-r/2,l;case"top":return l.top=n,l.left=a.width/2-r/2+o,l;case"right":return l.top=a.height/2-s/2+n,l.left=a.width-r/2+o,l;case"left":return l.top=a.height/2-s/2+n,l.left=o,l;case"bottom":return l.top=a.height-s+n,l.left=a.width/2-r/2+o,l;case"top-left":return l.top=n,l.left=o,l;case"top-right":return l.top=n,l.left=a.width-r+o,l;case"bottom-right":return l.top=a.height-s+n,l.left=a.width-r+o,l;case"bottom-left":return l.top=a.height-s+n,l.left=o,l;case"sparkline":return $N.isEnterprise?l.top=n-s-8:l.top=i.offsetY+n-s-8,l.left=i.offsetX+o-r/2,l}}};pA([TC($C)],qN.prototype,"enabled",2),pA([TC($C,{optional:!0})],qN.prototype,"showArrow",2),pA([TN(((e,t,i)=>{t&&e.element?.classList.add(t),i&&e.element?.classList.remove(i)})),TC(_C,{optional:!0})],qN.prototype,"class",2),pA([TC(VC)],qN.prototype,"delay",2),pA([TC(AI,{optional:!0})],qN.prototype,"range",2),pA([TC(yI)],qN.prototype,"wrapping",2),pA([TC(jC)],qN.prototype,"position",2),pA([TC($C)],qN.prototype,"darkTheme",2),pA([TC(wI(["extended","canvas"]))],qN.prototype,"bounds",2);var QN=class extends EC{constructor(){super(...arguments),this.id=hk(this),this.node=new gN({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){const{regionManager:i,proxyInteractionService:n,layoutManager:o}=e,a=i.getRegion("root");return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return()=>{for(const e of t)e()}}(...[o.addListener("layout:complete",(()=>this.updateA11yText(n,t))),a.addListener("hover",(t=>this.handleMouseMove(e,t))),a.addListener("leave",(t=>this.handleMouseLeave(e,t)))])}computeTextWrap(e,t){const{text:i,padding:n,wrapping:o}=this,a=Math.min(this.maxWidth??1/0,e)-2*n,r=this.maxHeight??t-2*n;if(!isFinite(a)&&!isFinite(r))return void(this.node.text=i);const s=BN.wrapText(i??"",{maxWidth:a,maxHeight:r,font:this,textWrap:o});this.node.text=s,this.truncated=s.includes(dN.EllipsisChar)}updateA11yText(e,t){if(this.enabled&&this.text){const i=CD.toCanvas(this.node);if(i){const{id:n}=this;this.proxyText??(this.proxyText=e.createProxyElement({type:"text",id:n,parent:t})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(i)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(e,t){if(void 0!==t&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:t,showArrow:!1},XN({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};QN.SMALL_PADDING=10,QN.LARGE_PADDING=20,pA([TC($C),ON("node","visible")],QN.prototype,"enabled",2),pA([TC(_C,{optional:!0}),ON("node")],QN.prototype,"text",2),pA([TC(vI,{optional:!0}),ON("node")],QN.prototype,"textAlign",2),pA([TC(fI,{optional:!0}),ON("node")],QN.prototype,"fontStyle",2),pA([TC(mI,{optional:!0}),ON("node")],QN.prototype,"fontWeight",2),pA([TC(VC),ON("node")],QN.prototype,"fontSize",2),pA([TC(_C),ON("node")],QN.prototype,"fontFamily",2),pA([TC(nI,{optional:!0}),ON("node","fill")],QN.prototype,"color",2),pA([TC(VC,{optional:!0})],QN.prototype,"spacing",2),pA([TC(VC,{optional:!0})],QN.prototype,"maxWidth",2),pA([TC(VC,{optional:!0})],QN.prototype,"maxHeight",2),pA([TC(yI)],QN.prototype,"wrapping",2),pA([TC(VC)],QN.prototype,"padding",2),pA([TC(_C)],QN.prototype,"layoutStyle",2);var JN=class e extends DD{constructor(e){super(e),this.opts=e,this.lastBBox=void 0}static is(t){return t instanceof e}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;super.markDirty(e,1)}preRender(){const e=super.preRender();return e.nonGroups>0&&(this.layer??(this.layer=this._layerManager?.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})),this.opts?.deriveZIndexFromChildren&&this.deriveZIndexFromChildren()),e}debugSkip(e){super.debugSkip(e);const{stats:t}=e;t&&(t.layersSkipped++,t.nodesSkipped+=gD(this).count)}render(e){if(!this.layer)return super.render(e);const{opts:{name:t}={},_debug:i,clipRect:n}=this,{isDirty:o,isChildDirty:a,isChildLayerDirty:r}=this.isDirty(e),{stats:s}=e;let{forceRender:l,clipBBox:c}=e;const d=this.getBBox();if(this.lastBBox?.equals(d)||(l="dirtyTransform",this.lastBBox=d),!o&&!a&&!r&&!l)return this.debugSkip(e),void this.markClean({recursive:!1});"dirtyTransform"!==l&&(l=a||this.dirtyZIndex),l&&this.layer.clear(),this.dirtyZIndex&&this.sortChildren(DD.compareChildren);const u=this.sortedChildren(),h=e.ctx.getTransform(),{context:p}=this.layer;if(p.save(),c){const{width:n,height:o,x:a,y:r}=c;p.beginPath(),p.rect(a,r,n,o),p.clip(),i?.((()=>({name:t,clipBBox:c,renderCtx:e,group:this,ctxTransform:p.getTransform()})))}p.setTransform(h),this.clipRect&&(c=this.renderClip({...e,ctx:p})),this.renderChildren(u,{...e,ctx:p,forceRender:l,clipBBox:c}),super.render(e,!0),n&&p.restore();for(const g of this.virtualChildren())g.markClean({recursive:"virtual"});s&&s.layersRendered++,p.restore(),p.verifyDepthZero?.(),t&&s&&i?.({name:t,renderCtx:e,result:"rendered",skipped:s.nodesSkipped,counts:gD(this),group:this})}deriveZIndexFromChildren(){let e;for(const t of this.children())t.childNodeCounts.nonGroups&&(!e||DD.compareChildren(e,t)<0)&&(e=t);this.zIndex=e?.zIndex??-1/0,this.zIndexSubOrder=e?.zIndexSubOrder}_setLayerManager(e){this.layer&&(this._layerManager?.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(e)}getComputedOpacity(){let e=1;for(const t of this.traverseUp(!0))t instanceof DD&&(e*=t.opacity);return e}getVisibility(){for(const e of this.traverseUp(!0))if(!e.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}};JN.className="Layer";var eE=JN,tE=class extends(wD(eE)){},iE=class extends aN{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Vk(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=gD(this).count));let{x1:o,y1:a,x2:r,y2:s}=this;o=this.align(o),a=this.align(a),r=this.align(r),s=this.align(s);const{fill:l,opacity:c,isRange:d}=this;if(!(!d||!l)){const{fillOpacity:e}=this;this.applyFill(t),t.globalAlpha=c*e,t.beginPath(),t.moveTo(o,a),t.lineTo(r,a),t.lineTo(r,s),t.lineTo(o,s),t.closePath(),t.fill()}const{stroke:u,strokeWidth:h,startLine:p,endLine:g}=this;if(!(!p&&!g||!u||!h)){const{strokeOpacity:e,lineDash:i,lineDashOffset:n,lineCap:l,lineJoin:d}=this;t.strokeStyle=u,t.globalAlpha=c*e,t.lineWidth=h,i&&t.setLineDash(i),n&&(t.lineDashOffset=n),l&&(t.lineCap=l),d&&(t.lineJoin=d),t.beginPath(),p&&(t.moveTo(o,a),t.lineTo(r,a)),g&&(t.moveTo(r,s),t.lineTo(o,s)),t.stroke()}this.fillShadow?.markClean(),super.render(e)}};iE.className="Range",iE.defaultStyles={...aN.defaultStyles,strokeWidth:1},pA([Kk({redraw:2})],iE.prototype,"x1",2),pA([Kk({redraw:2})],iE.prototype,"y1",2),pA([Kk({redraw:2})],iE.prototype,"x2",2),pA([Kk({redraw:2})],iE.prototype,"y2",2),pA([Kk({redraw:2})],iE.prototype,"startLine",2),pA([Kk({redraw:2})],iE.prototype,"endLine",2),pA([Kk({redraw:2})],iE.prototype,"isRange",2);var nE=class extends EC{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return dN.toFontString(this)}};function oE(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?jD(_D(e.rotation)):0,o=!n&&t>=0&&t<=Math.PI?-1:1,a=!n&&i>=0&&i<=Math.PI?-1:1;let r=0;return e.parallel?r=o*Math.PI/2:-1===a&&(r=Math.PI),{configuredRotation:n,defaultRotation:r,parallelFlipFlag:o,regularFlipFlag:a}}function aE(e,t){return isNaN(e)?t?0:10:e}function rE(e,t,i,n,o){const a=t>0&&t<=Math.PI,r=i>0&&i<=Math.PI;if(e){if(!t&&!i)return"center";if(n*(a||r?-1:1)===-1)return"end"}else if(n*o===-1)return"end";return"start"}function sE(e,t,i){const{x:n,y:o,width:a,height:r}=t,s=new Vk(n,o,0,0);i.transformBBox(s,t);const{x:l,y:c}=t;return{point:{x:l,y:c},label:{text:e,width:a,height:r}}}pA([TC($C)],nE.prototype,"enabled",2),pA([TC(nI,{optional:!0})],nE.prototype,"color",2),pA([TC(fI,{optional:!0})],nE.prototype,"fontStyle",2),pA([TC(mI,{optional:!0})],nE.prototype,"fontWeight",2),pA([TC(VC)],nE.prototype,"fontSize",2),pA([TC(_C)],nE.prototype,"fontFamily",2),pA([TC(FC,{optional:!0})],nE.prototype,"formatter",2);var lE=(e=>(e[e.SERIES_BACKGROUND=0]="SERIES_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.SERIES_CROSSLINE_RANGE=3]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=4]="SERIES_LAYER",e[e.SERIES_HIGHLIGHT=5]="SERIES_HIGHLIGHT",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.CHART_OVERLAY=8]="CHART_OVERLAY",e[e.SERIES_CROSSLINE_LINE=9]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=10]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=11]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=12]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=13]="STATUS_BAR",e[e.SERIES_LABEL=14]="SERIES_LABEL",e[e.LEGEND=15]="LEGEND",e[e.NAVIGATOR=16]="NAVIGATOR",e[e.FOREGROUND=17]="FOREGROUND",e))(lE||{});function cE(e){return null!=e&&Object.hasOwn(e,"toString")&&Mw(e.toString())}function dE(e){return null!=e&&Object.hasOwn(e,"valueOf")&&kw(e.valueOf())}function uE(e){return kw(e)||mw(e)||dE(e)}function hE(e,t){return null!=e&&(!t||uE(e))}function pE(e){return cE(e)&&Object.hasOwn(e,"id")?e.id:e}var gE=e=>"value"===e?DI(((e,t)=>"line"===t.target.type),(e=>"range"===e.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'")):DI(((e,t)=>"range"===t.target.type),(e=>"line"===e.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'")),fE=(e,t,i,n,o)=>{const a="line"===e&&void 0!==t,r="range"===e&&void 0!==i;if(!a&&!r)return!0;const[s,l]=i??[t,void 0],c=lC.is(n)||dD.is(n),d=hE(s,c)&&!isNaN(n.convert(s)),u=hE(l,c)&&!isNaN(n.convert(l));if(a&&d||r&&d&&u)return o?.()??!0;const h=["Expecting crossLine"];return r?(d||h.push(`range start ${OI(s)}`),u||h.push(`${d?"":"and "}range end ${OI(l)}`)):h.push(`value ${OI(s)}`),h.push("to match the axis scale domain."),MA.warnOnce(h.join(" ")),!1},mE={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},yE={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function vE(e){let{yDirection:t,padding:i=0,position:n="top",bbox:o}=e;const a=t?mE:yE,{xTranslationDirection:r,yTranslationDirection:s}=a[n];return{xTranslation:r*(i+o.width/2),yTranslation:s*(i+o.height/2)}}function bE(e){let{yDirection:t,bbox:i,padding:n=0,position:o="top"}=e;const a={};return o.startsWith("inside")||("top"!==o||t?"bottom"!==o||t?"left"===o&&t?a.left=n+i.width:"right"===o&&t&&(a.right=n+i.width):a.bottom=n+i.height:a.top=n+i.height),a}var xE=e=>{let{direction:t,xEnd:i,yStart:n,yEnd:o}=e;return"y"===t?{x:i/2,y:n}:{x:i,y:isNaN(o)?n:(n+o)/2}},SE=e=>{let{direction:t,xStart:i,xEnd:n,yStart:o,yEnd:a}=e;return"y"===t?{x:i,y:isNaN(a)?o:(o+a)/2}:{x:n/2,y:o}},ME=e=>{let{direction:t,xEnd:i,yStart:n,yEnd:o}=e;return"y"===t?{x:i,y:isNaN(o)?n:(n+o)/2}:{x:i/2,y:isNaN(o)?n:o}},AE=e=>{let{direction:t,xStart:i,xEnd:n,yStart:o,yEnd:a}=e;return"y"===t?{x:n/2,y:isNaN(a)?o:a}:{x:i,y:isNaN(a)?o:(o+a)/2}},kE=e=>{let{direction:t,xStart:i,xEnd:n,yStart:o}=e;return"y"===t?{x:i/2,y:o}:{x:n,y:o}},wE=e=>{let{direction:t,xStart:i,yStart:n,yEnd:o}=e;return"y"===t?{x:i,y:isNaN(o)?n:o}:{x:i,y:n}},CE=e=>{let{direction:t,xEnd:i,yStart:n,yEnd:o}=e;return"y"===t?{x:i,y:n}:{x:i,y:isNaN(o)?n:o}},IE=e=>{let{direction:t,xStart:i,xEnd:n,yStart:o,yEnd:a}=e;return"y"===t?{x:n,y:isNaN(a)?o:a}:{x:i,y:isNaN(a)?o:a}},DE={top:{c:xE},bottom:{c:AE},left:{c:SE},right:{c:ME},topLeft:{c:kE},topRight:{c:CE},bottomLeft:{c:wE},bottomRight:{c:IE},inside:{c:e=>{let{xEnd:t,yStart:i,yEnd:n}=e;return{x:t/2,y:isNaN(n)?i:(i+n)/2}}},insideLeft:{c:SE},insideRight:{c:ME},insideTop:{c:xE},insideBottom:{c:AE},insideTopLeft:{c:kE},insideBottomLeft:{c:wE},insideTopRight:{c:CE},insideBottomRight:{c:IE}},NE=wI(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),EE=class extends EC{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};pA([TC($C,{optional:!0})],EE.prototype,"enabled",2),pA([TC(_C,{optional:!0})],EE.prototype,"text",2),pA([TC(fI,{optional:!0})],EE.prototype,"fontStyle",2),pA([TC(mI,{optional:!0})],EE.prototype,"fontWeight",2),pA([TC(VC)],EE.prototype,"fontSize",2),pA([TC(_C)],EE.prototype,"fontFamily",2),pA([TC(HC)],EE.prototype,"padding",2),pA([TC(nI,{optional:!0})],EE.prototype,"color",2),pA([TC(NE,{optional:!0})],EE.prototype,"position",2),pA([TC(KC,{optional:!0})],EE.prototype,"rotation",2),pA([TC($C,{optional:!0})],EE.prototype,"parallel",2);var OE=class e extends EC{constructor(){super(),this.id=hk(this),this.label=new EE,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new eE({name:this.id,zIndex:e.LINE_LAYER_ZINDEX}),this.labelGroup=new eE({name:this.id,zIndex:e.LABEL_LAYER_ZINDEX}),this.crossLineRange=new iE,this.crossLineLabel=new fN,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){const{enabled:t,data:i,type:n,value:o,range:a,scale:r}=this;if(!n||!r||!t||!e||!fE(n,o,a,r)||0===i.length)return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=e,this.labelGroup.visible=e,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(e,t){if(!e)return;const{scale:i,gridLength:n,sideFlag:o,direction:a,label:{position:r="top"},clippedRange:s,strokeWidth:l=0}=this;if(this.data=[],!i)return;const c=i.bandwidth??0,d=i.step??0,u=(t?-1:1)*(i instanceof NC?(d-c)/2:0),[h,p]=[0,o*n];let[g,f]=this.getRange();const m=void 0===f&&dD.is(i)?c/2+u:0;let[y,v]=[Number(i.convert(g,{clampMode:"clamped"}))-u+m,i.convert(f,{clampMode:"clamped"})+c+u];y=Tk(y,s),v=Tk(v,s),[g,f]=[Number(i.convert(g))+m,i.convert(f)+c];const b=(g===y||f===v||y!==v)&&Math.abs(v-y)>0;if(b&&y>v&&([y,v]=[v,y],[g,f]=[f,g]),g-u>=y&&(g-=u),f+u<=v&&(f+=u),this.isRange=b,this.startLine=l>0&&g>=y&&g<=y+u,this.endLine=l>0&&f>=v-c-u&&f<=v,!b&&!this.startLine&&!this.endLine)return;if(this.data=[y,v],!this.label.enabled)return;const{c:x=xE}=DE[r]??{},{x:S,y:M}=x({direction:a,xStart:h,xEnd:p,yStart:y,yEnd:v});this.labelPoint={x:S,y:M}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:e,sideFlag:t,gridLength:i,data:n,startLine:o,endLine:a,isRange:r,fill:s,fillOpacity:l,stroke:c,strokeWidth:d,lineDash:u}=this;e.x1=0,e.x2=t*i,e.y1=n[0],e.y2=n[1],e.startLine=o,e.endLine=a,e.isRange=r,e.fill=s,e.fillOpacity=l??1,e.stroke=c,e.strokeWidth=d??1,e.strokeOpacity=this.strokeOpacity??1,e.lineDash=u}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t,y:i}={},label:{parallel:n,rotation:o,position:a="top",padding:r=0},direction:s,parallelFlipRotation:l,regularFlipRotation:c}=this;if(void 0===t||void 0===i)return;const{defaultRotation:d,configuredRotation:u}=oE({rotation:o,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});e.rotation=d+u,e.textBaseline="middle",e.textAlign="center";const h=e.getBBox();if(!h)return;const p="y"===s,{xTranslation:g,yTranslation:f}=vE({yDirection:p,padding:r,position:a,bbox:h});e.translationX=t+g,e.translationY=i+f}getZIndex(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e.RANGE_LAYER_ZINDEX:e.LINE_LAYER_ZINDEX}getRange(){const{value:e,range:t,scale:i}=this,n=lC.is(i)||dD.is(i),o=t?.[0]??e;let a=t?.[1];return n||void 0!==a||(a=o),n&&o===a&&(a=void 0),[o,a]}computeLabelBBox(){const{label:e}=this;if(!e.enabled)return;const t=new fN;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i,y:n}={},label:{parallel:o,rotation:a,position:r="top",padding:s=0},direction:l,parallelFlipRotation:c,regularFlipRotation:d}=this;if(void 0===i||void 0===n)return;const{configuredRotation:u}=oE({rotation:a,parallel:o,regularFlipRotation:d,parallelFlipRotation:c});t.rotation=u,t.textBaseline="middle",t.textAlign="center";const h=t.getBBox();if(!h)return;const p="y"===l,{xTranslation:g,yTranslation:f}=vE({yDirection:p,padding:s,position:r,bbox:h});return t.x=i+g,t.y=n+f,t.getBBox()}calculatePadding(e){const{isRange:t,startLine:i,endLine:n,direction:o,label:{padding:a=0,position:r="top"}}=this;if(!t&&!i&&!n)return;const s=this.computeLabelBBox();if(null==s?.x||null==s?.y)return;const l=bE({yDirection:"y"===o,padding:a,position:r,bbox:s});e.left=Math.max(e.left??0,l.left??0),e.right=Math.max(e.right??0,l.right??0),e.top=Math.max(e.top??0,l.top??0),e.bottom=Math.max(e.bottom??0,l.bottom??0)}};OE.LINE_LAYER_ZINDEX=9,OE.RANGE_LAYER_ZINDEX=3,OE.LABEL_LAYER_ZINDEX=14,OE.className="CrossLine",pA([TC($C,{optional:!0})],OE.prototype,"enabled",2),pA([TC(wI(["range","line"],"a crossLine type"),{optional:!0})],OE.prototype,"type",2),pA([TC(PC(gE("range"),XC.restrict({length:2})),{optional:!0})],OE.prototype,"range",2),pA([TC(gE("value"),{optional:!0})],OE.prototype,"value",2),pA([TC(nI,{optional:!0})],OE.prototype,"fill",2),pA([TC(UC,{optional:!0})],OE.prototype,"fillOpacity",2),pA([TC(nI,{optional:!0})],OE.prototype,"stroke",2),pA([TC(HC,{optional:!0})],OE.prototype,"strokeWidth",2),pA([TC(UC,{optional:!0})],OE.prototype,"strokeOpacity",2),pA([TC(pI,{optional:!0})],OE.prototype,"lineDash",2),pA([TC(jC)],OE.prototype,"label",2);var LE=OE,TE=["stroke","lineDash"],RE=ZC((e=>bw(e)&&Object.keys(e).every((e=>TE.includes(e)))),"objects with gridline style properties such as 'stroke' or 'lineDash'"),PE=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function zE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[void 0];return lw(((i,n,o)=>t.includes(o)?vw(e)?e(o):e:o))}pA([TC($C)],PE.prototype,"enabled",2),pA([TC(VC)],PE.prototype,"width",2),pA([TC(RE)],PE.prototype,"style",2);var jE=DI((e=>kw(e)&&e>0||e instanceof AA),"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),BE=class extends EC{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};pA([TC(jE,{optional:!0})],BE.prototype,"step",2),pA([TC(XC,{optional:!0})],BE.prototype,"values",2),pA([TC(CI),zE(NaN)],BE.prototype,"minSpacing",2),pA([TC(II),zE(NaN)],BE.prototype,"maxSpacing",2);var $E=class extends EC{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};pA([TC($C)],$E.prototype,"enabled",2),pA([TC(fI,{optional:!0})],$E.prototype,"fontStyle",2),pA([TC(mI,{optional:!0})],$E.prototype,"fontWeight",2),pA([TC(HC.restrict({min:1}))],$E.prototype,"fontSize",2),pA([TC(_C)],$E.prototype,"fontFamily",2),pA([TC(VC)],$E.prototype,"padding",2),pA([TC(YC),zE(NaN)],$E.prototype,"minSpacing",2),pA([TC(nI,{optional:!0})],$E.prototype,"color",2),pA([TC(KC,{optional:!0})],$E.prototype,"rotation",2),pA([TC($C)],$E.prototype,"avoidCollisions",2),pA([TC($C)],$E.prototype,"mirrored",2),pA([TC($C)],$E.prototype,"parallel",2),pA([TC(FC,{optional:!0})],$E.prototype,"formatter",2),pA([TC(_C,{optional:!0})],$E.prototype,"format",2);var FE=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};pA([TC($C)],FE.prototype,"enabled",2),pA([TC(VC)],FE.prototype,"width",2),pA([TC(nI,{optional:!0})],FE.prototype,"stroke",2);var _E=class extends EC{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};pA([TC($C)],_E.prototype,"enabled",2),pA([TC(VC)],_E.prototype,"width",2),pA([TC(VC)],_E.prototype,"size",2),pA([TC(nI,{optional:!0})],_E.prototype,"stroke",2);var HE=class extends EC{constructor(){super(...arguments),this.caption=new QN,this.enabled=!1,this.spacing=QN.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function WE(e){const[t,i]=Rk(e.range),n=Math.floor(t),o=Math.ceil(i);return{min:n,max:o,visible:n!==o}}pA([TC($C)],HE.prototype,"enabled",2),pA([TC(_C,{optional:!0})],HE.prototype,"text",2),pA([TC(VC,{optional:!0})],HE.prototype,"spacing",2),pA([TC(fI,{optional:!0})],HE.prototype,"fontStyle",2),pA([TC(mI,{optional:!0})],HE.prototype,"fontWeight",2),pA([TC(VC)],HE.prototype,"fontSize",2),pA([TC(_C)],HE.prototype,"fontFamily",2),pA([TC(nI,{optional:!0})],HE.prototype,"color",2),pA([TC(yI)],HE.prototype,"wrapping",2),pA([TC(FC,{optional:!0})],HE.prototype,"formatter",2);var GE=2*Math.PI,VE=GE/2;function UE(e){const t=(t,i)=>{const[n=e.min,o=e.max]=Rk(i??[]);return t<n||t>o};return{tick:{fromFn(e,i,n){let o=e.y1+e.translationY,a=e.opacity;return("added"===n||t(e.datum.translationY,e.datum.range))&&(o=i.translationY,a=0),{y:0,translationY:o,opacity:a,phase:iC[n]}},toFn(e,t,i){const n=t.translationY;let o=1;return"removed"===i&&(o=0),{y:0,translationY:n,opacity:o,finish:{y:n,translationY:0}}},applyFn(e,i){e.setProperties(i),e.visible=!t(e.y)}},line:{fromFn:(e,t)=>({...e.previousDatum??t,phase:iC.updated}),toFn:(e,t)=>({...t})},label:{fromFn(e,i,n){const o=e.previousDatum??i,a=o.x,r=o.y,s=o.rotationCenterX;let l=Math.round(e.translationY),c=o.rotation,d=e.opacity;return"removed"===n||t(o.y,o.range)?c=i.rotation:("added"===n||t(e.datum.y,e.datum.range))&&(l=Math.round(o.translationY),d=0,c=i.rotation),{x:a,y:r,rotationCenterX:s,translationY:l,rotation:c,opacity:d,phase:iC[n]}},toFn(e,t,i){const n=t.x,o=t.y,a=t.rotationCenterX,r=Math.round(t.translationY);let s=0,l=1;var c,d;return"added"===i?(l=1,s=t.rotation):"removed"===i?(l=0,s=t.rotation):(c=e.previousDatum?.rotation??t.rotation,d=t.rotation,s=Math.abs(d-c)<VE?d:c>d?d+GE:d-GE),{x:n,y:o,rotationCenterX:a,translationY:r,rotation:s,opacity:l,finish:{rotation:t.rotation}}}},group:{fromFn(e,t){const{rotation:i,translationX:n,translationY:o}=e;return{rotation:i,translationX:n,translationY:o,phase:iC.updated}},toFn(e,t){const{rotation:i,translationX:n,translationY:o}=t;return{rotation:i,translationX:n,translationY:o}}}}}function KE(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function YE(e){const{visible:t,min:i,max:n}=e;return(e,o)=>{const a=o.translationY;return{y:a,translationY:0,opacity:1,visible:t&&a>=i&&a<=n}}}function XE(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function ZE(){return(e,t)=>({...t})}var qE=class extends(wD(rN)){},QE=class e{constructor(t,i){let n;this.moduleCtx=t,this.scale=i,this.id=hk(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new BE,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new LD({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new qE({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new DD({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new DD({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new LD({name:`${this.id}-CrossLines`}),this.labelGroup=new DD({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new LD({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new DD({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=PD.select(this.tickLineGroup,qE,!1),this.tickLabelGroupSelection=PD.select(this.tickLabelGroup,fN,!1),this.gridLineGroupSelection=PD.select(this.gridLineGroup,qE,!1),this._crossLines=[],this.line=new FE,this.tick=new _E,this.gridLine=new PE,this.label=this.createLabel(),this.defaultTickMinSpacing=e.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new HE,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.moduleMap=new TI,this.range=this.scale.range.slice(),this.crossLines.forEach((e=>this.initCrossLine(e))),this.axisGroup.appendChild(this.title.caption.node),this.animationManager=t.animationManager,this.animationState=new jN("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:e=>this.animateReadyUpdate(e),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"),t.layoutManager.addListener("layout:complete",(e=>{null!=n&&null!=MN(e.chart,n)&&this.animationState.transition("resize"),n={...e.chart}})))}get type(){return this.constructor.type??""}set crossLines(e){const{CrossLineConstructor:t}=this.constructor;this._crossLines.forEach((e=>this.detachCrossLine(e))),this._crossLines=e.map((e=>{const i=new t;return i.set(e),i})),this._crossLines.forEach((e=>{this.attachCrossLine(e),this.initCrossLine(e)}))}get crossLines(){return this._crossLines}resetAnimation(e){"initial"===e&&this.animationState.transition("reset")}attachCrossLine(e){this.crossLineGroup.appendChild(e.group),this.crossLineGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineGroup.removeChild(e.group),this.crossLineGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach((e=>e()))}updateRange(){const{range:e,visibleRange:t,scale:i}=this,n=(e[1]-e[0])/(t[1]-t[0]),o=n*t[0],a=e[0]-o;i.setVisibleRange?.(t),i.range=[a,a+n],this.crossLines.forEach((t=>{t.clippedRange=[e[0],e[1]]}))}setCrossLinesVisible(e){this.crossLineGroup.visible=e}attachAxis(e,t){t.appendChild(this.gridGroup),e.appendChild(this.axisGroup),e.appendChild(this.crossLineGroup),e.appendChild(this.labelGroup)}attachLabel(e){this.labelGroup.append(e)}detachAxis(e,t){t.removeChild(this.gridGroup),e.removeChild(this.axisGroup),e.removeChild(this.crossLineGroup),e.removeChild(this.labelGroup)}inRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[i,n]=Rk(this.range);return e>=i-t&&e<=n+t}onFormatChange(e,t,i,n){const{scale:o}=this,a=o instanceof rD,r=e=>a?String:i=>"number"===typeof i?i.toFixed(t+e):String(i);if(n&&o&&o.tickFormat)try{const t=o.tickFormat({ticks:e,specifier:n});this.labelFormatter=t,this.datumFormatter=t}catch(Zfe){this.labelFormatter=r(0),this.datumFormatter=r(1),MA.warnOnce(`the axis label format string ${n} is invalid. No formatting will be applied`)}else this.labelFormatter=r(0),this.datumFormatter=r(1)}onGridLengthChange(e,t){t^e&&this.onGridVisibilityChange(),this.crossLines.forEach((e=>this.initCrossLine(e)))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new $E}update(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.tickGenerationResult)return;const{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),o=this.label.getSideFlag();this.updatePosition();const a=this.getAxisLineCoordinates(),{tickData:r,combinedRotation:s,textBaseline:l,textAlign:c,primaryTickCount:d}=this.tickGenerationResult,u=this.tickLabelGroupSelection.nodes().map((e=>e.datum.tickId));if(this.updateSelections(a,r.ticks,{combinedRotation:s,textAlign:c,textBaseline:l,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const e=this.calculateUpdateDiff(u,r);this.animationState.transition("update",e)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(o),this.updateTickLines(),this.updateTitle({anyTickVisible:r.ticks.length>0}),this.updateCrossLines({rotation:t,parallelFlipRotation:i,regularFlipRotation:n}),this.updateLayoutState(r.fractionDigits),d}getAxisLineCoordinates(){const[e,t]=Rk(this.range);return{x:0,y1:e,y2:t}}getTickLineCoordinates(e){const t=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,t);return{x1:i,x2:i+Math.abs(t),y:e.translationY}}getTickLabelProps(e,t){const{label:i}=this,{combinedRotation:n,textBaseline:o,textAlign:a,range:r}=t,s=e.tickLabel,l=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),c=""!==s&&null!=s;return{tickId:e.tickId,translationY:e.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:l,text:s,textAlign:a,textBaseline:o,visible:c,x:l,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(e,t){const{title:i}=this;if(!i.enabled)return e.enabled=!1,void(e.node.visible=!1);e.color=i.color,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.enabled=i.enabled,e.wrapping=i.wrapping;const n=e.node,o=(i.spacing??0)+t.spacing,a=this.label.getSideFlag(),r=jD(this.rotation),s=-1===a&&r>Math.PI&&r<2*Math.PI?-1:1,l=s*a*Math.PI/2,c=1===s?"bottom":"top",{range:d}=this,u=Math.floor(s*a*(d[0]+d[1])/2),h=-1===a?Math.floor(s*-o):Math.floor(-o),{callbackCache:p}=this.moduleCtx,{formatter:g=e=>e.defaultValue}=i,f=p.call(g,this.getTitleFormatterParams());e.text=f,n.setProperties({visible:!0,text:f,textBaseline:c,x:u,y:h,rotation:l})}calculateLayout(e,t){const{rotation:i,parallelFlipRotation:n,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag(),r=a*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(e),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:n,regularFlipRotation:o,labelX:r,sideFlag:a});const{tickData:s,combinedRotation:l,textBaseline:c,textAlign:d,...u}=this.tickGenerationResult;this.updateLayoutState(s.fractionDigits);const h=[],{x:p,y1:g,y2:f}=this.getAxisLineCoordinates(),m=new Vk(p+Math.min(a*this.seriesAreaPadding,0),g,this.seriesAreaPadding,f-g);if(h.push(m),this.tick.enabled&&s.ticks.forEach((e=>{const{x1:t,x2:i,y:n}=this.getTickLineCoordinates(e),o=new Vk(t,n,i-t,0);h.push(o)})),this.label.enabled){const e=new fN;s.ticks.forEach((t=>{const i=this.getTickLabelProps(t,{combinedRotation:l,textAlign:d,textBaseline:c,range:this.scale.range});if(!i.visible)return;e.setProperties({...i,translationY:Math.round(t.translationY)});const n=e.getBBox();n&&h.push(n)}))}if(this.title?.enabled){const e=new QN,t=Vk.merge(h).width;this.setTitleProps(e,{spacing:t});const i=e.node.getBBox();i&&h.push(i)}const y=Vk.merge(h),v=this.getTransformBox(y),b=this.isAnySeriesActive();return this.crossLines.forEach((e=>{var t;e.sideFlag=-a,e.direction=i===-Math.PI/2?"x":"y",e instanceof LE&&((t=e.label).parallel??(t.parallel=this.label.parallel)),e.parallelFlipRotation=n,e.regularFlipRotation=o,e.calculateLayout?.(b,this.reverse)})),{primaryTickCount:u.primaryTickCount,bbox:v}}updateLayoutState(e){this.layout.label={fractionDigits:e,padding:this.label.padding,format:this.label.format}}getTransformBox(e){const t=new vD,{rotation:i,translationX:n,translationY:o}=this.getAxisTransform();return vD.updateTransformMatrix(t,1,1,i,n,o),t.transformBBox(e)}setDomain(e){this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(e){e?this.setDomain(e):this.calculateDomain(),this.updateRange(),this.scale.interval=this.interval.step,lC.is(this.scale)&&(this.scale.nice=this.nice,this.scale.update())}calculateRotations(){const e=_D(this.rotation);return{rotation:e,parallelFlipRotation:jD(e),regularFlipRotation:jD(e-Math.PI/2)}}generateTicks(e){let{primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:n,labelX:o,sideFlag:a}=e;const{scale:r,interval:{minSpacing:s,maxSpacing:l},label:{parallel:c,rotation:d,fontFamily:u,fontSize:h,fontStyle:p,fontWeight:g}}=this,f=void 0!==t,{defaultRotation:m,configuredRotation:y,parallelFlipFlag:v,regularFlipFlag:b}=oE({rotation:d,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),x=y+m,S=new vD,{maxTickCount:M}=this.estimateTickCount({minSpacing:s,maxSpacing:l}),A=!(lC.is(r)||dD.is(r))||isNaN(M)?10:M;let k=rE(c,y,0,a,b);const w=function(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}(c,y,a,v),C=dN.toFontString({fontFamily:u,fontSize:h,fontStyle:p,fontWeight:g}),I=lN.getMeasurer({font:C}),D={fontFamily:u,fontSize:h,fontStyle:p,fontWeight:g,textBaseline:w,textAlign:k};let N={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},E=0,O=0,L=!0,T=[],R=!1;for(;L&&E<=A&&!R;){O=0,k=rE(c,y,0,a,b);const e=this.getTickStrategies({secondaryAxis:f,index:E});for(const i of e){({tickData:N,index:E,autoRotation:O,terminate:R}=i({index:E,tickData:N,textProps:D,labelOverlap:L,terminate:R,primaryTickCount:t}));const e=0!==y||0!==O,n=x+O,r=aE(this.label.minSpacing,e);vD.updateTransformMatrix(S,1,1,n,0,0),k=rE(c,y,O,a,b),T=this.createLabelData(N.ticks,o,S,I),L=!!this.label.avoidCollisions&&bN(T,r)}}const P=m+y+O;return!f&&N.rawTicks.length>0&&(t=N.rawTicks.length),{tickData:N,primaryTickCount:t,combinedRotation:P,textBaseline:w,textAlign:k,labelData:T}}getTickStrategies(e){let{index:t,secondaryAxis:i}=e;const{scale:n,label:o}=this,{minSpacing:a}=this.interval,r=lC.is(n)||dD.is(n),s=o.enabled&&o.avoidCollisions,l=!r&&0!==t&&s,c=!0===o.autoRotate&&void 0===o.rotation,d=[];let u;u=this.interval.values?3:i?1:l?2:0;if(d.push((e=>{let{index:t,tickData:i,primaryTickCount:n,terminate:o}=e;return this.createTickData(u,t,i,o,n)})),!r&&!isNaN(a)){const e=e=>{let{index:t,tickData:i,primaryTickCount:n,terminate:o}=e;return this.createTickData(2,t,i,o,n)};d.push(e)}if(!s)return d;if(c){const e=e=>{let{index:t,tickData:i,labelOverlap:n,terminate:o}=e;return{index:t,tickData:i,autoRotation:this.getAutoRotation(n),terminate:o}};d.push(e)}return d}createTickData(e,t,i,n,o){const{scale:a}=this,{step:r,values:s,minSpacing:l,maxSpacing:c}=this.interval,{maxTickCount:d,minTickCount:u,defaultTickCount:h}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),p=lC.is(a)||dD.is(a),g=!p||isNaN(d)?10:d;let f=p?Math.max(h-t,u):d;const m=void 0===r&&void 0===s&&f>u&&(p||2===e);let y=!0;for(;y&&t<=g;){const n=i.rawTicks;f=p?Math.max(h-t,u):d;const{rawTicks:a,fractionDigits:r,ticks:s,labelCount:l}=this.getTicks({tickGenerationType:e,previousTicks:n,tickCount:f,minTickCount:u,maxTickCount:d,primaryTickCount:o});i.rawTicks=a,i.fractionDigits=r,i.ticks=s,i.labelCount=l,y=!!m&&xN(a,n),t++}return n||(n=void 0!==r||void 0!==s),{tickData:i,index:t,autoRotation:0,terminate:n}}createLabelData(e,t,i,n){const o=[];for(const{tickLabel:a,translationY:r}of e){if(!a)continue;const{width:e,height:s}=n.measureLines(a),l=sE(a,new Vk(t,r,e,s),i);o.push(l)}return o}getAutoRotation(e){return e?jD(_D(this.label.autoRotateAngle??0)):0}getTicks(e){let{tickGenerationType:t,previousTicks:i,tickCount:n,minTickCount:o,maxTickCount:a,primaryTickCount:r}=e;const{range:s,scale:l,visibleRange:c}=this;let d;switch(t){case 3:if(d=this.interval.values,lC.is(l)){const[e,t]=Rk(l.getDomain().map(Number));d=d.filter((i=>i>=e&&i<=t)).sort(((e,t)=>e-t))}break;case 1:d=lC.is(l)?this.updateSecondaryAxisTicks(r):this.createTicks(n,o,a);break;case 2:d=this.filterTicks(i,n);break;default:d=this.createTicks(n,o,a)}const u=d.reduce(((e,t)=>Math.max(e,"number"===typeof t?_k(t):0)),0),h=(l.bandwidth??0)/2,p=[];let g=0;const f=new Map,m=Math.max(0,Math.floor(c[0]*d.length)),y=Math.min(d.length,Math.ceil(c[1]*d.length)),v=d.slice(m,y);this.onFormatChange(v,u,d,this.label.format);for(let b=0;b<v.length;b++){const e=v[b],t=l.convert(e)+h;if(s.length>0&&!this.inRange(t,.001))continue;const i=this.formatTick(e,u,m+b);let n=i;if(f.has(n)){const e=f.get(n);f.set(n,e+1),n=`${n}_${e}`}else f.set(n,1);p.push({tick:e,tickId:n,tickLabel:i,translationY:Math.floor(t)}),""!==i&&null!=i&&g++}return{rawTicks:d,fractionDigits:u,ticks:p,labelCount:g}}filterTicks(e,t){const{minSpacing:i,maxSpacing:n}=this.interval,o=!isNaN(i)||!isNaN(n)?Math.ceil(e.length/t):2;return e.filter(((e,t)=>t%o===0))}createTicks(e,t,i){const{scale:n}=this;return e&&(lC.is(n)||dD.is(n))&&(n.tickCount=e,n.minTickCount=t??0,n.maxTickCount=i??1/0),n.ticks?.()??[]}estimateTickCount(e){let{minSpacing:t,maxSpacing:i}=e;if(!this.label.avoidCollisions)return{minTickCount:lC.defaultMaxTickCount,maxTickCount:lC.defaultMaxTickCount,defaultTickCount:lC.defaultMaxTickCount};const n=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,n/lC.defaultMaxTickCount);let a=!isNaN(i);isNaN(t)&&(t=o),isNaN(i)&&(i=n),t>i&&(t===o?t=i:i=t);a&&(a=2<o);const r=Lk(1,Math.floor(n/t),a?Math.min(Math.floor(n/2),100):100),s=Math.min(r,Math.ceil(n/i));return{minTickCount:s,maxTickCount:r,defaultTickCount:Lk(s,lC.defaultTickCount,r)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines(e){let{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}=e;const o=this.label.getSideFlag(),a=this.isAnySeriesActive();this.crossLines.forEach((e=>{var r;e.sideFlag=-o,e.direction=t===-Math.PI/2?"x":"y",e instanceof LE&&((r=e.label).parallel??(r.parallel=this.label.parallel)),e.parallelFlipRotation=i,e.regularFlipRotation=n,e.update(a)}))}updateTickLines(){const{tick:e,label:t}=this,i=t.getSideFlag();this.tickLineGroupSelection.each((t=>{t.strokeWidth=e.width,t.stroke=e.stroke,t.x1=i*this.getTickSize(),t.x2=0}))}calculateAvailableRange(){return Pk(this.range)}calculateRangeWithBleed(){const e=1/Pk(this.visibleRange);return Bk(this.calculateAvailableRange()*e,2)}calculateDomain(){const e=this.boundSeries.filter((e=>this.includeInvisibleDomains||e.isEnabled())).flatMap((e=>e.getDomain(this.direction)));this.setDomain(e)}getAxisTransform(){return{rotation:_D(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:e,axisGroup:t,gridGroup:i,translation:n}=this,{rotation:o}=this.calculateRotations(),a=Math.floor(n.x),r=Math.floor(n.y);e.setProperties({rotation:o,translationX:a,translationY:r}),i.setProperties({rotation:o,translationX:a,translationY:r}),t.datum=this.getAxisTransform()}updateSecondaryAxisTicks(e){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(e,t,i){const n=e=>e.tickId,o=t.map((e=>this.getTickLabelProps(e,i)));this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?t:[],void 0,n),this.tickLineGroupSelection.update(t,void 0,n),this.tickLabelGroupSelection.update(o,void 0,n)}updateAxisLine(){const{enabled:e,stroke:t,width:i}=this.line;this.lineNode.setProperties({stroke:t,strokeWidth:e?i:0})}updateGridLines(e){const{gridLine:{style:t,width:i},gridPadding:n,gridLength:o}=this;0!==o&&0!==t.length&&this.gridLineGroupSelection.each(((a,r,s)=>{const{stroke:l,lineDash:c}=t[s%t.length];a.setProperties({x1:n,x2:-e*o+n,stroke:l,strokeWidth:i,lineDash:c})}))}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each(((e,t)=>{e.setProperties(t,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])}))}updateTitle(e){const{title:t,lineNode:i,tickLineGroup:n,tickLabelGroup:o}=this;let a=0;if(t.enabled&&e.anyTickVisible){a+=DD.computeChildrenBBox([n,o,i]).width+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(t.caption,{spacing:a})}formatTick(e,t,i){return String(this.getFormatter(i,!0)(e,t))}formatDatum(e){return String(this.getFormatter()(e))}getFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const{label:i,labelFormatter:n,datumFormatter:o,moduleCtx:{callbackCache:a}}=this;return i.formatter?(t,n)=>a.call(i.formatter,{value:t,index:e,fractionDigits:n})??t:!t&&o?e=>a.call(o,e)??String(e):n?e=>a.call(n,e)??String(e):e=>String(e)}getBBox(){return this.axisGroup.getBBox()}getRegionNode(){}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some((e=>this.includeInvisibleDomains||e.isEnabled()))}clipTickLines(e,t,i,n){this.tickLineGroup.setClipRect(new Vk(e,t,i,n))}clipGrid(e,t,i,n){this.gridGroup.setClipRect(new Vk(e,t,i,n))}getTitleFormatterParams(){const{direction:e}=this,t=[];for(const i of this.boundSeries){const n=i.getKeys(e),o=i.getNames(e);for(let e=0;e<n.length;e++)t.push({key:n[e],name:o[e]})}return{direction:e,boundSeries:t,defaultValue:this.title?.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:lC.is(e)||dD.is(e),keys:()=>this.boundSeries.flatMap((e=>e.getKeys(this.direction))),seriesKeyProperties:()=>this.boundSeries.reduce(((e,t)=>(t.getKeyProperties(this.direction).forEach((t=>{e.indexOf(t)<0&&e.push(t)})),e)),[]),scaleValueFormatter:e=>this.getScaleValueFormatter(e),scaleBandwidth:()=>e.bandwidth??0,scaleDomain:()=>e.getDomain?.(),scaleConvert:t=>e.convert(t),scaleInvert:dD.is(e)?t=>e.invertNearest?.(t):t=>e.invert?.(t),scaleInvertNearest:t=>e.invertNearest?.(t),scaleStep:()=>e.step??0,attachLabel:e=>this.attachLabel(e),inRange:(e,t)=>this.inRange(e,t)}}getScaleValueFormatter(e){const{scale:t}=this;if(e&&t&&t.tickFormat)try{return t.tickFormat({specifier:e})}catch(Zfe){MA.warnOnce(`the format string ${e} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(e){const{animationManager:t}=this.moduleCtx,i=UE(WE(this));nC(this.id,"axis-group",t,[this.axisGroup],i.group),nC(this.id,"line",t,[this.lineNode],i.line),nC(this.id,"line-paths",t,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,((e,t)=>t.tickId),e),nC(this.id,"tick-labels",t,[this.tickLabelGroupSelection],i.label,((e,t)=>t.tickId),e)}resetSelectionNodes(){const{gridLineGroupSelection:e,tickLineGroupSelection:t,tickLabelGroupSelection:i,lineNode:n}=this,o=WE(this);PI([this.axisGroup],((e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY}))),PI([e,t],YE(o)),PI([i],((e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX}))),PI([n],((e,t)=>({...t})))}calculateUpdateDiff(e,t){const i=new Set,n=new Set,o={},a=Math.max(e.length,t.ticks.length);for(let r=0;r<a;r++){const a=t.ticks[r],s=e[r],l=a?.tickId;o[l??s]=a,s!==l&&(n.has(l)?n.delete(l):l&&i.add(l),i.has(s)?i.delete(s):s&&n.add(s))}return{changed:i.size>0||n.size>0,added:i,removed:n}}isReversed(){return this.reverse}};QE.defaultTickMinSpacing=50,QE.CrossLineConstructor=LE,pA([TC($C)],QE.prototype,"nice",2),pA([TC($C)],QE.prototype,"reverse",2),pA([TC(sI)],QE.prototype,"keys",2),pA([TC(jC)],QE.prototype,"interval",2),pA([TC(jC)],QE.prototype,"title",2),pA([TN(((e,t,i)=>e.onGridLengthChange(t,i)))],QE.prototype,"gridLength",2);var JE=QE,eO=class extends $E{constructor(){super(...arguments),this.autoRotateAngle=335}};pA([TC($C,{optional:!0})],eO.prototype,"autoRotate",2),pA([TC(KC)],eO.prototype,"autoRotateAngle",2);var tO=class e extends JE{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof e}get direction(){return"top"===this.position||"bottom"===this.position?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e){return this.updateDirection(),super.update(e)}calculateLayout(e,t){return this.updateDirection(),super.calculateLayout(e,t)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new eO}getRegionNode(){return this.axisGroup}};pA([TC(VC)],tO.prototype,"thickness",2),pA([TC(gI)],tO.prototype,"position",2);var iO=tO,nO=class e extends iO{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(t){return t instanceof e}normaliseDataDomain(e){const t=[],i=new Set;for(const n of e){const e=n instanceof Date?n.getTime():n;i.has(e)||(i.add(e),t.push(n))}return{domain:t,clipped:!1}}updateScale(e){let{paddingInner:t,paddingOuter:i}=this;if(!kw(t)||!kw(i)){const e=this.reduceBandScalePadding();t??(t=e.inner),i??(i=e.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=i??0,super.updateScale(e)}reduceBandScalePadding(){return this.boundSeries.reduce(((e,t)=>{const i=t.getBandScalePadding?.();return i&&(e.inner>i.inner&&(e.inner=i.inner),e.outer<i.outer&&(e.outer=i.outer)),e}),{inner:1/0,outer:-1/0})}};nO.className="CategoryAxis",nO.type="category",pA([TC(UC)],nO.prototype,"groupPaddingInner",2),pA([TC(UC,{optional:!0})],nO.prototype,"paddingInner",2),pA([TC(UC,{optional:!0})],nO.prototype,"paddingOuter",2);var oO=nO,aO=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter(((e,t)=>t!==this.number)):[]}};function rO(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new aO;let n=0;return t&&e.forEach((e=>n=Math.max(n,e.labels.length))),e.forEach((e=>{if(t)for(;e.labels.length<n;)e.labels.unshift("");!function(e,t){const i=t.labels.slice().reverse(),n=i.length-1;i.forEach(((t,i)=>{const o=e.children,a=o.find((e=>e.label===t)),r=i!==n;if(a&&r)e=a;else{const i=new aO(t,e);i.number=o.length,o.push(i),r&&(e=i)}}))}(i,e)})),i}function sO(e,t,i){const n=i/(t.number-e.number);t.change-=n,t.shift+=i,e.change+=n,t.prelim+=i,t.mod+=i}function lO(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function cO(e,t){const i=e.children;if(i.length){let n=i[0];i.forEach((e=>{cO(e,t),n=function(e,t,i){const n=e.getLeftSibling();if(n){let o=e,a=e,r=n,s=a.getLeftmostSibling(),l=a.mod,c=o.mod,d=r.mod,u=s.mod;for(;r.nextRight()&&a.nextLeft();){r=r.nextRight(),a=a.nextLeft(),s=s.nextLeft(),o=o.nextRight(),o.ancestor=e;const n=r.prelim+d-(a.prelim+l)+i;n>0&&(sO(lO(r,e,t),e,n),l+=n,c+=n),d+=r.mod,l+=a.mod,u+=s.mod,c+=o.mod}r.nextRight()&&!o.nextRight()?(o.thread=r.nextRight(),o.mod+=d-c):(a.nextLeft()&&!s.nextLeft()&&(s.thread=a.nextLeft(),s.mod+=l-u),t=e)}return t}(e,n,t)})),function(e){const t=e.children;if(t){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const o=t[n];o.prelim+=e,o.mod+=e,i+=o.change,e+=o.shift+i}}}(e);const o=(i[0].prelim+i.at(-1).prelim)/2,a=e.getLeftSibling();a?(e.prelim=a.prelim+t,e.mod=e.prelim-o):e.prelim=o}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+t:0}}var dO=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:i,y:n}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function uO(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach((n=>uO(n,t+e.mod,i)))}function hO(e){const t=e.children;let i=0;t.forEach((e=>{hO(e),e.children.length?i+=e.leafCount:i++})),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function pO(e){const t=new gO;return cO(e,1),uO(e,-e.prelim,t),hO(e),t}var gO=class{constructor(){this.dimensions=new dO,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,(e=>({x:e.x,y:e.y}))),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=this.leafCount-1,r=this.depth,s=this.dimensions;let l=1,c=1;if(e>0&&a){const t=(s.right-s.left)/a;l=e/a/t,o&&(l=-l)}if(t>0&&r){const e=(s.bottom-s.top)/r;c=t/r/e}const d=new dO;this.nodes.forEach((e=>{e.screenX=e.x*l,e.screenY=e.y*c,d.update(e,(e=>({x:e.screenX,y:e.screenY})))}));const u=-d.left,h=-d.top;this.nodes.forEach((e=>{e.screenX+=u+i,e.screenY+=h+n}))}},fO=class extends $E{constructor(){super(...arguments),this.grid=!1}};pA([TC($C)],fO.prototype,"grid",2);var mO=class extends iO{constructor(e){const t=new NC;t.paddingOuter=.1,t.paddingInner=2*t.paddingOuter,super(e,t),this.tickScale=new NC,this.line=new FE,this.label=new fO,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:o,tickScale:a}=this;a.paddingInner=1,a.paddingOuter=0,this.gridLineSelection=PD.select(o,rN),this.axisLineSelection=PD.select(i,rN),this.separatorSelection=PD.select(i,rN),this.labelSelection=PD.select(n,fN),this.lineNode.visible=!1}updateRange(){const{range:e,visibleRange:t,scale:i}=this,n=(e[1]-e[0])/(t[1]-t[0]),o=n*t[0],a=e[0]-o;this.tickScale.range=i.range=[a,a+n],this.resizeTickTree()}resizeTickTree(){const e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,n=this.lineHeight;i&&i.resize(Math.abs(t[1]-t[0]),i.depth*n,(Math.min(t[0],t[1])||0)+(e.bandwidth??0)/2,-i.depth*n,t[1]-t[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){const{direction:e}=this;let t=null;const i=this.boundSeries.filter((e=>e.visible)).flatMap((i=>{if("y"===e||t)return i.getDomain(e);if(null===t){const n=i.getDomain(e);return t=Aw(n[0]),n}return[]}));this.setDomain(cC(i)??pC(i));const{domain:n}=this.dataDomain;this.tickTreeLayout=pO(rO(n)),this.tickScale.domain=n.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){this.title.caption.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each(((e,t)=>{e.setProperties(t)}))}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:e}=this.computedLayout,{range:t}=this;this.separatorSelection.update(e).each(((e,i)=>{e.x1=i.x1,e.x2=i.x2,e.y1=i.y,e.y2=i.y,e.visible=this.tick.enabled&&i.y>=t[0]-1e-7&&i.y<=t[1]+1e-7,e.stroke=this.tick.stroke,e.strokeWidth=1}))}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each(((e,t)=>{e.setProperties(t),e.stroke=this.line.stroke,e.strokeWidth=this.line.width}))}updateCategoryGridLines(){const{gridLength:e,gridLine:t,label:i,range:n,tickScale:o}=this,a=o.ticks(),r=i.getSideFlag(),s=this.gridLineSelection.update(e?a:[]);if(e){const{width:i,style:a}=t,l=a.length;s.each(((s,c,d)=>{const u=Math.round(o.convert(c)),{stroke:h,lineDash:p}=a[d%l];s.visible=t.enabled&&u>=n[0]&&u<=n[1],s.x1=0,s.x2=-r*e,s.y1=u,s.y2=u,s.stroke=h,s.strokeWidth=i,s.lineDash=p}))}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:t,label:{parallel:i},moduleCtx:{callbackCache:n},range:o,title:a,title:{formatter:r=e=>e.defaultValue}={}}=this,s=e.range[0],l=e.range[1],c=Math.abs(l-s)/e.domain.length||0,d=Math.ceil(t.fontSize/c),u=_D(this.rotation),h=Math.abs(Math.cos(u))<1e-8,p=t.getSideFlag(),g=this.lineHeight,f=this.tickTreeLayout,m=e.ticks(),y=f?f.nodes:[],v=!!f&&f.depth>1,b=a?.enabled&&m.length>0,{defaultRotation:x,configuredRotation:S,parallelFlipFlag:M}=oE({rotation:t.rotation,parallel:i,regularFlipRotation:jD(u-Math.PI/2),parallelFlipRotation:jD(u)}),A=[],k=new Map;let w=0;const C=new fN,I=(e,i)=>{if(0===i){if(b){const t=n.call(r,this.getTitleFormatterParams());return C.setProperties({text:t,fill:a.color,fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,textAlign:"center",textBaseline:"hanging",translationX:e.screenY-.25*a.fontSize,translationY:e.screenX}),!0}return!1}return C.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:-1===M?"bottom":"hanging",translationX:e.screenY-.25*t.fontSize,translationY:e.screenX}),i%d===0&&(!(e.screenX<o[0]||e.screenX>o[1])&&(t.formatter?C.text=n.call(t.formatter,{value:String(e.label),index:i})??String(e.label):C.text=String(e.label),!0))};y.forEach(((e,t)=>{if(!I(e,t))return;const i=C.getBBox();if(!i)return;k.set(t,i);!e.children.length&&i.width>w&&(w=i.width)}));const D=p*t.padding,N=this.label.grid,E=[];y.forEach(((e,t)=>{const i=!e.children.length;let n,o=I(e,t);if(C.x=D,C.y=0===t&&b?a.spacing??0:0,C.rotationCenterX=D,i)C.rotation=S,C.textAlign="end",C.textBaseline="middle";else{const i=e.leafCount*c,n=k.get(t);C.translationX-=w-g+this.label.padding,n&&n.width>i?(o=!1,k.delete(t)):C.rotation=h?x:-Math.PI/2}if(e.parent&&v){const t=i?e.screenX-c/2:e.screenX-e.leafCount*c/2;if(i)(e.number!==e.children.length-1||N)&&E.push({y:t,x1:0,x2:-w-2*this.label.padding});else{const i=-w-2*this.label.padding+e.screenY;E.push({y:t,x1:i+g,x2:i})}}if(o){const e=CD.toCanvas(C);e&&k.set(t,e),n={...(r=C,{fill:r.fill,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:r.rotation,rotationCenterX:r.rotationCenterX,rotationCenterY:r.rotationCenterY,text:r.text,textAlign:r.textAlign,textBaseline:r.textBaseline,translationX:r.translationX,translationY:r.translationY,visible:r.visible,x:r.x,y:r.y}),visible:o}}else k.delete(t),n={visible:o};var r;A.push(n)}));let O=0;E.forEach((e=>O=Math.min(O,e.x2))),E.push({y:Math.max(s,l),x1:0,x2:O});const L=[],T=[];E.forEach((e=>{if(e.y>=o[0]-1e-7&&e.y<=o[1]+1e-7){const{x1:t,x2:i,y:n}=e,o=new Vk(Math.min(t,i),n,Math.abs(t-i),0);T.push(o),L.push({x1:t,x2:i,y:n})}}));const R=[],P=[],z=f?f.depth+1:1;for(let B=0;B<z;B++){const e=m.length>0&&(0===B||N&&v),t=B>0?-w-2*this.label.padding-(B-1)*g:0,i=new Vk(t,Math.min(...o),0,Math.abs(o[1]-o[0]));P.push(i),R.push({x:t,y1:o[0],y2:o[1],visible:e})}const j=Vk.merge(gk(k.values(),T,P));return{bbox:this.getTransformBox(j),tickLabelLayout:A,separatorLayout:L,axisLineLayout:R}}calculateLayout(){const{axisLineLayout:e,separatorLayout:t,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};mO.className="GroupedCategoryAxis",mO.type="grouped-category",pA([TC(nI,{optional:!0})],mO.prototype,"labelColor",2);var yO=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},vO=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t){this.registerDependencies(n);const e=this.modules.find((e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier));if(e){if("enterprise"===n.packageType&&"community"===e.packageType){const t=this.modules.indexOf(e);this.modules.splice(t,1,n)}}else this.modules.push(n)}}hasEnterpriseModules(){return this.modules.some((e=>"enterprise"===e.packageType))}*byType(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const{dependents:n}=this,o=new Set;let a=0;const r=this.modules.filter((e=>t.includes(e.type)));do{for(const e of r)if(!o.has(e.optionsKey)&&!n.has(e.optionsKey)){yield e,o.add(e.optionsKey);for(const[t,i]of n.entries())i.delete(e.optionsKey),0===i.size&&n.delete(t)}a++}while(o.size<r.length&&a<3);if(n.size>0)throw new Error(`Could not resolve module dependencies: [${[...n.keys()]}]`)}registerDependencies(e){if(null!=e.dependencies&&0!==e.dependencies.length){for(const t of e.dependencies){const i=this.dependencies.get(t)??new Set;i.add(e.optionsKey),this.dependencies.set(t,i)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},bO=new vO;function xO(e){return new Promise((t=>{setTimeout((()=>t(void 0)),e)}))}var SO=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise((t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch((e=>MA.errorOnce(e)))}))}async acquireImmediately(e){return!!this.available&&(await this.acquire(e),!0)}async waitForClearAcquireQueue(){return this.acquire((async()=>{}))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t?.()}catch(i){MA.error("mutex callback error",i),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},MO=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if("function"!==typeof t)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){this.eventListeners.get(e)?.delete(t),0===this.eventListeners.size&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach((t=>t(e)))}},AO=class extends EC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;super(),this.top=e,this.right=t,this.bottom=i,this.left=n}};function kO(e,t){let i,n,o=0,a=!1;const r=()=>a,s=()=>{a=!1,n?.(),n=void 0,i=void 0,o>0&&e(l)},l=()=>{const e=o;o=0,a=!0;const i=t({count:e});i?i.then(s,s):s()};return{schedule(t){0!==o||r()||e(l,t),o++},async await(){if(r())for(null==i&&(i=new Promise((e=>{n=e})));r();)await i}}}pA([TC(VC)],AO.prototype,"top",2),pA([TC(VC)],AO.prototype,"right",2),pA([TC(VC)],AO.prototype,"bottom",2),pA([TC(VC)],AO.prototype,"left",2);var wO=class{constructor(){this.events=new Map}on(e,t){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e)?.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),0===i.size&&this.events.delete(e))}emit(e,t){this.events.get(e)?.forEach((e=>e(t)))}clear(e){e?this.events.delete(e):this.events.clear()}},CO=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.Toolbar=2]="Toolbar",e[e.Navigator=3]="Navigator",e[e.Overlay=4]="Overlay",e))(CO||{}),IO=class{constructor(){this.events=new wO,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>this.elements.get(e)?.delete(t)}createContext(e,t){const i=new DO(e,t);for(const n of Object.values(CO))"number"===typeof n&&this.elements.get(n)?.forEach((e=>e(i)));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:n,height:o}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:n,height:o},clipSeries:t.clipSeries??!1,series:t.series})}},DO=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Vk(0,0,e,t)}},NO=class{constructor(){this.title=new QN,this.subtitle=new QN,this.footnote=new QN}positionCaptions(e){const{title:t,subtitle:i,footnote:n}=this,o=e.layoutBox.height/10;if(t.enabled){const{spacing:n=(i.enabled?QN.SMALL_PADDING:QN.LARGE_PADDING)}=t;this.positionCaption("top",t,e.layoutBox,o),this.shrinkLayoutByCaption("top",t,e.layoutBox,n)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,o),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,e.layoutBox,o),this.shrinkLayoutByCaption("bottom",n,e.layoutBox,n.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:n}=this,{rect:o}=e.series;for(const a of[t,i,n])if("overlay"===a.layoutStyle)if("left"===a.textAlign)a.node.x=o.x+a.padding;else if("right"===a.textAlign){const e=a.node.getBBox();a.node.x=o.x+o.width-e.width-a.padding}}computeX(e,t){return"left"===e?t.x:"right"===e?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,n){const o=Math.max(dN.getLineHeight(t.fontSize),n);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+("top"===e?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,o)}shrinkLayoutByCaption(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("block"===t.layoutStyle){const o=t.node.getBBox();i.shrink("top"===e?Math.ceil(o.y-i.y+o.height+n):Math.ceil(i.y+i.height-o.y+n),e)}}};pA([TC(jC)],NO.prototype,"title",2),pA([TC(jC)],NO.prototype,"subtitle",2),pA([TC(jC)],NO.prototype,"footnote",2);var EO=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex((t=>t.symbol===e));if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(t);break}}}dispatch(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.getListenersByType(e))try{o.handler(...i)}catch(Zfe){MA.errorOnce(Zfe)}}dispatchWrapHandlers(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];for(const a of this.getListenersByType(e))try{t(a.handler,...n)}catch(Zfe){MA.errorOnce(Zfe)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},OO=class{constructor(){this.listeners=new EO,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach((e=>e()))}},LO=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.All=63]="All",e))(LO||{}),TO=class extends OO{addListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return super.addListener(e,(e=>{this.getState()&i&&t(e)}))}},RO=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach((e=>e())),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}},PO="10.3.3",zO=Symbol("previous-memento-not-found"),jO=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=RD.create(!0,"history"),this.destroyFns=new RO,this.destroyFns.setFns([e.addListener("undo",this.undo.bind(this),63),e.addListener("redo",this.redo.bind(this),63)])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const t=new Map;for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];for(const a of n){if(!this.originators.has(a.mementoOriginatorKey))throw new Error(`Originator [${a.mementoOriginatorKey}] has not been added to the HistoryManager.`);t.set(a.mementoOriginatorKey,a.createMemento())}this.history.push({label:e,mementos:t}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const e=this.findPreviousMemento(t);if(e===zO)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,e)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):zO}restoreMemento(e,t){this.originators.get(e)?.restoreMemento(PO,PO,t)}debugEvent(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.debug(...t,this.history.map(((e,t)=>t===this.historyIndex?`** ${e.label} **`:e.label)))}},BO=class{constructor(e){this.version=e.split("-")[0]}save(){const e={version:this.version};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const o of Object.values(i))e[o.mementoOriginatorKey]=this.encode(o,o.createMemento());return e}restore(e){if("object"===typeof e)if(null!=e)if("version"in e&&"string"===typeof e.version){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const t of i){if(!(t.mementoOriginatorKey in e))continue;const i=this.decode(t,e[t.mementoOriginatorKey]);if(!t.guardMemento(i))return void MA.warnOnce(`Could not restore [${t.mementoOriginatorKey}] data, value was invalid, ignoring.`,i);t.restoreMemento(this.version,e.version,i)}}else MA.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else MA.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else MA.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`)}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(e,t){return fw(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return bw(this[e])&&"__type"in this[e]&&"date"===this[e].__type?new Date(this[e].value):t}},$O=class{constructor(){this.caretaker=new BO(PO),this.state=new Map}setState(e,t){null!=MN(this.state.get(e.mementoOriginatorKey),t)&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}};function FO(e,t,i,n){t.addEventListener(i,n);const o=()=>t.removeEventListener(i,n);return e.push(o),o}function _O(e,t,i){FO(e,t,"keydown",(e=>{"Escape"===e.key&&i(e)}))}function HO(e,t,i){const n=FO(e,window,"mousedown",(e=>{[0,2].includes(e.button)&&!function(e,t){if(t.target instanceof Element){const{x:i,y:n,width:o,height:a}=e.getBoundingClientRect(),{clientX:r,clientY:s}=t;return r>=i&&s>=n&&r<=i+o&&s<=n+a}return!1}(t,e)&&(i(),n())}));return n}function WO(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function GO(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return WO(e)&&(e.key===t||n.some((t=>e.key===t)))}function VO(e,t,i,n){i&&FO(e,t,"keydown",(e=>{GO(e,n)&&i.focus()}))}function UO(e,t,i,n,o,a){VO(e,t,o,a),VO(e,t,i,n),FO(e,t,"keydown",(e=>{GO(e,n,a)&&e.preventDefault()}))}var KO={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function YO(e){return e.toolbar.role="toolbar",e.toolbar.ariaOrientation=e.orientation,e.toolbar.ariaHidden=(0===e.buttons.length).toString(),XO(e)}function XO(e){const{orientation:t,buttons:i,wrapAround:n=!1,onEscape:o,onFocus:a,onBlur:r}=e,{nextKey:s,prevKey:l}=KO[t],c=e=>{e.target&&"tabIndex"in e.target&&(i.forEach((e=>e.tabIndex=-1)),e.target.tabIndex=0)},[d,u]=n?[i.length,i.length]:[0,1/0],h=[];for(let p=0;p<i.length;p++){const e=i[(d+p-1)%u],t=i[p],n=i[(d+p+1)%u];FO(h,t,"focus",c),a&&FO(h,t,"focus",a),r&&FO(h,t,"blur",r),o&&_O(h,t,o),UO(h,t,e,l,n,s),t.tabIndex=0===p?0:-1}return h}var ZO=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(HO(this.destroyFns,e,(()=>this.close())))}close(){this.destroyFns.forEach((e=>e())),this.destroyFns.length=0,this.closeCallback(),this.finishClosing()}finishClosing(){this.destroyFns.forEach((e=>e())),this.destroyFns.length=0,FN(this.lastFocus,"aria-expanded",!1),this.lastFocus?.focus(),this.lastFocus=void 0}};function qO(e){const{sourceEvent:t,orientation:i,menu:n,buttons:o,closeCallback:a,autoCloseOnBlur:r=!1}=e,{nextKey:s,prevKey:l}=KO[i],c=eL(t);FN(c,"aria-expanded",!0);const d=new ZO(n,c,a),u=()=>d.close(),{destroyFns:h}=d;if(n.role="menu",n.ariaOrientation=i,h.push(...XO({orientation:i,buttons:o,onEscape:u,wrapAround:!0})),n.tabIndex=-1,_O(h,n,u),FO(h,n,"keydown",(e=>{e.target!==n||e.key!==s&&e.key!==l||(e.preventDefault(),o[0]?.focus())})),r){const e=e=>{!o.includes(e.relatedTarget)&&u()};for(const t of o)FO(h,t,"blur",e)}return o[0]?.focus(),d}function QO(e,t){return i=>{if("true"===e.ariaDisabled)return i.preventDefault();t(i)}}function JO(e){return"button"in e?0===e.button:WO(e)&&("Space"===e.code||"Enter"===e.key)}function eL(e){if(e?.target instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function tL(e){const t=e=>{if(e.defaultPrevented)return;HN(e.target,"data-preventdefault",!0)&&GO(e,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&e.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var iL=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach((e=>{let[t,i]=e;return this.observe(t,i)})),this.queuedObserveRequests=[]},"undefined"!==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((e=>{for(const{target:t,contentRect:{width:i,height:n}}of e){const e=this.elements.get(t);this.checkSize(e,t,i,n)}})),this.documentReady="complete"===Sk("readyState"),this.documentReady||Mk()?.addEventListener("load",this.onLoad))}destroy(){Mk()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(e,t,i,n){e&&(i===e.size?.width&&n===e.size?.height||(e.size={width:i,height:n},e.cb(e.size,t)))}observe(e,t){if(!this.documentReady)return void this.queuedObserveRequests.push([e,t]);this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);const i={cb:t};this.elements.set(e,i)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter((t=>{let[i]=t;return i!==e}))}},nL=["styles","canvas","canvas-center","canvas-overlay","canvas-proxy","series-area"],oL=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);var aL={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON:()=>aL},rL=class extends OO{constructor(e,t){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new iL;const i=Ak("div");i.innerHTML='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="img" class="ag-charts-series-area" tabindex="-1"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=i.children.item(0),this.styleRootElement=t,this.rootElements=nL.reduce(((e,t)=>{const i=`ag-charts-${t}`,n=this.element.classList.contains(i)?this.element:this.element.querySelector(`.${i}`);if(!n)throw new Error(`AG Charts - unable to find DOM element ${i}`);return e[t]={element:n,children:new Map,listeners:[]},e}),{});let n=!1;this.observer=function(e,t){if("undefined"===typeof IntersectionObserver)return;const i=new IntersectionObserver((i=>{for(const n of i)n.target===e&&t(n.intersectionRatio)}),{root:e});return i.observe(e),i}(this.element,(e=>{0!==e||n||this.listeners.dispatch("hidden",{type:"hidden"}),n=0===e})),this.setSizeOptions(),this.addStyles("ag-charts-community",'.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative;user-select:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{opacity:0;pointer-events:auto;position:absolute}.ag-charts-series-area:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-border-radius: var(--ag-border-radius, 4px);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size: 14px;--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-dialog-input-group-label-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-dialog-tab-color--inactive: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-focus-box-shadow: var(--box-shadow), 0 0 0 2px #fff8, var(--ag-charts-focus-border-shadow);--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-input-background-color: var(--ag-charts-background-color);--ag-charts-input-background-color--hover: var(--ag-charts-hover-color);--ag-charts-input-background-color--active: var(--ag-charts-hover-color);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-color--active: var(--ag-charts-active-color);--ag-charts-input-border-radius: var(--ag-border-radius, 4px);--ag-charts-input-color--active: var(--ag-charts-active-color);--ag-charts-input-focus-outline: var(--ag-charts-focus-border);--ag-charts-input-focus-box-shadow: var(--ag-charts-focus-border-shadow);--ag-charts-input-font-family: var(--ag-charts-font-family);--ag-charts-input-font-size: var(--ag-charts-font-size);--ag-charts-input-padding: 8px;--ag-charts-input-padding-large: 10px;--ag-charts-input-placeholder-color: #888888;--ag-charts-input-spacing: 8px;--ag-charts-input-transition-duration: .25s;--ag-charts-input-transition-duration--fast: .1s;--ag-charts-input-transition-timing-function: ease-out;--ag-charts-input-checkbox-background-color: #babbbc;--ag-charts-input-checkbox-background-color--checked: var(--ag-charts-active-color)}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18%);--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-dialog-input-group-label-text-color: #ffffff;--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-input-placeholder-color: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;color:inherit;font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);transition-duration:var(--ag-charts-input-transition-duration);transition-property:none;transition-timing-function:var(--ag-charts-input-transition-timing-function)}.ag-charts-input:focus-visible{outline:var(--ag-charts-input-focus-outline);box-shadow:var(--ag-charts-input-focus-box-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);cursor:pointer;padding:var(--ag-charts-input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-input-background-color--hover)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{appearance:none;background:var(--ag-charts-input-checkbox-background-color);border-radius:9px;cursor:pointer;height:18px;margin:0;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:7px;content:" ";height:14px;margin:2px;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-input-checkbox-background-color--checked)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--line-height);font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);padding:var(--ag-charts-input-padding-large) var(--ag-charts-input-padding)}.ag-charts-textarea[placeholder]:empty:before{color:var(--ag-charts-input-placeholder);content:attr(placeholder)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:none;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;white-space:nowrap;--stroke-width-color: var(--ag-charts-toolbar-foreground-color)}.ag-charts-toolbar__no-pointer-events{pointer-events:none}.ag-charts-toolbar__button--drag-handle{min-width:24px;padding-left:0;padding-right:0}.ag-charts-toolbar__button--with-transition{transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover:not([aria-disabled=true],.ag-charts-toolbar__button--drag-handle){background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2;--stroke-width-color: var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button.ag-charts-toolbar__button--drag-handle{cursor:grab}.ag-charts-toolbar__button.ag-charts-toolbar__button--dragging{cursor:grabbing}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__button--stroke-width-visible:before{content:"";height:min(var(--strokeWidth),20px);width:12px;background:var(--stroke-width-color);margin-right:var(--ag-charts-toolbar-button-padding)}.ag-charts-toolbar__button--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}\n'),e&&this.setContainer(e),this.destroyFns.push(tL(this.element))}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach((e=>{e.children.forEach((e=>e.remove())),e.element.remove()})),this.element.remove()}setSizeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{style:o}=this.element;o.width=`${i??e}px`,o.height=`${n??t}px`}updateContainerSize(){const{style:e}=this.rootElements["canvas-center"].element;e.width=`${this.containerSize?.width??0}px`,e.height=`${this.containerSize?.height??0}px`}setContainer(e){if(e===this.container)return;this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container));if(!(null!=this.getShadowDocumentRoot(e)))for(const t of this.rootElements.styles.children.keys())this.removeChild("styles",t);this.container=e;for(const[t,i]of this.styles)this.addStyles(t,i);e.appendChild(this.element),this.sizeMonitor.observe(e,(e=>{this.containerSize=e,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})})),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(e){this.element.classList.forEach((t=>{t.startsWith("ag-charts-theme-")&&t!==e&&this.element.classList.remove(t)})),this.element.classList.add(e)}setTabIndex(e){this.rootElements["series-area"].element.tabIndex=e}updateCanvasLabel(e){FN(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,t){return["focus","blur","keydown","keyup"].includes(t)?this.rootElements["series-area"].element:e}addEventListener(e,t,i){this.getEventElement(this.element,e).addEventListener(e,t,i)}removeEventListener(e,t,i){this.getEventElement(this.element,e).removeEventListener(e,t,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){const e=Mk(),t=new Vk(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect(),n=Vk.fromDOMRect(i??this.getBoundingClientRect());return t.intersection(n)?.toDOMRect()??aL}getRawOverlayClientRect(){let e=this.element;for(;null!=e;){const t=e.computedStyleMap?.(),i=t?.get("overflow-x")?.toString(),n=t?.get("overflow-y")?.toString();if(null!=i&&"visible"!==i||n&&"visible"!==n)return e.getBoundingClientRect();e=e.parentElement}const t=this.getShadowDocumentRoot();if(t)return t.getBoundingClientRect()}getShadowDocumentRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;const t=e?.ownerDocument?.body??Sk("body");for(;null!=e;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}return this.container}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],i=[];for(const n of t.values())i.push(Vk.fromDOMRect(n.getBoundingClientRect()));return Vk.merge(i)}calculateCanvasPosition(e){let t=0,i=0;const{x:n=0,y:o=0}=this.getChildBoundingClientRect("canvas")??{},a=e.getBoundingClientRect();return t=a.x-n,i=a.y-o,{x:t,y:i}}isManagedChildDOMElement(e,t,i){const{children:n}=this.rootElements[t],o=n?.get(i);return null!=o&&e.contains(o)}isEventOverElement(e){const t=e.target;return null!=t&&this.element.contains(t)}addStyles(e,t){const i="data-ag-charts";if(this.styles.set(e,t),null==this.container)return;const n=t=>t.getAttribute(i)===e,o=e=>{for(const i of e.children)if(n(i))return;const t=Ak("style");return e.appendChild(t),t};let a;if(this.styleRootElement)a=o(this.styleRootElement);else{a=null!=this.getShadowDocumentRoot(this.container)?this.addChild("styles",e):o(Sk("head"))}null==a||n(a)||(a.setAttribute(i,e),a.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,i,n){const{element:o,children:a,listeners:r}=this.rootElements[e];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(t))return a.get(t);const{childElementType:s="div"}=oL.get(e)??{};if(i&&i.tagName.toLowerCase()!==s.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??Ak(s);for(const[c,d,u]of r)l.addEventListener(c,d,u);if(a.set(t,l),n){const e=o.querySelector(n.query);if(null==e)throw new Error(`AG Charts - addChild query failed ${n.query}`);e.insertAdjacentElement(n.where,l)}else o?.appendChild(l);return l}removeChild(e,t){const{children:i}=this.rootElements[e];i&&(i.get(t)?.remove(),i.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}setDataBoolean(e,t){this.element.dataset[e]=String(t)}getIconClassNames(e){return`ag-charts-icon ag-charts-icon-${e}`}};function sL(e,t,i,n){if(0===e)return function(e,t,i){if(0===e)return function(e,t){const i=-t/e;return 0!==e&&i>=0&&i<=1?[i]:[]}(t,i);const n=t*t-4*e*i,o=[];if(0===n){const i=-t/(2*e);i>=0&&i<=1&&o.push(i)}else if(n>0){const i=Math.sqrt(n),a=(-t-i)/(2*e),r=(-t+i)/(2*e);a>=0&&a<=1&&o.push(a),r>=0&&r<=1&&o.push(r)}return o}(t,i,n);const o=t/e,a=i/e,r=(3*a-o*o)/9,s=(9*o*a-27*(n/e)-2*o*o*o)/54,l=r*r*r+s*s,c=1/3,d=[];if(l>=0){const e=Math.sqrt(l),t=Math.sign(s+e)*Math.pow(Math.abs(s+e),c),i=Math.sign(s-e)*Math.pow(Math.abs(s-e),c),n=Math.abs(Math.sqrt(3)*(t-i)/2),a=-c*o+(t+i);if(a>=0&&a<=1&&d.push(a),0===n){const e=-c*o-(t+i)/2;e>=0&&e<=1&&d.push(e)}}else{const e=Math.acos(s/Math.sqrt(-r*r*r)),t=c*o,i=2*Math.sqrt(-r),n=i*Math.cos(c*e)-t,a=i*Math.cos(c*(e+2*Math.PI))-t,l=i*Math.cos(c*(e+4*Math.PI))-t;n>=0&&n<=1&&d.push(n),a>=0&&a<=1&&d.push(a),l>=0&&l<=1&&d.push(l)}return d}function lL(e,t,i,n,o,a,r,s){const l=(i-e)*(s-a)-(n-t)*(r-o);if(0===l)return 0;const c=((r-o)*(t-a)-(e-o)*(s-a))/l,d=((i-e)*(t-a)-(n-t)*(e-o))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function cL(e,t,i,n,o,a,r,s,l,c,d,u){let h=0;const p=c-u,g=d-l,f=l*(u-c)-c*(d-l),m=dL(e,i,o,r),y=dL(t,n,a,s),v=sL(p*m[0]+g*y[0],p*m[1]+g*y[1],p*m[2]+g*y[2],p*m[3]+g*y[3]+f);for(const b of v){const e=b*b,t=b*e,i=m[0]*t+m[1]*e+m[2]*b+m[3],n=y[0]*t+y[1]*e+y[2]*b+y[3];let o;o=l===d?(n-c)/(u-c):(i-l)/(d-l),o>=0&&o<=1&&h++}return h}function dL(e,t,i,n){return[3*t-e-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function uL(e,t,i,n,o,a,r,s,l,c){if(isNaN(e)||isNaN(t))return 0;a&&([o,n]=[n,o]);const d=(c-s)/(l-r),u=s-d*r,h=Math.pow(d,2)+1,p=2*(d*(u-t)-e),g=Math.pow(e,2)+Math.pow(u-t,2)-Math.pow(i,2),f=Math.pow(p,2)-4*h*g;if(f<0)return 0;const m=(-p+Math.sqrt(f))/2/h,y=(-p-Math.sqrt(f))/2/h;let v=0;return[m,y].forEach((i=>{if(!(i>=Math.min(r,l)&&i<=Math.max(r,l)))return;const a=i-e,s=d*i+u-t;FD(Math.atan2(s,a),n,o)&&v++})),v}function hL(e,t,i,n,o){return(1-o)**3*e+3*(1-o)**2*o*t+3*(1-o)*o**2*i+o**3*n}function pL(e,t,i,n,o){if(o<=Math.min(e,n))return e<n?0:1;if(o>=Math.max(e,n))return e<n?1:0;let a=0,r=1,s=NaN;for(let l=0;l<12;l+=1){s=(a+r)/2;hL(e,t,i,n,s)<o?a=s:r=s}return s}function gL(e,t,i,n,o,a,r,s,l){const c=(1-l)*e+l*i,d=(1-l)*t+l*n,u=(1-l)*i+l*o,h=(1-l)*n+l*a,p=(1-l)*o+l*r,g=(1-l)*a+l*s,f=(1-l)*c+l*u,m=(1-l)*d+l*h,y=(1-l)*u+l*p,v=(1-l)*h+l*g,b=(1-l)*f+l*y,x=(1-l)*m+l*v;return[[{x:e,y:t},{x:c,y:d},{x:f,y:m},{x:b,y:x}],[{x:b,y:x},{x:y,y:v},{x:p,y:g},{x:r,y:s}]]}function fL(e,t,i,n){const o=3*t-e-3*i+n,a=3*e-6*t+3*i,r=-3*e+3*t;if(0===o){if(0!==a){const e=-r/a;if(e>0&&e<1)return[e]}return[]}const s=a*a-4*o*r;if(s>=0){const e=Math.sqrt(s);return[(-a+e)/(2*o),(-a-e)/(2*o)].filter((e=>e>0&&e<1))}return[]}function mL(e,t,i,n,o,a,r,s){return[...fL(e,i,o,r),...fL(t,n,a,s)]}var yL=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,o){o=Math.min(o,i/2,n/2),this.moveTo(e,t+o),this.arc(e+o,t+o,o,Math.PI,1.5*Math.PI),this.lineTo(e+o,t),this.lineTo(e+i-o,t),this.arc(e+i-o,t+o,o,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+o),this.lineTo(e+i,t+n-o),this.arc(e+i-o,t+n-o,o,0,Math.PI/2),this.lineTo(e+i-o,t+n),this.lineTo(e+o,t+n),this.arc(e+ +o,t+n-o,o,Math.PI/2,Math.PI),this.lineTo(e,t+n-o),this.closePath()}arc(e,t,i,n,o,a){this.openedPath=!0,this.path2d.arc(e,t,i,n,o,a),this.commands.push(2),this.params.push(e,t,i,n,o,a?1:0)}cubicCurveTo(e,t,i,n,o,a){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,o,a),this.commands.push(3),this.params.push(e,t,i,n,o,a)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,n=this.params,o=i.length,a=-1e4,r=-1e4;let s=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,p=0;h<o;h++)switch(i[h]){case 0:u+=lL(s,l,c,d,a,r,e,t),c=n[p++],s=c,d=n[p++],l=d;break;case 1:u+=lL(c,d,n[p++],n[p++],a,r,e,t),c=n[p-2],d=n[p-1];break;case 3:u+=cL(c,d,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],a,r,e,t),c=n[p-2],d=n[p-1];break;case 2:{const i=n[p++],o=n[p++],l=n[p++],h=n[p++],g=n[p++];if(u+=uL(i,o,l,h,g,Boolean(n[p++]),a,r,e,t),!isNaN(s)){u+=lL(c,d,i+Math.cos(h)*l,o+Math.sin(h)*l,a,r,e,t)}c=i+Math.cos(g)*l,d=o+Math.sin(g)*l;break}case 4:u+=lL(s,l,c,d,a,r,e,t)}return u%2===1}distanceSquared(e,t){let i=1/0;const n=this.commands,o=this.params,a=n.length;let r=NaN,s=NaN,l=0,c=0;for(let d=0,u=0;d<a;d++)switch(n[d]){case 0:l=r=o[u++],c=s=o[u++];break;case 1:i=XD(e,t,l,c,o[u++],o[u++],i);break;case 3:MA.error("Command.Curve distanceSquare not implemented");break;case 2:{const n=o[u++],a=o[u++],r=o[u++],s=o[u++],d=o[u++],h=n+Math.cos(s)*r,p=a+Math.sin(s)*r,g=Boolean(o[u++]);i=XD(e,t,l,c,h,p,i),i=ZD(e,t,n,a,r,s,d,g,i),l=n+Math.cos(d)*r,c=a+Math.sin(d)*r;break}case 4:i=XD(e,t,l,c,r,s,i)}return i}getPoints(){const{commands:e,params:t}=this,i=[];let n=0;for(const o of e)switch(o){case 0:case 1:i.push({x:t[n++],y:t[n++]});break;case 3:n+=4,i.push({x:t[n++],y:t[n++]});break;case 2:i.push({x:t[n++],y:t[n++]}),n+=4}return i}toSVG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>({x:e,y:t});const t=[],{commands:i,params:n}=this,o=function(i){t.push(i);for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n+=2){const{x:i,y:o}=e(n+1<1||arguments.length<=n+1?void 0:arguments[n+1],n+1+1<1||arguments.length<=n+1+1?void 0:arguments[n+1+1]);t.push(i,o)}};let a=0;for(const r of i)switch(r){case 0:o("M",n[a++],n[a++]);break;case 1:o("L",n[a++],n[a++]);break;case 3:o("C",n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);break;case 2:{const e=n[a++],i=n[a++],r=n[a++],s=n[a++],l=n[a++],c=n[a++];let d=c?s-l:l-s;d<0&&(d+=2*Math.ceil(-d/(2*Math.PI))*Math.PI),c&&(d=-d);const u=Math.max(Math.ceil(Math.abs(d)/(Math.PI/2)),1),h=d/u,p=4/3*Math.tan(h/4);o(0===t.length?"M":"L",e+Math.cos(s)*r,i+Math.sin(s)*r);for(let t=0;t<u;t+=1){const n=s+h*(t+0),a=s+h*(t+1),l=r*Math.sin(n),c=r*Math.cos(n),d=r*Math.sin(a),u=r*Math.cos(a);o("C",e+c-p*l,i+l+p*c,e+u+p*d,i+d-p*u,e+u,i+d)}break}case 4:t.push("Z")}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[i,n,o,a]=[1/0,1/0,-1/0,-1/0],[r,s]=[NaN,NaN],[l,c]=[NaN,NaN];const d=(e,t,l)=>{i=Math.min(t,i),n=Math.min(e,n),o=Math.max(e,o),a=Math.max(t,a),l&&([r,s]=[e,t])};let u=0;for(const h of e)switch(h){case 0:d(t[u++],t[u++],!0),[l,c]=[r,s];break;case 1:d(t[u++],t[u++],!0);break;case 3:{const e=t[u++],i=t[u++],n=t[u++],o=t[u++],a=t[u++],l=t[u++];d(a,l,!0);mL(r,s,e,i,n,o,a,l).forEach((t=>{const c=hL(r,e,n,a,t),u=hL(s,i,o,l,t);d(c,u)}));break}case 2:{const e=t[u++],i=t[u++],n=t[u++];let o=jD(t[u++]),a=jD(t[u++]);t[u++]&&([o,a]=[a,o]);const r=(t,o)=>{const a=e+n*Math.cos(t),r=i+n*Math.sin(t);d(a,r,o)};r(o),r(a,!0);const s=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const t of s)(o<a&&o<=t&&t<=a||o>a&&(o<=t||t<=a))&&r(t);break}case 4:[r,s]=[l,c]}return new Vk(n,i,o-n,a-i)}};function vL(e){const{redraw:t=3,changeCb:i,convertor:n}=e??{};return Kk({redraw:t,type:"path",convertor:n,changeCb:i})}var bL=class extends aN{constructor(){super(...arguments),this.path=new yL,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(){return this.updatePathIfDirty(),super.preRender()}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0!==this.dirty||i){if(!this.clip||isNaN(this._clipX)||isNaN(this._clipY))this._clipPath=void 0,this.drawPath(t);else{t.save();const e=this.strokeWidth/2;this._clipPath??(this._clipPath=new yL),this._clipPath.clear(),this._clipPath.rect(-e,-e,this._clipX+e,this._clipY+e+e),t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}this.fillShadow?.markClean(),super.render(e)}else n&&(n.nodesSkipped+=gD(this).count)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",this.svgPathData()),e.setAttribute("fill","string"===typeof this.fill?this.fill:"none"),e.setAttribute("fill-opacity",String(this.fillOpacity)),null!=this.stroke&&(e.setAttribute("stroke",this.stroke),e.setAttribute("stroke-opacity",String(this.strokeOpacity)),e.setAttribute("stroke-width",String(this.strokeWidth))),{elements:[e]}}};bL.className="Path",pA([vL()],bL.prototype,"clip",2),pA([vL()],bL.prototype,"clipX",1),pA([vL()],bL.prototype,"clipY",1);var xL="ag-charts-focus-indicator",SL=class{constructor(e){this.domManager=e,this.div=Sk().createElement("div"),this.svg=Sk().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=Sk().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=e.addChild("series-area",xL),this.element.classList.add(xL),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(xL),this.domManager.removeChild("series-area",xL)}updateBounds(e){if(void 0===e);else if(e instanceof bL){const t=(t,i)=>CD.toCanvasPoint(e,t,i);this.path.setAttribute("d",e.svgPathData(t)),this.show(this.svg)}else Dk(this.div,e),this.show(this.div)}show(e){this.element.innerHTML="",this.element.append(e)}getFocusableElement(){const e=this.element.parentElement;if(null==e||0!==e.tabIndex&&-1!==e.tabIndex)throw new Error("AG Charts - the focus indicator must be a child of a focusable element");return e}overrideFocusVisible(e){this.getFocusableElement().style.setProperty("opacity",{true:"1",false:"0",undefined:""}[`${e}`])}isFocusVisible(){const e=this.getFocusableElement();return null!=e&&"1"===Mk().getComputedStyle(e).opacity}},ML=class{set textContent(e){this.textElement.textContent=e;const t=this.textElement,i=t.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=kk("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=kk("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=Ak("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(e){Dk(this.boundedContainer,e)}};function AL(e,t){return t.params?.type===e}function kL(e){const t={params:e,result:void 0};return t.result=function(e){if("button"===e)return Ak("button");if("slider"===e)return Ak("input");if(["toolbar","group","list"].includes(e))return Ak("div");if("text"===e)return new ML;if("listswitch"===e)return{button:Ak("button"),listitem:Ak("div")};throw Error("AG Charts - error allocating meta")}(t.params.type),t}var wL=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach((e=>e()))}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=kL(e),{params:i,result:n}=t;return this.domManager.addChild("canvas-proxy",i.id,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),"boolean"===typeof i.ariaHidden&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation((()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})),n}createProxyElement(e){const t=kL(e);if(AL("button",t)){const{params:e,result:i}=t;if(this.initInteract(e,i),i.style.pointerEvents="auto","string"===typeof e.textContent)i.textContent=e.textContent;else{const{textContent:t}=e;this.addLocalisation((()=>{i.textContent=this.localeManager.t(t.id,t.params)}))}this.setParent(e,i)}if(AL("slider",t)){const{params:e,result:i}=t;this.initInteract(e,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=e.ariaOrientation,this.addLocalisation((()=>{i.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)})),this.setParent(e,i)}if(AL("text",t)){const{params:e,result:i}=t;this.initElement(e,i.getContainer()),this.setParent(e,i.getContainer())}if(AL("listswitch",t)){const{params:e,result:{button:i,listitem:n}}=t;this.initInteract(e,i),i.style.width="100%",i.style.height="100%",i.textContent=e.textContent,i.role="switch",i.ariaChecked=e.ariaChecked.toString(),i.style.pointerEvents="auto",i.setAttribute("aria-describedby",e.ariaDescribedBy),n.role="listitem",n.style.position="absolute",n.replaceChildren(i),this.setParent(e,n)}return t.result}initElement(e,t){const{id:i}=e;t.id=i,t.classList.toggle("ag-charts-proxy-elem",!0)}initInteract(e,t){const{onclick:i,ondblclick:n,onmouseenter:o,onmouseleave:a,oncontextmenu:r,onchange:s,onfocus:l,onblur:c,tabIndex:d}=e;this.initElement(e,t),void 0!==d&&(t.tabIndex=d),i&&t.addEventListener("click",i),n&&t.addEventListener("dblclick",n),o&&t.addEventListener("mouseenter",o),a&&t.addEventListener("mouseleave",a),r&&t.addEventListener("contextmenu",r),l&&t.addEventListener("focus",l),c&&t.addEventListener("blur",c),s&&t.addEventListener("change",s)}setParent(e,t){const{id:i,parent:n}=e;if("string"===typeof n){const e={where:n,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",i,t,e)}else n.appendChild(t)}},CL=/\$\{(\w+)}(?:\[(\w+)])?/gi,IL={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},DL=class extends EO{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:i=gA,getLocaleText:n}=this,o=i[e];return n?.({key:e,defaultValue:o,variables:t})??(e=>{let{defaultValue:t,variables:i}=e;return t?.replaceAll(CL,((e,t,n)=>{const o=i[t],a=null!=n?IL[n]:null;return null!=n&&null==a&&MA.warnOnce(`Format style [${n}] is not supported`),null!=a?a.format(o):"number"===typeof o?IL.number.format(o):o instanceof Date?IL.datetime.format(o):String(o)}))})({key:e,defaultValue:o,variables:t})??e}};var NL=class e{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:o,canvasElement:a,willReadFrequently:r=!1}=t;this.pixelRatio=function(){if("undefined"===typeof navigator)return!1;const e=/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/.exec(navigator.userAgent);if(null==e)return!1;const[t,i]=e[1].split("_").map(Number);return t<16||16===t&&i<6}()?1:o??Mk("devicePixelRatio"),this.element=a??Ak("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(i??0,n??0),e.debugContext(this.context)}static is(t){return t instanceof e}drawImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t){if(!(e>0&&t>0))return;const{element:i,context:n,pixelRatio:o}=this;i.width=Math.round(e*o),i.height=Math.round(t*o),n.setTransform(o,0,0,o,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(e){if(RD.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let n=0;Object.assign(e,{save(){t(),n++},restore(){if(0===n)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(0!==n)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}};pA([TN((e=>e.onEnabledChange()))],NL.prototype,"enabled",2);var EL=NL,OL=class e{constructor(e,t){this.canvas=e,this.markDirty=t,this.debug=RD.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,t){return pD([e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.id],[t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],uD)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(e.sortLayers).forEach(t)}resize(e,t){this.canvas.resize(e,t),this.layersMap.forEach((i=>{let{canvas:n}=i;return n.resize(e,t)}))}addLayer(e){const{width:t,height:i,pixelRatio:n}=this.canvas,{zIndex:o=this.nextZIndex++,name:a,zIndexSubOrder:r,getComputedOpacity:s,getVisibility:l}=e,c=new EL({width:t,height:i,pixelRatio:n});return o>=this.nextZIndex&&(this.nextZIndex=o+1),this.layersMap.set(c,{id:this.nextLayerId++,name:a,canvas:c,zIndex:o,zIndexSubOrder:r,getComputedOpacity:s,getVisibility:l}),this.debug("Scene.addLayer() - layers",this.layersMap),c}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,t,i){const n=this.layersMap.get(e);n&&(n.zIndex=t,n.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}},LL=class e{constructor(){this.offscreenCanvas="undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(0,0):Ak("canvas"),e.offscreenCanvasCount++;const t=this.offscreenCanvas.getContext("2d");if(null==t)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:t,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize(e){let{spritePixelRatio:t,spriteWidth:i,spriteHeight:n}=e;this.offscreenCanvas.width=Math.max(i,0)*t,this.offscreenCanvas.height=Math.max(n,0)*t}renderSprite(e,t){e=fk(e);const{renderCtx:i,renderCtx:{ctx:n},offscreenCanvas:o}=this,{scale:a=1,translateX:r=0,translateY:s=0}=t??{};n.resetTransform(),n.clearRect(0,0,o.width,o.height),n.save(),n.beginPath(),n.setTransform(a,0,0,a,r,s);for(const c of e)c.preRender(),c.render(i);if(n.closePath(),n.restore(),"transferToImageBitmap"in this.offscreenCanvas)return this.offscreenCanvas.transferToImageBitmap();const l=Ak("canvas");return l.style.display="block",l.style.width=o.width+"px",l.style.height=o.height+"px",l.getContext("2d")?.putImageData(n.getImageData(0,0,o.width,o.height),0,0),l}};LL.offscreenCanvasCount=0;var TL=LL;function RL(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vk.zero;if(!RD.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:r=0,layersSkipped:s=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},d=performance.now(),{start:u,...h}=t,p=Object.entries(h).map((e=>{let[t,i]=e;return _L(t,i)})).filter((e=>null!=e)).join(" + "),g=Object.entries(o).map((e=>{let[t,i]=e;return`${t}: ${i}`})).join(" ; "),f=RD.check("scene:stats:verbose"),m=[`${_L("\u23f1\ufe0f",u,d)} (${p})`,`${g}`,`Layers: ${f?FL(r,s):e.size}; Sprites: ${TL.offscreenCanvasCount}`,f?`Nodes: ${FL(l,c)}`:null].filter(Mw),y=new uN((e=>i.measureText(e))),v=new Map(m.map((e=>[e,y.measureLines(e)]))),b=Math.max(...Array.from(v.values(),(e=>e.width))),x=function(e,t){let i=0;for(const n of e)i+=t(n);return i}(v.values(),(e=>e.height)),S=2+a.x;i.save(),i.fillStyle="white",i.fillRect(S,0,b,x),i.fillStyle="black";let M=0;for(const[A,k]of v.entries())M+=k.height,i.fillText(A,S,M);i.restore()}var PL=new Set,zL=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function jL(e){const{...t}=e;for(const i in t)zL.has(i)||"number"!==typeof t[i]&&"string"!==typeof t[i]&&"boolean"!==typeof t[i]&&(PL.add(i),delete t[i]);return t}function BL(e,t){if(!RD.check(!0,"scene"))return{};const{parentNode:i}=e;let n=0;return{node:"json"===t?jL(e):e,name:e.name??e.id,dirty:Uk[e.dirty],...i?.isVirtual?{virtualParentDirty:Uk[i.dirty],virtualParent:i}:{},...Array.from(e.children(!1),(e=>BL(e,t))).reduce(((e,t)=>{let{name:i}=t;const{node:{visible:o,opacity:a,zIndex:r,zIndexSubOrder:s,translationX:l,translationY:c,rotation:d,scalingX:u,scalingY:h},node:p,virtualParent:g}=t;(!o||a<=0)&&(i=`(${i})`),eE.is(p)&&(i=`*${i}*`);const f=s?.map((e=>"function"===typeof e?`${e()} (fn)`:e)).join(" / "),m=[`${(n++).toString().padStart(3,"0")}|`,`${i??"<unknown>"}`,`z: ${r}`,f&&`zo: ${f}`,g&&"(virtual parent)",l&&`x: ${l}`,c&&`y: ${c}`,d&&`r: ${d}`,null!=u&&1!==u&&`sx: ${u}`,null!=h&&1!==h&&`sy: ${h}`].filter((e=>!!e)).join(" ");let y=m,v=1;for(;null!=e[y]&&v<100;)y=`${m} (${v++})`;return e[y]=t,e}),{})}}function $L(e){if(0===e.dirty)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),(e=>$L(e))).filter((e=>e.paths.length>0)),i=DD.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap((e=>e.paths)).map((e=>`${i}.${e}`)):[i];return{dirtyTree:{name:i,node:e,dirty:Uk[e.dirty],...t.map((e=>e.dirtyTree)).filter((e=>null!=e.dirty)).reduce(((e,t)=>(e[t.name??"<unknown>"]=t,e)),{})},paths:n}}function FL(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function _L(e,t,i){const n=null!=i?i-t:t;return`${e}: ${Math.round(100*n)/100}ms`}var HL=class{constructor(e){this.debug=RD.create(!0,"scene"),this.id=hk(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new EL(e),this.layersManager=new OL(this.canvas,(()=>{this.isDirty=!0}))}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(e){const{element:t}=this.canvas;return t.parentElement?.removeChild(t),e.appendChild(t),this}setRoot(e){return this.root===e||(this.isDirty=!0,this.root?._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager))),this}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){wk(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)&&(this.pendingSize=[e,t],this.isDirty=!0,!0)}async render(e){const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:n}=e??{},{canvas:o,canvas:{context:a}={},root:r,pendingSize:s}=this;if(!a)return;const l=performance.now();if(s&&(this.layersManager.resize(...s),this.pendingSize=null),r&&!r.visible)return void(this.isDirty=!1);if(r&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Uk[r.dirty],tree:BL(r,"console")}),void RL(this.layersManager,t,a,void 0,i,n);const c={ctx:a,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:Boolean(s),debugNodes:{}};RD.check("scene:stats:verbose")&&(c.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),function(e){const t=hC(Mk("agChartsSceneDebug")),i=[];for(const n of t)"layout"===n?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);e.debugNodeSearch=i}(c);let d=!1;if((!r||r.dirty>=1)&&(d=!0,o.clear()),r&&RD.check("scene:dirtyTree")){const{dirtyTree:e,paths:t}=$L(r);RD.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:e,paths:t})}if(r&&d){if(r.visible&&r.preRender(),this.debug.check()){const e=BL(r,"console");this.debug("Scene.render() - before",{redrawType:Uk[r.dirty],canvasCleared:d,tree:e})}r.visible&&(a.save(),r.render(c),a.restore())}if(t["\u270d\ufe0f"]=performance.now()-l,this.layersManager.size&&d){const e=performance.now();a.save(),a.resetTransform(),this.layersManager.forEach((e=>{e.canvas.enabled&&e.getVisibility()&&(a.globalAlpha=e.getComputedOpacity(),e.canvas.drawImage(a))})),a.restore(),t["\u26d9"]=performance.now()-e}a.verifyDepthZero?.(),this.isDirty=!1,RL(this.layersManager,t,a,c.stats,i,n),function(e,t){e.save();for(const[i,n]of Object.entries(t)){const t=CD.toCanvas(n);t?(e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(t.x,t.y,t.width,t.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,t.x,t.y,t.width),e.fillText(i,t.x,t.y,t.width)):MA.log(`Scene.render() - no bbox for debugged node [${i}].`)}e.restore()}(a,c.debugNodes),r&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Uk[r.dirty],tree:BL(r,"console"),canvasCleared:d})}toSVG(){const e=this.root?.toSVG();if(null==e)return;const t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("width",String(this.width)),t.setAttribute("height",String(this.height)),null!=e.defs){const i=document.createElementNS("http://www.w3.org/2000/svg","defs");i.append(...e.defs),t.append(i)}return t.append(...e.elements),t.outerHTML}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};HL.className="Scene";var WL=class{constructor(){this.cache=new WeakMap}call(e){let t,i=this.cache.get(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];try{t=JSON.stringify(o)}catch(Zfe){return this.invoke(e,o,i)}return null==i&&(i=new Map,this.cache.set(e,i)),i.has(t)?i.get(t):this.invoke(e,o,i,t)}invoke(e,t,i,n){try{const o=e(...t);return i&&null!=n&&i.set(n,o),o}catch(Zfe){return void MA.warnOnce("User callback errored, ignoring",Zfe)}}invalidateCache(){this.cache=new WeakMap}},GL=class extends OO{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return pw(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i).map((e=>Lw(e,this.getAnnotationTypeStyles(e.type)))),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},VL=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new eE({name:"Axes-Grids",zIndex:1}),this.axisGroup=new eE({name:"Axes",zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const i of t){const e=i.createAxisContext();this.axes.has(e.direction)?this.axes.get(e.direction)?.push(e):this.axes.set(e.direction,[e])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},UL=class extends EO{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=RD.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){"function"===typeof e&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return SA((e=>this.fetch(e)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return SA(((e,t)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:t})}),e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;let n;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);try{n=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(a){this.debug(`DataService - request failed | ${i}`),MA.errorOnce(`DataService - request failed | [${a}]`)}this.isLoadingInitialData=!1;const o=this.freshRequests.findIndex((e=>e===i));-1===o||this.dispatchOnlyLatest&&o!==this.freshRequests.length-1?this.debug(`DataService - discarding stale request | ${i}`):(this.freshRequests=this.freshRequests.slice(o+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error"))}};pA([LN({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],UL.prototype,"dispatchThrottle",2),pA([LN({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],UL.prototype,"requestThrottle",2);var KL=class{constructor(e){this.maxAnimationTime=e,this.debug=RD.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Zw.map((e=>[e,[]]))),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Zw[this.currentPhase])??[]}checkOverlappingId(e){null!=e&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(Zw.indexOf(e.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",e.id),void e.stop();this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t?.indexOf(e);null!=i&&i>=0&&t?.splice(i,1)}progress(e){if(!this.isReady)return;let t=0===e?.01:e;const i=()=>{const e=Zw[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:e,phaseMeta:qw[e]}};let{phase:n,phaseControllers:o,phaseMeta:a}=i();const r=()=>null==Zw[this.currentPhase],s=()=>{for(({phase:n,phaseControllers:o,phaseMeta:a}=i());!r()&&0===o.length;)this.currentPhase++,({phase:n,phaseControllers:o,phaseMeta:a}=i()),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},o)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${o?.length} of ${l}`);do{const e=t,i=a.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let n=0;for(const a of o)i?a.stop():t=Math.min(a.update(e),t),a.isComplete&&(n++,this.removeAnimation(a));this.animationTimeConsumed+=e-t,this.debug(`AnimationBatch - updated ${o.length} controllers; ${n} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),s()}while(t>0&&!r());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&!0!==qw[t.phase].skipIfNoEarlierAnimations){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===e){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}pause(){for(const e of this.controllers.values())e.pause()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){MA.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(e){if(null!=e&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach((e=>e())),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function YL(e){const t={...e,preventDefault(){t.sourceEvent?.preventDefault()}};return t}function XL(e,t){e.dispatchWrapHandlers(t.type,((e,t)=>e(t)),YL(t))}var ZL=["drag-start","drag","drag-end"],qL=[...ZL,"click","dblclick","contextmenu","hover","leave","enter","page-left","wheel"],QL=["blur","focus"],JL=["keydown","keyup"],eT=["mousemove","mouseup"],tT=["pagehide","mousemove","mouseup"],iT=["dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"];var nT=class e extends TO{constructor(e,t){super(),this.keyboardOptions=e,this.domManager=t,this.debug=RD.create(!0,"interaction"),this.eventHandler=e=>this.processEvent(e),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=34,this.rootElement=this.domManager.getShadowDocumentRoot();for(const i of iT)i.startsWith("touch")||"wheel"===i?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of tT)Mk().addEventListener(i,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",(()=>this.containerChanged()))}containerChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.domManager.getShadowDocumentRoot();if(e||t!==this.rootElement){for(const e of eT)this.rootElement?.removeEventListener(e,this.eventHandler);this.rootElement=t,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const e of eT)this.rootElement?.addEventListener(e,this.eventHandler)}}destroy(){super.destroy();for(const e of tT)Mk().removeEventListener(e,this.eventHandler);for(const e of eT)this.rootElement?.removeEventListener(e,this.eventHandler);for(const e of iT)this.domManager.removeEventListener(e,this.eventHandler);this.domManager.removeStyles("interactionManager")}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processEvent(e){this.debug("Received raw event",e);let t=this.decideInteractionEventTypes(e);null==t||Array.isArray(t)||(t=[t]);for(const i of t??[])this.dispatchEvent(e,i).catch((e=>MA.errorOnce(e)))}async dispatchEvent(e,t){if(function(e){return qL.includes(e)}(t))return void this.dispatchPointerEvent(e,t);const{relatedElement:i,targetElement:n}=this.extractElements(e);if(function(e){return QL.includes(e)}(t)){const o=e;this.dispatchTypedEvent(this.listeners,{type:t,sourceEvent:o,relatedElement:i,targetElement:n})}else if(function(e){return JL.includes(e)}(t)){const o=e;this.dispatchTypedEvent(this.listeners,{type:t,sourceEvent:o,relatedElement:i,targetElement:n})}}dispatchTypedEvent(e,t){const i=YL(t);this.debug("Dispatching typed event",i,this.getState()),e.dispatchWrapHandlers(t.type,((e,t)=>e(t)),i)}extractElements(e){let t,i;return"relatedTarget"in e&&e.relatedTarget instanceof HTMLElement&&(t=e.relatedTarget),"target"in e&&e.target instanceof HTMLElement&&(i=e.target),{relatedElement:t,targetElement:i}}dispatchPointerEvent(e,t){const i=this.calculateCoordinates(e);if(null==i)return;const n=this.buildPointerEvent({type:t,event:e,...i});this.debug("Dispatching pointer event",n,this.getState()),XL(this.listeners,n)}getEventHTMLTarget(e){return e.target instanceof HTMLElement?e.target:e.currentTarget instanceof HTMLElement?e.currentTarget:void 0}recordDown(e){e instanceof MouseEvent&&($w(["offsetX","offsetY"],this.clickHistory[0],e),$w(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),$w(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragPreStartElement=this.getEventHTMLTarget(e)}recordUp(e){return e instanceof MouseEvent&&$w(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragPreStartElement=void 0,!!this.dragStartElement&&(this.dragStartElement=void 0,!0)}decideInteractionEventTypes(e){switch(e.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?e.type:void 0;case"dblclick":case"contextmenu":case"wheel":return e.type;case"mousedown":if(!this.isEventOverElement(e))return;return this.mouseDown=!0,void this.recordDown(e);case"touchstart":if(!this.isEventOverElement(e))return;return this.touchDown=!0,void this.recordDown(e);case"touchmove":case"mousemove":if(!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(e))return;return this.mouseDown||this.touchDown?this.dragStartElement?"drag":(this.dragStartElement=this.dragPreStartElement,this.dragPreStartElement=void 0,["drag-start","drag"]):"hover";case"mouseup":if(!this.mouseDown&&!this.isEventOverElement(e))return;return this.mouseDown=!1,this.recordUp(e)?"drag-end":"click";case"touchend":if(!this.touchDown&&!this.isEventOverElement(e))return;return this.touchDown=!1,this.recordUp(e)?"drag-end":"click";case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(e){return this.domManager.isEventOverElement(e)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if("undefined"!==typeof TouchEvent&&t instanceof TouchEvent){const i=t.touches[0]??t.changedTouches[0],{clientX:n,clientY:o,pageX:a,pageY:r}=i;return{...e.NULL_COORDS,clientX:n,clientY:o,pageX:a,pageY:r}}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}}getMouseEventCoords(e){const{clientX:t,clientY:i,pageX:n,pageY:o}=e;let{offsetX:a,offsetY:r}=e;const s=this.getEventHTMLTarget(e),{x:l=0,y:c=0}=s?this.domManager.calculateCanvasPosition(s):{};if(null!=this.dragStartElement&&e.target!==this.dragStartElement){const e=this.domManager.calculateCanvasPosition(this.dragStartElement);a-=e.x-l,r-=e.y-c}else a+=l,r+=c;return{clientX:t,clientY:i,pageX:n,pageY:o,offsetX:a,offsetY:r}}isWheelEvent(e){return"wheel"===e.type}buildPointerEvent(e){const{type:t,event:i,clientX:n,clientY:o}=e;let{offsetX:a,offsetY:r,pageX:s,pageY:l}=e;if(!kw(a)||!kw(r)){const e=this.domManager.getBoundingClientRect();a=n-e.left,r=o-e.top}if(!kw(s)||!kw(l)){const e=this.rootElement?.getBoundingClientRect();s=n-(e?.left??0),l=o-(e?.top??0)}let[c,d]=[NaN,NaN];if(this.isWheelEvent(i)){const e=0===i.deltaMode?.01:1;c=i.deltaX*e,d=i.deltaY*e}let u=[];"click"===i.type?u=this.clickHistory:"dblclick"===i.type&&(u=this.dblclickHistory);const{relatedElement:h,targetElement:p}=this.extractElements(i),g={type:t,offsetX:a,offsetY:r,pageX:s,pageY:l,deltaX:c,deltaY:d,button:"button"in i?Number(i.button):0,pointerHistory:u,sourceEvent:i,relatedElement:h,targetElement:p};return this.debug("InteractionManager - builtEvent: ",g,this.getState()),g}};nT.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var oT=nT;function aT(e){return null==e||!isNaN(e)&&e>=0&&e<=2}var rT=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new KL(1.5*this.defaultDuration),this.debug=RD.create(!0,"animation"),this.events=new wO,this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(s){return void this.failsafeOnError(s)}let{id:i}=e;null==i&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||"none"===e.phase;n&&this.debug("AnimationManager - skipping animation");const{delay:o,duration:a}=e;if(!aT(o))throw new Error(`Animation delay of ${o} is unsupported (${i})`);if(!aT(a))throw new Error(`Animation duration of ${a} is unsupported (${i})`);const r=new tC({...e,id:i,skip:n,autoplay:!!this.isPlaying&&e.autoplay,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(r,this.defaultDuration))return this.batch.addAnimation(r),r}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Mk().requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let e;const t=async i=>{const n=async()=>{const t=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:t}),this.interactionManager.pushState(2);try{this.batch.progress(t)}catch(n){this.failsafeOnError(n)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:t})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];MA.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new KL(1.5*this.defaultDuration),!0===e&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},sT=class extends OO{legendItemClick(e,t,i,n){const o={type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",o)}legendItemDoubleClick(e,t,i,n,o){const a={type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:o,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",a)}axisHover(e,t){const i={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",i)}},lT=class e{constructor(e){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new EO;const{Default:t,ContextMenu:i}=LO;this.destroyFns=[e.listenAll("contextmenu",(e=>this.onContextMenu(e)),t|i)]}destroy(){this.destroyFns.forEach((e=>e()))}onContextMenu(t){"all"===e.toContextType(t.region)&&this.dispatchContext("all",t,{})}static toContextType(e){return"legend"===e||"series"===e?e:"all"}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i,n){const{sourceEvent:o}=t,a=n?.x??t.offsetX,r=n?.y??t.offsetY;o.stopPropagation(),this.listeners.dispatch("",YL({type:e,x:a,y:r,context:i,sourceEvent:o}))}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter((t=>t.id&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type)))}registerDefaultAction(e){const t=null!=e.id&&!this.defaultActions.some((t=>{let{id:i}=t;return i===e.id}));return t&&this.defaultActions.push(e),()=>{const i=t?this.defaultActions.findIndex((t=>{let{id:i}=t;return i===e.id})):-1;-1!==i&&this.defaultActions.splice(i,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},cT=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),"undefined"!==typeof t&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},dT=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(dT||{}),uT=class{constructor(e){this.domManager=e,this.stateTracker=new cT("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function hT(e,t){return Math.sqrt(function(e,t){const i=e.screenX-t.screenX,n=e.screenY-t.screenY;return i*i+n*n}(e,t))}var pT=class extends OO{constructor(e){super(),this.domManager=e,this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){const{touches:t}=e,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===t.length){if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[0],t[1]];if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[1],t[0]]}}copyTouchData(e){const t=["identifier","screenX","screenY"];$w(t,this.pinch.finger1,e.touches[0]),$w(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=hT(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,i){const{finger1:n,finger2:o,origin:a}=this.pinch;this.listeners.dispatch(e,YL({sourceEvent:i,type:e,finger1:n,finger2:o,deltaDistance:t,origin:a}))}onTouchStart(e){this.stopPinchTracking(e);const{pinch:t}=this;2===e.touches.length&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){const t=this.findPinchTouches(e);if(void 0!==t){const[i,n]=t,{pinch:o}=this,a=hT(i,n),r=a-o.distance;1===o.status?Math.abs(r)>1&&(o.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):2===o.status?(o.distance=a,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",r,e)):MA.error(`unexpected pinch.status: ${o.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){const{pinch:t}=this;2===t.status&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},gT=class extends OO{constructor(){super(...arguments),this.highlightStates=new cT}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||null!=e&&null!=t&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}},fT=class extends TO{constructor(e,t,i){super(),this.focusIndicator=e,this.interactionManager=t,this.previousInputDevice="keyboard";this.destroyFns.push(t.addListener("click",(()=>this.onClick()),41),t.addListener("hover",(()=>this.onMouse()),41),t.addListener("drag-start",(()=>this.onMouse()),41),t.addListener("blur",(e=>this.onBlur(e)),63),t.addListener("focus",(e=>this.onFocus(e)),63),t.addListener("keydown",(e=>this.onKeyDown(e)),63)),this.focusIndicator.overrideFocusVisible("integrated"!==i&&void 0)}getState(){return this.interactionManager.getState()}destroy(){super.destroy()}onClick(){this.focusIndicator.overrideFocusVisible(!1),this.previousInputDevice="mouse"}onMouse(){this.previousInputDevice="mouse"}onBlur(e){this.focusIndicator.overrideFocusVisible(void 0),this.dispatch("blur",0,e)}onFocus(e){this.dispatch("focus",0,e)}onKeyDown(e){const t=this.getState(),{key:i,code:n,altKey:o,shiftKey:a,metaKey:r,ctrlKey:s}=e.sourceEvent;if(s||r){if("y"===i||"z"===i&&a)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("redo",0,e);if("z"===i)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("undo",0,e)}if(9&t)this.focusIndicator.overrideFocusVisible(!1);else{switch(i){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}if(!(o||a||r||s))switch(this.focusIndicator.overrideFocusVisible(!0),n){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e)}}}dispatch(e,t,i){const{previousInputDevice:n}=this;XL(this.listeners,{type:e,delta:t,sourceEvent:i,previousInputDevice:n});"keydown"!==i.type||["redo","undo","nav-zoom"].includes(e)||(this.previousInputDevice="keyboard")}},mT=(e=>(e.NAVIGATOR="navigator",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e))(mT||{}),yT=class{constructor(e,t){this.node=e,this.overrideId=t}get id(){return this.overrideId??this.node.id}get visible(){return this.node.visible}toCanvasBBox(){return CD.toCanvas(this.node)}fromCanvasPoint(e,t){return CD.fromCanvasPoint(this.node,e,t)}},vT=class extends yT{constructor(e,t,i){super(e,i),this.bboxFn=t}toCanvasBBox(){return this.bboxFn()}},bT=class extends EO{};function xT(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32;return e?.addListener(i,(e=>{t.getState()&o&&n(e)}))??(()=>{})}function ST(e){return e instanceof qk?new yT(e):e instanceof yT?e:new yT(e.node,e.id)}function MT(e){const{type:t,sourceEvent:i}=e,{id:n,className:o,classList:a,ariaHidden:r}=i?.target??{};if(!(a instanceof DOMTokenList))return"leave";const s=ZL;return a.contains("ag-charts-annotations__axis-button-icon")&&!s.includes(t)||"ag-charts-series-area"===o||"ag-charts-canvas-proxy"===o||"ag-charts-proxy-elem"===o&&!n?.toString().startsWith("ag-charts-legend-item-")||i?.target instanceof HTMLCanvasElement?"none":function(e){if(null==e||!(e instanceof HTMLElement))return;let t=e;for(;null!=t&&!t?.classList.contains("ag-charts-wrapper");){if(t.classList.contains("ag-chart-tooltip"))return t;t=t.parentElement}}(i.target)&&"true"!==r?"wait":"leave"}var AT=class{constructor(e){this.interactionManager=e,this.debug=RD.create(!0,"region"),this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new bT,this.destroyFns.push(...qL.map((t=>e.addListener(t,this.processPointerEvent.bind(this),63))))}destroy(){this.destroyFns.forEach((e=>e())),this.current=void 0;for(const e of this.regions.values())e.listeners.destroy();this.regions.clear()}addRegion(e){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const o={properties:{name:e,bboxproviders:i.map(ST)},listeners:new bT};return this.regions.set(e,o),this.makeObserver(o)}updateRegion(e){const t=this.regions.get(e);if(!t)throw new Error("AG Charts - unknown region: "+e);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];t.properties.bboxproviders=n.map(ST)}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return xT(this.allRegionsListeners,this.interactionManager,e,t,i)}makeObserver(e){const{interactionManager:t}=this;return new class{addListener(i,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return xT(e?.listeners,t,i,n,o)}}}checkPointerHistory(e,t){for(const i of t.pointerHistory){const{region:t}=this.pickRegion(i.offsetX,i.offsetY)??{};if(e.properties.name!==t?.properties.name)return!1}return!0}dispatch(e,t){if(null==e)return;const i=e.region.properties.bboxproviders[0];let n=0,o=0;if("offsetX"in t&&"offsetY"in t)({x:n,y:o}=i.fromCanvasPoint(t.offsetX,t.offsetY));else{const e=i.toCanvasBBox();n=e.width/2,o=e.height/2}const a=YL({...t,region:e.region.properties.name,bboxProviderId:e.bboxProvider?.id,regionOffsetX:n,regionOffsetY:o});this.debug("Dispatching region event: ",a),this.allRegionsListeners.dispatch(a.type,a),e.region.listeners.dispatch(a.type,a)}handleDragging(e){const{current:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,{...e,type:"leave"}),!0}return!1}processPointerEvent(e){if(this.handleDragging(e))return;const{current:t}=this;let i;switch(MT(e)){case"wait":return;case"none":i=this.pickRegion(e.offsetX,e.offsetY);break;case"leave":i=void 0}const n=i?.region;void 0!==t&&n?.properties.name!==t.region.properties.name&&this.dispatch(t,{...e,type:"leave"}),void 0!==n&&n.properties.name!==t?.region.properties.name&&this.dispatch(i,{...e,type:"enter"}),void 0!==n&&this.checkPointerHistory(n,e)&&this.dispatch(i,e),this.current=i}pickRegion(e,t){let i,n,o=1/0;for(const a of this.regions.values())for(const r of a.properties.bboxproviders){if(!1===r.visible)continue;const s=r.toCanvasBBox(),l=s.width*s.height;l<o&&s.containsPoint(e,t)&&(o=l,i=a,n=r)}return i?{region:i,bboxProvider:n}:void 0}},kT=["start","center","end"],wT=["seriesType","annotations","annotationOptions","ranges","zoom"],CT={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},IT=(e=>(e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(IT||{}),DT=Object.values(IT);function NT(e){return["floating-top","floating-bottom"].includes(e)}var ET=class extends OO{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(const i of DT)if(e.isManagedChildDOMElement(t,"canvas-overlay",`toolbar-${i}`))return!0;return!1}pressButton(e,t,i,n,o){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,id:t,value:i,rect:n,sourceEvent:o})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,i){const{active:n=!1,enabled:o=!0,visible:a=!0,checked:r=!1}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,id:t,active:n,enabled:o,visible:a,checked:r})}updateButton(e,t,i){this.listeners.dispatch("button-updated",{type:"button-updated",group:e,id:t,...i})}toggleGroup(e,t,i){const{active:n,visible:o}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,active:n,visible:o})}updateGroup(e){this.listeners.dispatch("group-updated",{type:"group-updated",group:e})}groupMoved(e){this.listeners.dispatch("group-moved",{type:"group-moved",group:e})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:i,groupRect:n})}proxyGroupOptions(e,t,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:i})}},OT=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new cT,this.suppressState=new cT(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",(()=>this.tooltip.toggle(!1)))}updateTooltip(e,t,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){return this.stateTracker.get(e)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||null==t?.meta||null==t?.content)return this.appliedState=null,void this.tooltip.toggle(!1);const i=this.domManager.getBoundingClientRect(),n="extended"===this.tooltip.bounds?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===t?.content){const e=this.tooltip.isVisible();this.tooltip.show(n,i,t?.meta,null,e)}else this.tooltip.show(n,i,t?.meta,t?.content);this.appliedState=t}static makeTooltipMeta(e,t){const{offsetX:i,offsetY:n}=e,o=t.series.properties.tooltip,a={offsetX:i,offsetY:n,enableInteraction:o.interaction?.enabled??!1,lastPointerEvent:{type:e.type,offsetX:i,offsetY:n},showArrow:o.showArrow,position:{type:o.position.type,xOffset:o.position.xOffset,yOffset:o.position.yOffset}},r=t.yBar?.upperPoint??t.midPoint??t.series.datumMidPoint?.(t);if(("node"===o.position.type||"sparkline"===o.position.type)&&r){const{x:e,y:i}=r,n=CD.toCanvasPoint(t.series.contentGroup,e,i);return{...a,offsetX:Math.round(n.x),offsetY:Math.round(n.y)}}return a}},LT=class extends OO{constructor(){super(...arguments),this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new cT(void 0,"initial"),this.rejectCallbacks=new Map}addLayoutListeners(e){this.destroyFns.push(e.addListener("layout:complete",(e=>{this.axes=e.axes})))}createMemento(){const e=this.getDefinedZoom();return{rangeX:this.getRangeDirection(e,"x"),rangeY:this.getRangeDirection(e,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max}}}guardMemento(e){return bw(e)&&(null!=e.ratioX||null!=e.ratioY||null!=e.rangeX||null!=e.rangeY)}restoreMemento(e,t,i){this.listeners.dispatch("restore-zoom",{...i,type:"restore-zoom"})}updateAxes(e){const t=new Map(e.map((e=>[e.id,this.axisZoomManagers.get(e.id)])));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new TT(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;if(n&&this.rejectCallbacks.set(e,n),0!==this.axisZoomManagers.size)this.state.set(e,t),this.axisZoomManagers.forEach((i=>{i.updateZoom(e,t?.[i.getDirection()])})),this.applyChanges(e);else{const o=this.state.stateId();"initial"===o||o===e||i?(this.state.set(e,t),o!==e&&this.rejectCallbacks.get(o)?.(e)):n?.(o)}}updateAxisZoom(e,t,i){this.axisZoomManagers.get(t)?.updateZoom(e,i),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach((i=>{"x"===i.getDirection()?e??(e=i.getZoom()):"y"===i.getDirection()&&(t??(t=i.getZoom()))})),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),(e=>e.applyChanges())).some(Boolean))return;const t={};for(const[i,n]of this.axisZoomManagers.entries())t[i]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:t,callerId:e})}getRangeDirection(e,t){for(const i of this.axes??[]){if(i.direction!==t)continue;const n=i.scale.getDomain?.(),o=i.scale.convert?.(n?.at(0)),a=i.scale.convert?.(n?.at(-1));if(!kw(o)||!kw(a))return;let r,s;if(o<=a){const n=a-o;r=i.scale.invert?.(0),s=i.scale.invert?.(o+n*e[t].max)}else{const n=o-a;r=i.scale.invert?.(o-n*e[t].min),s=i.scale.invert?.(0)}return{start:r,end:s}}}getDefinedZoom(){const e=this.getZoom();return{x:{min:e?.x?.min??0,max:e?.x?.max??1},y:{min:e?.y?.min??0,max:e?.y?.max??1}}}},TT=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new cT({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return AN(this.state.stateValue())}applyChanges(){const e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},RT=class{constructor(){this.groups={}}registerSeries(e){let{internalId:t,seriesGrouping:i,visible:n,type:o}=e;var a;i&&((a=this.groups)[o]??(a[o]={}),this.groups[o][t]={grouping:i,visible:n})}updateSeries(e){let{internalId:t,seriesGrouping:i,visible:n,type:o}=e;if(!i)return;const a=this.groups[o]?.[t];a&&(a.grouping=i,a.visible=n)}deregisterSeries(e){let{internalId:t,type:i}=e;this.groups[i]&&delete this.groups[i][t],this.groups[i]&&0===Object.keys(this.groups[i]).length&&delete this.groups[i]}getVisiblePeerGroupIndex(e){let{type:t,seriesGrouping:i,visible:n}=e;if(!i)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const o=new Set,a=new Set;for(const s of Object.values(this.groups[t]??{}))s.visible&&(o.add(s.grouping.groupIndex),s.grouping.groupIndex===i.groupIndex&&a.add(s.grouping.stackIndex));const r=Array.from(o);return r.sort(((e,t)=>e-t)),{visibleGroupCount:r.length,visibleSameStackCount:a.size,index:r.indexOf(i.groupIndex)}}},PT=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(PT||{}),zT=class extends EO{constructor(e){super(),this.updateCallback=e}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e?.minRect,minVisibleRect:e?.minVisibleRect})}dispatchPreDomUpdate(){this.dispatch("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(e){this.dispatch("pre-scene-render",{type:"pre-scene-render",...e})}},jT=class{constructor(e,t){this.callbackCache=new WL,this.chartEventManager=new sT,this.highlightManager=new gT,this.layoutManager=new IO,this.localeManager=new DL,this.seriesStateManager=new RT,this.stateManager=new $O,this.toolbarManager=new ET,this.zoomManager=new LT;const{scene:i,root:n,syncManager:o,container:a,updateCallback:r,updateMutex:s,pixelRatio:l,styleContainer:c}=t;this.chartService=e,this.syncManager=o,this.domManager=new rL(a,c);const d=this.domManager.addChild("canvas","scene-canvas",i?.canvas.element);this.scene=i??new HL({pixelRatio:l,canvasElement:d}),this.scene.setRoot(n),this.axisManager=new VL(n),this.annotationManager=new GL(e.annotationRoot),this.cursorManager=new uT(this.domManager),this.interactionManager=new oT(e.keyboard,this.domManager),this.focusIndicator=new SL(this.domManager),this.keyNavManager=new fT(this.focusIndicator,this.interactionManager,e.mode),this.regionManager=new AT(this.interactionManager),this.contextMenuRegistry=new lT(this.regionManager),this.gestureDetector=new pT(this.domManager),this.updateService=new zT(r),this.proxyInteractionService=new wL(this.localeManager,this.domManager),this.historyManager=new jO(this.keyNavManager),this.animationManager=new rT(this.interactionManager,s),this.dataService=new UL(this.animationManager),this.tooltipManager=new OT(this.domManager,e.tooltip),this.zoomManager.addLayoutListeners(this.layoutManager)}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.contextMenuRegistry.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.interactionManager.destroy(),this.keyNavManager.destroy(),this.focusIndicator.destroy(),this.proxyInteractionService.destroy(),this.regionManager.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy()}},BT=class extends EC{constructor(){super(...arguments),this.range="tooltip"}};pA([TC(wI(["tooltip","node"],"a range"))],BT.prototype,"range",2);var $T=class e{constructor(){this.domain=new Set}static is(t){return t instanceof e}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},FT=class e{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof e}static extendDomain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const i of e)"number"===typeof i&&(t[0]>i&&(t[0]=i),t[1]<i&&(t[1]=i));return t}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function _T(e){return e.map((e=>bw(e)?JSON.stringify(e):e)).join("-")}function HT(e){const t=1e4;return Number.isInteger(e)?e:Math.abs(e)>t?Math.trunc(e):Math.round(e*t)/t}function WT(e){if(null==e)return[];const[t,i]=e.map(Number);return 0===t&&0===i?[0,1]:kw(t)&&kw(i)?[t,i]:[]}function GT(e,t){return t?.get(e.id)??0}var VT=Symbol("invalid");function UT(e){const t=[];let i,n=0;const o=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;i=o.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;const e=i[1].trim();if(e.startsWith("."))t.push(e.slice(1).trim());else if(e.startsWith("[")){const i=e.slice(1,-1).trim();i.startsWith("'")?t.push(i.slice(1,-1).replace(/\\'/g,"'")):i.startsWith('"')?t.push(i.slice(1,-1).replace(/\\"/g,'"')):t.push(i)}else t.push(e)}if(n===e.length)return t}function KT(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var YT=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone";this.opts=e,this.mode=t,this.debug=RD.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const o of e.props){if("key"===o.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===o.type&&i&&(i=!1)}const n=e=>{let{matchGroupIds:t=[]}=e;for(const i of t)if(this.values.every((e=>e.groupId!==i)))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${i}).`)};for(const o of e.props)switch(o.type){case"key":this.keys.push({...o,index:this.keys.length,missing:new Map});break;case"value":if(null==o.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(o)}`);this.values.push({...o,index:this.values.length,missing:new Map});break;case"aggregate":n(o),this.aggregates.push({...o,index:this.aggregates.length});break;case"group-value-processor":n(o),this.groupProcessors.push({...o,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...o,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...o,index:this.reducers.length});break;case"processor":this.processors.push({...o,index:this.processors.length})}}resolveProcessedDataDefById(e,t){const i=this.scopeCache.get(e.id)?.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map((t=>[t,this.resolveProcessedDataDefById(e,t)]))}resolveProcessedDataDefsValues(e,t){let{keys:i,values:n}=t;const o={};for(const[a,{index:r,def:s}]of e){const e="key"===s.type?i:n;o[a]=e[r]}return o}getDomain(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",n=arguments.length>3?arguments[3]:void 0;const o=this.getDomainsByType(i,n);return o?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){const{opts:{groupByKeys:i,groupByFn:n},aggregates:o,groupProcessors:a,reducers:r,processors:s,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let d=this.extractData(e,t);if(i?d=this.groupData(d):n&&(d=this.groupData(d,n(d))),a.length>0&&this.postProcessGroups(d),o.length>0&&this.aggregateData(d),l.length>0&&this.postProcessProperties(d),r.length>0&&this.reduceData(d),s.length>0&&this.postProcessData(d),e.length>0)for(const h of gk(this.keys,this.values))for(const[t,i]of h.missing)if(i>=e.length){const e=null==t?"":` for ${t}`;MA.warnOnce(`the key '${h.property}' was not found in any data element${e}.`)}const u=performance.now();d.time=u-c,this.debug.check()&&function(e){const t=(e,t)=>{t.length>0&&(MA.log(`DataModel.processData() - ${e}`),MA.table(t))};if(MA.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),"grouped"===e.type){t("Values",e.data.reduce(((e,t)=>{const i=t.keys??[],n=t.aggValues??[],o=t.keys.map((()=>{})),a=n?.map((()=>{}));return e.push(...t.values.map(((e,t)=>[...0===t?i:o,...e??[],...0==t?n:a]))),e}),[]))}else{t("Values",e.data.reduce(((e,t)=>{const i=t.aggValues??[];return e.push([...t.keys,...t.values,...i]),e}),[]))}}(d),this.scopeCache.clear();for(const h of gk(this.keys,this.values,this.aggregates))if(h.idsMap)for(const[e,t]of h.idsMap)for(const i of t)if(this.scopeCache.has(e)){if(this.scopeCache.get(e)?.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(e).set(i,h)}else this.scopeCache.set(e,new Map([[i,h]]));return d}valueGroupIdxLookup(e){let{matchGroupIds:t}=e;const i=[];for(const[n,o]of this.values.entries())(!t||o.groupId&&t.includes(o.groupId))&&i.push(n);return i}valueIdxLookup(e,t){const i=null==e||0===e.length,n="string"===typeof t?t:t.id,o=this.values.findIndex((t=>(null==t.scopes||i&&!t.scopes.length||t.scopes.some((t=>e?.includes(t))))&&(t.property===n||t.id===n||(t=>{if(t.idsMap)for(const[i,o]of t.idsMap)if(e?.includes(i)&&o.has(n))return!0;return!1})(t))));if(-1===o)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return o}extractData(e,t){const{dataDomain:i,processValue:n,scopes:o,allScopesHaveSameDefs:a}=this.initDataDomainProcessor(),r=new Map(t?.map((e=>[e.id,e]))),{keys:s,values:l}=this,c=new Array(e.length);let d=0,u=0;for(const[p,g]of e.entries()){const e={},t=o.size>0?new Set(o):void 0,i=new Array(s.length);let h,f=0;for(const o of s){if(h=n(o,g,h),h===VT)break;i&&(i[f++]=h)}if(h===VT)continue;const m=l.length>0?new Array(l.length):void 0;let y;for(const[s,c]of l.entries()){for(const t of c.scopes??o){const i=r.get(t);if(y=n(c,i?.data[p]??g,y,t),y!==VT&&m){if(null!=i&&!1!==c.includeProperty){const i=c.includeProperty&&null!=c.id?c.id:c.property;e[t]??(e[t]={}),e[t][i]=y}m[s]=y}}if(y===VT){if(a)break;for(const e of c.scopes??o)t?.delete(e);if(0===t?.size)break}}if(y===VT&&a)continue;if(0===t?.size)continue;const v={datum:{...g,...e},keys:i,values:m};!a&&t&&t.size<o.size&&(u++,v.validScopes=new Set(t)),c[d++]=v}c.length=d;const h=e=>{const t=i.get(e),n=t.getDomain();return FT.is(t)&&n[0]>n[1]?[]:n};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:s.map(h),values:l.map(h)},defs:{allScopesHaveSameDefs:a,keys:s,values:l},partialValidDataCount:u,time:0}}groupData(e,t){const i=new Map;for(const r of e.data){const{keys:e,values:n,datum:o,validScopes:a}=r,s=t?.(r)??e,l=_T(s);if(i.has(l)){const e=i.get(l);if(e.values.push(n),e.datum.push(o),null!=a&&null!=e.validScopes)for(const t of e.validScopes)a.has(t)||e.validScopes.delete(t)}else i.set(l,{keys:s,values:[n],datum:[o],validScopes:a})}const n=new Array(i.size),o=new Array(i.size);let a=0;for(const{keys:r,values:s,datum:l,validScopes:c}of i.values())0!==c?.size&&(o[a]=r,n[a++]={keys:r,values:s,datum:l,validScopes:c});return{...e,type:"grouped",data:n,domain:{...e.domain,groups:o}}}aggregateData(e){const t="ungrouped"===e.type;e.domain.aggValues=[];for(const[i,n]of this.aggregates.entries()){const o=this.valueGroupIdxLookup(n),a=[1/0,-1/0];for(const r of e.data){if(r.aggValues??(r.aggValues=new Array(this.aggregates.length)),r.validScopes)continue;const e=t?[r.values]:r.values;let s=n.groupAggregateFunction?.()??[1/0,-1/0];for(const t of e){const e=o.map((e=>t[e])),i=n.aggregateFunction(e,r.keys);i&&(s=n.groupAggregateFunction?.(i,s)??FT.extendDomain(i,s))}const l=(n.finalFunction?.(s)??s).map((e=>HT(e)));r.aggValues[i]=l,FT.extendDomain(l,a)}e.domain.aggValues.push(a)}}postProcessGroups(e){const{groupProcessors:t}=this,i=new Set,n=new Map,o=new Map,a=new Map;for(const s of t){const e=this.valueGroupIdxLookup(s);o.set(s,e),a.set(s,s.adjust());for(const t of e){const e="category"===this.values[t].valueType;i.add(t),n.set(t,e?new $T:new FT)}}const r=e=>{for(const t of i)n.get(t)?.extend(e[t])};for(const s of e.data){for(const i of t){if(s.validScopes)continue;const t=o.get(i)??[],n=a.get(i)?.();if(n)if("grouped"===e.type)for(const e of s.values)e&&n(e,t);else s.values&&n(s.values,t)}if("grouped"===e.type)for(const e of s.values)r(e);else r(s.values)}for(const[s,l]of n)e.domain.values[s]=l.getDomain()}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)t()(e,this.valueIdxLookup(n,i))}reduceData(e){e.reduced??(e.reduced={});for(const t of this.reducers){const i=t.reducer();let n=t.initialValue;for(const o of e.data)o.validScopes&&!t.scopes?.some((e=>o.validScopes?.has(e)))||(n=i(n,o));e.reduced[t.property]=n}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const l of t)if(l.scopes)for(const e of l.scopes)i.add(e);const n=new Map,o=new Map;let a=!0;const r=()=>{for(const o of gk(e,t))"category"===o.valueType?n.set(o,new $T):(n.set(o,new FT),a&&(a=(o.scopes??[]).length===i.size))};r();const s=this.buildAccessors(gk(e,t));return{dataDomain:n,processValue:(e,t,i,a)=>{let l,c;if(s.has(e.property)){try{c=s.get(e.property)(t)}catch(d){}l=null!=c}else l=e.property in t,c=l?t[e.property]:e.missingValue;if(null!=e.forceValue){c=l&&jk(c)?-1*e.forceValue:e.forceValue,l=!0}if(!l&&!("missingValue"in e)){const t=e.missing.get(a)??0;e.missing.set(a,t+1)}if(n.has(e)||r(),l&&!1===e.validation?.(c,t)){if(!("invalidValue"in e))return"integrated"!==this.mode&&MA.warnOnce(`invalid value of type [${typeof c}] for [${e.scopes} / ${e.id}] ignored:`,`[${c}]`),VT;c=e.invalidValue}return e.processor&&(o.has(e)||o.set(e,e.processor()),c=o.get(e)?.(c,i===VT?void 0:i)),n.get(e)?.extend(c),c},initDataDomain:r,scopes:i,allScopesHaveSameDefs:a}}buildAccessors(e){const t=new Map;if("integrated"===this.mode)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const e=UT(i.property);if(null==e){MA.warnOnce("Invalid property path [%s]",i.property);continue}const n=KT(e);t.set(i.property,n)}return t}};var XT=class e{constructor(e){this.mode=e,this.debug=RD.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,t,i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise(((n,o)=>{this.requested.push({id:e,opts:i,data:t,resolve:n,reject:o})}))}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const e=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);const t=this.mergeRequested(e);this.debug("DataController.execute() - merged",t),this.debug.check()&&(Mk().processedData=[]);const i=this.requested.map((e=>{let{id:t}=e;return t})),n=this.hasMultipleDataSources(e);for(const{opts:a,data:r,resolves:s,rejects:l,ids:c}of t)try{const t=new YT(a,this.mode),o=t.processData(r,e);this.debug.check()&&Mk("processedData").push(o),0===o?.partialValidDataCount?s.forEach(((e,a)=>e({dataModel:t,processedData:this.processScopedData(c[a],o,i,n)}))):o?this.splitResult(t,o,c,s):l.forEach((e=>e(new Error("AG Charts - no processed data generated"))))}catch(o){l.forEach((e=>e(o)))}}hasMultipleDataSources(e){if(e.length){const[{data:t},...i]=e;return i.some((e=>t!==e.data))}return!1}processScopedData(e,t,i,n){const o=t=>{if(Array.isArray(t))return t.map(o);const a=n?{...t,...t[e]}:t;for(const e of i)delete a[e];return a},a=t=>Array.isArray(t)?t.map(a):t?.[e]??t;return{...t,data:t.data.map((e=>({...e,datum:o(e.datum),values:n?e.values?.map(a):e.values})))}}validateRequests(e){const t=[];for(const[i,n]of e.entries())i>0&&n.data.length!==e[0].data.length&&!1===n.opts.groupByData?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):t.push(n);return t}mergeRequested(t){const i=[];for(const n of t){const t=i.find(e.groupMatch(n));t?t.push(n):i.push([n])}return i.map(e.mergeRequests)}splitResult(e,t,i,n){for(let o=0;o<i.length;o++){const a=i[o];(0,n[o])({dataModel:e,processedData:{...t,data:t.data.filter((e=>{let{validScopes:t}=e;return t?.has(a)??!0}))}})}}static groupMatch(e){let{data:t,opts:i}=e;function n(e){return e.filter((e=>"key"===e.type)).map((e=>e.property)).join(";")}return e=>{let[o]=e;return(!1===i.groupByData||o.data===t)&&o.opts.groupByKeys===i.groupByKeys&&o.opts.groupByFn===i.groupByFn&&n(o.opts.props)===n(i.props)}}static mergeRequests(t){return t.reduce(((t,i)=>{let{id:n,data:o,resolve:a,reject:r,opts:{props:s,...l}}=i;t.ids.push(n),t.rejects.push(r),t.resolves.push(a),t.data??(t.data=o),t.opts??(t.opts={...l,props:[]});for(const c of s){const i={...c,scopes:[n]};e.createIdsMap(n,i);const o=t.opts.props.find((t=>t.type===i.type&&e.deepEqual(t,i)));o?(o.scopes??(o.scopes=[]),o.scopes.push(...i.scopes??[]),"key"!==o.type&&"value"!==o.type||!i.idsMap?.size||e.mergeIdsMap(i.idsMap,o.idsMap)):t.opts.props.push(i)}return t}),{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,t){for(const[i,n]of e){const e=t.get(i);if(null!=e)for(const t of n)e.add(t);else t.set(i,new Set(n))}}static createIdsMap(e,t){null!=t.id&&(t.idsMap??(t.idsMap=new Map),t.idsMap.has(e)?t.idsMap.get(e).add(t.id):t.idsMap.set(e,new Set([t.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;let n,o;if(Array.isArray(t)){if(o=t.length,o!==i.length)return!1;for(n=o-1;n>=0;n--)if(!e.deepEqual(t[n],i[n]))return!1;return!0}const a=Object.keys(t);if(o=a.length,o!==Object.keys(i).length)return!1;for(n=o-1;n>=0;n--){const o=a[n];if(!e.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!e.deepEqual(t[o],i[o])))return!1}return!0}return!1}};XT.skipKeys=new Set(["id","idsMap","type","scopes"]);var ZT=XT,qT=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter((e=>!this.hidden.has(e)))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},QT=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function JT(e){return QT.find((t=>"series"===t.type&&t.identifier===e))?.chartTypes}function eR(e){if(!function(e){return"enterprise"===e.packageType}(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=QT.find((t=>t.type===e.type&&t.optionsKey===e.optionsKey&&t.identifier===e.identifier&&e.chartTypes.every((e=>t.chartTypes.includes(e)))));return t&&(t.useCount??(t.useCount=0),t.useCount++),null!=t}var tR=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,t){let{optionsKey:i,moduleFactory:n,themeTemplate:o}=t;this.legendMap.set(e,{optionsKey:i,moduleFactory:n}),this.themeTemplates.set(i,o)}create(e,t){const i=this.legendMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce(((e,t)=>{let[i,n]=t;return e[i]=n.optionsKey,e}),{})}},iR=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return"cartesian"===this.get(e)}isPolar(e){return"polar"===this.get(e)}isHierarchy(e){return"hierarchy"===this.get(e)}isTopology(e){return"topology"===this.get(e)}isFlowProportion(e){return"flow-proportion"===this.get(e)}isStandalone(e){return"standalone"===this.get(e)}isGauge(e){return"gauge"===this.get(e)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter((e=>this.isCartesian(e)))}get polarTypes(){return this.seriesTypes.filter((e=>this.isPolar(e)))}get hierarchyTypes(){return this.seriesTypes.filter((e=>this.isHierarchy(e)))}get topologyTypes(){return this.seriesTypes.filter((e=>this.isTopology(e)))}get flowProportionTypes(){return this.seriesTypes.filter((e=>this.isFlowProportion(e)))}get standaloneTypes(){return this.seriesTypes.filter((e=>this.isStandalone(e)))}get gaugeTypes(){return this.seriesTypes.filter((e=>this.isGauge(e)))}},nR=class extends Map{set(e,t){return super.set(e,Lw(t,this.get(e)))}},oR=new iR,aR=new iR,rR=new nR,sR=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,t){let{chartTypes:[i],moduleFactory:n,tooltipDefaults:o,defaultAxes:a,themeTemplate:r,paletteFactory:s,solo:l,stackable:c,groupable:d,stackedByDefault:u,hidden:h}=t;this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:n,tooltipDefaults:o,defaultAxes:a,paletteFactory:s,solo:l,stackable:c,groupable:d,stackedByDefault:u}),oR.set(e,i),h||aR.set(e,i)}create(e,t){const i=this.seriesMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e,t){const i=this.seriesMap.get(e)?.defaultAxes;if(null==i)return null;return{axes:AN("function"===typeof i?i(t):i)}}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,Lw(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){return this.seriesMap.get(e)?.paletteFactory}getTooltipDefauls(e){return this.seriesMap.get(e)?.tooltipDefaults}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}},lR=class e extends OO{constructor(e){super(),this.chart=e}subscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP,i=this.get(t);return i||(i=new Set,e.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.get(t)?.delete(this.chart),this}getChart(){return this.chart}getGroup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.getGroup(t).filter((e=>e!==this.chart))}get(t){return e.chartsGroups.get(t)}};lR.chartsGroups=new Map,lR.DEFAULT_GROUP=Symbol("sync-group-default");var cR=lR,dR=class extends EC{constructor(){super(...arguments),this.enabled=!1}};pA([TC($C)],dR.prototype,"enabled",2),pA([TC(HC)],dR.prototype,"tabIndex",2);var uR=["top","right","bottom","left"];var hR=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function pR(e){const{series:t}=e;if(t)return t[0]?.type??"line"}function gR(e){const t=pR(e);return null!=t&&(oR.isCartesian(t)||function(e){const t=JT(e)?.find((e=>"cartesian"===e));return"cartesian"===t}(t))}function fR(e){const t=pR(e);return null!=t&&("polar"===t?(MA.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oR.isPolar(t)||function(e){const t=JT(e)?.find((e=>"polar"===e));return"polar"===t}(t))}function mR(e){const t=pR(e);return null!=t&&("hierarchy"===t?(MA.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oR.isHierarchy(t)||function(e){const t=JT(e)?.find((e=>"hierarchy"===e));return"hierarchy"===t}(t))}function yR(e){const t=pR(e);return null!=t&&("topology"===t?(MA.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oR.isTopology(t)||function(e){const t=JT(e)?.find((e=>"topology"===e));return"topology"===t}(t))}function vR(e){const t=pR(e);return null!=t&&("flow-proportion"===t?(MA.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oR.isFlowProportion(t)||function(e){const t=JT(e)?.find((e=>"flow-proportion"===e));return"flow-proportion"===t}(t))}function bR(e){const t=pR(e);return null!=t&&("standalone"===t?(MA.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oR.isStandalone(t)||function(e){const t=JT(e)?.find((e=>"standalone"===e));return"standalone"===t}(t))}function xR(e){const t=pR(e);return null!=t&&("gauge"===t?(MA.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oR.isGauge(t)||function(e){const t=JT(e)?.find((e=>"gauge"===e));return"gauge"===t}(t))}var SR=class extends TI{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&LC(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())"legend"===e.type&&(yield{legendType:e.identifier,legend:t})}},MR="ag-chart-overlay",AR="ag-chart-dark-overlay",kR=class extends EC{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){if(this.content?.remove(),this.focusBox=i,this.renderer){const e=this.renderer();if(e instanceof HTMLElement)this.content=e;else{const t=Ak("div");t.innerHTML=e,this.content=t.firstElementChild}}else{const i=Ak("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});i.innerText=this.getText(t),this.content=i,e?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(e){i.style.opacity=String(e)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>this.content?.remove(),t=arguments.length>1?arguments[1]:void 0;if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(e){i.style.opacity=String(e)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};pA([TC(_C,{optional:!0})],kR.prototype,"text",2),pA([TC(FC,{optional:!0})],kR.prototype,"renderer",2);var wR=class extends EC{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new kR("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new kR("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new kR("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==t.focusBox)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};pA([TC($C)],wR.prototype,"darkTheme",2),pA([TC(jC)],wR.prototype,"loading",2),pA([TC(jC)],wR.prototype,"noData",2),pA([TC(jC)],wR.prototype,"noVisibleSeries",2);var CR=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(CR||{}),IR=class{constructor(e,t,i,n){let{datum:o}=i;this.type=e,this.event=t,this.datum=o,this.seriesId=n.id}},DR=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},NR=class extends MO{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=IR,this.internalId=hk(this),this.rootGroup=new DD({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new TI,this._declarationOrder=-1,this.seriesListeners=new EO,this._pickNodeCache=new sN;const{moduleCtx:t,pickModes:i,directionKeys:n={},directionNames:o={},contentGroupVirtual:a=!0,canHaveAxes:r=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=o,this.canHaveAxes=r,this.contentGroup=this.rootGroup.appendChild(new OD({name:`${this.internalId}-content`,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new OD({name:`${this.internalId}-highlight`,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new DD({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new DD({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new OD({name:`${this.internalId}-series-labels`,zIndex:14})),this.annotationGroup=new DD({name:`${this.id}-annotation`,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:n,visible:o}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:o,seriesGrouping:t}),this.fireEvent(new DR(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;switch(e){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":t+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach((e=>e())),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),n=t?.[i],o=[];if(!n)return o;const a=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)Array.isArray(n)?a(...n):"object"===typeof n?a(...Object.values(n)):o.push(n)};return a(...n.map((e=>this.properties[e]))),o}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules((t=>t.getDomain(e)));return t.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:e=1,enabled:t=!0}=this.properties.highlightStyle.series;if(!t||1===e)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return e}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===t)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){const e=this.ctx.highlightManager?.getActiveHighlight()?.series;return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules((e=>e.getTooltipParams())).reduce(((e,t)=>Object.assign(e,t)),{})}pickNode(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{pickModes:n,pickModeAxis:o,visible:a,rootGroup:r}=this;if(!a||!r.visible)return;if("highlight"===t&&!this.properties.highlight.enabled)return;if("highlight-tooltip"===t&&!this.properties.highlight.enabled)return;let s=1/0;if("tooltip"===t||"highlight-tooltip"===t){const{tooltip:e}=this.properties;s="number"===typeof e.range?e.range:1/0,i||(i="exact"===e.range)}else if("event"===t||"context-menu"===t){const{nodeClickRange:e}=this.properties;s="number"===typeof e?e:1/0,i||(i="exact"===e)}const l=n.filter((e=>!i||0===e)),{x:c,y:d}=e,u=JSON.stringify({x:c,y:d,maxDistance:s,selectedPickModes:l});if(this._pickNodeCache.has(u))return this._pickNodeCache.get(u);for(const h of l){let t;switch(h){case 0:t=this.pickNodeExactShape(e);break;case 1:t=this.pickNodeClosestDatum(e);break;case 2:t=null!=h?this.pickNodeMainAxisFirst(e,"main-category"===o):void 0}if(t&&t.distance<=s)return this._pickNodeCache.set(u,{pickMode:h,match:t.datum,distance:t.distance})}return this._pickNodeCache.set(u,void 0)}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);if(t&&!0!==t.datum.missing)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const i=vk(e.x,e.y,t);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...t})??i(t.value):i(t.value)}getMarkerStyle(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getStyle();const n=Lw({size:t.datum.point?.size??0},i);if(e.itemStyler){return Lw(this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...n,...t,datum:t.datum.datum}),n)}return n}updateMarkerStyle(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.getStyle(),{applyTranslation:o=!0,selected:a=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{point:r}=i.datum,s=this.getMarkerStyle(t,i,n),l=this.visible&&s.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(o?e.setProperties({visible:l,...s,translationX:r?.x,translationY:r?.y}):e.setProperties({visible:l,...s}),a||(e.fillOpacity*=.25,e.strokeOpacity*=.125),"function"===typeof t.shape&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();const t=e.getBBox();if(void 0!==r&&t.isFinite()){const e=t.computeCenter(),[i,n]=["x","y"].map((t=>(s.strokeWidth??0)+Math.abs(e[t]-r[t]))),o=Math.max(t.width+i,t.height+n);r.focusSize=o}}}getMinRects(e,t){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,o=null!=MN(this.nodeDataDependencies,n);return o&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),o}pickFocus(e){}};function ER(e,t){!function(e,t){const{bounds:i,showFocusBox:n}=t;n&&e?.updateBounds(i)}(e,t);const{x:i,y:n}=function(e){if(null!=e)return e instanceof Vk?e.computeCenter():CD.toCanvas(e).computeCenter()}(t.bounds)??{};if(void 0!==i&&void 0!==n)return{type:"keyboard",offsetX:i,offsetY:n}}function OR(e){let{defs:t,values:i,xAxis:n,yAxis:o}=e;if(!n||!o)throw new Error("Axes must be defined");const a={};for(const[r,{def:s}]of t)if(Object.hasOwn(i,r)){const{scale:e}="key"===s.type?n:o;a[r]=Math.round(e.convert(i[r]))}return a}function LR(e,t,i,n){const o=[...e].reverse();let a;for(const r of o){if(!r.visible||!r.rootGroup.visible)continue;const{match:e,distance:o}=r.pickNode(t,i,n)??{};if(e&&null!=o&&((!a||a.distance>o)&&(a={series:r,distance:o,datum:e}),0===o))break}return a}NR.highlightedZIndex=1e12,pA([LN({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],NR.prototype,"seriesGrouping",2);var TR=class{constructor(e,t){this.element=e,this.id=t,e.id=t,e.style.display="none",FN(e.parentElement,"aria-labelledby",t)}layoutComplete(e){this.element.parentElement.style.width=`${e.chart.width}px`,this.element.parentElement.style.height=`${e.chart.height}px`}set text(e){this.element.textContent=e}},RR=class extends OO{constructor(e){super(),this.chart=e,this.id=hk(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="mouse",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=kO(((e,t)=>Mk().requestAnimationFrame(e)),(()=>{(this.tooltip.lastHover||this.highlight.pendingHoverEvent)&&(this.chart.getUpdateType()<=4?this.hoverScheduler.schedule():(this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)))}));const t=e.ctx.regionManager.getRegion("series"),i=e.ctx.regionManager.getRegion("horizontal-axes"),n=e.ctx.regionManager.getRegion("vertical-axes"),o=e.ctx.domManager.addChild("series-area","series-area-aria-label");this.ariaLabel=new TR(o,`${this.id}-aria-label`),this.destroyFns.push((()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label")),t.addListener("contextmenu",(e=>this.onContextMenu(e)),63),t.addListener("drag",(e=>this.onHoverLikeEvent(e)),41),t.addListener("hover",(e=>this.onHover(e)),41),t.addListener("leave",(()=>this.onLeave()),41),i.addListener("hover",(e=>this.onHover(e)),41),i.addListener("leave",(()=>this.onLeave())),n.addListener("hover",(e=>this.onHover(e)),41),n.addListener("leave",(()=>this.onLeave())),e.ctx.animationManager.addListener("animation-start",(()=>this.clearAll())),e.ctx.domManager.addListener("resize",(()=>this.clearAll())),e.ctx.highlightManager.addListener("highlight-change",(e=>this.changeHighlightDatum(e))),e.ctx.keyNavManager.addListener("blur",(()=>this.onBlur())),e.ctx.keyNavManager.addListener("focus",(e=>this.onFocus(e)),34),e.ctx.keyNavManager.addListener("nav-hori",(e=>this.onNavHori(e)),34),e.ctx.keyNavManager.addListener("nav-vert",(e=>this.onNavVert(e)),34),e.ctx.keyNavManager.addListener("submit",(e=>this.onSubmit(e)),34),e.ctx.layoutManager.addListener("layout:complete",(e=>this.layoutComplete(e))),e.ctx.regionManager.listenAll("click",(e=>this.onClick(e))),e.ctx.regionManager.listenAll("dblclick",(e=>this.onClick(e))),e.ctx.updateService.addListener("pre-scene-render",(()=>this.preSceneRender())),e.ctx.zoomManager.addListener("zoom-change",(()=>this.clearAll())),e.ctx.zoomManager.addListener("zoom-pan-start",(()=>this.clearAll())))}dataChanged(){var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.focusIndicator.updateBounds(void 0),this.clearHighlight()}preSceneRender(){this.refreshFocus(),null!=this.highlight.stashedHoverEvent&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),null!=this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort(((e,t)=>{let i=e.properties.focusPriority??1/0,n=t.properties.focusPriority??1/0;return i===n&&([i,n]=[e._declarationOrder,t._declarationOrder]),i<n?-1:i>n?1:0})),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.ariaLabel.layoutComplete(e)}onContextMenu(e){const{Default:t,ContextMenu:i}=LO;let n,o;if(this.chart.ctx.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(o=CD.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.chart.ctx.interactionManager.getState()&(t|i)){const t=LR(this.series,{x:e.regionOffsetX,y:e.regionOffsetY},"context-menu");t&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=t.datum)}this.clearAll(),this.chart.ctx.contextMenuRegistry.dispatchContext("series",e,{pickedNode:n},o)}onLeave(){this.chart.ctx.cursorManager.updateCursor(this.id),this.chart.ctx.focusIndicator.isFocusVisible()||this.clearAll()}onHover(e){this.hoverDevice="mouse",this.onHoverLikeEvent(e)}onHoverLikeEvent(e){if(Nw(e,"drag")&&(this.tooltip.lastHover=e),this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),32===this.chart.ctx.interactionManager.getState()){const{regionOffsetX:t,regionOffsetY:i}=e,n=LR(this.series,{x:t,y:i},"event");n?.series.hasEventListener("nodeClick")||n?.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.cursorManager.updateCursor(this.id,"pointer"):this.chart.ctx.cursorManager.updateCursor(this.id)}}onClick(e){if(this.hoverDevice="mouse",this.onHoverLikeEvent(e),this.seriesRect?.containsPoint(e.offsetX,e.offsetY)&&this.checkSeriesNodeClick(e))return this.update(4),void e.preventDefault();const t={type:"click"===e.type?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(t)}onFocus(e){this.hoverDevice=this.chart.ctx.focusIndicator.isFocusVisible()?"keyboard":"mouse",this.handleFocus(0,0),e.preventDefault()}onBlur(){this.hoverDevice="mouse",this.clearAll()}onNavVert(e){this.hoverDevice="keyboard",this.focus.seriesIndex+=e.delta,this.handleFocus(e.delta,0),e.preventDefault()}onNavHori(e){this.hoverDevice="keyboard",this.focus.datumIndex+=e.delta,this.handleFocus(0,e.delta),e.preventDefault()}onSubmit(e){const{series:t,datum:i}=this.focus,n=e.sourceEvent.sourceEvent;void 0!==t&&void 0!==i?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),e.preventDefault()}checkSeriesNodeClick(e){let t={x:e.regionOffsetX,y:e.regionOffsetY};"series"!==e.region&&(t=CD.fromCanvasPoint(this.chart.seriesRoot,e.offsetX,e.offsetY));const i=LR(this.series,t,"event");return null!=i&&("click"===e.type?(i.series.fireNodeClickEvent(e.sourceEvent,i.datum),!0):"dblclick"===e.type&&(e.preventZoomDblClick=0===i.distance,i.series.fireNodeDoubleClickEvent(e.sourceEvent,i.datum),!0))}refreshFocus(){this.chart.ctx.focusIndicator.isFocusVisible()&&this.handleSeriesFocus(0,0)}handleFocus(e,t){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);null==i?this.handleSeriesFocus(e,t):this.chart.ctx.focusIndicator.updateBounds(i.rect)}handleSeriesFocus(e,t){if("hierarchy"===this.chart.chartType)return void this.handleHierarchySeriesFocus(e,t);const{focus:i,seriesRect:n}=this,o=i.sortedSeries.filter((e=>e.visible));if(0===o.length)return;i.seriesIndex=Lk(0,i.seriesIndex,o.length-1),i.series=o[i.seriesIndex];const{datumIndex:a,seriesIndex:r}=i,s=i.series.pickFocus({datumIndex:a,datumIndexDelta:t,otherIndex:r,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(s)}handleHierarchySeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:i,seriesIndex:n,datumIndex:o},seriesRect:a}=this;if(void 0===i)return;const r=i.pickFocus({datumIndex:o,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:a});this.updatePickedFocus(r)}updatePickedFocus(e){const{focus:t}=this;if(void 0===e||void 0===t.series)return;const{datum:i,datumIndex:n}=e;t.datumIndex=n,t.datum=i,this.chart.ctx.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset();const o=ER(this.chart.ctx.focusIndicator,e);if(void 0!==o&&"keyboard"===this.hoverDevice){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const e=t.series.getTooltipHtml(i),n=OT.makeTooltipMeta(o,i);this.chart.ctx.highlightManager.updateHighlight(this.id,i),this.chart.ctx.tooltipManager.updateTooltip(this.id,n,e),this.ariaLabel.text=this.getDatumAriaText(i,e)}}getDatumAriaText(e,t){const i=t.ariaLabel;return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:e.series.getDatumAriaText?.(e,i)??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.chart.ctx.focusIndicator.updateBounds(void 0)}handleHoverHighlight(e){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t)return;const i=this.chart.ctx.interactionManager.getState();if(32!==i&&8!==i&&1!==i)return;const{offsetX:n,offsetY:o}=t;if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,o))return void this.clearHighlight();let a={x:t.regionOffsetX,y:t.regionOffsetY};"series"!==t.region&&(a=CD.fromCanvasPoint(this.chart.seriesRoot,n,o));const{range:r}=this.chart.highlight,s="tooltip"===r?"highlight-tooltip":"highlight",l=LR(this.series,a,s);if(l)return this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),void(this.hoverDevice="mouse");this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(e,t){const i=this.chart.ctx.interactionManager.getState();if(32!==i&&8!==i&&1!==i)return;const{offsetX:n,offsetY:o,targetElement:a,regionOffsetX:r,regionOffsetY:s}=e;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,o))return void("mouse"==this.hoverDevice&&this.clearTooltip());if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",VN))return;let l={x:r,y:s};"series"!==e.region&&(l=CD.fromCanvasPoint(this.chart.seriesRoot,n,o));const c=LR(this.series,l,"tooltip");if(!c)return void("mouse"==this.hoverDevice&&this.clearTooltip());this.hoverDevice="mouse";const d=c.series.getTooltipHtml(c.datum);if(this.chart.tooltip.enabled&&c.series.tooltipEnabled&&null!=d){const t=OT.makeTooltipMeta(e,c.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,t,d)}}changeHighlightDatum(e){const t=new Set,{series:i,datum:n}=e.currentHighlight??{},{series:o,datum:a}=e.previousHighlight??{};o&&t.add(o),i&&t.add(i),o?.properties.cursor&&a&&this.chart.ctx.cursorManager.updateCursor(o.id),i?.properties.cursor&&"default"!==i?.properties.cursor&&n&&this.chart.ctx.cursorManager.updateCursor(i.id,i.properties.cursor);null==i||null==o?this.update(4):this.update(4,{seriesToUpdate:t})}},PR=class{constructor(e,t,i){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i;const{internalId:n,type:o,rootGroup:a,highlightGroup:r,annotationGroup:s,seriesGrouping:l}=e,{groupIndex:c=n}=l??{};if(null!=this.series[n])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),(t=this.groups)[o]??(t[o]={});const d=this.lookupIdx(c),u=(i=this.groups[o])[d]??(i[d]={type:o,id:d,seriesIds:[],group:this.seriesRoot.appendChild(new eE({name:`${o}-content`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new DD({name:`${o}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new DD({name:`${o}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))});return this.series[n]={layerState:u,seriesConfig:e},u.seriesIds.push(n),u.group.appendChild(a),u.highlight.appendChild(r),u.annotation.appendChild(s),u.group}changeGroup(e){const{internalId:t,seriesGrouping:i,type:n,rootGroup:o,highlightGroup:a,annotationGroup:r,oldGrouping:s}=e,{groupIndex:l=t}=i??{};this.groups[n]?.[l]?.seriesIds.includes(t)||(null!=this.series[t]&&this.releaseGroup({internalId:t,seriesGrouping:s,type:n,rootGroup:o,highlightGroup:a,annotationGroup:r}),this.requestGroup(e))}releaseGroup(e){const{internalId:t,rootGroup:i,highlightGroup:n,annotationGroup:o,type:a}=e;if(null==this.series[t])throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const r=this.series[t]?.layerState;if(r&&(r.seriesIds=r.seriesIds.filter((e=>e!==t)),r.group.removeChild(i),r.highlight.removeChild(n),r.annotation.removeChild(o)),0===r?.seriesIds.length)this.seriesRoot.removeChild(r.group),this.highlightRoot.removeChild(r.highlight),this.annotationRoot.removeChild(r.annotation),delete this.groups[r.type][r.id],delete this.groups[a][t];else if(r?.seriesIds.length>0){const e=this.series[r?.seriesIds?.[0]]?.seriesConfig;r.group.zIndexSubOrder=e?.getGroupZIndexSubOrder("data"),r.highlight.zIndexSubOrder=e?.getGroupZIndexSubOrder("highlight"),r.annotation.zIndexSubOrder=e?.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return"normal"===this.mode?e:"string"!==typeof e||(e=Number(e.split("-").at(-1)))?Math.floor(30*Lk(0,e/this.expectedSeriesCount,1)):0}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},zR=class{constructor(e,t,i,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",(()=>this.onDataSourceChange())),this.dataService.addListener("data-load",(()=>this.onDataLoad())),this.dataService.addListener("data-error",(()=>this.onDataError())),this.updateService.addListener("update-complete",(()=>this.onUpdateComplete())),this.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())))}destroy(){this.destroyFns.forEach((e=>e()))}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){(this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow().catch((e=>MA.errorOnce(e)))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})}getValidAxis(){return this.chart.axes.find((e=>"time"===e.type))}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return(!i||t.min!==i.min||t.max!==i.max)&&(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){const i=e.scale.getDomain?.();if(!t||!i||0===i.length||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]);return{min:new Date(Number(i[0])+n*t.min),max:new Date(Number(i[0])+n*t.max)}}},jR=class{constructor(e,t,i,n,o,a,r){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=n,this.localeManager=o,this.animationManager=a,this.domManager=r,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(MR),this.destroyFns.push(this.layoutManager.addListener("layout:complete",(e=>this.onLayoutComplete(e))))}destroy(){this.destroyFns.forEach((e=>e())),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(e){let{series:{rect:t}}=e;const i=this.dataService.isLoading(),n=this.chartLike.series.some((e=>e.hasData)),o=this.chartLike.series.some((e=>e.visible));this.overlays.darkTheme?this.overlayElem.classList.add(AR):this.overlayElem.classList.remove(AR),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;const a=i,r=!i&&!n,s=n&&!o;a?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),s?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries);const l=a||r||s;FN(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement((()=>{this.overlayElem.innerText="\xa0"}),this.animationManager)}},BR=RD.create(!0,"opts"),$R=class extends EC{constructor(){super(...arguments),this.padding=new AO(0)}};pA([TC($C,{optional:!0})],$R.prototype,"clip",2),pA([TC(jC)],$R.prototype,"padding",2);var FR=class e extends MO{constructor(e,t){var i,n;super(),i=this,this.id=hk(this),this.seriesRoot=new OD({name:`${this.id}-series-root`}),this.highlightRoot=new tE({name:`${this.id}-highlight-root`,zIndex:5,deriveZIndexFromChildren:!0}),this.annotationRoot=new tE({name:`${this.id}-annotation-root`,zIndex:10}),this.debug=RD.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new AO(20),this.seriesArea=new $R,this.keyboard=new dR,this.mode="standalone",this.chartCaptions=new NO,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new SR,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new SO,this.updateRequestors={},this.performUpdateTrigger=kO((function(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),(async e=>{let{count:t}=e;this.destroyed||this.updateMutex.acquire((async()=>{try{await this.performUpdate(t)}catch(e){MA.error("update error",e)}})).catch((e=>MA.errorOnce(e)))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=e=>{this.fireEvent({...e,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=e=>{this.fireEvent({...e,type:"seriesNodeDoubleClick"})},this.seriesGroupingChanged=e=>{if(!(e instanceof DR))return;const{series:t,seriesGrouping:i,oldGrouping:n}=e;t.rootGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:t.internalId,type:t.type,rootGroup:t.rootGroup,highlightGroup:t.highlightGroup,annotationGroup:t.annotationGroup,getGroupZIndexSubOrder:e=>t.getGroupZIndexSubOrder(e),seriesGrouping:i,oldGrouping:n})},this.chartOptions=e;const o=t?.scene,a=t?.container??e.processedOptions.container??void 0,r=t?.styleContainer??e.specialOverrides.styleContainer,s=new DD({name:"root"}),l=new eE({name:"titles",zIndex:14});s.visible=!1,s.append(l),s.append(this.seriesRoot),s.append(this.highlightRoot),s.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node),this.tooltip=new qN,this.seriesLayerManager=new PR(this.seriesRoot,this.highlightRoot,this.annotationRoot),this.mode=e.userOptions.mode??this.mode;const c=this.ctx=new jT(this,{scene:o,root:s,container:a,styleContainer:r,syncManager:new cR(this),pixelRatio:e.specialOverrides.overrideDevicePixelRatio,updateCallback:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return i.update(e,t)},updateMutex:this.updateMutex});this._destroyFns.push(c.domManager.addListener("resize",(()=>this.parentResize(c.domManager.containerSize)))),this.overlays=new wR,(n=this.overlays.loading).renderer??(n.renderer=()=>function(e,t){const{animationDuration:i}=qw.add,n=Ak("div",`${MR}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i*t}ms linear 50ms both`}),o=Ak("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),a=Ak("p",{marginTop:"1em"});a.innerText=e;const r=Ak("div",`${MR}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),s=Ak("style");return s.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),n.replaceChildren(s,o,a,r),n}(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new zR(this,c.dataService,c.updateService,c.zoomManager),new jR(this,this.overlays,c.dataService,c.layoutManager,c.localeManager,c.animationManager,c.domManager)],this.highlight=new BT,this.container=a;const d=this.getModuleContext();c.regionManager.addRegion("series",this.seriesRoot,new vT(this.seriesRoot,(()=>this.seriesRect??Vk.zero)),this.ctx.axisManager.axisGridGroup),c.regionManager.addRegion("horizontal-axes"),c.regionManager.addRegion("vertical-axes"),c.regionManager.addRegion("root",s),c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new RR(this.initSeriesAreaDependencies()),this._destroyFns.push(c.layoutManager.registerElement(0,(e=>{e.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(e)})),c.layoutManager.addListener("layout:complete",(e=>this.chartCaptions.positionAbsoluteCaptions(e))),c.dataService.addListener("data-load",(e=>{this.data=e.data})),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),c.interactionManager.addListener("page-left",(()=>this.destroy())),c.animationManager.addListener("animation-frame",(()=>{this.update(6)})),c.animationManager.addListener("animation-start",(()=>c.domManager.setDataBoolean("animating",!0))),c.animationManager.addListener("animation-stop",(()=>c.domManager.setDataBoolean("animating",!1))),c.zoomManager.addListener("zoom-change",(()=>{this.series.forEach((e=>e.animationState?.transition("updateData")));const e="initial"!==this.chartAnimationPhase;this.update(3,{forceNodeDataRefresh:!0,skipAnimations:e})}))),this.parentResize(c.domManager.containerSize)}static getInstance(t){return e.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,t){this.ctx.scene.download(e,t)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}initSeriesAreaDependencies(){const{ctx:e,tooltip:t,highlight:i,overlays:n,seriesRoot:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:a,ctx:e,tooltip:t,highlight:i,overlays:n,seriesRoot:o}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter((e=>e.enabled&&e.text)).map((e=>e.text)).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(e){if(this.destroyed)return;const t=e?.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach((e=>e())),this.processors.forEach((e=>e.destroy())),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),t?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach((e=>e.destroy())),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),i}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((async()=>{this.destroyed||(await e(this),this.destroyed||this._pendingFactoryUpdatesCount--)})).catch((e=>MA.errorOnce(e))))}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const{forceNodeDataRefresh:i=!1,skipAnimations:n,seriesToUpdate:o=this.series,newAnimationBatch:a}=t??{};i&&this.series.forEach((e=>e.markNodeDataDirty()));for(const r of o)this.seriesToUpdate.add(r);if(n&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),a&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=t?.skipSync??!1,this.debug.check()){let t=(new Error).stack??"<unknown>";t=t.replace(/\([^)]*/g,""),this.updateRequestors[t]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(t?.backOffMs))}async performUpdate(e){const{performUpdateType:t,extraDebugStats:i,_performUpdateSplits:n,ctx:o}=this,a=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&t<6&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop((()=>this.chartAnimationPhase="ready"))),this.debug("Chart.performUpdate() - start",PT[t]);let r=performance.now();n.start??(n.start=r);const s=e=>{n[e]??(n[e]=0),n[e]+=performance.now()-r,r=performance.now()};let l=!1;switch(t){case 0:this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:await this.updateData(),s("\u2b07\ufe0f");case 2:await this.processData(),this.seriesAreaManager.dataChanged(),s("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(a)){l=!0;break}await this.processLayout(),s("\u2316");case 4:{if(this.checkUpdateShortcut(4))break;const{seriesRect:e}=this;await Promise.all(a.map((t=>t.update({seriesRect:e})))),s("\ud83e\udd14"),this.updateAriaLabels()}case 5:if(this.checkUpdateShortcut(5))break;o.updateService.dispatchPreSceneRender(this.getMinRects()),s("\u2196");case 6:if(this.checkUpdateShortcut(6))break;o.animationManager.endBatch(),i.updateShortcutCount=this.updateShortcutCount,await o.scene.render({debugSplitTimes:n,extraDebugStats:i,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const e in n)delete n[e];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}l||(o.updateService.dispatchUpdateComplete(this.getMinRects()),this.ctx.domManager.setDataBoolean("updatePending",!1));const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(c-n.start))/100,count:e,performUpdateType:PT[t]})}updateThemeClassName(){const{theme:e}=this.chartOptions.processedOptions,t="ag-charts-theme-",i=[`${t}default`,`${t}default-dark`];let n=i[0],o=!1;"string"===typeof e?(n=e.replace("ag-",t),o=e.includes("-dark")):"string"===typeof e?.baseTheme&&(n=e.baseTheme.replace("ag-",t),o=e.baseTheme.includes("-dark")),i.includes(n)||(n=o?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:t}=this.keyboard;this.ctx.domManager.setTabIndex(e?t??0:-1)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return this.updateShortcutCount>3?(MA.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(e){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){const t=this._performUpdateNoRenderCount++,i=(t+1)**2*40;if(t<8)return this.update(3,{seriesToUpdate:e,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(e,t){null==t&&0===e.length||this.ctx.axisManager.updateAxes(t??[],e)}onSeriesChange(e,t){const i=t?.filter((t=>!e.includes(t)))??[];this.destroySeries(i),this.seriesLayerManager?.setSeriesCount(e.length);for(const n of e){if(t?.includes(n))continue;n.rootGroup.isRoot()&&this.seriesLayerManager.requestGroup(n);const e=this;n.chart={get mode(){return e.mode},get isMiniChart(){return!1},get seriesRect(){return e.seriesRect},placeLabels:t=>e.placeLabels(t)},n.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(n),n.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(e)}destroySeries(e){e?.forEach((e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0}))}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const e of this.axes)e.boundSeries=this.series.filter((t=>t.axes[e.direction]===e))}assignAxesToSeries(){const e=gC(this.axes,(e=>e.direction));this.series.forEach((t=>{t.directions.forEach((i=>{const n=e[i];if(!n)return void MA.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);const o=t.getKeys(i),a=n.find((e=>!e.keys.length||o.some((t=>e.keys.includes(t)))));a?t.axes[i]=a:MA.warnOnce(`no matching axis for direction [${i}] and keys [${o}]; check series and axes configuration.`)}))}))}parentResize(e){if(null==e||null!=this.width&&null!=this.height)return;let{width:t,height:i}=e;if(t=Math.floor(t),i=Math.floor(i),0===t&&0===i)return;const[n=0,o=0]=this._lastAutoSize??[];n===t&&o===i||(this._lastAutoSize=[t,i],this.resize("SizeMonitor",{}))}resize(e,t){const{scene:i,animationManager:n}=this.ctx,{inWidth:o,inHeight:a,inMinWidth:r,inMinHeight:s}=t;this.ctx.domManager.setSizeOptions(r??this.minWidth,s??this.minHeight,o??this.width,a??this.height);const l=o??this.width??this._lastAutoSize?.[0],c=a??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${e}`,{width:l,height:c,stack:(new Error).stack}),null!=l&&null!=c&&kw(l)&&kw(c)&&i.resize(l,c)){n.reset();let e=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(e=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:e})}}async updateData(){this.series.forEach((e=>e.setChartData(this.data)));const e=this.modulesManager.mapModules((e=>e.updateData?.(this.data)));await Promise.all(e)}async processData(){this.series.some((e=>e.canHaveAxes))&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=new ZT(this.mode),t=this.series.map((t=>t.processData(e))),i=this.modulesManager.mapModules((t=>t.processData?.(e)));e.execute(),await Promise.all([...t,...i]);for(const{legendType:n,legend:o}of this.modulesManager.legends())o.data=this.getLegendData(n,"integrated"!==this.mode)}placeLabels(e){const t=[],i=[];for(const d of this.series){if(!d.visible)continue;const e=d.getLabelData();n=e?.[0],null!=n&&"object"===typeof n.point&&"object"===typeof n.label&&(i.push(e),t.push(d))}var n;const{seriesRect:o}=this,{top:a,right:r,bottom:s,left:l}=this.seriesArea.padding,c=o&&i.length>0?function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];e=e.map((e=>e.slice().sort(((e,t)=>t.point.size-e.point.size))));for(let l=0;l<e.length;l++){const c=n[l]=[],d=e[l];if(d?.length&&d[0].label)for(let l=0,u=d.length;l<u;l++){const u=d[l],{point:h,label:p,marker:g}=u,{text:f,width:m,height:y}=p,v=.5*h.size;let b=0,x=0;if(v>0&&null!=u.placement){const e=vN[u.placement];b=(.5*m+v+i)*e.x,x=(.5*y+v+i)*e.y}const S=h.x-.5*m+b-((g?.center.x??.5)-.5)*h.size,M=h.y-.5*y+x-((g?.center.y??.5)-.5)*h.size;(!t||(r=M,s=y,(a=S)+m<(o=t).x+o.width&&a>o.x&&r>o.y&&r+s<o.y+o.height))&&(e.some((e=>e.some((e=>mN(e.point,e.marker?.center,S,M,m,y)))))||n.some((e=>e.some((e=>yN(e,S,M,m,y)))))||c.push({index:l,text:f,x:S,y:M,width:m,height:y,datum:u}))}}var o,a,r,s;return n}(i,{x:-l,y:-a,width:o.width+l+r,height:o.height+a+s},e):[];return new Map(c.map(((e,i)=>[t[i],e])))}getLegendData(e,t){var i;const n=this.series.filter((e=>e.properties.showInLegend)).flatMap((t=>t.getLegendData(e)));if(t&&n.every((e=>"category"===e.legendType))){const e={},t=new Map(this.series.map((e=>[e.id,e.type])));for(const{seriesId:o,symbols:[{marker:a}],label:r}of n){if(null==a.fill)continue;const n=t.get(o),s=e[n]??(e[n]={});s[i=r.text]??(s[i]=a.fill),s[r.text]!==a.fill&&MA.warnOnce(`legend item '${r.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return n}async processLayout(){const e=this.animationRect,{width:t,height:i}=this.ctx.scene,n=this.ctx.layoutManager.createContext(t,i);await this.performLayout(n),e&&!this.animationRect?.equals(e)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async waitForUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();7!==this.performUpdateType;){if(performance.now()-i>e){const i=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(t)throw new Error(i);MA.warnOnce(i)}await xO(50)}await this.updateMutex.waitForClearAcquireQueue()}getMinRects(){const{width:e,height:t}=this.ctx.scene,i=this.series.map((i=>i.getMinRects(e,t))).filter(hw);if(0===i.length)return;let n=0,o=0,a=0,r=0;for(const{minRect:c,minVisibleRect:d}of i)n=Math.max(n,c.width),o=Math.max(o,c.height),a=Math.max(a,d.width),r=Math.max(r,d.height);const s=new Vk(0,0,n,o);let l=s.clone();return a>0&&r>0&&(l=new Vk(0,0,a,r)),{minRect:s,minVisibleRect:l}}filterMiniChartSeries(e){return e?.filter((e=>!1!==e.showInMiniChart))}applyOptions(e){const t=e!==this.chartOptions?this.chartOptions.processedOptions:{},i=e.processedOptions,n=e.diffOptions(t);if(null==n)return;BR("Chart.applyOptions() - applying delta",n);const o=this.applyModules(i);n.listeners&&this.registerListeners(this,n.listeners),CN(this,n,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"]});let a=!1,r="no-op";null!=n.series&&(r=this.applySeries(this,n.series,t?.series),a=!0),"replaced"===r&&this.resetAnimations(),this.applyAxes(this,i,t,r,[],!0)&&(a=!0),n.data&&(this.data=n.data),n.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,n.legend.listeners),n.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=n.locale?.localeText),this.chartOptions=e;const s=this.modulesManager.getModule("navigator"),l=this.modulesManager.getModule("zoom");s?.enabled||l?.enabled||this.ctx.zoomManager.updateZoom("chart");const c=s?.miniChart,d=i.navigator?.miniChart?.series??i.series;!0===c?.enabled&&null!=d?this.applyMiniChartOptions(c,d,i,t):!1===c?.enabled&&(c.series=[],c.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),a||(a=this.shouldForceNodeDataRefresh(n,r));const u=a||o?0:3;this.maybeResetAnimations(r),BR("Chart.applyOptions() - update type",PT[u],{seriesStatus:r,forceNodeDataRefresh:a}),this.update(u,{forceNodeDataRefresh:a,newAnimationBatch:!0}),(n.initialState||n.theme)&&this.applyInitialState(e.userOptions.initialState)}applyInitialState(e){const{ctx:{annotationManager:t,historyManager:i,stateManager:n}}=this;if(null!=e?.annotations){const i=e.annotations.map((e=>Lw(e,t.getAnnotationTypeStyles(e.type))));n.setState(t,i)}null!=e&&i.clear()}maybeResetAnimations(e){if("standalone"===this.mode)switch(e){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(e,t){const i=!!e.data||"data-change"===t||"replaced"===t,n=tR.getKeys(),o=Object.values(n).some((t=>null!=e[t])),a=null!=e.title&&null!=e.subtitle;return i||o||a}applyMiniChartOptions(e,t,i,n){const o=n?.navigator?.miniChart?.series??n?.series,a=this.applySeries(e,this.filterMiniChartSeries(t),this.filterMiniChartSeries(o));this.applyAxes(e,i,n,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const r=e.series;for(const c of r)c.properties.id=void 0;const s=e.axes,l=s.find((e=>"x"===e.direction));for(const c of s)c.gridLine.enabled=!1,c.label.enabled=c===l,c.tick.enabled=!1,c.interactionEnabled=!1;if(null!=l){const e=i.navigator?.miniChart,t=e?.label,n=e?.label?.interval;l.line.enabled=!1,l.label.set(Pw(t,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),l.tick.set(Pw(n,["enabled","width","size","color","interval","step"]));const o=n?.step;null!=o&&(l.interval.step=o)}}applyModules(e){const{type:t}=this.constructor;let i=!1;for(const n of bO.byType("root","legend")){const o=null!=e[n.optionsKey]&&n.chartTypes.includes(t);o!==this.modulesManager.isEnabled(n)&&(o?(this.modulesManager.addModule(n,(e=>e.moduleFactory(this.getModuleContext()))),"legend"===n.type&&this.modulesManager.getModule(n)?.attachLegend(this.ctx.scene),this[n.optionsKey]=this.modulesManager.getModule(n)):(this.modulesManager.removeModule(n),delete this[n.optionsKey]),i=!0)}return i}initSeriesDeclarationOrder(e){for(let t=0;t<e.length;t++)e[t]._declarationOrder=t}applySeries(e,t,i){if(!t)return"no-change";const n=function(e,t,i){const n=(e,t,i)=>{const n=[e];for(const o of hR)o in t&&null!=t[o]&&n.push(`${o}=${t[o]}`);return i?.seriesGrouping&&n.push(`seriesGrouping.groupId=${i?.seriesGrouping.groupId}`),n.join(";")},o=new Map;let a=0;for(const c of e){const e=n(c.type,c.properties,i?.[a]);o.has(e)||o.set(e,[]),o.get(e)?.push([c,a++])}const r=new Map;for(const c of t){const e=n(c.type,c,c);r.has(e)||r.set(e,[]),r.get(e)?.push(c)}if(![...o.keys()].some((e=>r.has(e))))return{status:"no-overlap",oldKeys:o.keys(),newKeys:r.keys()};const s=[];let l=-1;for(const[c,d]of r.entries())for(const e of d){l++;const t=o.get(c);if(null==t||t.length<1){s.push({opts:e,idx:l,status:"add"}),o.delete(c);continue}const[n,a]=t.shift(),r=MN(i?.[a]??{},e??{}),{groupIndex:d,stackIndex:u}=r?.seriesGrouping??{};null!=d||null!=u?s.push({opts:e,series:n,diff:r,idx:a,status:"series-grouping"}):r?s.push({opts:e,series:n,diff:r,idx:a,status:"update"}):s.push({opts:e,series:n,idx:a,status:"no-op"}),0===t.length&&o.delete(c)}for(const c of o.values())for(const[e,t]of c)s.push({series:e,idx:t,status:"remove"});return{status:"overlap",changes:s}}(e.series,t,i);if("no-overlap"===n.status)return BR(`Chart.applySeries() - creating new series instances, status: ${n.status}`,n),e.series=t.map((e=>this.createSeries(e))),this.initSeriesDeclarationOrder(e.series),"replaced";BR("Chart.applySeries() - matchResult",n);const o=[];let a=!1,r=!1,s=!1;for(const l of n.changes)switch(r||(r="series-grouping"===l.status),a||(a=null!=l.diff?.data),s||(s="no-op"!==l.status),l.status){case"add":{const e=this.createSeries(l.opts);o.push(e),BR("Chart.applySeries() - created new series",e);break}case"remove":BR(`Chart.applySeries() - removing series at previous idx ${l.idx}`,l.series);break;case"no-op":o.push(l.series),BR(`Chart.applySeries() - no change to series at previous idx ${l.idx}`,l.series);break;default:{const{series:e,diff:t,idx:i}=l;BR(`Chart.applySeries() - applying series diff previous idx ${i}`,t,e),this.applySeriesValues(e,t),e.markNodeDataDirty(),o.push(e)}}return this.initSeriesDeclarationOrder(o),BR("Chart.applySeries() - final series instances",o),e.series=o,r?"series-grouping-change":a?"data-change":s?"updated":"no-op"}applyAxes(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!("axes"in t)||!t.axes)return!1;o=["axes[].type",...o];const{axes:r}=t;if(!("replaced"===n)&&e.axes.length===r.length&&e.axes.every(((e,t)=>e.type===r[t].type))&&gR(i))return e.axes.forEach(((e,t)=>{const n=MN(i.axes?.[t]??{},r[t]);BR(`Chart.applyAxes() - applying axis diff idx ${t}`,n);CN(e,n,{path:`axes[${t}]`,skip:o})})),!0;BR(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${n}`),e.axes=this.createAxis(r,o);const s={x:[],y:[]};return e.axes.forEach((e=>{const{id:t}=e,i=e.getRegionNode();null!=i&&s[e.direction].push({id:t,node:i})})),a&&(this.ctx.regionManager.updateRegion("horizontal-axes",...s.x),this.ctx.regionManager.updateRegion("vertical-axes",...s.y)),!0}createSeries(e){const t=sR.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(t,e),this.applySeriesValues(t,e),t}applySeriesOptionModules(e,t){const i=e.createModuleContext(),n=e.getModuleMap();for(const o of bO.byType("series-option"))o.optionsKey in t&&o.seriesTypes.includes(e.type)&&n.addModule(o,(e=>e.moduleFactory(i)))}applySeriesValues(e,t){const i=e.getModuleMap(),{type:n,data:o,listeners:a,seriesGrouping:r,showInMiniChart:s,...l}=t;for(const c of QT)if("series-option"===c.type&&c.optionsKey in l){const e=i.getModule(c.optionsKey);if(e){const t=l[c.optionsKey];delete l[c.optionsKey],e.properties.set(t)}}e.properties.set(l),"data"in t&&e.setOptionsData(o),a&&this.registerListeners(e,a),"seriesGrouping"in t&&(e.seriesGrouping=null==r?void 0:{...e.seriesGrouping,...r})}createAxis(e,t){const i=[],n=this.getModuleContext();for(let o=0;o<e.length;o++){const a=e[o],r=qT.create(a.type,n);this.applyAxisModules(r,a),CN(r,a,{path:`axes[${o}]`,skip:t}),i.push(r)}return function(e){const t=[],i=[],n=[...uR];for(const a of e)a instanceof iO&&("string"===typeof(o=a.position)&&uR.includes(o)?i.push(a.position):t.push(a));var o;for(const a of t){let e;do{e=n.pop()}while(e&&i.includes(e));if(null==e)break;a.position=e}}(i),i}applyAxisModules(e,t){const i=e.createModuleContext(),n=e.getModuleMap();for(const o of bO.byType("axis-option")){const a=null!=t[o.optionsKey];a!==n.isEnabled(o)&&(a?(n.addModule(o,(e=>e.moduleFactory(i))),e[o.optionsKey]=n.getModule(o)):(n.removeModule(o),delete e[o.optionsKey]))}}registerListeners(e,t){e.clearEventListeners();for(const[i,n]of Object.entries(t))vw(n)&&e.addEventListener(i,n)}};FR.chartsInstances=new WeakMap,pA([LN({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),FR.chartsInstances.set(e,this))},oldValue(e){FR.chartsInstances.delete(e)}})],FR.prototype,"container",2),pA([LN({newValue(e){this.resize("width option",{inWidth:e})}})],FR.prototype,"width",2),pA([LN({newValue(e){this.resize("height option",{inHeight:e})}})],FR.prototype,"height",2),pA([LN({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],FR.prototype,"minWidth",2),pA([LN({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],FR.prototype,"minHeight",2),pA([TC(jC)],FR.prototype,"padding",2),pA([TC(jC)],FR.prototype,"seriesArea",2),pA([TC(jC)],FR.prototype,"keyboard",2),pA([TC(wI(["standalone","integrated"],"a chart mode"))],FR.prototype,"mode",2),pA([NN("chartCaptions.title")],FR.prototype,"title",2),pA([NN("chartCaptions.subtitle")],FR.prototype,"subtitle",2),pA([NN("chartCaptions.footnote")],FR.prototype,"footnote",2),pA([LN({changeValue(e,t){this.onAxisChange(e,t)}})],FR.prototype,"axes",2),pA([LN({changeValue(e,t){this.onSeriesChange(e,t)}})],FR.prototype,"series",2);var _R=FR,HR=class{constructor(e,t,i){this.root=new VR(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(t,i)=>e.distanceSquared(t,i)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},WR=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},GR=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??Vk.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(void 0===this.subdivisions?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:o}=this,a=this.maxdepth-1,r=i/2,s=n/2,l=new Vk(e,t,r,s),c=new Vk(e+r,t,r,s),d=new Vk(e,t+s,r,s),u=new Vk(e+r,t+s,r,s);return new WR(this.child(o,a,l),this.child(o,a,c),this.child(o,a,d),this.child(o,a,u))}},VR=class e extends GR{addCondition(e){const{x:t,y:i}=e.hitTester.midPoint;return this.boundary.containsPoint(t,i)}findCondition(e,t,i){const{best:n}=i;return 0!==n.distanceSquared&&this.boundary.distanceSquared(e,t)<n.distanceSquared}findAction(e,t,i){const n=vk(e,t,this.elems,i.best.distanceSquared);void 0!==n.nearest&&n.distanceSquared<i.best.distanceSquared&&(i.best=n)}child(t,i,n){return new e(t,i,n)}},UR=["ArrowDown","ArrowUp","Circle","Cross","Diamond","Heart","MapPin","Plus","Square","Star","Triangle"],KR=Object.freeze({x:.5,y:.5}),YR=class extends bL{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}isBuiltIn(){return UR.includes(this.constructor.className??"")}computeBBox(){if(!this.isBuiltIn())return this.path.computeBBox();const{x:e,y:t,size:i}=this,{center:n}=this.constructor;return new Vk(e-i*n.x,t-i*n.y,i,i)}applyPath(e,t){const{path:i}=this;let{x:n,y:o}=this;i.clear();for(const{x:a,y:r,t:s}of t)n+=a*e,o+=r*e,"move"===s?i.moveTo(n,o):i.lineTo(n,o);i.closePath()}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};pA([vL()],YR.prototype,"x",2),pA([vL()],YR.prototype,"y",2),pA([vL({convertor:Math.abs})],YR.prototype,"size",2);var XR=class extends(AD(kD(wD(YR)))){};XR.center=KR;var ZR=class extends XR{updatePath(){const{x:e,y:t,path:i,size:n}=this,o=n/2;i.clear(),i.arc(e,t,o,0,2*Math.PI),i.closePath()}};ZR.className="Circle";var qR=class e extends XR{updatePath(){const t=this.size/4.2;super.applyPath(t,e.moves)}};qR.className="Cross",qR.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var QR=qR,JR=class e extends XR{updatePath(){const t=this.size/2;super.applyPath(t,e.moves)}};JR.className="Diamond",JR.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var eP=JR,tP=class extends XR{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:i,rad:n}=this,o=i/4,a=this.y+o/2;t.clear(),t.arc(e-o,a-o,o,n(130),n(330)),t.arc(e+o,a-o,o,n(220),n(50)),t.lineTo(e,a+o),t.closePath()}};tP.className="Heart";var iP=class extends XR{updatePath(){const{path:e,x:t,y:i}=this,n=this.size,o=.5;e.clear(),e.moveTo(t+-.34375*n,i+-.65625*n),e.cubicCurveTo(t+-.34375*n,i+-.848509*n,t+-.192259*n,i+-1*n,t+0*n,i+-1*n),e.cubicCurveTo(t+(.692259-o)*n,i+-1*n,t+.34375*n,i+-.848509*n,t+.34375*n,i+-.65625*n),e.cubicCurveTo(t+.34375*n,i+-.506176*n,t+.284625*n,i+(.600181-1)*n,t+(.716461-o)*n,i+(.695393-1)*n),e.cubicCurveTo(t+.199009*n,i+-.280231*n,t+(.681271-o)*n,i+-.256896*n,t+(.663785-o)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.611893-o)*n,i+(.834367-1)*n,t+(.562228-o)*n,i+(.899699-1)*n,t+(.528896-o)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.524075-o)*n,i+(.992358-1)*n,t+(.512663-o)*n,i+0*n,t+0*n,i+0*n),e.cubicCurveTo(t+(.487337-o)*n,i+0*n,t+(.475925-o)*n,i+(.992358-1)*n,t+(.471104-o)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.487337-o)*n,i+0*n,t+(.475925-o)*n,i+(.992358-1)*n,t+(.471104-o)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.437772-o)*n,i+(.899699-1)*n,t+(.388107-o)*n,i+(.834367-1)*n,t+(.336215-o)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.318729-o)*n,i+-.256896*n,t+-.199009*n,i+-.280231*n,t+(.283539-o)*n,i+(.695393-1)*n),e.cubicCurveTo(t+-.284625*n,i+(.600181-1)*n,t+-.34375*n,i+-.506176*n,t+-.34375*n,i+-.65625*n),e.closePath()}};iP.className="MapPin",iP.center={x:.5,y:1};var nP=class e extends XR{updatePath(){const t=this.size/3;super.applyPath(t,e.moves)}};nP.className="Plus",nP.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var oP=nP,aP=class extends XR{updatePath(){const{path:e,x:t,y:i}=this,n=this.size/2;e.clear(),e.moveTo(this.align(t-n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i+n)),e.lineTo(this.align(t-n),this.align(i+n)),e.closePath()}};aP.className="Square";var rP=class extends XR{updatePath(){const{x:e,y:t,path:i,size:n}=this,o=n/2,a=Math.PI/2;i.clear();for(let r=0;r<10;r++){const s=r%2===0?n:o,l=r*Math.PI/5-a,c=e+Math.cos(l)*s,d=t+Math.sin(l)*s;i.lineTo(c,d)}i.closePath()}};rP.className="Star";var sP=class e extends XR{updatePath(){const t=1.1*this.size;super.applyPath(t,e.moves)}};sP.className="Triangle",sP.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var lP=sP,cP={circle:ZR,cross:QR,diamond:eP,heart:tP,pin:iP,plus:oP,square:aP,star:rP,triangle:lP},dP=Object.keys(cP);function uP(e){return"string"===typeof e&&dP.includes(e)}function hP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aP;return uP(e)?cP[e]:"function"===typeof e?e:aP}var pP=class extends NR{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation(e){let{xScale:t,yScale:i}=e;return{isContinuousX:lC.is(t),isContinuousY:lC.is(i),xScaleType:t?.type,yScaleType:i?.type}}getModulePropertyDefinitions(){const e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules((i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t})))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:o}=await e.request(this.id,t??[],i);return this.dataModel=n,this.processedData=o,this.dispatch("data-processed",{dataModel:n,processedData:o}),{dataModel:n,processedData:o}}isProcessedDataAnimatable(){const e=this.processedData?.reduced?.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(void 0===t||0===t.length)return;const i=this.computeFocusDatumIndex(e,t);if(void 0===i)return;const{showFocusBox:n}=this,o=t[i],a={...e,datumIndex:i},r=this.computeFocusBounds(a);return void 0!==r?{bounds:r,showFocusBox:n,datum:o,datumIndex:i}:void 0}computeFocusDatumIndex(e,t){const i=e=>{const{missing:i=!1,enabled:n=!0,focusable:o=!0}=t[e];return!i&&n&&o},n=e=>{for(;e>=0&&!i(e);)e--;return-1===e?void 0:e},o=e=>{for(;e<t.length&&!i(e);)e++;return e===t.length?void 0:e};let a;const r=Lk(0,e.datumIndex,t.length-1);return a=e.datumIndexDelta<0?n(r):e.datumIndexDelta>0?o(r):o(r)??n(r),void 0===a?0===e.datumIndexDelta?void 0:e.datumIndex-e.datumIndexDelta:a}},gP=class extends EC{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};pA([TC(nI,{optional:!0})],gP.prototype,"fill",2),pA([TC(UC,{optional:!0})],gP.prototype,"fillOpacity",2),pA([TC(nI,{optional:!0})],gP.prototype,"stroke",2),pA([TC(VC,{optional:!0})],gP.prototype,"strokeWidth",2),pA([TC(UC,{optional:!0})],gP.prototype,"strokeOpacity",2),pA([TC(pI,{optional:!0})],gP.prototype,"lineDash",2),pA([TC(VC,{optional:!0})],gP.prototype,"lineDashOffset",2);var fP=class extends EC{};pA([TC(VC,{optional:!0})],fP.prototype,"strokeWidth",2),pA([TC(UC,{optional:!0})],fP.prototype,"dimOpacity",2),pA([TC($C,{optional:!0})],fP.prototype,"enabled",2);var mP=class extends EC{constructor(){super(...arguments),this.color="black"}};pA([TC(nI,{optional:!0})],mP.prototype,"color",2);var yP=class extends EC{constructor(){super(...arguments),this.enabled=!0}};pA([TC($C,{optional:!0})],yP.prototype,"enabled",2);var vP=class extends EC{constructor(){super(...arguments),this.item=new gP,this.series=new fP,this.text=new mP}};pA([TC(jC)],vP.prototype,"item",2),pA([TC(jC)],vP.prototype,"series",2),pA([TC(jC)],vP.prototype,"text",2);var bP=class extends EC{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new yP,this.highlightStyle=new vP}};pA([TC(_C,{optional:!0})],bP.prototype,"id",2),pA([TC($C)],bP.prototype,"visible",2),pA([TC(WC,{optional:!0})],bP.prototype,"focusPriority",2),pA([TC($C)],bP.prototype,"showInLegend",2),pA([TC(_C)],bP.prototype,"cursor",2),pA([TC(AI)],bP.prototype,"nodeClickRange",2),pA([TC(jC)],bP.prototype,"highlight",2),pA([TC(jC)],bP.prototype,"highlightStyle",2);var xP={x:["xKey"],y:["yKey"]},SP={x:["xName"],y:["yName"]},MP=class extends IR{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},AP=class extends bP{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};pA([TC(_C,{optional:!0})],AP.prototype,"legendItemName",2),pA([TC($C,{optional:!0})],AP.prototype,"pickOutsideVisibleMinorAxis",2);var kP=class extends pP{constructor(e){let{pathsPerSeries:t=["path"],hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:o=[],datumSelectionGarbageCollection:a=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:s=!1,animationResetFns:l,directionKeys:c,directionNames:d,...u}=e;if(super({directionKeys:c,directionNames:d,canHaveAxes:!0,...u}),this.NodeEvent=MP,this.dataNodeGroup=this.contentGroup.appendChild(new DD({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new DD({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new OD({name:`${this.id}-series-labels`,zIndex:14,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=PD.select(this.labelGroup,pN),this.highlightSelection=PD.select(this.highlightNode,(()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory())),this.highlightLabelSelection=PD.select(this.highlightLabel,pN),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=RD.create(),!c||!d)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:o,directionKeys:c,directionNames:d,animationResetFns:l,animationAlwaysUpdateSelections:s,datumSelectionGarbageCollection:a,markerSelectionGarbageCollection:r},this.paths=[];for(let h=0;h<t.length;h++)this.paths[h]=new bL({name:`${this.id}-${t[h]}`}),this.paths[h].zIndex=4,this.paths[h].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",h),this.contentGroup.appendChild(this.paths[h]);this.datumSelection=PD.select(this.dataNodeGroup,(()=>this.nodeFactory()),a),this.markerSelection=PD.select(this.markerGroup,(()=>this.markerFactory()),r),this.animationState=new jN("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:e=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(e):this.animateWaitingUpdateReady(e)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:e=>this.resetAllAnimation(e),reset:"empty"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e?this.animationState.transition("skip"):"disabled"===e&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(e=>this.onLegendItemClick(e))),this.ctx.chartEventManager.addListener("legend-item-double-click",(e=>this.onLegendItemDoubleClick(e))))}destroy(){super.destroy(),this._contextNodeData=void 0}async update(e){let{seriesRect:t}=e;const{visible:i,_contextNodeData:n}=this,o=this.ctx.highlightManager?.getActiveHighlight()?.series,a=o===this,r=this.checkResize(t),s=await this.updateHighlightSelection(a);await this.updateSelections(i),await this.updateNodes(s,a,i);const l=this.getAnimationData(t,n);l&&(r&&this.animationState.transition("resize",l),this.animationState.transition("update",l))}async updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((e||!i)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=e)),this.minRectsCache.dirtyNodeData=!0;const{dataModel:i,processedData:n}=this;void 0!==i&&void 0!==n&&this.dispatch("data-update",{dataModel:i,processedData:n})}await this.updateSeriesSelections()}}async updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:n,paths:o}=this,a=this._contextNodeData;if(!a)return;const{nodeData:r,labelData:s,itemId:l}=a;await this.updatePaths({seriesHighlighted:e,itemId:l,contextData:a,paths:o}),this.datumSelection=await this.updateDatumSelection({nodeData:r,datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:s,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:r,markerSelection:n}))}markerFactory(){return new(hP())}getGroupZIndexSubOrder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=super.getGroupZIndexSubOrder(e,t);if("paths"===e){const[e]=i,n=this.opts.pathsZIndexSubOrderOffset[t]??0;i[0]=vw(e)?()=>Number(e())+n:Number(e)+n}return i}async updateNodes(e,t,i){const{highlightSelection:n,highlightLabelSelection:o,opts:{hasMarkers:a,hasHighlightedLabels:r}}=this,s=!this.ctx.animationManager.isSkipped(),l=this.visible&&null!=this._contextNodeData&&i;this.rootGroup.visible=s||l,this.contentGroup.visible=s||l,this.highlightGroup.visible=(s||l)&&t;const c=this.getOpacity();a?(await this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(await this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),r&&await this.updateLabelNodes({labelSelection:o});const{dataNodeGroup:d,markerGroup:u,datumSelection:h,labelSelection:p,markerSelection:g,paths:f,labelGroup:m}=this,{itemId:y}=this.contextNodeData??{};d.opacity=c,d.visible=s||l,m.visible=l,a&&(u.opacity=c,u.zIndex=d.zIndex>=4?d.zIndex:d.zIndex+1,u.visible=l),m&&(m.opacity=c),await this.updatePathNodes({seriesHighlighted:t,itemId:y,paths:f,opacity:c,visible:l,animationEnabled:s}),d.visible&&(await this.updateDatumNodes({datumSelection:h,highlightedItems:e,isHighlight:!1}),await this.updateLabelNodes({labelSelection:p}),a&&await this.updateMarkerNodes({markerSelection:g,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter((e=>e.datum===t.datum&&e.itemId===t.itemId));return 0===i.length?void 0:i}getHighlightData(e,t){return t?[t]:void 0}async updateHighlightSelection(e){const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const o=this.ctx.highlightManager?.getActiveHighlight(),a=e&&o?.datum?o:void 0;let r,s;if(null!=a){const e=this.isLabelEnabled(),{labelData:t,nodeData:i}=n;s=this.getHighlightData(i,a),r=e?this.getHighlightLabelData(t,a):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:s,highlightSelection:t}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:r,highlightLabelSelection:i}),s}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)!0!==e.datum.missing&&(yield e)}getQuadTree(){if(void 0===this.quadtree){const{width:e,height:t}=this.ctx.scene.canvas,i=new Vk(0,0,e,t);this.quadtree=new HR(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:i,y:n}=e,{opts:{hasMarkers:o}}=this;let a;const{dataNodeGroup:r,markerGroup:s}=this;if(a=r.pickNode(i,n),!a&&o&&(a=s?.pickNode(i,n)),a&&!0!==a.datum.missing)return{datum:a.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:t}=l.pickNodeExact(e)??{};if(null!=t&&!0!==t?.missing)return{datum:t,distance:0}}}pickNodeClosestDatum(e){const{x:t,y:i}=e,{axes:n,_contextNodeData:o}=this;if(!o)return;const a=n.x,r=n.y,s=t,l=i;let c,d=1/0;for(const u of o.nodeData){const{point:{x:e=NaN,y:t=NaN}={}}=u;if(isNaN(e)||isNaN(t))continue;if(!(a?.inRange(e)&&r?.inRange(t)))continue;const i=Math.max((s-e)**2+(l-t)**2,0);i<d&&(d=i,c=u)}for(const u of this.moduleMap.modules()){const t=u.pickNodeNearest(e);if(void 0!==t&&t.distanceSquared<d){d=t.distanceSquared,c=t.datum;break}}if(c){return{datum:c,distance:Math.max(Math.sqrt(d)-(c.point?.size??0),0)}}}pickNodeMainAxisFirst(e,t){const{x:i,y:n}=e,{axes:o,_contextNodeData:a}=this,{pickOutsideVisibleMinorAxis:r}=this.properties;if(!a)return;const s=o.x,l=o.y,c=[s,l].filter(oO.is).map((e=>e.direction));if(t&&0===c.length)return;const[d="x"]=c,u=[i,n];"x"!==d&&u.reverse();const h=[1/0,1/0];let p;for(const g of a.nodeData){const{x:e=NaN,y:t=NaN}=g.point??g.midPoint??{};if(isNaN(e)||isNaN(t)||!0===g.missing)continue;const i=[s?.inRange(e),l?.inRange(t)];if("x"!==d&&i.reverse(),!i[0]||!r&&!i[1])continue;const n=[e,t];"x"!==d&&n.reverse();let o=!0;for(let a=0;a<n.length;a++){const e=Math.abs(n[a]-u[a]);if(e>h[a]){o=!1;break}e<h[a]&&(h[a]=e,h.fill(1/0,a+1,h.length))}o&&(p=g)}if(p){let t=Math.max(h[0]**2+h[1]**2-(p.point?.size??0),0);for(const i of this.moduleMap.modules()){const n=i.pickNodeMainAxisFirst(e);if(void 0!==n&&n.distanceSquared<t){p=n.datum,t=n.distanceSquared;break}}return{datum:p,distance:Math.sqrt(t)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:o}=e,a=null!=t&&t===e.legendItemName;(o.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,{legendItemName:a}=this.properties,r=null!=a&&a===e.legendItemName;n.id===this.id||r||t&&1===o?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){const{dirtyNodeData:i,sizeCache:n,minRect:o,minVisibleRect:a}=this.minRectsCache,r=JSON.stringify({width:e,height:t});if(!(r!==n)&&!i&&o&&a)return{minRect:o,minVisibleRect:a};const s=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:r,minRect:s?.minRect,minVisibleRect:s?.minVisibleRect},s}computeMinRects(e,t){const i=this._contextNodeData;if(!i?.nodeData.length)return;const{nodeData:n}=i,o=Array(n.length),a=Array(n.length);for(const[m,{midPoint:y}]of n.entries())o[m]=y?.x??0,a[m]=y?.y??0;let r,s,l,c;o.sort(((e,t)=>e-t)),a.sort(((e,t)=>e-t));let d=0,u=0;for(let m=1;m<n.length;m++)o[m]>=0&&(r??(r=m)),o[m]>e&&(s??(s=m)),a[m]>=0&&(l??(l=m)),a[m]>t&&(c??(c=m)),d=Math.max(d,o[m]-o[m-1]),u=Math.max(u,a[m]-a[m-1]);s??(s=n.length),c??(c=n.length);const h=null!=r&&null!=s?o.slice(r,s):[],p=null!=l&&null!=c?a.slice(l,c):[];let g=0,f=0;for(let m=1;m<Math.max(h.length,p.length);m++){const e=h[m],t=h[m-1],i=p[m],n=p[m-1];null!=e&&null!=t&&(g=Math.max(g,e-t)),null!=i&&null!=n&&(f=Math.max(f,i-n))}return{minRect:new Vk(0,0,d,u),minVisibleRect:new Vk(0,0,g,f)}}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,o=i??[];if(t){const e=n;return this.updateMarkerSelection({nodeData:o,markerSelection:e})}return this.updateDatumSelection({nodeData:o,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}async updateDatumSelection(e){return e.datumSelection}async updateDatumNodes(e){}async updateMarkerSelection(e){return e.markerSelection}async updateMarkerNodes(e){}async updatePaths(e){e.paths.forEach((e=>e.visible=!1))}async updatePathNodes(e){const{paths:t,opacity:i,visible:n}=e;for(const o of t)o.opacity=i,o.visible=n}resetPathAnimation(e){const{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach((e=>{PI([e],t)}))}resetDatumAnimation(e){const{datum:t}=this.opts?.animationResetFns??{};t&&PI([e.datumSelection],t)}resetLabelAnimation(e){const{label:t}=this.opts?.animationResetFns??{};t&&PI([e.labelSelection],t)}resetMarkerAnimation(e){const{marker:t}=this.opts?.animationResetFns??{};t&&this.opts.hasMarkers&&PI([e.markerSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),!1===e.contextData?.animationValid&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const{datum:t}=this.opts?.animationResetFns??{};t&&PI([e],t)}animateReadyHighlightMarkers(e){const{marker:t}=this.opts?.animationResetFns??{};t&&PI([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){const e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){const{_contextNodeData:i}=this;if(!i)return;return{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}}calculateScaling(){const e={};for(const t of Object.values(LI)){const i=this.axes[t];if(i)if(i.scale instanceof rD){const{range:n,domain:o}=i.scale;e[t]={type:"log",convert:e=>i.scale.convert(e),domain:[o[0],o[1]],range:[n[0],n[1]]}}else if(i.scale instanceof lC){const{range:n}=i.scale,o=i.scale.getDomain();e[t]={type:"continuous",domain:[o[0],o[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;e[t]={type:"category",domain:n,range:n.map((e=>i.scale.convert(e)))}}}return e}},wP=["top","right","bottom","left"],CP=class extends _R{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this.lastUpdateClipRect=void 0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){super.onAxisChange(e,t),this.ctx?.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this;t.setClipRect(e),n.setClipRect(e),i.setClipRect(e)}performLayout(e){const{firstSeriesTranslation:t,seriesRoot:i,annotationRoot:n,highlightRoot:o}=this,{seriesRect:a,visibility:r,clipSeries:s}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=r.series,this.seriesRect=a,this.animationRect=e.layoutBox;const{x:l,y:c}=a;if(t){for(const e of[i,n,o])e.translationX=Math.floor(l),e.translationY=Math.floor(c);this.firstSeriesTranslation=!1}else{const{translationX:e,translationY:t}=i;oC(this.id,"seriesRect",this.ctx.animationManager,[i,o,n],{translationX:e,translationY:t},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const d=a.clone().grow(this.seriesArea.padding),u=this.seriesArea.clip||s?d:void 0,{lastUpdateClipRect:h}=this;this.lastUpdateClipRect=u,this.ctx.animationManager.isActive()&&null!=h?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:h,to:d,onUpdate:e=>this.setRootClipRects(e),onComplete:()=>this.setRootClipRects(u)}):this.setRootClipRects(u),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map((e=>e.getLayoutState())),series:{rect:a,paddedRect:d,visible:r.series,shouldFlipXY:this.shouldFlipXY()},clipSeries:s})}updateAxes(e){const t=this.axes.flatMap((e=>e.crossLines??[])).map((e=>e.id));let i,n,o;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===t.length&&this._lastCrossLineIds.every(((e,i)=>t[i]===e))?(i=new Map(this._lastAxisAreaWidths.entries()),n=this._lastClipSeries,o={...this._lastVisibility}):(i=new Map,n=!1,o={crossLines:!0,series:!0},this._lastCrossLineIds=t);const a=new Set(this.axes.map((e=>e.position)));for(const p of i.keys())a.has(p)||i.delete(p);const r=(e,t,a)=>{if([...e.keys()].some((e=>!i.has(e))))return!1;if(o.crossLines!==a.crossLines||o.series!==a.series||n!==t)return!1;for(const[n,o]of i.entries()){const t=e.get(n);if((null!=o||null!=t)&&o!==t)return!1}return!0},s=e=>{for(const[t,i]of e.entries())i&&Math.abs(i)===1/0?e.set(t,0):e.set(t,null!=i?Math.ceil(i):i);return e};let l=new Map,c={},d=!1,u=this.seriesRect?.clone(),h=0;do{i=new Map(l.entries()),n=d,Object.assign(o,c);const t=this.updateAxesPass(i,e.clone(),u);if(l=s(t.axisAreaWidths),c=t.visibility,d=t.clipSeries,({seriesRect:u}=t),h++>10){MA.warn("unable to find stable axis layout.");break}}while(!r(l,d,c));this.axes.forEach((e=>{e.update()}));return this.axes.forEach((t=>{if(t.setCrossLinesVisible(o.crossLines),u)switch(t.clipGrid(u.x,u.y,u.width+5,u.height+5),t.position){case"left":case"right":t.clipTickLines(e.x,u.y,e.width+5,u.height+5);break;case"top":case"bottom":t.clipTickLines(u.x,e.y,u.width+5,e.height+5)}})),this._lastAxisAreaWidths=i,this._lastVisibility=o,this._lastClipSeries=n,{seriesRect:u,visibility:o,clipSeries:n}}updateAxesPass(e,t,i){const n=new Map,o=new Map,a={series:!0,crossLines:!0};let r=!1;const s={},l=this.applySeriesPadding(t),c=i?this.buildCrossLinePadding(e):{},d=this.buildAxisBound(l,e,c,a),u=this.buildSeriesRect(d,e);for(const g of this.axes){const{position:e="left"}=g,{clipSeries:t,axisThickness:i}=this.calculateAxisDimensions({axis:g,seriesRect:u,primaryTickCounts:s,clipSeries:r});n.set(g.id,i),o.has(e)||o.set(e,[]),o.get(e)?.push(g),r=r||t}const h=new Map,p=new Map;for(const[g,f]of o.entries()){const e="left"===g||"right"===g;h.set(g,this.calculateAxisArea(f,n,p,e))}for(const[g,f]of o.entries())this.positionAxes({axes:f,position:g,axisWidths:n,axisOffsets:p,axisAreaWidths:h,axisBound:d,seriesRect:u});return{clipSeries:r,seriesRect:u,axisAreaWidths:h,visibility:a}}buildCrossLinePadding(e){const t={};this.axes.forEach((e=>{e.crossLines?.forEach((e=>{e.calculatePadding?.(t)}))}));for(const[i,n=0]of Object.entries(t))t[i]=Math.max(n-(e.get(i)??0),0);return t}applySeriesPadding(e){const t=e.clone();return wP.forEach((e=>{const i=this.seriesArea.padding[e],n=this.axes.findLast((t=>t.position===e));n?n.seriesAreaPadding=i:t.shrink(i,e)})),t}buildAxisBound(e,t,i,n){const o=e.clone(),{top:a=0,right:r=0,bottom:s=0,left:l=0}=i,c=l+r,d=a+s,u=(t.get("left")??0)+(t.get("right")??0)+c,h=(t.get("top")??0)+(t.get("bottom")??0)+d;return o.width<=u||o.height<=h?(n.crossLines=!1,n.series=!1,o):(o.x+=l,o.y+=a,o.width-=c,o.height-=d,o)}buildSeriesRect(e,t){const i=e.clone();return i.x+=t.get("left")??0,i.y+=t.get("top")??0,i.width-=(t.get("left")??0)+(t.get("right")??0),i.height-=(t.get("top")??0)+(t.get("bottom")??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(e,t,i,n){const{x:o,y:a,width:r,height:s}=e,l=[o,a,o+r,a+s][("x"===i?0:1)+(1===n?0:2)];return(1===n?Math.min:Math.max)(t,l)}calculateAxisDimensions(e){const{axis:t,seriesRect:i,primaryTickCounts:n}=e;let{clipSeries:o}=e;const{position:a="left",direction:r}=t;this.sizeAxis(t,i,a);const s=this.getSyncedDomain(t),l=t.calculateLayout(s,t.nice?n[r]:void 0),c="y"===r;let d;return n[r]??(n[r]=l.primaryTickCount),o||(o=t.dataDomain.clipped||t.visibleRange[0]>0||t.visibleRange[1]<1),d=null!=t.thickness&&t.thickness>0?t.thickness:c?l.bbox.width:l.bbox.height,d=Math.ceil(d),{clipSeries:o,axisThickness:d}}getSyncedDomain(e){const t=this.modulesManager.getModule("sync");if(!t?.enabled)return;const i=t.getSyncedDomain(e);if(i&&e.dataDomain.domain.length){let n;const{domain:o}=e.scale;if(lC.is(e.scale)){const[e,t]=Rk(i);n=e!==o[0]||t!==o[1]}else n=!uC(i,o);n&&!this.skipSync&&t.updateSiblings()}return i}sizeAxis(e,t,i){const n=e instanceof oO||e instanceof mO,o="left"===i||"right"===i;let{min:a,max:r}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:s,height:l}=t,c=o?l:s;let d=0,u=c;const{width:h,unit:p,align:g}=e.layoutConstraints;u="px"===p?d+h:u*h/100,"end"===g&&(d=c-(u-d),u=c),n&&o?[a,r]=[1-r,1-a]:o&&([d,u]=[u,d]),e.range=[d,u],e.visibleRange=[a,r],e.gridLength=o?s:l}calculateAxisArea(e,t,i,n){const{width:o,height:a,canvas:r}=this.ctx.scene;let s=n?a%r.pixelRatio:o%r.pixelRatio,l=0;for(const c of e){i.set(c.id,s);const e=t.get(c.id)??0;l=Math.max(l,s+e),c.layoutConstraints.stacked&&(s+=e+15)}return l}positionAxes(e){const{axes:t,axisBound:i,axisWidths:n,axisOffsets:o,axisAreaWidths:a,seriesRect:r,position:s}=e,l=a.get(s)??0;let c="x",d="y",u=1,h=0;"top"!==s&&"bottom"!==s||(c="y",d="x",h+=1),h+=i[c],"right"!==s&&"bottom"!==s||(u=-1,h+="x"===c?i.width:i.height);for(const p of t){const e=a.get("x"===d?"left":"top")??0;p.translation[d]=i[d]+e;const t=n.get(p.id)??0,s=o.get(p.id)??0;p.translation[c]=this.clampToOutsideSeriesRect(r,h+u*(s+t),c,u),p.gridPadding=l-s-t,p.updatePosition()}}shouldFlipXY(){return this.series.every((e=>e instanceof kP&&e.shouldFlipXY()))}};CP.className="CartesianChart",CP.type="cartesian";var IP=class e{constructor(e,t,i){this.factoryApi=t,this.licenseManager=i,this.chart=e}static isInstance(t){return t instanceof e||("AgChartInstanceProxy"===t.constructor?.name&&null!=t.chart||null!=t.chart&&this.validateImplementation(t))}static validateImplementation(e){const t=Object.keys(Object.getPrototypeOf(e)??{});return["getOptions","destroy"].every((e=>t.includes(e)))}async update(e){this.factoryApi.update(e,this),await this.chart.waitForUpdate()}async updateDelta(e){this.factoryApi.updateUserDelta(this,e),await this.chart.waitForUpdate()}getOptions(){const e=AN(this.chart.getOptions());for(const t in e)t.startsWith("_")&&delete e[t];return e}waitForUpdate(){return this.chart.waitForUpdate()}async download(e){const t=await this.prepareResizedChart(this,e);try{t.chart.download(e?.fileName,e?.fileFormat)}finally{t.destroy()}}async __toSVG(e){const t=await this.prepareResizedChart(this,{width:600,height:300,...e});try{return t.chart.toSVG()}finally{t.destroy()}}async getImageDataURL(e){const t=await this.prepareResizedChart(this,e);try{return t.chart.getCanvasDataURL(e?.fileFormat)}finally{t.destroy()}}getState(){const{factoryApi:{caretaker:e},chart:{ctx:{annotationManager:t}}}=this;return e.save(t)}async setState(e){const{factoryApi:{caretaker:t},chart:{ctx:{annotationManager:i}}}=this;t.restore(e,i),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}async prepareResizedChart(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chart:i}=e,n=t.width??i.width??i.ctx.scene.canvas.width,o=t.height??i.height??i.ctx.scene.canvas.height,a=e.getState(),r=bO.hasEnterpriseModules(),s={...i.chartOptions.processedOverrides,container:document.createElement("div"),width:n,height:o},l=i.getOptions();r&&(s.animation={enabled:!1},gR(l)&&(s.toolbar={enabled:!1}),this.licenseManager?.isDisplayWatermark()&&(s.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const c={...i.chartOptions.specialOverrides},d={...i.chartOptions.optionMetadata};null!=t.width&&null!=t.height&&(c.overrideDevicePixelRatio=1);const u=await this.factoryApi.create(l,s,c,d);return await u.setState(a),u.chart.ctx.zoomManager.updateZoom("chartProxy",i.ctx.zoomManager.getZoom()),i.series.forEach(((e,t)=>{e.visible||(u.chart.series[t].visible=!1)})),u.chart.update(0,{forceNodeDataRefresh:!0}),await u.waitForUpdate(),u}};IP.chartInstances=new WeakMap,pA([LN({oldValue(e){e.destroyed||(e.publicApi=void 0),IP.chartInstances.delete(e)},newValue(e){e.publicApi=this,IP.chartInstances.set(e,this)}})],IP.prototype,"chart",2);var DP=IP,NP=class extends yO{constructor(e){super(),this.ctx=e,this.localeText=void 0}};pA([TN((e=>{e.ctx.localeManager.setLocaleText(e.localeText)})),TC(BC,{optional:!0})],NP.prototype,"localeText",2),pA([TN((e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)})),TC(FC,{optional:!0})],NP.prototype,"getLocaleText",2);var EP={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new NP(e)},OP=class extends lC{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){const e=this.tickCount??lC.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();const[t,i]=this.getDomain();if(this.interval){const e=Math.abs(this.interval);if(!oD((i-t)/e,this.getPixelRange()))return nD(t,i,e)}return QI(t,i,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){return this.interval??eD(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const e=this.tickCount;if(e<1)return void(this.niceDomain=[...this.domain]);let[t,i]=this.domain;if(1===e)[t,i]=function(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let o=1/0,a=[e,t];for(const r of ZI){const s=r*n,l=Math.floor(e/s)*s,c=Math.ceil(t/s)*s,d=1-i/Math.abs(c-l);o>d&&(o=d,a=[l,c])}return a}(t,i);else{const e=t>i?Math.ceil:Math.floor,n=i<t?Math.floor:Math.ceil,o=4;for(let a=0;a<o;a++){const o=t,a=i,r=this.getTickStep(t,i),[s,l]=this.domain;if(r>=1)t=e(s/r)*r,i=n(l/r)*r;else{const o=1/r;t=e(s*o)/o,i=n(l*o)/o}if(t===o&&i===a)break}}this.niceDomain=[t,i]}tickFormat(e){let{ticks:t,specifier:i}=e;return iD(t??this.ticks(),i)}};function LP(e,t,i){let[n,o]=Rk(e);n=function(e,t,i){const n=Math.abs(t-e)/(i-1),o=Math.floor(Math.log10(n)),a=Math.pow(10,o);return Math.floor(e/a)*a}(Math.floor(n),o,t);const a=function(e,t,i){const n=i-1,o=(t-e)/n;return function(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;if(n>0&&n<=1)return i/10;if(n>1&&n<=2)return 2*i/10;if(n>1&&n<=5)return 5*i/10;if(n>5&&n<=10)return 10*i/10;if(n>10&&n<=20)return 20*i/10;if(n>20&&n<=40)return 40*i/10;if(n>40&&n<=50)return 50*i/10;if(n>50&&n<=100)return 100*i/10;return n}(o)}(n,o,t);o=n+(t-1)*a;const r=i?[o,n]:[n,o],s=function(e,t,i){const n=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(n):0,a=Math.pow(10,o),r=[];for(let s=0;s<i;s++){const i=e+t*s;r[s]=Math.round(i*a)/a}return r}(n,a,t);return{domain:r,ticks:s}}var TP=class extends iO{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new OP),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:o}=dC(e,t,i);return{domain:n,clipped:o}}updateSecondaryAxisTicks(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:t,ticks:i}=LP(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),i}};TP.className="NumberAxis",TP.type="number",pA([TC(PC(YC,QC("max"))),zE(NaN)],TP.prototype,"min",2),pA([TC(PC(YC,JC("min"))),zE(NaN)],TP.prototype,"max",2);var RP=DI((e=>Aw(e)&&0!==e),"a non-zero number"),PP=class extends TP{constructor(e){super(e,new rD),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:o}=dC(e,t,i),a=n[0]>n[1],r=n[0]<0&&n[1]>0,s=0===n[0]&&0===n[1];return(a||r||s)&&(r?MA.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&MA.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:o}}set base(e){this.scale.base=e}get base(){return this.scale.base}};PP.className="LogAxis",PP.type="log",pA([TC(PC(YC,RP,QC("max"))),zE(NaN)],PP.prototype,"min",2),pA([TC(PC(YC,RP,JC("min"))),zE(NaN)],PP.prototype,"max",2);var zP=class extends iO{constructor(e){super(e,new sD),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:i}=this,n=!1;return"number"===typeof t&&(t=new Date(t)),"number"===typeof i&&(i=new Date(i)),e.length>2&&(e=cC(e)?.map((e=>new Date(e)))??[]),t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:i,formatOffset:1}))}};zP.className="TimeAxis",zP.type="time",pA([TC(PC(tI,QC("max")),{optional:!0})],zP.prototype,"min",2),pA([TC(PC(tI,JC("min")),{optional:!0})],zP.prototype,"max",2);var jP=(e,t,i,n)=>{let{x0:o,y0:a,x1:r,y1:s,cx:l,cy:c}=t;if(n&&e.moveTo(o,a),o!==r||a!==s){const t=Math.atan2(a-c,o-l),n=Math.atan2(s-c,r-l);e.arc(l,c,i,t,n)}else e.lineTo(o,a)},BP=1e-6,$P=(e,t,i,n,o)=>{let a=!1,r=!1,s=n-Math.sqrt(Math.max(o**2-i**2,0)),l=0,c=0,d=i-Math.sqrt(Math.max(o**2-n**2,0));return s>e?(a=!0,s=e,l=i-Math.sqrt(Math.max(o**2-(n-e)**2))):s<BP&&(s=0),d>t?(r=!0,c=n-Math.sqrt(Math.max(o**2-(i-t)**2)),d=t):d<BP&&(d=0),{leading0:s,leading1:l,trailing0:c,trailing1:d,leadingClipped:a,trailingClipped:r}},FP=(e,t,i,n,o,a,r)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:d}=a;const u=Math.max(s+d,l+c),h=Math.max(s+l,d+c);if(u<=0&&h<=0)return void(null==r?e.rect(t,i,n,o):e.rect(r.x,r.y,r.width,r.height));if(null==r&&s===l&&s===c&&s===d)return void e.roundRect(t,i,n,o,s);if(n<0&&(t+=n,n=Math.abs(n)),o<0&&(i+=o,o=Math.abs(o)),n<=0||o<=0)return;if(null==r)r=new Vk(t,i,n,o);else{const e=Math.max(t,r.x),a=Math.min(t+n,r.x+r.width),s=Math.max(i,r.y),l=Math.min(i+o,r.y+r.height);r=new Vk(e,s,a-e,l-s)}const p=Math.max(u/o,h/n,1);p>1&&(s/=p,l/=p,c/=p,d/=p);let g,f,m,y,v=!0,b=!0,x=!0,S=!0;if(v){const e=$P(r.height,r.width,Math.max(t+s-r.x,0),Math.max(i+s-r.y,0),s);e.leadingClipped&&(S=!1),e.trailingClipped&&(b=!1);g={x0:Math.max(r.x+e.leading1,r.x),y0:Math.max(r.y+e.leading0,r.y),x1:Math.max(r.x+e.trailing1,r.x),y1:Math.max(r.y+e.trailing0,r.y),cx:t+s,cy:i+s}}if(b){const e=$P(r.width,r.height,Math.max(i+l-r.y,0),Math.max(r.x+r.width-(t+n-l),0),l);e.leadingClipped&&(v=!1),e.trailingClipped&&(x=!1);f={x0:Math.min(r.x+r.width-e.leading0,r.x+r.width),y0:Math.max(r.y+e.leading1,r.y),x1:Math.min(r.x+r.width-e.trailing0,r.x+r.width),y1:Math.max(r.y+e.trailing1,r.y),cx:t+n-l,cy:i+l}}if(x){const e=$P(r.height,r.width,Math.max(r.x+r.width-(t+n-c),0),Math.max(r.y+r.height-(i+o-c),0),c);e.leadingClipped&&(b=!1),e.trailingClipped&&(S=!1);m={x0:Math.min(r.x+r.width-e.leading1,r.x+r.width),y0:Math.min(r.y+r.height-e.leading0,r.y+r.height),x1:Math.min(r.x+r.width-e.trailing1,r.x+r.width),y1:Math.min(r.y+r.height-e.trailing0,r.y+r.height),cx:t+n-c,cy:i+o-c}}if(S){const e=$P(r.width,r.height,Math.max(r.y+r.height-(i+o-d),0),Math.max(t+d-r.x,0),d);e.leadingClipped&&(x=!1),e.trailingClipped&&(v=!1);y={x0:Math.max(r.x+e.leading0,r.x),y0:Math.min(r.y+r.height-e.leading1,r.y+r.height),x1:Math.max(r.x+e.trailing0,r.x),y1:Math.min(r.y+r.height-e.trailing1,r.y+r.height),cx:t+d,cy:i+o-d}}let M=!1;v&&null!=g&&(jP(e,g,s,!M),M||(M=!0)),b&&null!=f&&(jP(e,f,l,!M),M||(M=!0)),x&&null!=m&&(jP(e,m,c,!M),M||(M=!0)),S&&null!=y&&(jP(e,y,d,!M),M||(M=!0)),e.closePath()},_P=class extends bL{constructor(){super(...arguments),this.borderPath=new yL,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=aN.defaultStyles.strokeWidth,this.effectiveStrokeWidth=aN.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:o,bottomRightCornerRadius:a,bottomLeftCornerRadius:r}=this;let{x:s,y:l,width:c,height:d,strokeWidth:u,clipBBox:h}=this;const p=1/(this.layerManager?.canvas.pixelRatio??1);let g=1;if(e.clear(!0),t.clear(!0),i&&(c<=p&&(g*=c/p),d<=p&&(g*=d/p),c=this.align(s,c),d=this.align(l,d),s=this.align(s),l=this.align(l),h=null!=h?new Vk(this.align(h.x),this.align(h.y),this.align(h.x,h.width),this.align(h.y,h.height)):void 0),u)if(c<p){const e=s+p/2;t.moveTo(e,l),t.lineTo(e,l+d),u=p,this.borderClipPath=void 0}else if(d<p){const e=l+p/2;t.moveTo(s,e),t.lineTo(s+c,e),u=p,this.borderClipPath=void 0}else if(u<c&&u<d){const i=u/2;s+=i,l+=i,c-=u,d-=u;const p=h?.clone().shrink(i),g={topLeft:n>0?n-u:0,topRight:o>0?o-u:0,bottomRight:a>0?a-u:0,bottomLeft:r>0?r-u:0};this.borderClipPath=void 0,c>0&&d>0&&(null==p||p?.width>0&&p?.height>0)&&(FP(e,s,l,c,d,g,p),FP(t,s,l,c,d,g,p))}else this.borderClipPath=this.borderClipPath??new yL,this.borderClipPath.clear(!0),this.borderClipPath.rect(s,l,c,d),t.rect(s,l,c,d);else{const t={topLeft:n,topRight:o,bottomRight:a,bottomLeft:r};this.borderClipPath=void 0,FP(e,s,l,c,d,t,h)}if([n,o,a,r].every((e=>0===e))){const e=this.getBBox();this.hittester=e.containsPoint.bind(e),this.distanceSquared=(e,t)=>this.getBBox().distanceSquared(e,t)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=u,this.lastUpdatePathStrokeWidth=u,this.microPixelEffectOpacity=g}computeBBox(){const{x:e,y:t,width:i,height:n,clipBBox:o}=this;return o?.clone()??new Vk(e,t,i,n)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:n}=this;e.globalAlpha*=n*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:n}=e,{strokeOpacity:o,lineDash:a,lineDashOffset:r,lineCap:s,lineJoin:l,borderPath:c,borderClipPath:d,opacity:u,microPixelEffectOpacity:h}=this;d&&e.clip(d.getPath2D()),e.strokeStyle=t,e.globalAlpha*=u*o*h,e.lineWidth=i,a&&e.setLineDash(a),r&&(e.lineDashOffset=r),s&&(e.lineCap=s),l&&(e.lineJoin=l),e.stroke(c.getPath2D()),e.globalAlpha=n}}};_P.className="Rect",pA([vL()],_P.prototype,"x",2),pA([vL()],_P.prototype,"y",2),pA([vL()],_P.prototype,"width",2),pA([vL()],_P.prototype,"height",2),pA([vL()],_P.prototype,"topLeftCornerRadius",2),pA([vL()],_P.prototype,"topRightCornerRadius",2),pA([vL()],_P.prototype,"bottomRightCornerRadius",2),pA([vL()],_P.prototype,"bottomLeftCornerRadius",2),pA([vL()],_P.prototype,"clipBBox",2),pA([vL()],_P.prototype,"crisp",2);var HP=class extends yO{constructor(e){super(),this.ctx=e,this.rectNode=new _P,this.textNode=new pN,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",(e=>this.onLayoutComplete(e))))}createNode(){return new DD({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};pA([TC($C),ON("node","visible")],HP.prototype,"visible",2),pA([TC(nI,{optional:!0}),ON("rectNode","fill")],HP.prototype,"fill",2),pA([TC(jC,{optional:!0})],HP.prototype,"image",2),pA([TC(_C,{optional:!0}),ON("textNode")],HP.prototype,"text",2);var WP={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new HP(e)};function GP(e){let{orientation:t,bboxes:i,maxHeight:n,maxWidth:o,itemPaddingY:a=0,itemPaddingX:r=0,forceResult:s=!1}=e;const l="horizontal"===t,c={max:l?o:n,fn:l?e=>e.width:e=>e.height,padding:l?r:a},d={max:l?n:o,fn:l?e=>e.height:e=>e.width,padding:l?a:r};let u=0;const h=[];for(;u<i.length;){const e=VP(i.slice(u),u,c,d,s);if(!e)return;u+=e.processedBBoxCount,h.push(e.pageIndices)}return function(e,t,i,n,o){let a=0,r=0;const s=e.map((e=>{"horizontal"===t&&(e=function(e){const t=[];for(const i of e[0])t.push([]);return e.forEach(((e,i)=>{e.forEach(((e,n)=>{t[n][i]=e}))})),t}(e));let s=0;const l=e.map((e=>{const t=e.map((e=>(s=Math.max(e,s),i[e])));let a=0,r=0;return t.forEach((e=>{a+=e.height+n,r=Math.max(r,e.width+o)})),{indices:e,bboxes:t,columnHeight:Math.ceil(a),columnWidth:Math.ceil(r)}}));let c=0,d=0;return l.forEach((e=>{c+=e.columnWidth,d=Math.max(d,e.columnHeight)})),a=Math.max(c,a),r=Math.max(d,r),{columns:l,startIndex:e[0][0],endIndex:s,pageWidth:c,pageHeight:d}}));return{pages:s,maxPageWidth:a,maxPageHeight:r}}(h,t,i,a,r)}function VP(e,t,i,n,o){let a=function(e,t){const i=e.length;let n=0;for(let o=0;o<i;o++)if(n+=t.fn(e[o])+t.padding,n>t.max){return i/o<2?Math.ceil(i/2):o}return i}(e,i);if(a<1){if(!o)return;a=1}let r=a;for(;r>=1;){const a=UP(e,t,r,i,n,o);if(null==a&&r<=1)return;if(null==a){r--;continue}if("number"===typeof a){if(a<=1)return;r=a<r&&a>1?a:r,r--;continue}return{processedBBoxCount:a.length*a[0].length,pageIndices:a}}}function UP(e,t,i,n,o,a){const r=[];let s=0,l=0,c=[];const d=[];for(let u=0;u<e.length;u++){const h=(u+i)%i;0===h&&(s+=l,l=0,c.length>0&&r.push(c),c=[]);const p=n.fn(e[u])+n.padding;d[h]=Math.max(d[h]??0,p),l=Math.max(l,o.fn(e[u])+o.padding);const g=s+l,f=!a||r.length>0;if(g>o.max&&f){c=[];break}if(d.reduce(((e,t)=>e+t),0)>n.max&&!a)return d.length<i?d.length:void 0;c.push(u+t)}return c.length>0&&r.push(c),r.length>0?r:void 0}var KP=class extends qk{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(e,t,i,n){this.sourceImage=e,this.width=e.width/t,this.height=e.height/t,this.x=i/t,this.y=n/t,this.markDirty(3)}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);const o=this.sourceImage;o&&(t.globalAlpha=this.opacity,t.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),super.render(e))}};pA([Kk({redraw:3})],KP.prototype,"x",2),pA([Kk({redraw:3})],KP.prototype,"y",2),pA([Kk({redraw:3})],KP.prototype,"width",2),pA([Kk({redraw:3})],KP.prototype,"height",2),pA([Kk({redraw:3})],KP.prototype,"opacity",2);var YP=class extends(wD(DD)){constructor(){super({name:"markerLabelGroup"}),this.label=new pN,this.symbolsGroup=new DD({name:"legend-markerLabel-symbols"}),this.bitmap=new KP,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:e,label:t,lines:i}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.updateSymbols(e,i),this.append([this.symbolsGroup,t])}destroy(){super.destroy(),this.destroyProxyButton()}destroyProxyButton(){this.proxyButton?.button.remove(),this.proxyButton?.listitem.remove(),this.proxyButton=void 0}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(e,t){uC(this._markers,e)&&uC(this._lines,t)||(this.bitmapDirty=!0,this._markers=e,this._lines=t,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...t,...e]))}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e,this.bitmap.opacity=e,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(e){const{lines:t,markers:i}=this;[t,i].forEach((t=>t.forEach((t=>t.visible=!e)))),this.bitmap.visible=e}update(e,t,i){let{spriteAAPadding:n,spritePixelRatio:o}=t;const{markers:a,lines:r}=this;let s=0,l=0,c=0;for(let v=0;v<Math.max(a.length,r.length);v++){const{length:e,spacing:t,isCustomMarker:n}=i[v]??0,o=a[v],d=r[v],u=o?.size??0;let h=1/0,p=1/0,g=1/0,f=1/0,m=1/0;if(o){const t=o.constructor.center,i=(u+o.strokeWidth)/2;n?(o.x=0,o.y=0,o.translationX=(t.x-.5)*u+e/2+c,o.translationY=(t.y-.5)*u,f=o.translationY-i,m=o.translationX-i):(o.x=(t.x-.5)*u+e/2+c,o.y=(t.y-.5)*u,f=o.y-i,m=o.x-i)}d&&(d.x1=c,d.x2=c+e,d.y1=0,d.y2=0,d.markDirty(3),h=-d.strokeWidth/2,p=d.x1,g=d.x2),c+=t+Math.max(e,u),s=Math.min(s,p,g,m),l=Math.min(l,h,f)}const d=i.at(-1),u=this.lines.at(-1),h=this.markers.at(-1),p=u?u.x2:-1/0,g=(h?.x??0)+(h?.size??0)/2;if(this.label.x=Math.max(p,g)+(d?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);const t=(n+s)*o,i=(n-l)*o,a=e.renderSprite(this.symbolsGroup,{scale:o,translateX:Math.floor(t),translateY:Math.floor(i)});this.bitmap.updateBitmap(a,o,Math.ceil(-t),Math.ceil(-i)),this.bitmapDirty=!1,this.refreshVisibilities()}if(i.length<2)return;const f=this.symbolsGroup.getBBox(),m=Math.max(h?.size??0,d?.length??0),y=new Vk(f.x+m/2,f.y,m,f.height);this.symbolsGroup.setClipRect(y)}computeBBox(){const{label:e,lines:t,markers:i}=this;return this.toParent(DD.computeChildrenBBox(gk([e],t,i),!1))}};YP.className="MarkerLabel",pA([ON("label")],YP.prototype,"text",2),pA([ON("label")],YP.prototype,"fontStyle",2),pA([ON("label")],YP.prototype,"fontWeight",2),pA([ON("label")],YP.prototype,"fontSize",2),pA([ON("label")],YP.prototype,"fontFamily",2),pA([ON("label","fill")],YP.prototype,"color",2);var XP=class extends EC{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};pA([TC(nI)],XP.prototype,"color",2),pA([TC(fI,{optional:!0})],XP.prototype,"fontStyle",2),pA([TC(mI,{optional:!0})],XP.prototype,"fontWeight",2),pA([TC(VC)],XP.prototype,"fontSize",2),pA([TC(_C)],XP.prototype,"fontFamily",2);var ZP=class extends EC{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};pA([TC(VC)],ZP.prototype,"size",2),pA([TC(nI,{optional:!0})],ZP.prototype,"fill",2),pA([TC(UC,{optional:!0})],ZP.prototype,"fillOpacity",2),pA([TC(nI,{optional:!0})],ZP.prototype,"stroke",2),pA([TC(VC)],ZP.prototype,"strokeWidth",2),pA([TC(UC)],ZP.prototype,"strokeOpacity",2);var qP=class extends EC{constructor(e){super(),this.parent=e,this.shape=lP,this.size=15,this.padding=8}};pA([LN({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],qP.prototype,"shape",2),pA([TC(VC)],qP.prototype,"size",2),pA([TC(VC)],qP.prototype,"padding",2);var QP=class extends EC{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=hk(this),this.marker=new qP(this),this.activeStyle=new ZP,this.inactiveStyle=new ZP,this.highlightStyle=new ZP,this.label=new XP,this.group=new OD({name:"pagination"}),this.labelNode=new pN,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new lP,this._previousButton=new lP,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach((e=>e()))}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){if(this._orientation=e,"horizontal"===e)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+2*(this.marker.size/2+this.marker.padding)}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:o,fontWeight:a,fontSize:r,fontFamily:s}}=this;i.text=`${e+1} / ${t}`,i.fill=n,i.fontStyle=o,i.fontWeight=a,i.fontSize=r,i.fontFamily=s}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:o,inactiveStyle:a,highlightStyle:r,highlightActive:s}=this,l=(e,t)=>t?a:e===s?r:o;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",n))}updateMarker(e,t){const{size:i}=this.marker;e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=0===t,n=e===t-1,o=0===e;this.nextButtonDisabled=n||i,this.previousButtonDisabled=o||i}setPage(e){e=Lk(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),"next"!==t||this.nextButtonDisabled?"previous"!==t||this.previousButtonDisabled||(this.decrementPage(),this.onPaginationChanged()):(this.incrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=AD(hP(this.marker.shape||lP));this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){return{prev:CD.toCanvas(this.previousButton),next:CD.toCanvas(this.nextButton)}}};QP.className="Pagination",pA([TC(jC)],QP.prototype,"marker",2),pA([TC(jC)],QP.prototype,"activeStyle",2),pA([TC(jC)],QP.prototype,"inactiveStyle",2),pA([TC(jC)],QP.prototype,"highlightStyle",2),pA([TC(jC)],QP.prototype,"label",2);var JP=class extends EC{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};pA([TC(VC,{optional:!0})],JP.prototype,"maxLength",2),pA([TC(nI)],JP.prototype,"color",2),pA([TC(fI,{optional:!0})],JP.prototype,"fontStyle",2),pA([TC(mI,{optional:!0})],JP.prototype,"fontWeight",2),pA([TC(VC)],JP.prototype,"fontSize",2),pA([TC(_C)],JP.prototype,"fontFamily",2),pA([TC(FC,{optional:!0})],JP.prototype,"formatter",2);var ez=class extends EC{constructor(){super(...arguments),this.size=15,this.padding=8}};pA([TN((e=>e.parent?.onMarkerShapeChange()))],ez.prototype,"shape",2),pA([TC(VC)],ez.prototype,"size",2),pA([TC(VC)],ez.prototype,"padding",2),pA([TC(VC,{optional:!0})],ez.prototype,"strokeWidth",2),pA([TC($C)],ez.prototype,"enabled",2);var tz=class extends EC{};pA([TC(VC,{optional:!0})],tz.prototype,"strokeWidth",2),pA([TC(VC,{optional:!0})],tz.prototype,"length",2);var iz=class extends EC{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new ez,this.label=new JP,this.line=new tz}};pA([TC(VC,{optional:!0})],iz.prototype,"maxWidth",2),pA([TC(VC)],iz.prototype,"paddingX",2),pA([TC(VC)],iz.prototype,"paddingY",2),pA([TC($C)],iz.prototype,"showSeriesStroke",2),pA([TC(jC)],iz.prototype,"marker",2),pA([TC(jC)],iz.prototype,"label",2),pA([TC(jC)],iz.prototype,"line",2);var nz=class extends EC{};pA([TC(FC,{optional:!0})],nz.prototype,"legendItemClick",2),pA([TC(FC,{optional:!0})],nz.prototype,"legendItemDoubleClick",2);var oz="legend-visibility",az="legend-other-series",rz=class{constructor(e,t,i,n,o){this.type=e,this.enabled=t,this.itemId=i,this.seriesId=n,this.event=o,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}},sz=class extends EC{constructor(e){super(),this.ctx=e,this.id=hk(this),this.group=new tE({name:"legend",zIndex:15}),this.itemSelection=PD.select(this.group,YP),this.spriteRenderer=void 0,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this._symbolsDirty=!0,this.toggleSeries=!0,this.item=new iz,this.listeners=new nz,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.proxyLegendDirty=!0,this.proxyLegendToolbarDestroyFns=new RO,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new QP((t=>e.updateService.update(t)),(e=>this.updatePageNumber(e))),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:oz,type:"legend",label:"contextMenuToggleSeriesVisibility",action:e=>this.contextToggleVisibility(e)}),e.contextMenuRegistry.registerDefaultAction({id:az,type:"legend",label:"contextMenuToggleOtherSeries",action:e=>this.contextToggleOtherSeries(e)})),this.destroyFns.push(e.layoutManager.registerElement(1,(e=>this.positionLegend(e))),e.localeManager.addListener("locale-changed",(()=>this.onLocaleChanged())),(()=>this.group.remove())),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"list",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendItemDescription=Ak("p"),this.proxyLegendItemDescription.style.display="none",this.proxyLegendItemDescription.id=`${this.id}-ariaDescription`,this.proxyLegendItemDescription.textContent=this.getItemAriaDescription(),this.proxyLegendToolbar.append(this.proxyLegendItemDescription)}set data(e){this.onDataUpdate(this._data,e),this._data=e,this._symbolsDirty=!0,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach((e=>e())),this.pagination.destroy(),this.itemSelection.clear(),this.proxyLegendToolbarDestroyFns.destroy()}initLegendItemToolbar(){if(!this.proxyLegendDirty)return;this.itemSelection.each(((e,t,i)=>{e.destroyProxyButton(),e.proxyButton??(e.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"listswitch",id:`ag-charts-legend-item-${i}`,textContent:this.getItemAriaText(i),ariaChecked:!!e.datum.enabled,ariaDescribedBy:this.proxyLegendItemDescription.id,parent:this.proxyLegendToolbar,onclick:t=>this.onClick(t,e.datum,e.proxyButton.button),ondblclick:t=>this.onDoubleClick(t,e.datum),onmouseenter:t=>this.onHover(t,e),onmouseleave:()=>this.onLeave(),oncontextmenu:t=>this.onContextClick(t,e),onblur:()=>this.onLeave(),onfocus:t=>this.onHover(t,e)}))}));const e=this.itemSelection.nodes().map((e=>e.proxyButton?.button)).filter(hw);this.proxyLegendToolbarDestroyFns.setFns([...XO({orientation:"horizontal",buttons:e}),...XO({orientation:"vertical",buttons:e})]),this.proxyLegendToolbar.ariaHidden=(0===e.length).toString(),this.proxyLegendDirty=!1}onDataUpdate(e,t){this.proxyLegendDirty=e.length!==t.length||e.some(((i,n,o)=>{const[a,r]=[t[n],e[n]];return a.id!==r.id}))}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;return i?t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:o,maxWidth:a,label:{maxLength:r=1/0,fontStyle:s,fontWeight:l,fontSize:c,fontFamily:d}}=this.item,u=[...this.data];this.reverseOrder&&u.reverse(),this.itemSelection.update(u),this.initLegendItemToolbar();const h=[],p=dN.toFontString(o),g=a??.8*e,f=this.calculateSpriteDimensions();if(this.spriteRenderer??(this.spriteRenderer=new TL),this.spriteRenderer.resize(f),this.itemSelection.each(((e,t)=>{e.fontStyle=s,e.fontWeight=l,e.fontSize=c,e.fontFamily=d;const i=this.updateMarkerLabel(this.spriteRenderer,e,t,f),n=t.itemId??t.id,o=(this.getItemLabel(t)??"<unknown>").replace(/\r?\n/g," ");e.text=this.truncate(o,r,g,i,p,n),h.push(e.getBBox())})),this._symbolsDirty=!1,e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const m=this.size,y=this.oldSize;m[0]=e,m[1]=t,m[0]===y[0]&&m[1]===y[1]||(y[0]=m[0],y[1]=m[1]);const{pages:v,maxPageHeight:b,maxPageWidth:x}=this.updatePagination(h,e,t),S=this.pages;this.pages=v,this.maxPageSize=[x-i,b-n];const M=this.pagination.currentPage,A=this.pages[M];return this.pages.length<1||!A?(this.visible=!1,{oldPages:S}):(this.visible=!0,this.updatePositions(M),this.update(),{oldPages:S})}isCustomMarker(e,t){return e&&void 0!==t&&"string"!==typeof t}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,n=!!i.enabled||!t||(e.marker.enabled??!0);return{markerEnabled:n,lineEnabled:!(!e.line||!t),isCustomMarker:this.isCustomMarker(n,e.marker.shape)}}calcSymbolsLengths(e){const{marker:t,line:i}=this.item,{markerEnabled:n,lineEnabled:o}=this.calcSymbolsEnabled(e),{strokeWidth:a}=this.getMarkerStyles(e),{strokeWidth:r}=o?this.getLineStyles(e):{strokeWidth:0};let s;const{shape:l}=e.marker;if(this.isCustomMarker(n,l)){const e=new l;e.updatePath();const t=e.getBBox();s=Math.max(t.width,t.height)}return{markerLength:n?t.size:0,markerStrokeWidth:a,lineLength:o?i.length??25:0,lineStrokeWidth:r,customMarkerSize:s}}calculateSpriteDimensions(){let e=0,t=0,i=0,n=0;this.itemSelection.each(((o,a)=>{a.symbols.forEach((o=>{const{markerLength:a,markerStrokeWidth:r,lineLength:s,lineStrokeWidth:l,customMarkerSize:c=-1/0}=this.calcSymbolsLengths(o),d=a+r;n=Math.max(n,s,c,a),t=Math.max(t,s,c,d),i=Math.max(i,l,d),e=Math.max(e,r+.5)}))})),t+=2*e,i+=2*e;return{spritePixelRatio:Mk().devicePixelRatio,spriteAAPadding:e,spriteWidth:t,spriteHeight:i,markerWidth:n}}updateMarkerLabel(e,t,i,n){const{marker:o,paddingX:a}=this.item,{markerWidth:r}=n,s=[];let l=a;if(this._symbolsDirty){const e=[],n=[];i.symbols.forEach((t=>{const{shape:i=t.marker.shape}=o,a=hP(i);n.push(new rN({zIndex:0})),e.push(new a({zIndex:1}))})),t.updateSymbols(e,n)}return i.symbols.forEach(((e,i)=>{const n=e.marker.padding??o.padding,{markerEnabled:a,lineEnabled:c,isCustomMarker:d}=this.calcSymbolsEnabled(e);t.markers[i].size=a||!c?o.size:0,s.push({length:r,spacing:n,isCustomMarker:d}),(a||c)&&(l+=n+r);const u=t.markers[i],h=t.lines[i];if(u){const{strokeWidth:t,fill:i,stroke:n,fillOpacity:o,strokeOpacity:a}=this.getMarkerStyles(e);u.fill=i,u.stroke=n,u.strokeWidth=t,u.fillOpacity=o,u.strokeOpacity=a}if(h){const t=this.getLineStyles(e);h.stroke=t.stroke,h.strokeOpacity=t.strokeOpacity,h.strokeWidth=t.strokeWidth,h.lineDash=t.lineDash}})),t.update(e,n,s),l}truncate(e,t,i,n,o,a){let r=!1;e.length>t&&(e=e.substring(0,t),r=!0);const s=lN.getMeasurer({font:o}),l=BN.truncateLine(e,s,i-n,r);return l.endsWith(dN.EllipsisChar)?this.truncatedItems.add(a):this.truncatedItems.delete(a),l}updatePagination(e,t,i){const n=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:a,maxPageHeight:r,maxPageWidth:s,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,i),d=a.findIndex((e=>e.endIndex>=o));this.pagination.currentPage=Lk(0,d,a.length-1);const{paddingX:u,paddingY:h}=this.item,p=s-u,g=r-h;let f=0,m=-l.y-this.item.marker.size/2;c?m+=g+8:(f+=-l.x+p+8,m+=(g-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers();let y=0;return this.itemSelection.each(((e,t,i)=>{i>(a[y]?.endIndex??1/0)&&y++,e.pageIndex=y})),{maxPageHeight:r,maxPageWidth:s,pages:a}}updateItemProxyButtons(){const e=this.toggleSeries?"pointer":void 0,t=Math.max(...this.itemSelection.nodes().map((e=>e.getBBox().height)));this.itemSelection.each((i=>{if(i.proxyButton){const{listitem:n,button:o}=i.proxyButton,a=i.pageIndex===this.pagination.currentPage;let r=CD.toCanvas(i);if(r.height!==t){const e=(t-r.height)/2;r={x:r.x,y:r.y-e,height:t,width:r.width}}WN(o,"pointer-events",a?"auto":"none"),WN(o,"cursor",e),Dk(n,r)}}))}updatePaginationProxyButtons(e){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const t=(e?.length??this.pages.length)>1,i=this.pages.length>1;t!==i&&(i?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,onclick:e=>this.pagination.onClick(e,"previous"),onmouseenter:()=>this.pagination.onMouseHover("previous"),onmouseleave:()=>this.pagination.onMouseHover(void 0)}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,onclick:e=>this.pagination.onClick(e,"next"),onmouseenter:()=>this.pagination.onMouseHover("next"),onmouseleave:()=>this.pagination.onMouseHover(void 0)})),this.proxyLegendPagination.ariaHidden="false"):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0],this.proxyLegendPagination.ariaHidden="true"));const{prev:n,next:o}=this.pagination.computeCSSBounds();Dk(this.proxyPrevButton,n),Dk(this.proxyNextButton,o),WN(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),WN(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous"))}calculatePagination(e,t,i){const{paddingX:n,paddingY:o}=this.item,a=this.getOrientation(),r=["left","right"].includes(this.position);let s=this.pagination.getBBox(),l=new Vk(0,0,0,0),c=[],d=0,u=0,h=0;const p=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{if(h++>10){MA.warn("unable to find stable legend layout.");break}s=l;const g=t-(r?0:s.width),f=GP({orientation:a,bboxes:e,maxHeight:i-(r?s.height:0),maxWidth:g,itemPaddingY:o,itemPaddingX:n,forceResult:p});c=f?.pages??[],d=f?.maxPageWidth??0,u=f?.maxPageHeight??0;const m=c.length;if(this.pagination.visible=m>1,this.pagination.totalPages=m,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while((g=l).width!==s.width||g.height!==s.height);var g;return{maxPageWidth:d,maxPageHeight:u,pages:c,paginationBBox:l,paginationVertical:r}}updatePositions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:o,startIndex:a,endIndex:r}=n[e];let s=0,l=0;const c=o.length,d=o[0].indices.length,u="horizontal"===this.getOrientation(),h=o[0].bboxes[0].height+t,p=[];i.each(((e,t,i)=>{if(i<a||i>r)return void(e.visible=!1);const n=i-a;let g,f;u?(g=n%c,f=Math.floor(n/c)):(g=Math.floor(n/d),f=n%d),e.visible=!0;const m=o[g];m&&(l=Math.floor(h*f),s=Math.floor(p[f]??0),p[f]=(p[f]??0)+m.columnWidth,e.translationX=s,e.translationY=l)})),this.updateItemProxyButtons()}updatePageNumber(e){const{pages:t}=this,{startIndex:i,endIndex:n}=t[e];0===i?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),WN(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),WN(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous")),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each(((t,i)=>{t.setEnabled(i.enabled),t.color=e})),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(oz),t.hideAction(az)):(t.showAction(oz),t.showAction(az))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:n,lineDash:o}=e.line??{},a=Math.min(2,n??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??a,lineDash:o}}getMarkerStyles(e){const{fill:t,stroke:i,strokeOpacity:n=1,fillOpacity:o=1,strokeWidth:a}=e.marker,r=Math.min(2,a??1);return{fill:t,stroke:i,strokeOpacity:n,fillOpacity:o,strokeWidth:this.item.marker.strokeWidth??r}}computePagedBBox(){const e=DD.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select((t=>t.datum?.itemId===e.itemId))[0]??{};if(void 0===t||void 0===i)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${i} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i.button)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){const i=t.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(oz):this.ctx.contextMenuRegistry.enableAction(oz);const{button:n,offsetX:o,offsetY:a}=e,{x:r,y:s}=CD.toCanvasPoint(t,o,a),l={type:"contextmenu",sourceEvent:e,button:n,offsetX:r,offsetY:s,deltaX:0,deltaY:0,pageX:NaN,pageY:NaN,preventDefault:()=>e.preventDefault(),pointerHistory:[]};this.ctx.contextMenuRegistry.dispatchContext("legend",l,{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap((e=>e.getLegendData("category"))).filter((e=>e.enabled)).length}doClick(e,t,i){const{listeners:{legendItemClick:n},ctx:{chartService:o,highlightManager:a},preventHidingAll:r,toggleSeries:s}=this;if(!t)return!1;const{id:l,itemId:c,enabled:d}=t,u=o.series.find((e=>e.id===l));if(!u)return!1;let h=d;const p=new rz("click",h,c,u.id,e);if(n?.(p),p.defaultPrevented)return!0;if(s){if(h=!d,r&&!h){this.getVisibleItemCount()<2&&(h=!0)}i.ariaChecked=h.toString(),this.ctx.chartEventManager.legendItemClick(u,c,h,t.legendItemName)}return h?a.updateHighlight(this.id,{series:u,itemId:c,datum:void 0}):a.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:o}=this;if("integrated"===n.mode)return!1;if(!t)return!1;const{id:a,itemId:r,seriesId:s}=t,l=n.series.find((e=>e.id===a));if(!l)return!1;const c=new rz("dblclick",!0,r,l.id,e);if(i?.(c),c.defaultPrevented)return!0;if(o){const e=n.series.flatMap((e=>e.getLegendData("category"))),t=e.filter((e=>e.enabled)).length,i=e.find((e=>e.itemId===r&&e.seriesId===s));this.ctx.chartEventManager.legendItemDoubleClick(l,r,i?.enabled??!1,t,i?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;if(e instanceof FocusEvent){const{x:e,y:n}=CD.toCanvas(t).computeCenter();i={type:"keyboard",offsetX:e,offsetY:n}}else{e.preventDefault();const{x:n,y:o}=CD.toCanvasPoint(t,e.offsetX,e.offsetY);i={type:"hover",offsetX:n,offsetY:o}}const{offsetX:n,offsetY:o}=i;return{offsetX:n,offsetY:o,lastPointerEvent:i,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,n=i?this.ctx.chartService.series.find((e=>e.id===i?.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const n=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,n,XN({content:this.getItemLabel(i)}))}else this.ctx.tooltipManager.removeTooltip(this.id);i?.enabled&&n?this.updateHighlight({series:n,itemId:i?.itemId,datum:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){const t=this.ctx.interactionManager.getState();32===t?this.ctx.highlightManager.updateHighlight(this.id,e):2===t&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop((()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)})))}onLocaleChanged(){this.itemSelection.each(((e,t,i)=>{let{proxyButton:n}=e;null!=n?.button&&(n.button.textContent=this.getItemAriaText(i))})),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription()}getItemAriaText(e){const t=this.data[e],i=t&&this.getItemLabel(t),n=this.ctx.localeManager;if(e>=0&&i){const t=e+1,o=this.data.length;return n.t("ariaLabelLegendItem",{label:i,index:t,count:o})}return n.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(){return this.ctx.localeManager.t("ariaDescriptionLegendItem")}positionLegend(e){if(WN(this.proxyLegendToolbar,"display",this.visible&&this.enabled?void 0:"none"),!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:n,width:o,height:a}=t,[r,s]=this.calculateLegendDimensions(t),{oldPages:l}=this.calcLayout(r,s),c=this.computePagedBBox(),d=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return a-c.height;default:return o-c.width}};if(this.visible){const e=this.spacing;let r,s;switch(this.position){case"top":case"bottom":r=(o-c.width)/2,s=d(),t.shrink(c.height+e,this.position);break;default:r=d(),s=(a-c.height)/2,t.shrink(c.width+e,this.position)}this.group.translationX=Math.floor(i+r-c.x),this.group.translationY=Math.floor(n+s-c.y),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}this.updateItemProxyButtons(),this.updatePaginationProxyButtons(l)}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i;let o,a;switch(this.position){case"top":case"bottom":{const e=n<1?Math.min(.5,1/n*.2):.2;o=this.maxWidth?Math.min(this.maxWidth,t):t,a=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*e);break}default:{const e=n>1?Math.min(.5,.25*n):.25;o=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*e),a=this.maxHeight?Math.min(this.maxHeight,i):i}}return[o,a]}};sz.className="Legend",pA([TC($C)],sz.prototype,"toggleSeries",2),pA([TC(jC)],sz.prototype,"pagination",2),pA([TC(jC)],sz.prototype,"item",2),pA([TC(jC)],sz.prototype,"listeners",2),pA([TN((e=>e.updateGroupVisibility())),TC($C)],sz.prototype,"enabled",2),pA([TN((e=>e.proxyLegendDirty=!0)),TC(gI)],sz.prototype,"position",2),pA([TC(VC,{optional:!0})],sz.prototype,"maxWidth",2),pA([TC(VC,{optional:!0})],sz.prototype,"maxHeight",2),pA([TC($C,{optional:!0})],sz.prototype,"reverseOrder",2),pA([TC(wI(["horizontal","vertical"],"an orientation"),{optional:!0})],sz.prototype,"orientation",2),pA([TC($C,{optional:!0})],sz.prototype,"preventHidingAll",2),pA([TC(VC)],sz.prototype,"spacing",2);var lz={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new sz(e),packageType:"community"},cz=class extends bL{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(e,t){this.dirtyPath=!0,this.centerX===e&&this.centerY===t||(this.centerX=e,this.centerY=t,this.markDirty(3))}static align(e,t,i,n,o,a,r,s){const l=e.strokeWidth/2,c=e.align(i+o*r)+l,d=c+e.align(i+o*r,o*(s-r))-2*l,u=e.align(n+a/2)+l;e.setCenter(c,u),t.setCenter(d,u)}computeBBox(){const{centerX:e,centerY:t,width:i,height:n}=this;return new Vk(e-i/2,t-n/2,i,n)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}updatePath(){const{centerX:e,centerY:t,path:i,strokeWidth:n,gripLineGap:o,gripLineLength:a}=this,r=this.layerManager?.canvas?.pixelRatio??1;i.clear();const s=Math.floor(this.width/2*r)/r,l=Math.floor(this.height/2*r)/r;i.moveTo(e-s,t-l),i.lineTo(e+s,t-l),i.lineTo(e+s,t+l),i.lineTo(e-s,t+l),i.closePath();const c=Math.floor((o+n)/2*r)/r,d=Math.floor(a/2*r)/r;i.moveTo(e-c,t-d),i.lineTo(e-c,t+d),i.moveTo(e+c,t-d),i.lineTo(e+c,t+d)}};cz.className="RangeHandle",pA([TC(VC),Kk({redraw:3,type:"path"})],cz.prototype,"width",2),pA([TC(VC),Kk({redraw:3,type:"path"})],cz.prototype,"height",2),pA([TC(VC),Kk({redraw:3,type:"path"})],cz.prototype,"gripLineGap",2),pA([TC(VC),Kk({redraw:3,type:"path"})],cz.prototype,"gripLineLength",2);var dz=class extends bL{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,i,n){e===this.x&&t===this.y&&i===this.width&&this.height===n||(this.x=e,this.y=t,this.width=i,this.height=n,this.dirtyPath=!0,this.markDirty(3))}update(e,t){e=isNaN(e)?this.min:e,t=isNaN(t)?this.max:t,e===this.min&&t===this.max||(this.min=e,this.max=t,this.dirtyPath=!0,this.markDirty(3))}computeBBox(){const{x:e,y:t,width:i,height:n}=this;return new Vk(e,t,i,n)}computeVisibleRangeBBox(){const{x:e,y:t,width:i,height:n,min:o,max:a}=this,r=e+i*o;return new Vk(r,t,e+i*a-r,n)}updatePath(){const{path:e,x:t,y:i,width:n,height:o,min:a,max:r,strokeWidth:s}=this,l=s/2;e.clear();const c=this.align(t)+l,d=this.align(i)+l,u=c+this.align(t,n)-2*l,h=d+this.align(i,o)-2*l;e.moveTo(c,d),e.lineTo(u,d),e.lineTo(u,h),e.lineTo(c,h),e.closePath();const p=this.align(t+n*a)+l,g=p+this.align(t+n*a,n*(r-a))-2*l;e.moveTo(p,d),e.lineTo(p,h),e.lineTo(g,h),e.lineTo(g,d),e.closePath()}};dz.className="RangeMask";var uz=class extends eE{constructor(e){super({name:"rangeSelectorGroup",zIndex:16}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new OD({name:"navigator-background",zIndex:1})),this.append(e)}layout(e,t,i,n,o,a){this.x=e,this.y=t,this.width=i,this.height=n,this.lOffset=o,this.rOffset=a,this.background.translationX=e,this.background.translationY=t,this.markDirty(3)}updateBackground(e,t){null!=e&&this.background.removeChild(e),null!=t&&this.background.appendChild(t),this.markDirty(3)}computeBBox(){const{x:e,y:t,width:i,height:n,lOffset:o,rOffset:a}=this;return new Vk(e-o,t,i+(o+a),n)}},hz=class extends yO{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new dz,this.minHandle=new cz,this.maxHandle=new cz,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(e,t)=>({x:e,y:t})},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new uz([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const t=e.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",(e=>this.onHover(e)),50),t.addListener("drag-start",(e=>this.onDragStart(e)),50),t.addListener("drag",(e=>this.onDrag(e)),50),t.addListener("drag-end",(e=>this.onDragEnd(e)),50),t.addListener("leave",(e=>this.onLeave(e)),50),this.ctx.localeManager.addListener("locale-changed",(()=>this.updateZoom())),this.ctx.layoutManager.registerElement(3,(e=>this.onLayoutStart(e))),this.ctx.layoutManager.addListener("layout:complete",(e=>this.onLayoutComplete(e))),e.zoomManager.addListener("zoom-change",(e=>this.onZoomChange(e)))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:e=>this.onMinSliderChange(e)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:e=>this.onPanSliderChange(e)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:e=>this.onMaxSliderChange(e)})],this.proxyNavigatorElements.forEach((e=>FN(e,"data-preventdefault",!1))),this.setSliderRatio(this.proxyNavigatorElements[0],this._min),this.setSliderRatio(this.proxyNavigatorElements[2],this._max),this.setPanSliderValue(this._min,this._max),YO({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push((()=>{this.proxyNavigatorElements.forEach((e=>e.remove())),this.proxyNavigatorToolbar.remove()}))}updateBackground(e,t){this.rangeSelector?.updateBackground(e,t)}updateGroupVisibility(){const{enabled:e}=this;null!=this.rangeSelector&&e!==this.rangeSelector.visible&&(this.rangeSelector.visible=e,this.proxyNavigatorToolbar.ariaHidden=(!e).toString(),e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(e){if(this.enabled){const{layoutBox:t}=e,i=this.height+this.spacing;t.shrink(i,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0}onLayoutComplete(e){const{x:t,width:i}=e.series.rect;if(this.enabled){const{y:e,height:n}=this;this.layoutNodes(t,e,i,n),Dk(this.proxyNavigatorToolbar,{x:t,y:e,width:i,height:n}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=i}onHover(e){this.enabled&&this.updateCursor(e)}updateCursor(e){if(!this.enabled)return;const{mask:t,minHandle:i,maxHandle:n}=this,{regionOffsetX:o,regionOffsetY:a}=e;i.containsPoint(o,a)||n.containsPoint(o,a)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(o,a)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;this.updateCursor(e);const{mask:t,minHandle:i,maxHandle:n,x:o,width:a,_min:r}=this,{regionOffsetX:s,regionOffsetY:l}=e;i.zIndex<n.zIndex?n.containsPoint(s,l)?this.dragging="max":i.containsPoint(s,l)&&(this.dragging="min"):i.containsPoint(s,l)?this.dragging="min":n.containsPoint(s,l)&&(this.dragging="max"),null==this.dragging&&t.computeVisibleRangeBBox().containsPoint(s,l)&&(this.dragging="pan",this.panStart=(s-o)/a-r),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||null==this.dragging)return;const{dragging:t,minRange:i,panStart:n,x:o,width:a}=this;let{_min:r,_max:s}=this;const{regionOffsetX:l}=e,c=(l-o)/a;if("min"===t)r=Lk(0,c,s-i);else if("max"===t)s=Lk(r+i,c,1);else if("pan"===t&&null!=n){const e=s-r;r=Lk(0,c-n,1-e),s=r+e}this._min=r,this._max=s,this.updateZoom()}onDragEnd(e){this.dragging=void 0,this.updateCursor(e)}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){const{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max),this.setPanSliderValue(t.min,t.max),this.setSliderRatio(this.proxyNavigatorElements[0],t.min),this.setSliderRatio(this.proxyNavigatorElements[2],t.max))}onPanSliderChange(e){const t=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=Lk(0,t,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(e){const t=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(t,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){const t=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(t,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value=`${Math.round(100*e)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,i){const n=this.getSliderRatio(e),o=Lk(t,n,i);return o!==n&&this.setSliderRatio(e,o),o}setSliderRatio(e,t){const i=Math.round(100*t);e.value=`${i}`,e.ariaValueText=Wk(i)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,i,n){const{rangeSelector:o,mask:a,minHandle:r,maxHandle:s,_min:l,_max:c}=this;o.layout(e,t,i,n,r.width/2,s.width/2),a.layout(e,t,i,n),cz.align(r,s,e,t,i,n,l,c),l+(c-l)/2<.5?(r.zIndex=3,s.zIndex=4):(r.zIndex=4,s.zIndex=3),[r,this.maskVisibleRange,s].forEach(((i,n)=>{const o=i.getBBox(),a={x:o.x-e,y:o.y-t,height:o.height,width:o.width};Dk(this.proxyNavigatorElements[n],a)}))}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;const{_min:e,_max:t}=this;if(null==e||null==t)return;return this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t}},!1,(e=>{null==this.min&&null==this.max||MA.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${e}] has modified the initial zoom state.`)}))}};pA([TC(jC,{optional:!0})],hz.prototype,"miniChart",2),pA([TC($C),TN((e=>e.updateGroupVisibility()))],hz.prototype,"enabled",2),pA([TC(VC)],hz.prototype,"height",2),pA([TC(VC)],hz.prototype,"spacing",2),pA([LN({newValue(e){this._min=e,this.updateZoom()}}),TC(PC(UC,QC("max")),{optional:!0})],hz.prototype,"min",2),pA([LN({newValue(e){this._max=e,this.updateZoom()}}),TC(PC(UC,JC("min")),{optional:!0})],hz.prototype,"max",2);var pz={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new hz(e),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function gz(e){let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}}function fz(e){return{marker:gz(e)}}var mz=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(mz||{}),yz=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(yz||{}),vz=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(vz||{}),bz=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(bz||{}),xz=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(xz||{}),Sz=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(Sz||{}),Mz=Symbol("is-dark-theme"),Az=Symbol("is-community"),kz=Symbol("is-enterprise"),wz=Symbol("default-font"),Cz=Symbol("default-label-colour"),Iz=Symbol("default-inverted-label-colour"),Dz=Symbol("default-inside-series-label-colour"),Nz=Symbol("default-muted-label-colour"),Ez=Symbol("default-axis-grid-colour"),Oz=Symbol("default-axis-line-colour"),Lz=Symbol("default-cross-lines-colour"),Tz=Symbol("default-background-colour"),Rz=Symbol("default-shadow-colour"),Pz=Symbol("default-colours"),zz=Symbol("default-padding"),jz=Symbol("default-caption-layout-style"),Bz=Symbol("default-caption-alignment"),$z=Symbol("palette-up-stroke"),Fz=Symbol("palette-down-stroke"),_z=Symbol("palette-up-fill"),Hz=Symbol("palette-down-fill"),Wz=Symbol("palette-neutral-stroke"),Gz=Symbol("palette-neutral-fill"),Vz=Symbol("palette-alt-up-stroke"),Uz=Symbol("palette-alt-down-stroke"),Kz=Symbol("palette-alt-up-fill"),Yz=Symbol("palette-alt-down-fill"),Xz=Symbol("palette-gray-fill"),Zz=Symbol("palette-gray-stroke"),qz=Symbol("default-polar-series-stroke"),Qz=Symbol("default-diverging-series-colour-range"),Jz=Symbol("default-gauge-series-colour-range"),ej=Symbol("default-funnel-series-colour-range"),tj=Symbol("default-hierarchy-fills"),ij=Symbol("default-hierarchy-strokes"),nj=Symbol("default-annotation-stroke"),oj=Symbol("default-text-annotation-color"),aj=Symbol("default-annotation-background-fill"),rj=Symbol("default-annotation-handle-fill"),sj=Symbol("default-annotation-statistics-fill"),lj=Symbol("default-annotation-statistics-stroke"),cj=Symbol("default-annotation-statistics-color"),dj=Symbol("default-annotation-statistics-divider-stroke"),uj=Symbol("default-annotation-statistics-fill"),hj=Symbol("default-annotation-statistics-stroke"),pj=Symbol("default-textbox-fill"),gj=Symbol("default-textbox-stroke"),fj=Symbol("default-textbox-color"),mj=Symbol("default-toolbar-position"),yj=Symbol("default-gridline-enabled");function vj(e,t,i,n,o){const{addPhaseFn:a,updatePhaseFn:r,removePhaseFn:s}=o,l=(n,o,a)=>{i.animate({id:`${e}_${t}_${o.id}_${n}`,groupId:e,from:0,to:1,ease:Ww,collapsable:!1,onUpdate(e,t){t&&"removed"!==n||(o.path.clear(!0),a(e,o),o.checkPathDirty())},onStop(){"added"===n&&(o.path.clear(!0),a(1,o),o.checkPathDirty())},phase:iC[n]})};for(const c of n)i.isSkipped()||(l("removed",c,s),l("updated",c,r)),l("added",c,a)}function bj(e){return"number"===typeof e?e.toFixed(2):String(e??"")}var xj=null;function Sj(e){if(null!=e)return""===e?"":(xj??(xj=Ak("div")),xj.textContent=String(e),xj.innerHTML)}var Mj=new WeakMap;function Aj(e,t){const i=JSON.stringify(e,null,0);return Mj.has(t)||Mj.set(t,new Map),Mj.get(t)?.has(i)||Mj.get(t)?.set(i,t(e)),Mj.get(t)?.get(i)}function kj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const i of e)"number"===typeof i&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function wj(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>kj(e)}}function Cj(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:e=>kj(e),groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t}}}function Ij(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>FT.extendDomain(e)}}function Dj(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t}}}function Nj(e,t){const i={id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:e=>kj(e),groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t[2]++,t},finalFunction:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const t=e[0]+e[1];return t>=0?[0,t/e[2]]:[t/e[2],0]}};return i}function Ej(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=i[1]-i[0];return t.aggregateFunction(e).map((e=>e/n))}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function Oj(e){return()=>{let t=0;return i=>kw(i)?(t+=e?Math.max(0,i):i,t):i}}function Lj(){return()=>{let e=0;return t=>{if(!kw(t))return t;const i=e;return e+=t,i}}}function Tj(e){return null!=e&&uE(e)}function Rj(e){return null!=e}function Pj(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return Tj;default:return Rj}}function zj(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function jj(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"key",valueType:zj(t),validation:Pj(t),...i}}function Bj(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"value",valueType:zj(t),validation:Pj(t),...i}}function $j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:i=-1/0,max:n=1/0,...o}=t;return{type:"value",property:e,valueType:"range",validation:Tj,processor:()=>e=>kw(e)?Lk(i,e,n):e,...o}}function Fj(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:n,...o}=i;return{...Bj(e,t,o),processor:Oj(n)}}function _j(e,t){return{...Bj(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),processor:Lj()}}function Hj(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",n=arguments.length>3?arguments[3]:void 0;return[Bj(e,arguments.length>4?arguments[4]:void 0,n),eB(n.groupId,t,i,n.separateNegative),...null!=n.rangeId?[Ij(n.rangeId,n.groupId)]:[]]}function Wj(e,t,i){return[Bj(e,t,i),iB(i.groupId)]}var Gj={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-e);return e=i,!isNaN(n)&&n>0&&n<t?n:t}}},Vj={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-e);return e=i,!isNaN(n)&&n>0&&n>t?n:t}}},Uj={type:"processor",property:"sortedGroupDomain",calculate:e=>{let{domain:{groups:t}}=e;return t?.slice().sort(((e,t)=>{for(let i=0;i<e.length;i++){const n=e[i]-t[i];if(0!==n)return n}return 0}))}};function Kj(e){let{normaliseTo:t,mode:i}=e;const n=(e,i)=>{const n=e*t/i;return n>=0?Math.min(t,n):Math.max(-t,n)};return()=>()=>(e,t)=>{const o=[0,0];for(const n of t){const t=e[n],a="number"===typeof t?t:Math.max(...t),r=a<0?0:1;"sum"===i?o[r]+=a:o[r]=0===r?Math.min(o[r],a):Math.max(o[r],a)}const a=Math.max(Math.abs(o[0]),o[1]);for(const i of t){const t=e[i];e[i]="number"===typeof t?n(t,a):t.map((e=>n(e,a)))}}}function Yj(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:Aj({normaliseTo:t,mode:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sum"},Kj)}}function Xj(e){let{normaliseTo:t,zeroDomain:i,rangeMin:n,rangeMax:o}=e;const a=t[1]-t[0],r=(e,n,o)=>{const r=t[0]+(e-n)/o*a;return 0===o?i:r>=t[1]?t[1]:r<t[0]?t[0]:r};return()=>(e,i)=>{let[a,s]=e.domain.values[i];null!=n&&(a=n),null!=o&&(s=o);const l=s-a;e.domain.values[i]=[t[0],t[1]];for(const t of e.data){let n=t.values;"ungrouped"===e.type&&(n=[n]);for(const e of n)e[i]=r(e[i],a,l)}}}function Zj(e,t,i,n,o){return{type:"property-value-processor",property:e,adjust:Aj({normaliseTo:t,rangeMin:n,rangeMax:o,zeroDomain:i},Xj)}}function qj(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:o,data:a}=t;let r=!0,s=!0;const l=[];for(let d=0;d<n.length;d++)e?.includes(n[d].id)&&l.push([d,n[d]]);const c=(e,i,n)=>{if("category"===i.valueType){const i=t.domain[n][e];return void(r&&(r=i.length===o.count))}let l=a[0]?.[n][e];for(let t=1;(r||s)&&t<a.length;t++){const i=a[t][n][e];s&&(s=l<=i),r&&(r=l!==i),l=i}};for(let e=0;(r||s)&&e<i.length;e++)c(e,i[e],"keys");for(let e=0;(r||s)&&e<l.length;e++){const[t,i]=l[e];c(t,i,"values")}return{uniqueKeys:r,orderedKeys:s}}}}function Qj(e){let{mode:t,separateNegative:i}=e;return()=>()=>(e,n)=>{const o=[0,0];for(const a of n){const n=e[a],r=jk(n)&&i?0:1;kw(n)&&("normal"===t&&(o[r]+=n),e[a]=o[r],"trailing"===t&&(o[r]+=n))}}}function Jj(e){let{mode:t,sum:i}=e;return()=>{const e=[];let n=!0;return()=>(o,a)=>{let r=0;for(const s of a){const a=o[s],l=n&&"current"===i?0:e[s];e[s]=a;const c="current"===i?a:l;kw(a)&&kw(l)?("normal"===t&&(r+=c),o[s]=r,"trailing"===t&&(r+=c)):o[s]=r}n=!1}}}function eB(e,t,i){let n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.startsWith("window")){n=Aj({mode:t.endsWith("-trailing")?"trailing":"normal",sum:i},Jj)}else n=Aj({mode:t,separateNegative:o},Qj);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function tB(){return()=>(e,t)=>{const i=new Float64Array(32);let n=0;for(const o of t){const t=e[o];i[n]=Number.isFinite(t)?t:NaN,n+=1,e[o]=i.subarray(0,n)}}}function iB(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:tB}}function nB(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"processor",property:"diff",calculate:i=>{const n=new Map,o=new Map,a=new Map,r=new Map,s=Math.max(e.data.length,i.data.length);for(let l=0;l<s;l++){const s=e.data[l],c=i.data[l],d=s?oB(s.keys):"",u=c?oB(c.keys):"";c&&s&&d===u?uC(s.values,c.values)||a.set(u,c):(r.has(u)?(!t&&uC(r.get(u).values,c.values)||(a.set(u,c),n.set(u,c)),r.delete(u)):c&&o.set(u,c),o.has(d)?(!t&&uC(o.get(d).values,s.values)||(a.set(d,s),n.set(d,s)),o.delete(d)):s&&(a.delete(d),r.set(d,s)))}return{changed:o.size>0||a.size>0||r.size>0,added:o,updated:a,removed:r,moved:n}}}}function oB(e){let t;t=pw(e)?e.map((e=>pE(e))).join("___"):pE(e);const i="string"===typeof t||"number"===typeof t||"boolean"===typeof t||t instanceof Date;for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return i&&o.length>0&&(t+=`___${o.join("___")}`),t}function aB(e,t,i){let{id:n}=e;for(var o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];oC(n,t,i,a,{opacity:0},{opacity:1},{phase:"trailing"})}function rB(e,t,i){let{id:n}=e;for(var o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];oC(n,t,i,a,{opacity:1},{opacity:0},{phase:"remove"})}function sB(e){return{opacity:1}}var lB=class extends EC{constructor(){super(...arguments),this._dirty=3}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._dirty<e&&(this._dirty=e)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},cB=class extends lB{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};pA([TC($C),Kk({redraw:3})],cB.prototype,"enabled",2),pA([TC(nI),Kk({redraw:3})],cB.prototype,"color",2),pA([TC(HC),Kk({redraw:3})],cB.prototype,"xOffset",2),pA([TC(HC),Kk({redraw:3})],cB.prototype,"yOffset",2),pA([TC(VC),Kk({redraw:3})],cB.prototype,"blur",2);var dB=DI((e=>uP(e)||"function"===typeof e&&Object.create(e.prototype)instanceof XR),"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),uB=class extends lB{constructor(){super(...arguments),this.enabled=!0,this.shape=ZR,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:n,stroke:o,strokeWidth:a,strokeOpacity:r}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:o,strokeWidth:a,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};pA([TC($C),Kk({redraw:3})],uB.prototype,"enabled",2),pA([TC(dB),Kk({redraw:3})],uB.prototype,"shape",2),pA([TC(VC),Kk({redraw:3})],uB.prototype,"size",2),pA([TC(nI,{optional:!0}),Kk({redraw:3})],uB.prototype,"fill",2),pA([TC(UC),Kk({redraw:3})],uB.prototype,"fillOpacity",2),pA([TC(nI,{optional:!0}),Kk({redraw:3})],uB.prototype,"stroke",2),pA([TC(VC),Kk({redraw:3})],uB.prototype,"strokeWidth",2),pA([TC(UC),Kk({redraw:3})],uB.prototype,"strokeOpacity",2),pA([TC(FC,{optional:!0}),Kk({redraw:3})],uB.prototype,"itemStyler",2);var hB=class extends EC{constructor(){super(...arguments),this.enabled=!1}};pA([TC($C)],hB.prototype,"enabled",2);var pB=class extends EC{constructor(){super(...arguments),this.enabled=!0,this.interaction=new hB,this.position=new ZN,this.range=void 0}toTooltipHtml(e,t){return this.renderer?XN(this.renderer(t),e):XN(e)}};pA([TC($C)],pB.prototype,"enabled",2),pA([TC($C,{optional:!0})],pB.prototype,"showArrow",2),pA([TC(FC,{optional:!0})],pB.prototype,"renderer",2),pA([TC(jC)],pB.prototype,"interaction",2),pA([TC(jC)],pB.prototype,"position",2),pA([TC(AI,{optional:!0})],pB.prototype,"range",2);var gB=wI(["linear","smooth","step"],"a line style"),fB=wI(["start","middle","end"]),mB=class extends EC{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};pA([TC(gB)],mB.prototype,"type",2),pA([TC(UC)],mB.prototype,"tension",2),pA([TC(fB)],mB.prototype,"position",2);var yB=class extends AP{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new mB,this.shadow=new cB,this.marker=new uB,this.label=new nE,this.tooltip=new pB,this.connectMissingData=!1}};function vB(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function bB(e,t,i){const[n,o]=vB(e),a=o.x!==n.x?(i.x-t.x)/(o.x-n.x):0,r=o.y!==n.y?(i.y-t.y)/(o.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*a,cp1y:i.y-(e.cp2y-n.y)*r,cp2x:i.x-(e.cp1x-n.x)*a,cp2y:i.y-(e.cp1y-n.y)*r,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*a}}}function xB(e,t,i){const{moveTo:n}=e,[o,a]=function(e){const t=vB(e);return t[0].x>t[1].x&&t.reverse(),t}(e),{x:r,y:s}=o,{x:l,y:c}=a;if(i<r)return bB(e,o,o);if(t>l)return bB(e,a,a);switch(e.type){case"linear":{const e=s===c?void 0:(c-s)/(l-r);return{type:"linear",moveTo:n,x0:t,y0:null==e?s:e*(t-r)+s,x1:i,y1:null==e?s:e*(i-r)+s}}case"step":if(i<=e.stepX){const o=e.y0;return{type:"step",moveTo:n,x0:t,y0:o,x1:i,y1:o,stepX:i}}if(t>=e.stepX){const o=e.y1;return{type:"step",moveTo:n,x0:t,y0:o,x1:i,y1:o,stepX:t}}{const{y0:o,y1:a,stepX:r}=e;return{type:"step",moveTo:n,x0:t,y0:o,x1:i,y1:a,stepX:r}}case"cubic":{const o=pL(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[a,r]=gL(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,o);const s=pL(r[0].x,r[1].x,r[2].x,r[3].x,i);return[r,a]=gL(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,s),{type:"cubic",moveTo:n,cp0x:r[0].x,cp0y:r[0].y,cp1x:r[1].x,cp1y:r[1].y,cp2x:r[2].x,cp2y:r[2].y,cp3x:r[3].x,cp3y:r[3].y}}}}pA([TC(_C)],yB.prototype,"xKey",2),pA([TC(_C,{optional:!0})],yB.prototype,"xName",2),pA([TC(_C)],yB.prototype,"yKey",2),pA([TC(_C,{optional:!0})],yB.prototype,"yName",2),pA([TC(_C,{optional:!0})],yB.prototype,"yFilterKey",2),pA([TC(VC,{optional:!0})],yB.prototype,"normalizedTo",2),pA([TC(nI)],yB.prototype,"fill",2),pA([TC(UC)],yB.prototype,"fillOpacity",2),pA([TC(nI)],yB.prototype,"stroke",2),pA([TC(VC)],yB.prototype,"strokeWidth",2),pA([TC(UC)],yB.prototype,"strokeOpacity",2),pA([TC(pI)],yB.prototype,"lineDash",2),pA([TC(VC)],yB.prototype,"lineDashOffset",2),pA([TC(jC)],yB.prototype,"interpolation",2),pA([TC(jC)],yB.prototype,"shadow",2),pA([TC(jC)],yB.prototype,"marker",2),pA([TC(jC)],yB.prototype,"label",2),pA([TC(jC)],yB.prototype,"tooltip",2),pA([TC($C)],yB.prototype,"connectMissingData",2);var SB={start:0,middle:.5,end:1};var MB=.05;function AB(e,t,i){return(t-e)*i+e}function kB(e,t){return"linear"===e.type?function(e,t){const{x0:i,y0:n,x1:o,y1:a}=e,r=(a-n)/(o-i)*(t-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:t,leftCp2y:r,stepX:t,stepY0:r,stepY1:r,rightCp1x:t,rightCp1y:r,rightCp2x:o,rightCp2y:a}}(e,t):"cubic"===e.type?function(e,t){const{cp0x:i,cp0y:n,cp1x:o,cp1y:a,cp2x:r,cp2y:s,cp3x:l,cp3y:c}=e,d=pL(i,o,r,l,t),[u,h]=gL(i,n,o,a,r,s,l,c,d),p=u[3].y;return{leftCp1x:u[1].x,leftCp1y:u[1].y,leftCp2x:u[2].x,leftCp2y:u[2].y,stepX:t,stepY0:p,stepY1:p,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}(e,t):function(e){const{x0:t,y0:i,x1:n,y1:o,stepX:a}=e;return{leftCp1x:(t+a)/2,leftCp1y:i,leftCp2x:(t+a)/2,leftCp2y:i,stepX:a,stepY0:i,stepY1:o,rightCp1x:(a+n)/2,rightCp1y:o,rightCp2x:(a+n)/2,rightCp2y:o}}(e)}function wB(e,t,i,n,o,a,r){switch(t){case 1:r?e.moveTo(o,a):e.moveTo(i,n);break;case 2:r?e.lineTo(o,a):e.lineTo(i,n)}}function CB(e,t,i,n,o,a){a?e.lineTo(t,i):e.lineTo(n,o)}function IB(e,t,i,n,o,a,r,s,l,c){c?e.cubicCurveTo(a,r,n,o,t,i):e.cubicCurveTo(n,o,a,r,s,l)}function DB(e,t,i,n,o,a,r){r?(e.lineTo(a,o),e.lineTo(a,i),e.lineTo(t,i)):(e.lineTo(a,i),e.lineTo(a,o),e.lineTo(n,o))}function NB(e,t,i,n){const[o,a]=vB(t);switch(wB(e,i,o.x,o.y,a.x,a.y,n),t.type){case"linear":CB(e,t.x0,t.y0,t.x1,t.y1,n);break;case"cubic":IB(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,n);break;case"step":DB(e,t.x0,t.y0,t.x1,t.y1,t.stepX,n)}}function EB(e,t,i,n,o,a){const[r,s]=vB(t),[l,c]=vB(i),d=AB(r.x,l.x,n),u=AB(r.y,l.y,n),h=AB(s.x,c.x,n),p=AB(s.y,c.y,n);if(wB(e,o,d,u,h,p,a),"cubic"===t.type&&"cubic"===i.type){IB(e,d,u,AB(t.cp1x,i.cp1x,n),AB(t.cp1y,i.cp1y,n),AB(t.cp2x,i.cp2x,n),AB(t.cp2y,i.cp2y,n),h,p,a)}else if("step"===t.type&&"step"===i.type){DB(e,d,u,h,p,AB(t.stepX,i.stepX,n),a)}else if("linear"===t.type&&"linear"===i.type)CB(e,d,u,h,p,a);else{let o;o="step"===t.type?t.stepX:"step"===i.type?i.stepX:(d+h)/2;const r=kB(t,o),s=kB(i,o),l=AB(r.leftCp1x,s.leftCp1x,n),c=AB(r.leftCp1y,s.leftCp1y,n),g=AB(r.leftCp2x,s.leftCp2x,n),f=AB(r.leftCp2y,s.leftCp2y,n),m=AB(r.stepX,s.stepX,n),y=AB(r.stepY0,s.stepY0,n),v=AB(r.stepY1,s.stepY1,n),b=AB(r.rightCp1x,s.rightCp1x,n),x=AB(r.rightCp1y,s.rightCp1y,n),S=AB(r.rightCp2x,s.rightCp2x,n),M=AB(r.rightCp2y,s.rightCp2y,n);a?(e.cubicCurveTo(S,M,b,x,m,v),e.lineTo(m,y),e.cubicCurveTo(g,f,l,c,d,u)):(e.cubicCurveTo(l,c,g,f,m,y),e.lineTo(m,v),e.cubicCurveTo(b,x,S,M,h,p))}}function OB(e,t,i){let{id:n}=e;const o={phase:i?iC[i]:"trailing"};for(var a=arguments.length,r=new Array(a>3?a-3:0),s=3;s<a;s++)r[s-3]=arguments[s];oC(n,"markers",t,r,{opacity:0},{opacity:1},o),r.forEach((e=>e.cleanup()))}function LB(e,t){let{id:i}=e;for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];oC(i,"markers",t,o,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),o.forEach((e=>e.cleanup()))}function TB(e,t){let{id:i,nodeDataDependencies:n}=e;const o=n.seriesRectWidth;for(var a=arguments.length,r=new Array(a>2?a-2:0),s=2;s<a;s++)r[s-2]=arguments[s];nC(i,"markers",t,r,{fromFn:(e,t)=>{const i=t.midPoint?.x??o;let n=Lk(0,Yw(i/o),1);return isNaN(n)&&(n=0),{scalingX:0,scalingY:0,delay:n,duration:Xw,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function RB(e){return{opacity:1,scalingX:1,scalingY:1}}function PB(e,t){return{translationX:t.point?.x??NaN,translationY:t.point?.y??NaN}}function zB(e,t){const i=(t,i)=>{const n=e[i][t];return Array.isArray(n)?n[0]:n},n=t=>{const{xValue:n}=t;return e.moved[n]?{point:i(n,"moved"),status:"updated"}:e.removed[n]?{point:i(n,"removed"),status:"removed"}:e.added[n]?{point:i(n,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(e,i)=>{const{status:o,point:a}=n(i);if("unknown"===o)return{opacity:0};const r={translationX:a?.from?.x??e.translationX,translationY:a?.from?.y??e.translationY,opacity:e.opacity,phase:iC[o]};return"added"===t?{...r,opacity:0,translationX:a?.to?.x,translationY:a?.to?.y,phase:iC.added}:("added"===o&&(r.opacity=0),r)},toFn:(e,i)=>{const{status:o,point:a}=n(i);if("unknown"===o)return{opacity:0};const r={translationX:i.point.x,translationY:i.point.y,opacity:1,phase:iC[o]};return"removed"===o||"removed"===t?{...r,translationX:a?.to?.x,translationY:a?.to?.y,opacity:0,phase:iC.removed}:r}}}function jB(e,t){let{datumIndex:i}=t;const n=e.getNodeData();if(void 0===n)return;const o=n[i],{point:a}=o;if(null==o||null==a)return;const r=a.focusSize??e.getFormattedMarkerStyle(o).size,s=r/2,l=o.point.x-s,c=o.point.y-s;return CD.toCanvas(e.contentGroup,new Vk(l,c,r,r))}var BB=.05;function $B(e){return e.reduce(((e,t)=>{let{min:i,max:n}=e;return(null==i||i.point.x>t.point.x)&&(i=t),(null==n||n.point.x<t.point.x)&&(n=t),{min:i,max:n}}),{})}function FB(e,t,i){const n=(t.y-e.y)/(t.x-e.x);return{x:i,y:(i-e.x)*n+e.y}}function _B(e,t,i,n){let o=-1,a=0;const r=[];for(;a<e.length;)e[a].change!==t?e[a].change!==i?(r.length>0&&(n(r,o,a),r.length=0),o=a,a++):a++:(r.push(e[a]),a++);r.length>0&&n(r,o,a)}function HB(e,t){_B(e,"out","in",((i,n,o)=>{-1===n&&e[o]?i.forEach((t=>t.to=e[o].from)):o===e.length&&e[n]?i.forEach((t=>t.to=e[n].from)):"intersect"===t&&e[n]?.from&&e[o]?.from?i.forEach((t=>t.to=FB(e[n].from,e[o].from,t.from.x))):i.forEach((e=>e.to=e.from))})),_B(e,"in","out",((i,n,o)=>{-1===n&&e[o]?i.forEach((t=>t.from=e[o].to)):o===e.length&&e[n]?i.forEach((t=>t.from=e[n].to)):"intersect"===t&&e[n]?.to&&e[o]?.to?i.forEach((t=>t.from=FB(e[n].to,e[o].to,t.to.x))):i.forEach((e=>e.from=e.to))}))}function WB(e,t,i){const n=isNaN(e.x)?t.x:e.x,o=isNaN(e.y)?t.y:e.y,a=t.x-e.x,r=t.y-e.y;return{x:n+(isNaN(a)?0:a*i),y:o+(isNaN(r)?0:r*i)}}var GB={start:0,middle:.5,end:1};function VB(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{path:o}=t;"smooth"===i?.type?function(e,t,i,n){const o=Array.isArray(t)?t:Array.from(t);if(0===o.length)return;if(n?e.lineTo(o[0].x,o[0].y):e.moveTo(o[0].x,o[0].y),o.length<=1)return;const a=o.map(((e,t)=>{const i=0===t?e:o[t-1],n=t===o.length-1?e:o[t+1],a=0===t||t===o.length-1;if(Math.sign(i.y-e.y)===Math.sign(n.y-e.y))return 0;if(!a){const t=Math.abs(i.y-n.y),o=Math.abs(e.y-i.y)/t,a=Math.abs(e.y-n.y)/t;if(o<=BB||1-o<=BB||a<=BB||1-a<=BB)return 0}return(n.y-i.y)/(n.x-i.x)}));0===a[1]&&(a[0]*=2),0===a[a.length-2]&&(a[a.length-1]*=2);for(let r=1;r<o.length;r+=1){const t=o[r-1],n=a[r-1],s=o[r],l=a[r],c=s.x-t.x,d=s.y-t.y;let u=c*i/3,h=c*n*i/3,p=c*i/3,g=c*l*i/3;0===l&&Math.abs(h)>Math.abs(d)&&(u*=Math.abs(d/h),h=Math.sign(h)*Math.abs(d)),0===n&&Math.abs(g)>Math.abs(d)&&(p*=Math.abs(d/g),g=Math.sign(g)*Math.abs(d)),e.cubicCurveTo(t.x+u,t.y+h,s.x-p,s.y-g,s.x,s.y)}}(o,e,i.tension??1,n):"step"===i?.type?function(e,t,i,n){let o;for(const a of t){if(null!=o){const t=o.x<a.x?i:1-i,n=(a.x-o.x)*t+o.x;e.lineTo(n,o?.y??a.y),e.lineTo(n,a.y),e.lineTo(a.x,a.y)}else n?e.lineTo(a.x,a.y):e.moveTo(a.x,a.y);o=a}}(o,e,GB[i.position??"end"],n):function(e,t,i){let n=i;for(const{x:o,y:a}of t)n?e.lineTo(o,a):(e.moveTo(o,a),n=!0)}(o,e,n)}function UB(e,t){let i,n;const o=[],a=()=>{null!=n&&(o.push(n),n=void 0)};for(const r of e){const{from:e,to:o}=r,s=t[r.change];if(null==s||null==e||null==o)continue;const l=WB(e,o,s);if(!1===r.moveTo)n??(n=[]),n.push(l);else if(!0!==r.moveTo&&i){if(i){const e="in"===r.moveTo?s:1-s,{x:t,y:o}=WB(i,l,e);n??(n=[]),n.push({x:t,y:o}),a(),n=[l]}}else a(),n=[l];i=l}return a(),o}function KB(e,t,i,n){UB(e,t).forEach((e=>{VB(e,i,n)}))}function YB(e,t){let{id:i,visible:n,nodeDataDependencies:o}=e;const{seriesRectWidth:a,seriesRectHeight:r}=o;for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];oC(i,"path_properties",t,l,{clipX:0},{clipX:a},{phase:"initial",start:{clip:!0,clipY:r,visible:n},finish:{clip:!1,visible:n}})}function XB(e,t,i){let{id:n}=e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var a=arguments.length,r=new Array(a>4?a-4:0),s=4;s<a;s++)r[s-4]=arguments[s];oC(n,t,i,r,{opacity:0},{opacity:1},{phase:o})}function ZB(e,t,i){let{id:n}=e;for(var o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];oC(n,t,i,a,{opacity:1},{opacity:0},{phase:"remove"})}function qB(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function QB(e,t){let{nodeDataDependencies:i}=e;const n=e=>isFinite(e)?e:0;t.clipX=n(i.seriesRectWidth),t.clipY=n(i.seriesRectHeight)}function JB(e){return"continuous"===e.type||"log"===e.type}function e$(e){return"category"===e.type}function t$(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every(((e,i)=>e===t.domain[i]))&&e.range.every(((e,i)=>e===t.range[i]))}function i$(e,t){return void 0===e||void 0===t?void 0!==e||void 0!==t:JB(e)&&JB(t)?e.type===t.type&&t$(e,t):!(!e$(e)||!e$(t))&&t$(e,t)}function n$(e){return null!=e&&(!!e.range.every((e=>Number.isFinite(e)))&&("category"===e.type?e.domain.every((e=>null!=e)):e.domain.every((e=>Number.isFinite(e)||e instanceof Date))))}function*o$(e){let t=-1,i=0;for(const{point:n}of e){if(n.moveTo){const e=t>=0?{start:t,end:i}:void 0;t=i,i=t,void 0!==e&&(yield e)}i+=1}-1!==t&&(yield{start:t,end:i})}function a$(e,t){let{start:i,end:n}=t;return function*(){for(let t=i;t<n;t+=1)yield e[t].point}()}function r$(e,t){let{start:i,end:n}=t;return function*(){for(let t=n-1;t>=i;t-=1)yield e[t].point}()}function s$(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),"continuous"===t.type&&"number"===typeof e){return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0]}if("log"===t.type&&"number"===typeof e)return t.convert(e);const i=t.domain.findIndex((t=>t===e));if(i>=0)return t.range[i];const n=t.domain.findIndex((t=>{return n=t,null!=(i=e)&&null!=n&&"object"===typeof i&&"object"===typeof n&&("id"in i&&"id"in n?i.id===n.id:i.toString()===n.toString());var i,n}));return n>=0?t.range[n]:NaN}function l$(e,t){const i=Number(e),n=Number(t);return isNaN(i)||isNaN(n)?e===t:Math.abs(n-i)<.25}function c$(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?Boolean(e):e?"in":"out"}function d$(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{backfillSplitMode:n="intersect"}=i,o=[],a={added:{},moved:{},removed:{}},r=function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move";e&&(isNaN(e.point.x)||isNaN(e.point.y))&&(e=t);const r={from:e?.point,to:t?.point,moveTo:c$(e?.point.moveTo,t?.point.moveTo),change:n};"move"===n?(a.moved[i]=r,u++,h++):"in"===n?(a.added[i]=r,h++):"out"===n&&(a.removed[i]=r,u++),o.push(r)},{min:s,max:l}=$B(t.nodeData),{min:c,max:d}=$B(e.nodeData);let u=0,h=0;for(;u<t.nodeData.length||h<e.nodeData.length;){const i=t.nodeData[u],n=e.nodeData[h],o=i?s$(i.xValue??NaN,e.scales.x):void 0,a=n?s$(n.xValue??NaN,t.scales.x):void 0,p=void 0;if(null!=o&&l$(o,n?.point.x))r(i,n,n.xValue,"move");else if(null!=o&&o<(c?.point.x??-1/0))r(i,p,i.xValue,"out");else if(null!=o&&o>(d?.point.x??1/0))r(i,p,i.xValue,"out");else if(null!=a&&a<(s?.point.x??-1/0))r(p,n,n.xValue,"in");else if(null!=a&&a>(l?.point.x??1/0))r(p,n,n.xValue,"in");else if(null!=o&&o<n?.point.x)r(i,p,i.xValue,"out");else if(null!=a&&a<i?.point.x)r(p,n,n.xValue,"in");else if(i)r(i,p,i.xValue,"out");else{if(!n)throw new Error("Unable to process points");r(p,n,n.xValue,"in")}}return HB(o,n),{result:o,resultMap:a}}function u$(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{backfillSplitMode:o="intersect",multiDatum:a=!1}=n,r=[],s={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let d,u;const h=(e,t)=>{var i;const n=c[t.change];a?((i=l[n])[e]??(i[e]=[]),l[n][e].push(t)):s[n][e]=t,d=t,u=pE(e)};let p=0,g=0,f=!1;for(;p<t.nodeData.length||g<e.nodeData.length;){const n=t.nodeData[p],o=e.nodeData[g],s=pE(n?.xValue),l=pE(o?.xValue);let c;if(s===l)c={change:"move",moveTo:c$(n.point.moveTo??!1,o.point.moveTo),from:n.point,to:o.point},h(n?.xValue,c),p++,g++;else if(i?.removed.has(String(s)))c={change:"out",moveTo:n.point.moveTo??!1,from:n.point},h(n?.xValue,c),p++;else if(i?.added.has(String(l)))c={change:"in",moveTo:o.point.moveTo??!1,to:o.point},h(o?.xValue,c),g++;else if(a&&d&&u===s)c={...d},h(n?.xValue,c),p++;else{if(!a||!d||u!==l){f=!0;break}c={...d},h(o?.xValue,c),g++}r.push(c)}let m=-1/0;return f||(f=r.some((e=>{const{change:t,to:{x:i=-1/0}={}}=e;if("out"===t)return;const n=i<m;return m=i,n}))),f?{result:void 0,resultMap:void 0}:(HB(r,o),{result:r,resultMap:a?l:s})}function h$(e,t,i){let n="updated";const o=e=>e.visible;if(!o(t)&&o(e))n="added";else if(o(t)&&!o(e))n="removed";else for(let a=0;a<i.length&&"move"===i[a].change&&i[a].from?.x===i[a].to?.x&&i[a].from?.y===i[a].to?.y;a++)if(a===i.length-1)return"no-op";return n}function p$(e,t){const i="none"===t?"updated":e,n={fromFn:t=>{let n;return n="removed"===e?{finish:{visible:!1}}:"added"===e?{start:{visible:!0}}:{},{phase:iC[i],...n}},toFn:e=>({phase:iC[i]})};return"fade"===t?{fromFn:t=>({opacity:"added"===e?0:t.opacity,...n.fromFn(t)}),toFn:t=>({opacity:"removed"===e?0:1,...n.toFn(t)})}:n}function g$(e,t,i,n,o,a){const r=h$(e,t,i);return{status:r,path:{addPhaseFn:(e,t)=>{a(i,{move:1,in:e},t,o)},updatePhaseFn:(e,t)=>{a(i,{move:e},t,o)},removePhaseFn:(e,t)=>{a(i,{move:0,out:e},t,o)}},pathProperties:p$(r,n)}}function f$(e,t,i,n){const o="category"===e.scales.x?.type;if(o!==("category"===t.scales.x?.type)||!n$(e.scales.x)||!n$(t.scales.x))return;const{result:a,resultMap:r}=o?u$(e,t,i):d$(e,t);let s="updated";if(t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added"),void 0===a||void 0===r)return;const l=(i?.changed??!0)||function(e,t){return!i$(e.scales.x,t.scales.x)||!i$(e.scales.y,t.scales.y)}(e,t)||"updated"!==s;return{...g$(e,t,a,"fade",n,KB),marker:zB(r,s),hasMotion:l}}function m$(e){return pE(e).valueOf()}function y$(e,t){let{data:i}=e;return i.map(((e,i)=>({xValue0Index:t.indexOf(m$(e.xValue0)),xValue1Index:t.indexOf(m$(e.xValue1)),datumIndex:i})))}function v$(e,t){const i=new Set;for(const{xValue0:s,xValue1:l}of e.data){const e=m$(s),t=m$(l);i.add(e).add(t)}const n=Array.from(i).sort(((t,i)=>s$(t,e.scales.x)-s$(i,e.scales.x))),o=[];for(const{xValue0:s,xValue1:l}of t.data){const e=m$(s),t=m$(l);i.has(e)||(i.add(e),o.push(e)),i.has(t)||(i.add(t),o.push(t))}o.sort(((e,i)=>s$(e,t.scales.x)-s$(i,t.scales.x)));const a=n;let r=0;for(const s of o){e:for(let e=a.length;e>r;e-=1){if(s$(s,t.scales.x)>s$(a[e],t.scales.x)){r=e+1;break e}}a.splice(r,0,s),r+=1}if(!function(e,t){let i=-1/0;for(const n of e){const e=s$(n,t.scales.x);if(Number.isFinite(e)){if(e<i)return!1;i=e}}return!0}(a,t))return;return{axisValues:a,oldDataAxisIndices:y$(t,a),newDataAxisIndices:y$(e,a)}}function b$(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const n=vB(e),o=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),a=n[0].x+(t-i.xValue0Index)*o;return xB(e,a,a+o)}function x$(e,t){const[i,n]=vB(e),o=s$(0,t.scales.y);return bB(e,{x:i.x,y:o},{x:n.x,y:o})}function S$(e,t,i,n,o){let a,r;if(n.xValue0Index>=o.xValue1Index){const e=i.findLast((e=>e.xValue1Index<=o.xValue1Index))?.datumIndex,n=null!=e?t.data[e]:void 0;a=n?.xValue1,r=n?.yValue1}else if(n.xValue0Index<=o.xValue0Index){const e=i.find((e=>e.xValue0Index>=o.xValue0Index))?.datumIndex,n=null!=e?t.data[e]:void 0;a=n?.xValue0,r=n?.yValue0}if(null==a||null==r)return x$(e,t);const s={x:s$(a,t.scales.x),y:s$(r,t.scales.y)};return bB(e,s,s)}function M$(e,t){const i=m$(e.xValue0),n=m$(e.xValue1);return t?.find((e=>m$(e.xValue0)===i&&m$(e.xValue1)===n))?.span}function A$(e,t,i,n,o,a){const r=e.data[i.datumIndex],s=r.span,l=M$(r,n);if(null!=l)a.removed.push({from:l,to:l}),a.moved.push({from:l,to:s}),a.added.push({from:s,to:s});else{const n=S$(s,e,t,i,o);a.added.push({from:n,to:s})}}function k$(e,t,i,n,o,a){const r=e.data[i.datumIndex],s=r.span,l=M$(r,n);if(null!=l)a.removed.push({from:s,to:s}),a.moved.push({from:s,to:l}),a.added.push({from:l,to:l});else{const n=S$(s,e,t,i,o);a.removed.push({from:s,to:n})}}function w$(e,t,i,n,o){const a=t[o.xValue0Index],r=i.data.find((e=>m$(e.xValue0)===a)),s=t[o.xValue1Index],l=i.data.find((e=>m$(e.xValue1)===s));if(null==r||null==l)return;const[{x:c},{x:d}]=vB(e),u=s$(r.xValue0,i.scales.x),h=s$(r.yValue0,i.scales.y),p=s$(l.xValue1,i.scales.x),g=s$(l.yValue1,i.scales.y);let f=n.data[o.datumIndex].span;return f=bB(f,{x:u,y:h},{x:p,y:g}),f=xB(f,c,d),f}function C$(e,t,i,n,o,a,r,s){const l=n+1,c=a.find((e=>e.xValue0Index<=n&&e.xValue1Index>=l)),d=o.find((e=>e.xValue0Index<=n&&e.xValue1Index>=l)),u=t.zeroData,h=e.zeroData;if(null==c&&null!=d)return void A$(e,o,d,u,r,s);if(null!=c&&null==d)return void k$(t,a,c,h,r,s);if(null==c||null==d)return;let p;p=c.xValue0Index===d.xValue0Index&&c.xValue1Index===d.xValue1Index?0:c.xValue0Index<=d.xValue0Index&&c.xValue1Index>=d.xValue1Index?-1:c.xValue0Index>=d.xValue0Index&&c.xValue1Index<=d.xValue1Index?1:0;const g=b$(t.data[c.datumIndex].span,n,c),f=b$(e.data[d.datumIndex].span,n,d);if(1===p){const n=w$(g,i,t,e,d);null!=n?(s.removed.push({from:g,to:n}),s.moved.push({from:n,to:f}),s.added.push({from:f,to:f})):k$(t,a,c,h,r,s)}else if(-1===p){const n=w$(f,i,e,t,c);null!=n?(s.removed.push({from:g,to:g}),s.moved.push({from:g,to:n}),s.added.push({from:n,to:f})):A$(e,o,d,u,r,s)}else s.removed.push({from:g,to:g}),s.moved.push({from:g,to:f}),s.added.push({from:f,to:f})}function I$(e,t){const i={removed:[],moved:[],added:[]},n=v$(e,t);return null==n?function(e,t,i){for(const n of t.data){const e=n.span,o=M$(n,t.zeroData)??x$(e,t);i.removed.push({from:e,to:o})}for(const n of e.data){const t=n.span,o=M$(n,e.zeroData)??x$(t,e);i.added.push({from:o,to:t})}}(e,t,i):function(e,t,i,n){const{axisValues:o,oldDataAxisIndices:a,newDataAxisIndices:r}=e,s={xValue0Index:Math.max(a.at(0)?.xValue0Index??-1/0,r.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(a.at(-1)?.xValue1Index??1/0,r.at(-1)?.xValue1Index??1/0)};for(let l=0;l<o.length-1;l+=1)C$(t,i,o,l,r,a,s,n)}(n,e,t,i),i}function D$(e,t,i,n){for(let o=0;o<i.length;o+=1){const a=i[o],r=n[o];EB(t.path,a.from,a.to,e,1,!1),EB(t.path,r.from,r.to,e,2,!0),t.path.closePath()}}function N$(e,t,i){for(const n of i)EB(t.path,n.from,n.to,e,1,!1)}function E$(e,t){if("category"===e.scales.x?.type!==("category"===t.scales.x?.type)||!n$(e.scales.x)||!n$(t.scales.x))return;let i="updated";t.visible&&!e.visible?i="removed":!t.visible&&e.visible&&(i="added");const n=I$({scales:e.scales,data:e.fillData.spans,visible:e.visible},{scales:t.scales,data:t.fillData.spans,visible:t.visible}),o=I$({scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible},{scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible}),a=I$({scales:e.scales,data:e.strokeData.spans,visible:e.visible,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,visible:t.visible,zeroData:t.fillData.phantomSpans}),r="none",s=function(e,t,i,n){return{status:e,path:{addPhaseFn:(e,n)=>D$(e,n,t.added,i.added),updatePhaseFn:(e,n)=>D$(e,n,t.moved,i.moved),removePhaseFn:(e,n)=>D$(e,n,t.removed,i.removed)},pathProperties:p$(e,n)}}(i,n,o,r),l=function(e,t,i){return{status:e,path:{addPhaseFn:(e,i)=>N$(e,i,t.added),updatePhaseFn:(e,i)=>N$(e,i,t.moved),removePhaseFn:(e,i)=>N$(e,i,t.removed)},pathProperties:p$(e,i)}}(i,a,r);return{status:i,fill:s,stroke:l}}var O$=class extends kP{constructor(e){super({moduleCtx:e,directionKeys:xP,directionNames:SP,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:qB({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:sB,marker:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...PB(0,t)})}}),this.properties=new yB}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:r,yFilterKey:s,connectMissingData:l,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=this.axes.x?.scale,h=this.axes.y?.scale,{xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:u,yScale:h}),f={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},m=[];hw(c)&&m.push(Yj(Object.values(f),c,"range")),d&&m.push(qj());const y={invalidValue:null};l&&o>1&&(y.invalidValue=0),i||(y.forceValue=0),await this.requestDataModel(e,t,{props:[jj(a,p,{id:"xValue"}),Bj(r,g,{id:"yValueRaw",...y}),...null!=s?[Bj(s,g,{id:"yFilterRaw"})]:[],...Wj(r,g,{id:"yValueStack",...y,groupId:f.stack}),Bj(r,g,{id:"yValue",...y,groupId:f.value}),...Hj(r,"window","current",{id:"yValueEnd",...y,groupId:f.values},g),...Hj(r,"normal","current",{id:"yValueCumulative",...y,groupId:f.marker},g),...m],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||0===t.data.length)return[];const o=n.y,a=i.resolveProcessedDataDefById(this,"xValue"),r=i.getDomain(this,"xValue","key",t),s=i.getDomain(this,"yValueEnd","value",t);if("x"===e)return"key"===a?.def.type&&"category"===a.def.valueType?r:WT(cC(r));if(o instanceof PP||o instanceof zP)return WT(s);return WT([s[0]>0?0:s[0],s[1]<0?0:s[1]])}async createNodeData(){const{axes:e,data:t,processedData:{data:i}={},dataModel:n}=this,o=e.x,a=e.y;if(!o||!a||!t||!n||!this.properties.isValid())return;const{yKey:r,xKey:s,yFilterKey:l,marker:c,label:d,fill:u,stroke:h,connectMissingData:p}=this.properties,{scale:g}=o,{scale:f}=a,{isContinuousY:m}=this.getScaleInformation({xScale:g,yScale:f}),y=(g.bandwidth??0)/2,v=n.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),b=null!=l?n.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,x=n.resolveProcessedDataIndexById(this,"yValueStack"),S=(e,t,i)=>{let n;return(hw(this.properties.normalizedTo)?m&&uE(i):!isNaN(i))&&(n=t),{x:g.convert(e)+y,y:f.convert(n),size:c.size}},M=r,A=[],k=[],{visibleSameStackCount:w}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let C=-1,I=!1;i?.forEach((e=>{const{keys:t,keys:[i],datum:o,values:a}=e;a.forEach(((e,a)=>{C++;const l=o[a],p=n.resolveProcessedDataDefsValues(v,{keys:t,values:e}),{yValueRaw:g,yValueCumulative:f,yValueEnd:m}=p,y=Number.isFinite(g),x=S(i,+f,g),w=null!=b?e[b]===g:void 0;if(!1===w&&(I=!0),y&&c&&k.push({index:C,series:this,itemId:M,datum:l,midPoint:{x:x.x,y:x.y},cumulativeValue:m,yValue:g,xValue:i,yKey:r,xKey:s,point:x,fill:c.fill??u,stroke:c.stroke??h,strokeWidth:c.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:w}),y&&d){const e=this.getLabelText(d,{value:g,datum:l,xKey:s,yKey:r,xName:this.properties.xName,yName:this.properties.yName},bj);A.push({index:C,series:this,itemId:r,datum:l,x:x.x,y:x.y,labelText:e})}}))}));const{interpolation:D}=this.properties,N=e=>{let t;const i=e.map((e=>e.point));switch(D.type){case"linear":t=function(e){const t=[];let i=0,n=NaN,o=NaN;for(const{x:a,y:r}of e){if(i>0){const e=1===i;t.push({type:"linear",moveTo:e,x0:n,y0:o,x1:a,y1:r})}i+=1,n=a,o=r}return t}(i);break;case"smooth":t=function(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const n=i.map(((e,t)=>{const n=0===t?e:i[t-1],o=t===i.length-1?e:i[t+1],a=0===t||t===i.length-1;if(Math.sign(n.y-e.y)===Math.sign(o.y-e.y))return 0;if(!a){const t=Math.abs(n.y-o.y),i=Math.abs(e.y-n.y)/t,a=Math.abs(e.y-o.y)/t;if(i<=MB||1-i<=MB||a<=MB||1-a<=MB)return 0}return(o.y-n.y)/(o.x-n.x)}));0===n[1]&&(n[0]*=2),0===n[n.length-2]&&(n[n.length-1]*=2);const o=[];for(let a=1;a<i.length;a+=1){const e=i[a-1],r=n[a-1],s=i[a],l=n[a],c=s.x-e.x,d=s.y-e.y;let u=c*t/3,h=c*r*t/3,p=c*t/3,g=c*l*t/3;0===l&&Math.abs(h)>Math.abs(d)&&(u*=Math.abs(d/h),h=Math.sign(h)*Math.abs(d)),0===r&&Math.abs(g)>Math.abs(d)&&(p*=Math.abs(d/g),g=Math.sign(g)*Math.abs(d)),o.push({type:"cubic",moveTo:1===a,cp0x:e.x,cp0y:e.y,cp1x:e.x+u,cp1y:e.y+h,cp2x:s.x-p,cp2y:s.y-g,cp3x:s.x,cp3y:s.y})}return o}(i,D.tension);break;case"step":t=function(e,t){const i=[];let n=0,o=NaN,a=NaN;const r="number"===typeof t?t:SB[t];for(const{x:s,y:l}of e){if(n>0){const e=1===n,t=o+(s-o)*r;i.push({type:"step",moveTo:e,x0:o,y0:a,x1:s,y1:l,stepX:t})}n+=1,o=s,a=l}return i}(i,D.position)}return t.map(((t,i)=>({span:t,xValue0:e[i].xDatum,yValue0:e[i].yDatum,xValue1:e[i+1].xDatum,yValue1:e[i+1].yDatum})))},E=i?.flatMap((e=>{const{keys:[t],values:i}=e;return i.map((e=>({xDatum:t,values:e})))})),O=(e,t)=>({point:{x:g.convert(e)+y,y:f.convert(t)},xDatum:e,yDatum:t}),L=e=>{const t=[];if(null==E)return[];for(let i=0;i<E.length;i+=1){const{xDatum:n,values:o}=E[i],a=o[x],r=a[e],s=Number.isFinite(r);if(p&&!s)continue;const l=E[i-1]?.values[x],c=E[i+1]?.values[x];let d=0,u=0;for(let t=0;t<=e;t+=1){const e=a[t];if(Number.isFinite(e)){(null==l||Number.isFinite(l[t]))&&(d+=e),(null==c||Number.isFinite(c[t]))&&(u+=e)}}const h=t[t.length-1];if(p||d===u&&s){const e=Math.max(d,u),i=O(n,e);Array.isArray(h)?h.push(i):null!=h?(h.skip+=1,t.push([i])):t.push([i])}else if(!s&&Array.isArray(h)&&1===h.length)t[t.length-1]={skip:1};else{const e=O(n,d),i=O(n,u);Array.isArray(h)?h.push(e):null!=h&&(h.skip+=1),t.push(s?[i]:{skip:0})}}return(e=>e.flatMap((e=>Array.isArray(e)?N(e):new Array(e.skip).fill(null))))(t)},T=this.seriesGrouping?.stackIndex??0,R=()=>{if(null==E)return[];const e=E.map((e=>{let{xDatum:t,values:i}=e;const n=i[x][T];if(!p||Number.isFinite(n))return O(t,0)})).filter((e=>null!=e));return N(e)},P=L(T),z=P.map((()=>null));for(let $=T-1;$>=-1;$-=1){let e;for(let t=0;t<z.length;t+=1)null==z[t]&&(e??(e=-1!==$?L($):R()),z[t]=e[t])}const j=P.map(((e,t)=>e??z[t])),B=P.filter((e=>null!=e));return{itemId:M,fillData:{itemId:M,spans:j,phantomSpans:z},strokeData:{itemId:M,spans:B},labelData:A,nodeData:k,scales:this.calculateScaling(),visible:this.visible,stackVisible:w>0,crossFiltering:I}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(hP(e))}async updatePathNodes(e){const{opacity:t,visible:i,animationEnabled:n}=e,[o,a]=e.paths,r=!0===this.contextNodeData?.crossFiltering,s=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity*(r?.25:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||n}),o.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(r?.125:1),fillShadow:this.properties.shadow,opacity:t,visible:i||n}),QB(this,a),QB(this,o)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.checkPathDirty()}updateFillPath(e,t){const{spans:i,phantomSpans:n}=t.fillData,[o]=e,{path:a}=o;a.clear(!0);for(let r=0;r<i.length;r+=1){const{span:e}=i[r],t=n[r].span;NB(a,e,1,!1),NB(a,t,2,!0),a.closePath()}o.checkPathDirty()}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,n]=e,{path:o}=n;o.clear(!0);for(const{span:a}of i)NB(o,a,1,!1);n.checkPathDirty()}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e,n=this.properties.marker.enabled||!0===this.contextNodeData?.crossFiltering;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,marker:a,fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:d,highlightStyle:u}=this.properties,h=Lw(i&&u.item,a.getStyle(),{fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:d});t.each(((e,t)=>{this.updateMarkerStyle(e,a,{datum:t,highlighted:i,xKey:n,yKey:o},h,{selected:t.selected})})),i||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:r,color:s}=this.properties.label;t.each(((e,t)=>{const{x:l,y:c,labelText:d}=t;d&&i&&this.visible?(e.fontStyle=n,e.fontWeight=o,e.fontSize=a,e.fontFamily=r,e.textAlign="center",e.textBaseline="bottom",e.text=d,e.x=l,e.y=c-10,e.fill=s,e.visible=!0):e.visible=!1}))}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{xKey:o,xName:a,yName:r,tooltip:s,marker:l}=this.properties,{yKey:c,xValue:d,yValue:u,datum:h,itemId:p}=e,g=i.x,f=i.y;if(!this.properties.isValid()||!(g&&f&&kw(u))||!n)return KN;const m=g.formatDatum(d),y=f.formatDatum(u),v=Sj(r),b=Sj(m+": "+y),x=Lw({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:S}=this.getMarkerStyle(l,{datum:e,xKey:o,yKey:c,highlighted:!1},x);return s.toTooltipHtml({title:v,content:b,backgroundColor:S},{datum:h,itemId:p,xKey:o,xName:a,yKey:c,yName:r,color:S,title:v,seriesId:t})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==e)return[];const{yKey:t,yName:i,fill:n,stroke:o,fillOpacity:a,strokeOpacity:r,strokeWidth:s,lineDash:l,marker:c,visible:d,legendItemName:u}=this.properties,h=!c.enabled||void 0===c.fill;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:d,label:{text:u??i??t},symbols:[{marker:{shape:c.shape,fill:h?n:c.fill,fillOpacity:h?a:c.fillOpacity,stroke:c.stroke??o,strokeOpacity:c.strokeOpacity??r,strokeWidth:c.strokeWidth??0,enabled:c.enabled||s<=0},line:{stroke:o,strokeOpacity:r,strokeWidth:s,lineDash:l}}],legendItemName:u}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:o}=e,{animationManager:a}=this.ctx;this.updateAreaPaths(o,n),YB(this,a,...o),PI([t],PB),TB(this,a,t),aB(this,"labels",a,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,contextData:o,paths:a,previousContextData:r}=e,[s,l]=a;if(null==s&&null==l)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(a,o)},d=()=>{t.skipCurrentBatch(),c()};if(null==o||null==r)return c(),OB(this,t,"added",i),XB(this,"fill_path_properties",t,"add",s),XB(this,"stroke_path_properties",t,"add",l),void aB(this,"labels",t,n);if(o.crossFiltering!==r.crossFiltering)return void d();const u=E$(o,r);void 0!==u?"no-op"!==u.status&&(OB(this,t,void 0,i),nC(this.id,"fill_path_properties",t,[s],u.fill.pathProperties),vj(this.id,"fill_path_update",t,[s],u.fill.path),nC(this.id,"stroke_path_properties",t,[l],u.stroke.pathProperties),vj(this.id,"stroke_path_update",t,[l],u.stroke.path),aB(this,"labels",t,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,o)})):d()}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new DD}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return jB(this,e)}};O$.className="AreaSeries",O$.type="area";var L$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new O$(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Rz,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:wz,color:Cz}}},paletteFactory:e=>{const{marker:t}=fz(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function T$(e,t){return i=>t(i)?[{...e[0],position:e[1].position},{...e[1],position:e[0].position}]:e}function R$(e,t){for(const i of t){const t=i.datum;void 0===t?MA.error("undefined datum"):e.addValue(i,t)}}function P$(e,t){const{x:i,y:n}=t,{nearest:o,distanceSquared:a}=e.getQuadTree().find(i,n);if(void 0!==o)return{datum:o.value,distance:Math.sqrt(a)}}var z$=class extends AP{constructor(){super(...arguments),this.direction="vertical"}};pA([TC(SI)],z$.prototype,"direction",2);var j$=class extends kP{constructor(){super(...arguments),this.groupScale=new NC,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i="boolean"===typeof t?1:.5,n=kw(this.smallestDataInterval)?this.smallestDataInterval*i:0,o=cC(e)??[NaN,NaN];return"boolean"===typeof t?o[t?0:1]-=(t?1:-1)*n:(o[0]-=n,o[1]+=n),WT(o)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return lC.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}updateGroupScale(e){const t=[],{groupScale:i}=this,n=this.getBandwidth(e),{index:o,visibleGroupCount:a}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let r=0;r<a;r++)t.push(String(r));i.domain=t,i.range=[0,n??0],e instanceof oO?i.paddingInner=e.groupPaddingInner:i.padding=e instanceof mO?.1:0,i.round=0!==i.padding;return{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:o}}resolveKeyDirection(e){return"x"===this.getBarDirection()?"x"===e?"y":"x":e}initQuadTree(e){R$(e,this.datumNodesIter())}pickNodeClosestDatum(e){return P$(this,e)}},B$=class extends nE{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};pA([TC(wI(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"outside",deprecatedTo:"outside-end"}],"a placement"))],B$.prototype,"placement",2),pA([TC(HC)],B$.prototype,"padding",2);var $$=class extends z${constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new cB,this.label=new B$,this.tooltip=new pB,this.sparklineMode=!1}};function F$(e,t){e.crisp=t.crisp??!0,e.fill=t.fill,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.fillOpacity=t.fillOpacity,e.strokeOpacity=t.strokeOpacity,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=t.fillShadow,e.topLeftCornerRadius=!1!==t.topLeftCornerRadius?t.cornerRadius??0:0,e.topRightCornerRadius=!1!==t.topRightCornerRadius?t.cornerRadius??0:0,e.bottomRightCornerRadius=!1!==t.bottomRightCornerRadius?t.cornerRadius??0:0,e.bottomLeftCornerRadius=!1!==t.bottomLeftCornerRadius?t.cornerRadius??0:0,e.visible=t.visible??!0}function _$(e){let{datum:t,isHighlighted:i,style:n,highlightStyle:o,itemStyler:a,seriesId:r,ctx:{callbackCache:s},...l}=e;const{fill:c,fillOpacity:d,stroke:u,strokeWidth:h,strokeOpacity:p,lineDash:g,lineDashOffset:f,cornerRadius:m=0}=Lw(i&&o,n);let y;return a&&(y=s.call(a,{datum:t.datum,xKey:t.xKey,fill:c,fillOpacity:d,stroke:u,strokeWidth:h,strokeOpacity:p,lineDash:g,lineDashOffset:f,cornerRadius:m,highlighted:i,seriesId:r,...l})),{fill:y?.fill??c,fillOpacity:y?.fillOpacity??d,stroke:y?.stroke??u,strokeWidth:y?.strokeWidth??h,strokeOpacity:y?.strokeOpacity??p,lineDash:y?.lineDash??g,lineDashOffset:y?.lineDashOffset??f,cornerRadius:y?.cornerRadius??m,topLeftCornerRadius:n.topLeftCornerRadius,topRightCornerRadius:n.topRightCornerRadius,bottomRightCornerRadius:n.bottomRightCornerRadius,bottomLeftCornerRadius:n.bottomLeftCornerRadius,fillShadow:n.fillShadow}}function H$(e,t,i,n){if(null!=t){const[e,i]=t;if(0!==e||1!==i)return!1}if(lC.is(e)){const t=e.calcBandwidth(n)-e.calcBandwidth(i);if(t>0&&t<1)return!1}return!0}pA([TC(_C)],$$.prototype,"xKey",2),pA([TC(_C,{optional:!0})],$$.prototype,"xName",2),pA([TC(_C)],$$.prototype,"yKey",2),pA([TC(_C,{optional:!0})],$$.prototype,"yName",2),pA([TC(_C,{optional:!0})],$$.prototype,"yFilterKey",2),pA([TC(_C,{optional:!0})],$$.prototype,"stackGroup",2),pA([TC(HC,{optional:!0})],$$.prototype,"normalizedTo",2),pA([TC(nI)],$$.prototype,"fill",2),pA([TC(UC)],$$.prototype,"fillOpacity",2),pA([TC(nI)],$$.prototype,"stroke",2),pA([TC(VC)],$$.prototype,"strokeWidth",2),pA([TC(UC)],$$.prototype,"strokeOpacity",2),pA([TC(pI)],$$.prototype,"lineDash",2),pA([TC(VC)],$$.prototype,"lineDashOffset",2),pA([TC(VC)],$$.prototype,"cornerRadius",2),pA([TC($C,{optional:!0})],$$.prototype,"crisp",2),pA([TC(FC,{optional:!0})],$$.prototype,"itemStyler",2),pA([TC(jC,{optional:!0})],$$.prototype,"shadow",2),pA([TC(jC)],$$.prototype,"label",2),pA([TC(jC)],$$.prototype,"tooltip",2),pA([TC($C)],$$.prototype,"sparklineMode",2);var W$=e=>jk(e.yValue??0);function G$(e,t,i){const{startingX:n,startingY:o}=function(e,t){const i=t[e?"y":"x"];let n=1/0,o=0;if(!i)return{startingX:n,startingY:o};e?o=i.scale.convert(lC.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(lC.is(i.scale)?0:Math.min(...i.range));return{startingX:n,startingY:o}}(e,t);return{isVertical:e,calculate:(t,i)=>{let a=e?t.x:n,r=e?o:t.y,s=e?t.width:0,l=e?0:t.height;const{opacity:c}=t;let d;return i&&(isNaN(a)||isNaN(r))&&(({x:a,y:r}=i),s=e?i.width:0,l=e?0:i.height,e&&!W$(i)?r+=i.height:!e&&W$(i)&&(a+=i.width)),d=null==t.clipBBox?void 0:W$(t)?e?new Vk(a,r-l,s,l):new Vk(a-s,r,s,l):new Vk(a,r,s,l),{x:a,y:r,width:s,height:l,clipBBox:d,opacity:c}},mode:i}}function V$(e,t){return{isVertical:e,calculate:t=>({x:e?t.x:t.x+t.width/2,y:e?t.y+t.height/2:t.y,width:e?t.width:0,height:e?0:t.height,clipBBox:t.clipBBox,opacity:t.opacity}),mode:t}}function U$(e){const t=e=>null==e||isNaN(e.x)||isNaN(e.y);return{toFn:(i,n,o)=>{let a;return a="removed"===o&&null==i.datum&&"fade"===e.mode?{...K$(i,n),opacity:0}:"removed"===o||t(n)?e.calculate(n,i.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity},a},fromFn:(i,n,o)=>{let a;"updated"===o&&t(n)?o="removed":"updated"===o&&t(i.previousDatum)&&(o="added"),a="added"===o&&null==i.previousDatum&&"fade"===e.mode?{...K$(i,n),opacity:0}:"unknown"===o||"added"===o?e.calculate(n,i.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity};const r=iC[o];return{...a,phase:r}}}}function K$(e,t){let{x:i,y:n,width:o,height:a,clipBBox:r,opacity:s}=t;return{x:i,y:n,width:o,height:a,clipBBox:r,opacity:s}}function Y$(e,t,i){if(void 0===e)return;const{x:n,y:o,width:a,height:r}=e;return CD.toCanvas(t,new Vk(n,o,a,r)).clip(i)}function X$(e,t,i){if(t.enabled&&i){const{x:n,y:o,text:a,textAlign:r,textBaseline:s}=i,{color:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h}=t;e.setProperties({visible:!0,x:n,y:o,text:a,fill:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h,textAlign:r,textBaseline:s})}else e.visible=!1}var Z$={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function q$(e){let{isUpward:t,isVertical:i,placement:n,padding:o=0,rect:a}=e,r=a.x+a.width/2,s=a.y+a.height/2,l="center",c="middle";if("inside-center"!==n){const e=(t?1:-1)*(i?-1:1),{direction:d,textAlignment:u}=Z$[n],h=.5*(d+1);if(i){s=(t?a.y+a.height:a.y)+a.height*e*h+o*u*e,c=u===e?"top":"bottom"}else{r=(t?a.x:a.x+a.width)+a.width*e*h+o*u*e,l=u===e?"left":"right"}}return{x:r,y:s,textAlign:l,textBaseline:c}}var Q$={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",outside:"outside-end"},J$=class extends j${constructor(e){super({moduleCtx:e,directionKeys:xP,directionNames:SP,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:K$,label:sB}}),this.properties=new $$}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return null!=this.properties.yFilterKey&&(null==this.seriesGrouping||0===this.seriesGrouping.stackIndex)}async processData(e){if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:t=this.id}={},data:i=[]}=this,{xKey:n,yKey:o,yFilterKey:a,normalizedTo:r}=this.properties,s=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:d,xScaleType:u,yScaleType:h}=this.getScaleInformation({xScale:l,yScale:c}),p=`bar-stack-${t}-yValues`,g=`${p}-trailing`,f=[];kw(r)&&f.push(Yj([p,g],Math.abs(r),"range")),s&&this.processedData&&f.push(nB(this.processedData)),s&&f.push(qj());const m=this.visible?{}:{forceValue:0},{processedData:y}=await this.requestDataModel(e,i,{props:[jj(n,u,{id:"xValue"}),Bj(o,h,{id:"yValue-raw",invalidValue:null,...m}),...this.crossFilteringEnabled()?[Bj(a,h,{id:"yFilterValue",invalidValue:null,...m})]:[],...Hj(o,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:p,separateNegative:!0,...m},h),...Hj(o,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0,...m},h),...d?[Gj,Vj]:[],...f],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=y.reduced?.smallestKeyInterval,this.largestDataInterval=y.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!i||!t?.data.length)return[];const n=i.resolveProcessedDataDefById(this,"xValue"),o=i.getDomain(this,"xValue","key",t);let a=i.getDomain(this,"yValue-end","value",t);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(null!=r&&(a=[Math.min(a[0],r[0]),Math.max(a[1],r[1])]),e===this.getCategoryDirection())return"key"===n?.def.type&&"category"===n.def.valueType?o:this.padBandExtent(o);if(this.getValueAxis()instanceof PP)return WT(a);return WT([Math.min(0,a[0]),Math.max(0,a[1])])}async createNodeData(){const{dataModel:e}=this,t=this.getCategoryAxis(),i=this.getValueAxis();if(!e||!t||!i||!this.properties.isValid())return;const n=t.scale,o=i.scale,{xKey:a,yKey:r,xName:s,yName:l,fill:c,stroke:d,strokeWidth:u,cornerRadius:h,legendItemName:p,label:g}=this.properties,f=i.isReversed(),{barWidth:m,groupIndex:y}=this.updateGroupScale(t),v=lC.is(n)?-.5*m:0,b=e.resolveProcessedDataIndexById(this,"xValue"),x=e.resolveProcessedDataIndexById(this,"yValue-raw"),S=this.crossFilteringEnabled()?e.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,M=e.resolveProcessedDataIndexById(this,"yValue-start"),A=e.resolveProcessedDataIndexById(this,"yValue-end"),k=e.resolveProcessedDataIndexById(this,"yValue-range"),w=!this.ctx.animationManager.isSkipped(),C=e=>{let{datum:t,valueIndex:i,xValue:s,yValue:l,cumulativeValue:p,phantom:b,currY:x,prevY:S,isPositive:M,yRange:A,labelText:k,crossScale:w=1}=e;const C=n.convert(s),D=M!==f,N=C+I.convert(String(y))+v,E=o.convert(x),O=o.convert(S),L="x"===this.getBarDirection(),T=o.convert(A),R=o.convert(0),P=.5*m*(1-w),z={x:L?Math.min(E,O):N+P,y:L?N+P:Math.min(E,O),width:L?Math.abs(O-E):m*w,height:L?m*w:Math.abs(O-E)},j=new Vk(z.x,z.y,z.width,z.height),B={x:L?Math.min(R,T):N+P,y:L?N+P:Math.min(R,T),width:L?Math.abs(R-T):m*w,height:L?m*w:Math.abs(R-T)},$=this.shouldFlipXY()?z.height:z.width;return{series:this,itemId:b?oB(r,b):r,datum:t,valueIndex:i,cumulativeValue:p,phantom:b,xValue:s,yValue:l,yKey:r,xKey:a,capDefaults:{lengthRatioMultiplier:$,lengthMax:$},x:B.x,y:B.y,width:B.width,height:B.height,midPoint:{x:z.x+z.width/2,y:z.y+z.height/2},fill:c,stroke:d,opacity:1,strokeWidth:u,cornerRadius:h,topLeftCornerRadius:L!==D,topRightCornerRadius:D,bottomRightCornerRadius:L===D,bottomLeftCornerRadius:!D,clipBBox:j,label:null!=k?{text:k,...q$({isUpward:D,isVertical:!L,placement:Q$[g.placement],padding:g.padding,rect:z})}:void 0,missing:null==l,focusable:!b}},{groupScale:I,processedData:D}=this,N=[],E=[],O=[];return D?.data.forEach((e=>{let{keys:t,datum:i,values:n,aggValues:o}=e;n.forEach(((e,n)=>{const c=t[b],d=e[x],u=Number(e[M]),h=null!=S?Number(e[S]):void 0,g=Number(e[A]),f=d>=0&&!Object.is(d,-0),m=o?.[k][f?1:0]??0;if(!Number.isFinite(g))return;if(null!=h&&!Number.isFinite(h))return;const y=null!=d?this.getLabelText(this.properties.label,{datum:i[n],value:h??d,xKey:a,yKey:r,xName:s,yName:l,legendItemName:p},bj):void 0,v=null!=h&&h>d,w=C({datum:i[n],valueIndex:n,xValue:c,yValue:h??d,cumulativeValue:h??g,phantom:!1,currY:null!=h?u+h:g,prevY:u,isPositive:f,yRange:Math.max(u+(h??-1/0),m),labelText:y,crossScale:v?.6:void 0});if(E.push(w),O.push(w),null!=h){const e=C({datum:i[n],valueIndex:n,xValue:c,yValue:h,cumulativeValue:h,phantom:!0,currY:g,prevY:u,isPositive:f,yRange:m,labelText:void 0,crossScale:void 0});N.push(e)}}))})),{itemId:r,nodeData:N.length>0?[...N,...E]:E,labelData:O,scales:this.calculateScaling(),visible:this.visible||w}}nodeFactory(){return new _P}getHighlightData(e,t){const i=e.find((e=>e.datum===t.datum&&!e.phantom));return null!=i?[i]:void 0}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>oB(e.xValue,e.valueIndex,e.phantom)))}async updateDatumNodes(e){if(!this.properties.isValid())return;const{yKey:t,stackGroup:i,fill:n,fillOpacity:o,stroke:a,strokeWidth:r,strokeOpacity:s,lineDash:l,lineDashOffset:c,itemStyler:d,shadow:u,highlightStyle:{item:h}}=this.properties,p=this.axes.x,g=this.properties.crisp??H$(p?.scale,p?.visibleRange,this.smallestDataInterval,this.largestDataInterval),f="x"===this.getCategoryDirection(),m={fill:n,stroke:a,lineDash:l,lineDashOffset:c,fillShadow:u,strokeWidth:this.getStrokeWidth(r),fillOpacity:0,strokeOpacity:0},y={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:h,yKey:t,style:m,itemStyler:d,stackGroup:i};e.datumSelection.each(((e,t)=>{m.fillOpacity=o*(t.phantom?.2:1),m.strokeOpacity=s*(t.phantom?.2:1),m.cornerRadius=t.cornerRadius,m.topLeftCornerRadius=t.topLeftCornerRadius,m.topRightCornerRadius=t.topRightCornerRadius,m.bottomRightCornerRadius=t.bottomRightCornerRadius,m.bottomLeftCornerRadius=t.bottomLeftCornerRadius;const i=f?(t.clipBBox?.width??t.width)>0:(t.clipBBox?.height??t.height)>0;y.datum=t;const n=_$(y);n.crisp=g,n.visible=i,F$(e,n)}))}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,(e=>{e.pointerEvents=1}))}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{X$(e,this.properties.label,t.label)}))}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n}}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!i||!this.properties.isValid()||!o||!a)return KN;const{xKey:r,yKey:s,xName:l,yName:c,fill:d,stroke:u,strokeWidth:h,tooltip:p,itemStyler:g,stackGroup:f,legendItemName:m}=this.properties,{xValue:y,yValue:v,datum:b,itemId:x}=e,S=o.formatDatum(y),M=a.formatDatum(v),A=Sj(c),k=Sj(S+": "+M);let w;g&&(w=n.call(g,{seriesId:t,datum:b,xKey:r,yKey:s,stackGroup:f,fill:d,stroke:u,strokeWidth:this.getStrokeWidth(h),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));const C=w?.fill??d;return p.toTooltipHtml({title:A,content:k,backgroundColor:C},{seriesId:t,itemId:x,datum:b,xKey:r,yKey:s,xName:l,yName:c,stackGroup:f,title:A,color:C,legendItemName:m,...this.getModuleTooltipParams()})}getLegendData(e){const{showInLegend:t}=this.properties;if("category"!==e||!this.data?.length||!this.properties.isValid()||!t)return[];const{yKey:i,yName:n,fill:o,stroke:a,strokeWidth:r,fillOpacity:s,strokeOpacity:l,legendItemName:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:c??n??i},symbols:[{marker:{fill:o,fillOpacity:s,stroke:a,strokeWidth:r,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i,annotationSelections:n}=e;const o=U$(G$(this.isVertical(),this.axes,"normal"));nC(this.id,"nodes",this.ctx.animationManager,[t],o),aB(this,"labels",this.ctx.animationManager,i),aB(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,annotationSelections:n,previousContextData:o}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=this.processedData?.reduced?.diff,r=null==o?"fade":"normal",s=U$(G$(this.isVertical(),this.axes,r));nC(this.id,"nodes",this.ctx.animationManager,[t],s,((e,t)=>oB(t.xValue,t.valueIndex,t.phantom)),a);(a?.changed??!0)&&(aB(this,"labels",this.ctx.animationManager,i),aB(this,"annotations",this.ctx.animationManager,...n))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;const n=this.contextNodeData?.nodeData[t].clipBBox;return Y$(n,this.contentGroup,i)}};J$.className="BarSeries",J$.type="bar";var eF={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new J$(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:T$([{type:"number",position:"left"},{type:"category",position:"bottom"}],(e=>"horizontal"===e?.direction)),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:wz,color:Dz,placement:"inside-center"},shadow:{enabled:!1,color:Rz,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:gz},tF=class extends uB{constructor(){super(...arguments),this.maxSize=30}};pA([TC(VC),Kk({redraw:3})],tF.prototype,"maxSize",2),pA([TC(rI,{optional:!0}),Kk({redraw:3})],tF.prototype,"domain",2);var iF=class extends nE{constructor(){super(...arguments),this.placement="top"}};pA([TC(kI)],iF.prototype,"placement",2);var nF=class extends AP{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new iF,this.tooltip=new pB,this.marker=new tF}};pA([TC(_C)],nF.prototype,"xKey",2),pA([TC(_C)],nF.prototype,"yKey",2),pA([TC(_C)],nF.prototype,"sizeKey",2),pA([TC(_C,{optional:!0})],nF.prototype,"labelKey",2),pA([TC(_C,{optional:!0})],nF.prototype,"colorKey",2),pA([TC(_C,{optional:!0})],nF.prototype,"xFilterKey",2),pA([TC(_C,{optional:!0})],nF.prototype,"yFilterKey",2),pA([TC(_C,{optional:!0})],nF.prototype,"sizeFilterKey",2),pA([TC(_C,{optional:!0})],nF.prototype,"xName",2),pA([TC(_C,{optional:!0})],nF.prototype,"yName",2),pA([TC(_C,{optional:!0})],nF.prototype,"sizeName",2),pA([TC(_C,{optional:!0})],nF.prototype,"labelName",2),pA([TC(_C,{optional:!0})],nF.prototype,"colorName",2),pA([TC(rI,{optional:!0})],nF.prototype,"colorDomain",2),pA([TC(oI)],nF.prototype,"colorRange",2),pA([TC(_C,{optional:!0})],nF.prototype,"title",2),pA([NN("marker.shape")],nF.prototype,"shape",2),pA([NN("marker.size")],nF.prototype,"size",2),pA([NN("marker.maxSize")],nF.prototype,"maxSize",2),pA([NN("marker.domain",{optional:!0})],nF.prototype,"domain",2),pA([NN("marker.fill",{optional:!0})],nF.prototype,"fill",2),pA([NN("marker.fillOpacity")],nF.prototype,"fillOpacity",2),pA([NN("marker.stroke",{optional:!0})],nF.prototype,"stroke",2),pA([NN("marker.strokeWidth")],nF.prototype,"strokeWidth",2),pA([NN("marker.strokeOpacity")],nF.prototype,"strokeOpacity",2),pA([NN("marker.itemStyler",{optional:!0})],nF.prototype,"itemStyler",2),pA([TC(jC)],nF.prototype,"label",2),pA([TC(jC)],nF.prototype,"tooltip",2);var oF=class extends MP{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},aF=class extends kP{constructor(e){super({moduleCtx:e,directionKeys:xP,directionNames:SP,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:sB,marker:RB}}),this.NodeEvent=oF,this.properties=new nF,this.sizeScale=new OP,this.colorScale=new eN}get pickModeAxis(){return"main-category"}async processData(e){if(!this.properties.isValid()||null==this.data||!this.visible)return;const t=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:o}=this.getScaleInformation({xScale:t,yScale:i}),a=this.colorScale.type,r=this.sizeScale.type,{xKey:s,yKey:l,sizeKey:c,xFilterKey:d,yFilterKey:u,sizeFilterKey:h,labelKey:p,colorDomain:g,colorRange:f,colorKey:m,marker:y}=this.properties,{dataModel:v,processedData:b}=await this.requestDataModel(e,this.data,{props:[Bj(s,n,{id:"xValue"}),Bj(l,o,{id:"yValue"}),...null!=d?[Bj(d,n,{id:"xFilterValue"})]:[],...null!=u?[Bj(u,o,{id:"yFilterValue"})]:[],...null!=h?[Bj(h,r,{id:"sizeFilterValue"})]:[],Bj(c,r,{id:"sizeValue"}),...m?[Bj(m,a,{id:"colorValue"})]:[],...p?[Bj(p,"band",{id:"labelValue"})]:[]]}),x=v.resolveProcessedDataIndexById(this,"sizeValue"),S=b.domain.values[x]??[];if(this.sizeScale.domain=y.domain?y.domain:S,m){const e=v.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=g??b.domain.values[e]??[],this.colorScale.range=f,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",o=t.resolveProcessedDataDefById(this,n),a=t.getDomain(this,n,"value",i);return"value"===o?.def.type&&"category"===o?.def.valueType?a:WT(cC(a))}async createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:n,sizeScale:o}=this,{xKey:a,yKey:r,sizeKey:s,xFilterKey:l,yFilterKey:c,sizeFilterKey:d,labelKey:u,xName:h,yName:p,sizeName:g,labelName:f,label:m,colorKey:y,marker:v,visible:b}=this.properties,x=hP(v.shape),{placement:S}=m,M=e.x,A=e.y;if(!(t&&i&&b&&M&&A))return;const k=t.resolveProcessedDataIndexById(this,"xValue"),w=t.resolveProcessedDataIndexById(this,"yValue"),C=null!=s?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,I=null!=y?t.resolveProcessedDataIndexById(this,"colorValue"):-1,D=null!=u?t.resolveProcessedDataIndexById(this,"labelValue"):-1,N=null!=l?t.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,E=null!=c?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,O=null!=d?t.resolveProcessedDataIndexById(this,"sizeFilterValue"):void 0,L=M.scale,T=A.scale,R=(L.bandwidth??0)/2,P=(T.bandwidth??0)/2,z=[];o.range=[v.size,v.maxSize];const j=m.getFont(),B=lN.getMeasurer({font:j});for(const{values:$,datum:F}of i.data??[]){const e=$[k],t=$[w],i=null!=C?$[C]:void 0,l=L.convert(e)+R,c=T.convert(t)+P;let d;null!=N&&null!=E&&(d=$[N]===e&&$[E]===t,null!=O&&d&&(d=$[O]===i));const b=this.getLabelText(m,{value:u?$[D]:t,datum:F,xKey:a,yKey:r,sizeKey:s,labelKey:u,xName:h,yName:p,sizeName:g,labelName:f}),M=B.measureText(String(b)),A=i?o.convert(i):v.size,j=y?n.convert($[I]):void 0;z.push({series:this,itemId:r,yKey:r,xKey:a,datum:F,xValue:e,yValue:t,sizeValue:i,point:{x:l,y:c,size:A},midPoint:{x:l,y:c},fill:j,label:{text:b,...M},marker:x,placement:S,selected:d})}return{itemId:r,nodeData:z,labelData:z,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:e}=this.properties.marker;return new(hP(e))}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?t:[];return i.update(n,void 0,(e=>oB([e.xValue,e.yValue,e.label.text])))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,sizeKey:a,labelKey:r,marker:s}=this.properties,{size:l,shape:c,fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:g}=Lw(i&&this.properties.highlightStyle.item,s.getStyle()),f={size:l,shape:c,fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:g};this.sizeScale.range=[s.size,s.maxSize],t.each(((e,t)=>{this.updateMarkerStyle(e,s,{datum:t,highlighted:i,xKey:n,yKey:o,sizeKey:a,labelKey:r},f,{selected:t.selected})})),i||this.properties.marker.markClean()}async updateLabelSelection(e){const t=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map((e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}}))))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each(((e,i)=>{e.text=i.label.text,e.fill=t.color,e.x=i.point?.x??0,e.y=i.point?.y??0,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.textAlign="left",e.textBaseline="top"}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return KN;const{xKey:n,yKey:o,sizeKey:a,labelKey:r,xName:s,yName:l,sizeName:c,labelName:d,marker:u,tooltip:h}=this.properties,p=this.properties.title??l,g=Lw({fill:e.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:f="gray"}=this.getMarkerStyle(u,{datum:e,highlighted:!1,xKey:n,yKey:o,sizeKey:a,labelKey:r},g),{datum:m,xValue:y,yValue:v,sizeValue:b,label:{text:x},itemId:S}=e,M=Sj(t.formatDatum(y)),A=Sj(i.formatDatum(v));let k=`<b>${Sj(s??n)}</b>: ${M}<br><b>${Sj(l??o)}</b>: ${A}`;return a&&(k+=`<br><b>${Sj(c??a)}</b>: ${Sj(String(b))}`),r&&(k=`<b>${Sj(d??r)}</b>: ${Sj(x)}<br>`+k),h.toTooltipHtml({title:p,content:k,backgroundColor:f},{datum:m,itemId:S,xKey:n,xName:s,yKey:o,yName:l,sizeKey:a,sizeName:c,labelKey:r,labelName:d,title:p,color:f,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];const{yKey:e,yName:t,title:i,marker:n,visible:o}=this.properties,{shape:a,fill:r,stroke:s,fillOpacity:l,strokeOpacity:c,strokeWidth:d}=n;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:o,label:{text:i??t??e},symbols:[{marker:{shape:a,fill:r??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:d??0}}]}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:i}=e;LB(this,this.ctx.animationManager,t),aB(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new DD}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,sizeKey:n,labelKey:o,highlighted:!1})}computeFocusBounds(e){return jB(this,e)}};aF.className="BubbleSeries",aF.type="bubble";var rF={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new aF(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:wz,color:Cz}}},paletteFactory:gz},sF=class extends AP{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new cB,this.label=new nE,this.tooltip=new pB}};pA([TC(_C)],sF.prototype,"xKey",2),pA([TC(_C,{optional:!0})],sF.prototype,"yKey",2),pA([TC(_C,{optional:!0})],sF.prototype,"xName",2),pA([TC(_C,{optional:!0})],sF.prototype,"yName",2),pA([TC(nI,{optional:!0})],sF.prototype,"fill",2),pA([TC(UC)],sF.prototype,"fillOpacity",2),pA([TC(nI,{optional:!0})],sF.prototype,"stroke",2),pA([TC(VC)],sF.prototype,"strokeWidth",2),pA([TC(UC)],sF.prototype,"strokeOpacity",2),pA([TC(pI)],sF.prototype,"lineDash",2),pA([TC(VC)],sF.prototype,"lineDashOffset",2),pA([TC(VC)],sF.prototype,"cornerRadius",2),pA([TC($C)],sF.prototype,"areaPlot",2),pA([TC(XC,{optional:!0})],sF.prototype,"bins",2),pA([TC(wI(["count","sum","mean"],"a histogram aggregation"))],sF.prototype,"aggregation",2),pA([TC(VC,{optional:!0})],sF.prototype,"binCount",2),pA([TC(jC)],sF.prototype,"shadow",2),pA([TC(jC)],sF.prototype,"label",2),pA([TC(jC)],sF.prototype,"tooltip",2);var lF=class extends kP{constructor(e){super({moduleCtx:e,directionKeys:xP,directionNames:SP,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:K$,label:sB}}),this.properties=new sF,this.calculatedBins=[]}deriveBins(e){const t=QI(e[0],e[1],10),i=eD(e[0],e[1],10),[n]=t;return[[n-i,n],...t.map((e=>[e,e+i]))]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],o=t||1,{start:a,binSize:r}=this.calculateNiceStart(i,n,o);return this.getBins(a,n,r,o)}getBins(e,t,i,n){const o=[],a=this.calculatePrecision(i);for(let r=0;r<n;r++){const s=Math.round((e+r*i)*a)/a;let l=Math.round((e+(r+1)*i)*a)/a;r===n-1&&(l=Math.max(l,t)),o[r]=[s,l]}return o}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,o=Math.floor(Math.log10(n)),a=Math.pow(10,o);return{start:Math.floor(e/a)*a,binSize:n}}async processData(e){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:n,aggregation:o}=this.properties,a=this.axes.x?.scale,r=this.axes.y?.scale,{xScaleType:s,yScaleType:l}=this.getScaleInformation({yScale:r,xScale:a}),c=[jj(t,s),Uj];if(i){let e=Dj("groupAgg");"count"===o||("sum"===o?e=Cj("groupAgg"):"mean"===o&&(e=Nj("groupAgg"))),n&&(e=Ej("groupAgg",e)),c.push(Bj(i,l,{invalidValue:void 0}),e)}else{let e=Dj("groupAgg");n&&(e=Ej("groupAgg",e)),c.push(e)}!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(nB(this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:e=>{const t=WT(e.domain.keys[0]);if(0===t.length)return e.domain.groups=[],()=>[];const i=Aw(this.properties.binCount)?this.calculateNiceBins(t,this.properties.binCount):this.properties.bins??this.deriveBins(t),n=i.length;return this.calculatedBins=[...i],e=>{const t=e.keys[0];for(let o=0;o<n;o++){const e=i[o];if(t>=e[0]&&t<e[1])return e;if(o===n-1&&t<=e[1])return e}return[]}}}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",t),o=this.calculatedBins?.[0][0],a=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return WT("x"===e?[o,a]:n)}async createNodeData(){const{id:e,axes:t,processedData:i,ctx:{callbackCache:n}}=this,o=t.x,a=t.y;if(!o||!a)return;const{scale:r}=o,{scale:s}=a,{xKey:l,yKey:c,xName:d,yName:u,fill:h,stroke:p,strokeWidth:g,cornerRadius:f}=this.properties,m=this.properties.label.formatter??(e=>String(e.value)),y=[],v={itemId:this.properties.yKey??this.id,nodeData:y,labelData:y,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&i&&"grouped"===i.type?(i.data.forEach((t=>{const{aggValues:[[i,o]]=[[0,0]],datum:v,datum:{length:b},keys:x,keys:[S,M]}=t,A=r.convert(S),k=r.convert(M),w=i+o,C=s.convert(0),I=s.convert(w),D=Math.abs(k-A),N=Math.abs(I-C),E=Math.min(A,k),O=Math.min(C,I);let L;0!==w&&(L={x:E+D/2,y:O+N/2,text:n.call(m,{value:w,datum:v,seriesId:e,xKey:l,yKey:c,xName:d,yName:u})??String(w)});const T={x:E+D/2,y:O+N/2},R=a.isReversed();y.push({series:this,datum:v,aggregatedValue:w,frequency:b,domain:x,yKey:c,xKey:l,x:E,y:O,xValue:A,yValue:I,width:D,height:N,midPoint:T,fill:h,stroke:p,cornerRadius:f,topLeftCornerRadius:!R,topRightCornerRadius:!R,bottomRightCornerRadius:R,bottomLeftCornerRadius:R,opacity:1,strokeWidth:g,label:L})})),y.sort(((e,t)=>e.x-t.x)),v):v}nodeFactory(){return new _P}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,(e=>{e.crisp=!0}),(e=>e.domain.join("_")))}async updateDatumNodes(e){const{isHighlight:t}=e,{fillOpacity:i,strokeOpacity:n,lineDash:o,lineDashOffset:a,shadow:r,highlightStyle:{item:{fill:s,fillOpacity:l=i,stroke:c,strokeWidth:d}}}=this.properties;e.datumSelection.each(((e,u,h)=>{const{cornerRadius:p,topLeftCornerRadius:g,topRightCornerRadius:f,bottomRightCornerRadius:m,bottomLeftCornerRadius:y}=u,v=t&&void 0!==d?d:u.strokeWidth,b=t?l:i;e.fill=(t?s:void 0)??u.fill,e.stroke=(t?c:void 0)??u.stroke,e.fillOpacity=b,e.strokeOpacity=n,e.strokeWidth=v,e.lineDash=o,e.lineDashOffset=a,e.topLeftCornerRadius=g?p:0,e.topRightCornerRadius=f?p:0,e.bottomRightCornerRadius=m?p:0,e.bottomLeftCornerRadius=y?p:0,e.fillShadow=r,e.zIndex=t?NR.highlightedZIndex:h,e.visible=u.height>0}))}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,(e=>{e.pointerEvents=1,e.textAlign="center",e.textBaseline="middle"}))}async updateLabelNodes(e){const{fontStyle:t,fontWeight:i,fontFamily:n,fontSize:o,color:a}=this.properties.label,r=this.isLabelEnabled();e.labelSelection.each(((e,s)=>{r&&s?.label?(e.text=s.label.text,e.x=s.label.x,e.y=s.label.y,e.fontStyle=t,e.fontWeight=i,e.fontFamily=n,e.fontSize=o,e.fill=a,e.visible=!0):e.visible=!1}))}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&R$(e,t.children())}pickNodeClosestDatum(e){return P$(this,e)}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return KN;const{xKey:n,yKey:o,xName:a,yName:r,fill:s,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:d,frequency:u,domain:[h,p],itemId:g}=e,f=`${Sj(a??n)}: ${t.formatDatum(h)} - ${t.formatDatum(p)}`;let m=o?`<b>${Sj(r??o)} (${l})</b>: ${i.formatDatum(d)}<br>`:"";m+=`<b>Frequency</b>: ${u}`;const y={title:f,backgroundColor:s,content:m};return c.toTooltipHtml(y,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:g,xKey:n,xName:a,yKey:o,yName:r,color:s,title:f,seriesId:this.id})}getLegendData(e){if(!this.data?.length||"category"!==e)return[];const{xKey:t,yName:i,fill:n,fillOpacity:o,stroke:a,strokeWidth:r,strokeOpacity:s,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t??"Frequency"},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:o,strokeOpacity:s,strokeWidth:r}}]}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i}=e;const n=U$(G$(!0,this.axes,"normal"));nC(this.id,"datums",this.ctx.animationManager,[t],n),aB(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(e){const t=this.processedData?.reduced?.diff,i=U$(G$(!0,this.axes,"normal"));nC(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,((e,t)=>oB(t.domain)),t),aB(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return Y$(this.contextNodeData?.nodeData[t],this.contentGroup,i)}};lF.className="HistogramSeries",lF.type="histogram";var cF={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new lF(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:wz,color:Dz},shadow:{enabled:!1,color:Rz,xOffset:3,yOffset:3,blur:5}}},paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}}},dF=class extends AP{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new mB,this.marker=new uB,this.label=new nE,this.tooltip=new pB,this.connectMissingData=!1}};pA([TC(_C)],dF.prototype,"xKey",2),pA([TC(_C)],dF.prototype,"yKey",2),pA([TC(_C,{optional:!0})],dF.prototype,"xName",2),pA([TC(_C,{optional:!0})],dF.prototype,"yName",2),pA([TC(_C,{optional:!0})],dF.prototype,"yFilterKey",2),pA([TC(_C,{optional:!0})],dF.prototype,"stackGroup",2),pA([TC(VC,{optional:!0})],dF.prototype,"normalizedTo",2),pA([TC(_C,{optional:!0})],dF.prototype,"title",2),pA([TC(nI)],dF.prototype,"stroke",2),pA([TC(VC)],dF.prototype,"strokeWidth",2),pA([TC(UC)],dF.prototype,"strokeOpacity",2),pA([TC(pI)],dF.prototype,"lineDash",2),pA([TC(VC)],dF.prototype,"lineDashOffset",2),pA([TC(jC)],dF.prototype,"interpolation",2),pA([TC(jC)],dF.prototype,"marker",2),pA([TC(jC)],dF.prototype,"label",2),pA([TC(jC)],dF.prototype,"tooltip",2),pA([TC($C)],dF.prototype,"connectMissingData",2);var uF=class extends kP{constructor(e){super({moduleCtx:e,directionKeys:xP,directionNames:SP,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:qB({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:sB,marker:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...PB(0,t)})}}),this.properties=new dF}get pickModeAxis(){return"main-category"}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:r,yFilterKey:s,connectMissingData:l,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=this.axes.x?.scale,h=this.axes.y?.scale,{isContinuousX:p,xScaleType:g,yScaleType:f}=this.getScaleInformation({xScale:u,yScale:h}),m={invalidValue:null};l&&o>1&&(m.invalidValue=0),i||(m.forceValue=0);const y=[];if(p||y.push(jj(a,g,{id:"xKey"})),y.push(Bj(a,g,{id:"xValue"}),Bj(r,f,{id:"yValueRaw",...m,invalidValue:void 0})),null!=s&&y.push(Bj(s,f,{id:"yFilterRaw"})),o>1){const e=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];y.push(...Hj(r,"window","current",{id:"yValueEnd",...m,groupId:e[0]},f),...Hj(r,"window-trailing","current",{id:"yValueStart",...m,groupId:e[1]},f),...Hj(r,"normal","current",{id:"yValueCumulative",...m,groupId:e[2]},f)),hw(c)&&y.push(Yj([e[0],e[1],e[2]],c,"range"))}d&&(y.push(qj(p?["xValue"]:void 0)),this.processedData&&y.push(nB(this.processedData))),await this.requestDataModel(e,t,{props:y}),this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!t||!i?.data.length)return[];const n=t.resolveProcessedDataDefById(this,"xValue");if("x"===e){const e=t.getDomain(this,"xValue","value",i);return"value"===n?.def.type&&"category"===n.def.valueType?e:WT(cC(e))}return WT((this.seriesGrouping?.stackCount??1)>1?t.getDomain(this,"yValueEnd","value",i):t.getDomain(this,"yValueRaw","value",i))}async createNodeData(){const{processedData:e,dataModel:t,axes:i}=this,n=i.x,o=i.y;if(!e||!t||!n||!o)return;const{xKey:a,yKey:r,yFilterKey:s,xName:l,yName:c,marker:d,label:u,connectMissingData:h,legendItemName:p}=this.properties,g=(this.seriesGrouping?.stackCount??1)>1,f=n.scale,m=o.scale,y=(f.bandwidth??0)/2,v=(m.bandwidth??0)/2,b=[],x=d.enabled?d.size:0,S=t.resolveProcessedDataIndexById(this,"xValue"),M=t.resolveProcessedDataIndexById(this,"yValueRaw"),A=null!=s?t.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,k=g?t.resolveProcessedDataIndexById(this,"yValueCumulative"):M,w=g?t.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let C=!0,I=!1;return e.data?.forEach((e=>{let{datum:t,values:i}=e;const n=i[S],o=i[M],s=i[k],d=null!=w?i[w]:void 0;if(null==o)return void(C||(C=!h));const g=f.convert(n)+y;if(isNaN(g))return void(C||(C=!h));const D=m.convert(s)+v,N=null!=A?i[A]===o:void 0;!1===N&&(I=!0);const E=this.getLabelText(u,{value:o,datum:t,xKey:a,yKey:r,xName:l,yName:c,legendItemName:p},bj);b.push({series:this,datum:t,yKey:r,xKey:a,point:{x:g,y:D,moveTo:C,size:x},midPoint:{x:g,y:D},cumulativeValue:d,yValue:o,xValue:n,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},labelText:E,selected:N}),C=!1})),{itemId:r,nodeData:b,labelData:b,scales:this.calculateScaling(),visible:this.visible,crossFiltering:I}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(hP(e))}async updatePathNodes(e){const{paths:[t],opacity:i,visible:n,animationEnabled:o}=e,a=!0===this.contextNodeData?.crossFiltering;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(a?.25:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(t.visible=n),QB(this,t)}async updateMarkerSelection(e){let{nodeData:t}=e;const{markerSelection:i}=e;return t=this.properties.marker.enabled||!0===this.contextNodeData?.crossFiltering?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,(e=>oB(e.xValue)))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,stroke:a,strokeWidth:r,strokeOpacity:s,marker:l,highlightStyle:c}=this.properties,d=Lw(i&&c.item,l.getStyle(),{stroke:a,strokeWidth:r,strokeOpacity:s}),u=this.ctx.animationManager.isSkipped();t.each(((e,t)=>{this.updateMarkerStyle(e,l,{datum:t,highlighted:i,xKey:n,yKey:o},d,{applyTranslation:u,selected:t.selected})})),i||l.markClean()}async updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}async updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:n,fontSize:o,fontFamily:a,color:r}=this.properties.label;e.labelSelection.each(((e,s)=>{t&&s?.labelText?(e.fontStyle=i,e.fontWeight=n,e.fontSize=o,e.fontFamily=a,e.textAlign="center",e.textBaseline="bottom",e.text=s.labelText,e.x=s.point.x,e.y=s.point.y-10,e.fill=r,e.visible=!0):e.visible=!1}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return KN;const{xKey:n,yKey:o,xName:a,yName:r,strokeWidth:s,marker:l,tooltip:c}=this.properties,{datum:d,xValue:u,yValue:h,itemId:p}=e,g=t.formatDatum(u),f=i.formatDatum(h),m=Sj(this.properties.title??r),y=Sj(g+": "+f),v=Lw({fill:l.stroke},l.getStyle(),{strokeWidth:s}),{fill:b}=this.getMarkerStyle(l,{datum:e,xKey:n,yKey:o,highlighted:!1},v);return c.toTooltipHtml({title:m,content:y,backgroundColor:b},{datum:d,itemId:p,xKey:n,xName:a,yKey:o,yName:r,title:m,color:b,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||"category"!==e)return[];const{yKey:t,yName:i,stroke:n,strokeOpacity:o,strokeWidth:a,lineDash:r,title:s,marker:l,visible:c,legendItemName:d}=this.properties,u="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:d,seriesId:this.id,enabled:c,label:{text:d??s??i??t},symbols:[{marker:{shape:l.shape,fill:l.fill??u,stroke:l.stroke??n??u,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??o??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:n??u,strokeOpacity:o,strokeWidth:a,lineDash:r}}]}]}async updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const{interpolation:i}=this.properties,{nodeData:n}=t,[o]=e;o.path.clear(!0);for(const a of o$(n))VB(a$(n,a),o,i);o.checkPathDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:o,paths:a}=e,{animationManager:r}=this.ctx;this.updateLinePaths(a,o),YB(this,r,...a),PI([t],PB),TB(this,r,t),aB(this,"labels",r,i),aB(this,"annotations",r,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:o,contextData:a,paths:r,previousContextData:s}=e,[l]=r;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(r,a)},d=()=>{t.skipCurrentBatch(),c()};if(null==a||null==s)return c(),OB(this,t,"added",i),XB(this,"path_properties",t,"add",l),aB(this,"labels",t,n),void aB(this,"annotations",t,...o);if(a.crossFiltering!==s.crossFiltering)return void d();let u;try{u=f$(a,s,this.processedData?.reduced?.diff,this.properties.interpolation)}catch{u=void 0}void 0!==u?"no-op"!==u.status&&(OB(this,t,void 0,i),nC(this.id,"path_properties",t,[l],u.pathProperties),"added"===u.status?this.updateLinePaths(r,a):"removed"===u.status?this.updateLinePaths(r,s):vj(this.id,"path_update",t,[l],u.path),u.hasMotion&&(aB(this,"labels",t,n),aB(this,"annotations",t,...o))):d()}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new DD}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return jB(this,e)}};uF.className="LineSeries",uF.type="line";var hF={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new uF(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:wz,color:Cz},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=fz(e);return{stroke:t.fill,marker:t}}},pF=class extends nE{constructor(){super(...arguments),this.placement="top"}};pA([TC(kI)],pF.prototype,"placement",2);var gF=class extends AP{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new pF,this.tooltip=new pB,this.marker=new uB}};pA([TC(_C)],gF.prototype,"xKey",2),pA([TC(_C)],gF.prototype,"yKey",2),pA([TC(_C,{optional:!0})],gF.prototype,"labelKey",2),pA([TC(_C,{optional:!0})],gF.prototype,"colorKey",2),pA([TC(_C,{optional:!0})],gF.prototype,"xFilterKey",2),pA([TC(_C,{optional:!0})],gF.prototype,"yFilterKey",2),pA([TC(_C,{optional:!0})],gF.prototype,"xName",2),pA([TC(_C,{optional:!0})],gF.prototype,"yName",2),pA([TC(_C,{optional:!0})],gF.prototype,"labelName",2),pA([TC(_C,{optional:!0})],gF.prototype,"colorName",2),pA([TC(rI,{optional:!0})],gF.prototype,"colorDomain",2),pA([TC(oI)],gF.prototype,"colorRange",2),pA([TC(_C,{optional:!0})],gF.prototype,"title",2),pA([NN("marker.shape")],gF.prototype,"shape",2),pA([NN("marker.size")],gF.prototype,"size",2),pA([NN("marker.fill")],gF.prototype,"fill",2),pA([NN("marker.fillOpacity")],gF.prototype,"fillOpacity",2),pA([NN("marker.stroke")],gF.prototype,"stroke",2),pA([NN("marker.strokeWidth")],gF.prototype,"strokeWidth",2),pA([NN("marker.strokeOpacity")],gF.prototype,"strokeOpacity",2),pA([NN("marker.itemStyler",{optional:!0})],gF.prototype,"itemStyler",2),pA([TC(jC)],gF.prototype,"label",2),pA([TC(jC)],gF.prototype,"tooltip",2);var fF=class extends kP{constructor(e){super({moduleCtx:e,directionKeys:xP,directionNames:SP,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:RB,label:sB}}),this.properties=new gF,this.colorScale=new eN}get pickModeAxis(){return"main-category"}async processData(e){if(!this.properties.isValid()||null==this.data||!this.visible)return;const t=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:o}=this.getScaleInformation({xScale:t,yScale:i}),a=this.colorScale.type,{xKey:r,yKey:s,xFilterKey:l,yFilterKey:c,labelKey:d,colorKey:u,colorDomain:h,colorRange:p}=this.properties,{dataModel:g,processedData:f}=await this.requestDataModel(e,this.data,{props:[Bj(r,n,{id:"xValue"}),Bj(s,o,{id:"yValue"}),...null!=l?[Bj(l,n,{id:"xFilterValue"})]:[],...null!=c?[Bj(c,o,{id:"yFilterValue"})]:[],...u?[Bj(u,a,{id:"colorValue"})]:[],...d?[Bj(d,"band",{id:"labelValue"})]:[]]});if(u){const e=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=h??f.domain.values[e]??[],this.colorScale.range=p,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",o=t.resolveProcessedDataDefById(this,n),a=t.getDomain(this,n,"value",i);return"value"===o?.def.type&&"category"===o?.def.valueType?a:WT(cC(a))}async createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:n}=this,{xKey:o,yKey:a,xFilterKey:r,yFilterKey:s,labelKey:l,colorKey:c,xName:d,yName:u,labelName:h,marker:p,label:g,visible:f}=this.properties,{placement:m}=g,y=hP(p.shape),v=e.x,b=e.y;if(!(t&&i&&f&&v&&b))return;const x=t.resolveProcessedDataIndexById(this,"xValue"),S=t.resolveProcessedDataIndexById(this,"yValue"),M=null!=c?t.resolveProcessedDataIndexById(this,"colorValue"):-1,A=null!=l?t.resolveProcessedDataIndexById(this,"labelValue"):-1,k=null!=r?t.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,w=null!=s?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,C=v.scale,I=b.scale,D=(C.bandwidth??0)/2,N=(I.bandwidth??0)/2,E=[],O=g.getFont(),L=lN.getMeasurer({font:O});for(const{values:T,datum:R}of i.data??[]){const e=T[x],t=T[S],i=C.convert(e)+D,r=I.convert(t)+N,s=null!=k&&null!=w?T[k]===e&&T[w]===t:void 0,f=this.getLabelText(g,{value:l?T[A]:t,datum:R,xKey:o,yKey:a,labelKey:l,xName:d,yName:u,labelName:h}),v=L.measureText(f),b=c?n.convert(T[M]):void 0;E.push({series:this,itemId:a,yKey:a,xKey:o,datum:R,xValue:e,yValue:t,capDefaults:{lengthRatioMultiplier:p.getDiameter(),lengthMax:1/0},point:{x:i,y:r,size:p.size},midPoint:{x:i,y:r},fill:b,label:{text:f,...v},marker:y,placement:m,selected:s})}return{itemId:a,nodeData:E,labelData:E,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:e}=this.properties.marker;return new(hP(e))}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:o,labelKey:a,marker:r,highlightStyle:s}=this.properties,l=Lw(i&&s.item,r.getStyle());t.each(((e,t)=>{this.updateMarkerStyle(e,r,{datum:t,highlighted:i,xKey:n,yKey:o,labelKey:a},l,{selected:t.selected})})),i||r.markClean()}async updateLabelSelection(e){const t=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map((e=>{let{datum:t,x:i,y:n}=e;return{...t,point:{x:i,y:n,size:t.point.size},placement:"top"}})),(e=>{e.pointerEvents=1}))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each(((e,i)=>{e.text=i.label.text,e.fill=t.color,e.x=i.point?.x??0,e.y=i.point?.y??0,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.textAlign="left",e.textBaseline="top"}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return KN;const{xKey:n,yKey:o,labelKey:a,xName:r,yName:s,labelName:l,title:c=s,marker:d,tooltip:u}=this.properties,{datum:h,xValue:p,yValue:g,label:f,itemId:m}=e,y=Lw({fill:e.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:v="gray"}=this.getMarkerStyle(d,{datum:e,highlighted:!1,xKey:n,yKey:o,labelKey:a},y),b=Sj(t.formatDatum(p)),x=Sj(i.formatDatum(g));let S=`<b>${Sj(r??n)}</b>: ${b}<br><b>${Sj(s??o)}</b>: ${x}`;return a&&(S=`<b>${Sj(l??a)}</b>: ${Sj(f.text)}<br>`+S),u.toTooltipHtml({title:c,content:S,backgroundColor:v},{datum:h,itemId:m,xKey:n,xName:r,yKey:o,yName:s,labelKey:a,labelName:l,title:c,color:v,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){const{yKey:t,yName:i,title:n,marker:o,visible:a}=this.properties,{fill:r,stroke:s,fillOpacity:l,strokeOpacity:c,strokeWidth:d}=o;return this.data?.length&&this.properties.isValid()&&"category"===e?[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:a,label:{text:n??i??t},symbols:[{marker:{shape:o.shape,fill:o.fill??r??"rgba(0, 0, 0, 0)",stroke:o.stroke??s??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:d??0}}]}]:[]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;LB(this,this.ctx.animationManager,t),aB(this,"labels",this.ctx.animationManager,i),aB(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new DD}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(e){return jB(this,e)}};fF.className="ScatterSeries",fF.type="scatter";var mF={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new fF(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:wz,color:Cz},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:gz},yF=class e{constructor(e,t,i,n){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.outerRadius=n}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:o}=this;return new e(t,i,n,o)}equals(e){return this.startAngle===e.startAngle&&this.endAngle===e.endAngle&&this.innerRadius===e.innerRadius&&this.outerRadius===e.outerRadius}[mk](t,i){return new e(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function vF(e){let{startAngle:t,endAngle:i,innerRadius:n,outerRadius:o}=e,a=1/0,r=1/0,s=-1/0,l=-1/0;const c=(e,t)=>{a=Math.min(e,a),r=Math.min(t,r),s=Math.max(e,s),l=Math.max(t,l)};return c(n*Math.cos(t),n*Math.sin(t)),c(n*Math.cos(i),n*Math.sin(i)),c(o*Math.cos(t),o*Math.sin(t)),c(o*Math.cos(i),o*Math.sin(i)),FD(0,t,i)&&c(o,0),FD(.5*Math.PI,t,i)&&c(0,o),FD(Math.PI,t,i)&&c(-o,0),FD(1.5*Math.PI,t,i)&&c(0,-o),new Vk(a,r,s-a,l-r)}function bF(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:o,outerRadius:a}=i;if(i.startAngle===i.endAngle||n<Math.min(o,a)||n>Math.max(o,a))return!1;const r=$D(i.startAngle),s=$D(i.endAngle),l=Math.atan2(t,e);return r<s?l<=s&&l>=r:l<=s&&l>=-Math.PI||l>=r&&l<=Math.PI}function xF(e,t){const{startAngle:i,endAngle:n,innerRadius:o,outerRadius:a}=t,r={x:a*Math.cos(i),y:a*Math.sin(i)},s={x:a*Math.cos(n),y:a*Math.sin(n)},l=0===o?{x:0,y:0}:{x:o*Math.cos(i),y:o*Math.sin(i)},c=0===o?{x:0,y:0}:{x:o*Math.cos(n),y:o*Math.sin(n)};return lL(e.start.x,e.start.y,e.end.x,e.end.y,r.x,r.y,l.x,l.y)||lL(e.start.x,e.start.y,e.end.x,e.end.y,s.x,s.y,c.x,c.y)||uL(0,0,a,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function SF(e,t){const i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},o={x:e.x,y:e.y+e.height},a={x:e.x+e.width,y:e.y+e.height};return xF({start:i,end:n},t)||xF({start:o,end:a},t)}function MF(e,t,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let o=0,a=1;for(let r=0;r<8;r+=1){const r=(o+a)/2;Math.asin(Math.abs(r*i)/(e+r*i))+Math.asin(Math.abs(r*n)/(e+r*n))-t<0?o=r:a=r}return o}function AF(e,t){return GD(e,t)<1e-6?t:jD(e-t)+t}function kF(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(t-e)>=2*Math.PI?2*Math.PI:jD(t-e);return{startAngle:e=AF(e,i),endAngle:t=e+n}}function wF(e,t,i,n,o,a){const r=Math.sin(a),s=Math.cos(a),l=e**2+t**2-i**2;let c=NaN,d=NaN,u=NaN,h=NaN;if(s>.5){const i=r/s,n=1+i**2,o=-2*(e+t*i),a=o**2-4*n*l;if(a<0)return;const p=(-o+Math.sqrt(a))/(2*n),g=(-o-Math.sqrt(a))/(2*n);c=p,d=p*i,u=g,h=g*i}else{const i=s/r,n=1+i**2,o=-2*(t+e*i),a=o**2-4*n*l;if(a<0)return;const p=(-o+Math.sqrt(a))/(2*n),g=(-o-Math.sqrt(a))/(2*n);c=p*i,d=p,u=g*i,h=g}const p=u*s+h*r,g=c*s+d*r>0?AF(Math.atan2(d-t,c-e),n):NaN,f=p>0?AF(Math.atan2(h-t,u-e),n):NaN;return g>=n&&g<=o?g:f>=n&&f<=o?f:void 0}function CF(e,t,i,n,o,a){const r=Math.hypot(e,t),s=r-(r**2-i**2+a**2)/(2*r),l=Math.atan2(t,e),c=Math.acos(-s/i),d=AF(l+c,n),u=AF(l-c,n);return d>=n&&d<=o?d:u>=n&&u<=o?u:void 0}var IF=class{constructor(e,t,i,n,o){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=o,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){null==e||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){null==e||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},DF=class extends bL{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return vF(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(null==e)return;const{startAngle:t,endAngle:i}=kF(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:o}=this.normalizedRadii(),a=kF(e.startAngle,e.endAngle,t);return new yF(Math.max(t,a.startAngle),Math.min(i,a.endAngle),Math.max(n,e.innerRadius),Math.min(o,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,n,o,a,r,s){if(e<=0)return;const{startAngle:l,endAngle:c}=kF(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:u}=this.normalizedRadii(),h=this.normalizedClipSector();if(s&&d<=0)return;const p=s?this.getAngleOffset(d+e):this.getAngleOffset(u-e),g=r?l+p+t:c-p-t,f=s?d+e:u-e,m=f*Math.cos(g),y=f*Math.sin(g);if(null!=h){const e=1e-6;if(!r&&!(g>=l-e&&g<=h.endAngle-e))return;if(r&&!(g>=h.startAngle+e&&g<=c-e))return;if(s&&f<h.innerRadius-e)return;if(!s&&f>h.outerRadius+e)return}const v=new IF(m,y,e,i,n);if(null!=h){let t,c;if(s?(v.clipStart(wF(m,y,e,i,n,h.endAngle)),v.clipEnd(wF(m,y,e,i,n,h.startAngle))):(v.clipStart(wF(m,y,e,i,n,h.startAngle)),v.clipEnd(wF(m,y,e,i,n,h.endAngle))),r?(t=CF(m,y,e,i,n,h.innerRadius),c=CF(m,y,e,i,n,h.outerRadius)):(t=CF(m,y,e,i,n,h.outerRadius),c=CF(m,y,e,i,n,h.innerRadius)),v.clipStart(t),v.clipEnd(c),null!=t){const{x:e,y:i}=v.pointAt(t),n=AF(Math.atan2(i,e),l);r?a?.clipStart(n):o.clipEnd(n)}if(null!=c){const{x:e,y:t}=v.pointAt(c),i=AF(Math.atan2(t,e),l);r?o.clipStart(i):a?.clipEnd(i)}}if(null!=h){const{x:e,y:t}=v.pointAt((v.a0+v.a1)/2);if(!bF(e,t,h))return}const{x:b,y:x}=v.pointAt(r===s?v.a0:v.a1),S=AF(Math.atan2(x,b),l),M=s?a:o;return r?M?.clipStart(S):M?.clipEnd(S),v}updatePath(){const e=1e-6,{path:t,centerX:i,centerY:n,concentricEdgeInset:o,radialEdgeInset:a}=this;let{startOuterCornerRadius:r,endOuterCornerRadius:s,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:d,endAngle:u}=kF(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:p}=this.normalizedRadii(),g=this.normalizedClipSector(),f=u-d,m=f>=2*Math.PI-e;if(t.clear(),0===h&&0===p||h>p)return;if((g?.startAngle??d)===(g?.endAngle??u))return;if(m&&null==this.clipSector&&0===r&&0===s&&0===l&&0===c)return t.moveTo(i+p*Math.cos(d),n+p*Math.sin(d)),t.arc(i,n,p,d,u),h>o&&(t.moveTo(i+h*Math.cos(u),n+h*Math.sin(u)),t.arc(i,n,h,u,d,!0)),void t.closePath();if(null==this.clipSector&&Math.abs(h-p)<1e-6)return t.arc(i,n,p,d,u,!1),t.arc(i,n,p,u,d,!0),void t.closePath();const y=this.getAngleOffset(h),v=this.getAngleOffset(p);if(f<2*v)return;const b=(g?.innerRadius??h)>o,x=h<o||f<2*y,S=p-h,M=Math.max(r,l,s,c),A=M>0?Math.min(S/M,1):1;r*=A,s*=A,l*=A,c*=A;const k=MF(p,f-2*v,-r,-s);if(r*=k,s*=k,!x&&b){const e=MF(h,f-2*y,l,c);l*=e,c*=e}else l=0,c=0;const w=Math.max(r+l,s+c),C=w>0?Math.min(S/w,1):1;r*=C,s*=C,l*=C,c*=C;let I=0,D=0;const N=r/(p-r),E=s/(p-s);if(N>=0&&N<.999999)I=Math.asin(N);else{I=f/2;const e=p/(1/Math.sin(I)+1);r=Math.min(e,r)}if(E>=0&&E<.999999)D=Math.asin(E);else{D=f/2;const e=p/(1/Math.sin(D)+1);s=Math.min(e,s)}const O=Math.asin(l/(h+l)),L=Math.asin(c/(h+c)),T=g?.outerRadius??p,R=this.getAngleOffset(T),P=new IF(0,0,T,d+R,u-R),z=g?.innerRadius??h,j=this.getAngleOffset(z),B=b?new IF(0,0,z,d+j,u-j):void 0;null!=g&&(P.clipStart(g.startAngle),P.clipEnd(g.endAngle),B?.clipStart(g.startAngle),B?.clipEnd(g.endAngle));const $=this.arc(r,I,d-.5*Math.PI,d+I,P,B,!0,!1),F=this.arc(s,D,u-D,u+.5*Math.PI,P,B,!1,!1),_=this.arc(c,L,u+.5*Math.PI,u+Math.PI-L,P,B,!1,!0),H=this.arc(l,O,d+Math.PI+O,d+1.5*Math.PI,P,B,!0,!0);if(x){const e=f<.5*Math.PI?a*(1+Math.cos(f))/Math.sin(f):NaN;let o;o=e>0&&e<p?Math.max(Math.hypot(a,e),h):a,o=Math.max(o,h);const r=d+.5*f;t.moveTo(i+o*Math.cos(r),n+o*Math.sin(r))}else if(!0===H?.isValid()||!0===B?.isValid());else{const e=d+f/2,o=h*Math.cos(e),a=h*Math.sin(e);t.moveTo(i+o,n+a)}if(!0===$?.isValid()){const{cx:e,cy:o,r:a,a0:r,a1:s}=$;t.arc(i+e,n+o,a,r,s)}if(P.isValid()){const{r:e,a0:o,a1:a}=P;t.arc(i,n,e,o,a)}if(!0===F?.isValid()){const{cx:e,cy:o,r:a,a0:r,a1:s}=F;t.arc(i+e,n+o,a,r,s)}if(!x){if(!0===_?.isValid()){const{cx:e,cy:o,r:a,a0:r,a1:s}=_;t.arc(i+e,n+o,a,r,s)}if(!0===B?.isValid()){const{r:e,a0:o,a1:a}=B;t.arc(i,n,e,a,o,!0)}if(!0===H?.isValid()){const{cx:e,cy:o,r:a,a0:r,a1:s}=H;t.arc(i+e,n+o,a,r,s)}}t.closePath()}isPointInPath(e,t){const{startAngle:i,endAngle:n,innerRadius:o,outerRadius:a}=this.clipSector??this;return bF(e-this.centerX,t-this.centerY,{startAngle:i,endAngle:n,innerRadius:Math.min(o,a),outerRadius:Math.max(o,a)})}};DF.className="Sector",pA([vL()],DF.prototype,"centerX",2),pA([vL()],DF.prototype,"centerY",2),pA([vL()],DF.prototype,"innerRadius",2),pA([vL()],DF.prototype,"outerRadius",2),pA([vL()],DF.prototype,"startAngle",2),pA([vL()],DF.prototype,"endAngle",2),pA([vL()],DF.prototype,"clipSector",2),pA([vL()],DF.prototype,"concentricEdgeInset",2),pA([vL()],DF.prototype,"radialEdgeInset",2),pA([vL()],DF.prototype,"startOuterCornerRadius",2),pA([vL()],DF.prototype,"endOuterCornerRadius",2),pA([vL()],DF.prototype,"startInnerCornerRadius",2),pA([vL()],DF.prototype,"endInnerCornerRadius",2);var NF={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},EF={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},OF=class extends QN{constructor(){super(...arguments),this.showInLegend=!1}};pA([TC($C)],OF.prototype,"showInLegend",2);var LF=class extends nE{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};pA([TC(_C)],LF.prototype,"text",2),pA([TC(HC)],LF.prototype,"spacing",2);var TF=class extends EC{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};pA([TC(nI)],TF.prototype,"fill",2),pA([TC(UC)],TF.prototype,"fillOpacity",2);var RF=class extends nE{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};pA([TC(VC)],RF.prototype,"offset",2),pA([TC(KC)],RF.prototype,"minAngle",2),pA([TC(VC)],RF.prototype,"minSpacing",2),pA([TC(VC)],RF.prototype,"maxCollisionOffset",2),pA([TC($C)],RF.prototype,"avoidCollisions",2);var PF=class extends nE{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};pA([TC(HC)],PF.prototype,"positionOffset",2),pA([TC(UC)],PF.prototype,"positionRatio",2);var zF=class extends EC{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};pA([TC(oI,{optional:!0})],zF.prototype,"colors",2),pA([TC(VC)],zF.prototype,"length",2),pA([TC(VC)],zF.prototype,"strokeWidth",2);var jF=class extends bP{constructor(){super(...arguments),this.fills=Object.values(NF),this.strokes=Object.values(EF),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new OC(LF),this.title=new OF,this.innerCircle=new TF,this.shadow=new cB,this.calloutLabel=new RF,this.sectorLabel=new PF,this.calloutLine=new zF,this.tooltip=new pB}isValid(){const e=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(MA.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};function BF(e,t,i,n){const o=[i.convert(0),i.convert(1)],a=[n.convert(0),n.convert(1)],r=Math.PI/-2+_D(t),s=e?"initial":"update";return{nodes:{toFn:(e,t,i,n)=>{let{prevLive:a}=n,{startAngle:s,endAngle:l,innerRadius:c,outerRadius:d}=t;const{stroke:u,fill:h}=t.sectorFormat;if("removed"===i&&a?(s=a.datum?.endAngle,l=a.datum?.endAngle):"removed"!==i||a||(s=r,l=r),"removed"===i){const e=(e=>{let{radius:t}=e;return{innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*t}})(t);c=e.innerRadius,d=e.outerRadius}return{startAngle:s,endAngle:l,outerRadius:d,innerRadius:c,stroke:u,fill:h}},fromFn:(t,i,n,o)=>{let{prevFromProps:l}=o,{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h}=t,{fill:p,stroke:g}=i.sectorFormat;if("unknown"===n||"added"===n&&!l?(c=r,d=r,u=i.innerRadius,h=i.outerRadius):"added"===n&&l&&(c=l.endAngle??r,d=l.endAngle??r,u=l.innerRadius??i.innerRadius,h=l.outerRadius??i.outerRadius),"added"===n&&!e){const e=(e=>{let{radius:t}=e;return{innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*t}})(i);u=e.innerRadius,h=e.outerRadius}return"updated"===n&&(p=t.fill??p,g=t.stroke??g),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,fill:p,stroke:g,phase:s}}},innerCircle:{fromFn:(e,t)=>({size:e.previousDatum?.radius??e.size??0,phase:s}),toFn:(e,t)=>({size:t.radius??0})}}}function $F(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function FF(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,o=Math.atan2(i,n),a=e.getItemNodes();for(const r of a)if(!0!==r.datum.missing&&FD(o,r.startAngle,r.endAngle)){const e=Math.sqrt(n*n+i*i);let t=0;return e<r.innerRadius?t=r.innerRadius-e:e>r.outerRadius&&(t=e-r.outerRadius),{datum:r.datum,distance:t}}}pA([TC(_C)],jF.prototype,"angleKey",2),pA([TC(_C,{optional:!0})],jF.prototype,"angleName",2),pA([TC(_C,{optional:!0})],jF.prototype,"angleFilterKey",2),pA([TC(_C,{optional:!0})],jF.prototype,"radiusKey",2),pA([TC(_C,{optional:!0})],jF.prototype,"radiusName",2),pA([TC(VC,{optional:!0})],jF.prototype,"radiusMin",2),pA([TC(VC,{optional:!0})],jF.prototype,"radiusMax",2),pA([TC(_C,{optional:!0})],jF.prototype,"calloutLabelKey",2),pA([TC(_C,{optional:!0})],jF.prototype,"calloutLabelName",2),pA([TC(_C,{optional:!0})],jF.prototype,"sectorLabelKey",2),pA([TC(_C,{optional:!0})],jF.prototype,"sectorLabelName",2),pA([TC(_C,{optional:!0})],jF.prototype,"legendItemKey",2),pA([TC(oI)],jF.prototype,"fills",2),pA([TC(oI)],jF.prototype,"strokes",2),pA([TC(UC)],jF.prototype,"fillOpacity",2),pA([TC(UC)],jF.prototype,"strokeOpacity",2),pA([TC(pI)],jF.prototype,"lineDash",2),pA([TC(VC)],jF.prototype,"lineDashOffset",2),pA([TC(VC)],jF.prototype,"cornerRadius",2),pA([TC(FC,{optional:!0})],jF.prototype,"itemStyler",2),pA([TC(KC)],jF.prototype,"rotation",2),pA([TC(HC)],jF.prototype,"outerRadiusOffset",2),pA([TC(UC)],jF.prototype,"outerRadiusRatio",2),pA([TC(HC,{optional:!0})],jF.prototype,"innerRadiusOffset",2),pA([TC(UC,{optional:!0})],jF.prototype,"innerRadiusRatio",2),pA([TC(VC)],jF.prototype,"strokeWidth",2),pA([TC(HC)],jF.prototype,"sectorSpacing",2),pA([TC(cI)],jF.prototype,"innerLabels",2),pA([TC(jC)],jF.prototype,"title",2),pA([TC(jC)],jF.prototype,"innerCircle",2),pA([TC(jC)],jF.prototype,"shadow",2),pA([TC(jC)],jF.prototype,"calloutLabel",2),pA([TC(jC)],jF.prototype,"sectorLabel",2),pA([TC(jC)],jF.prototype,"calloutLine",2),pA([TC(jC)],jF.prototype,"tooltip",2);var _F=class extends pP{constructor(e){let{useLabelLayer:t=!1,pickModes:i=[1,0],canHaveAxes:n=!1,animationResetFns:o,...a}=e;super({...a,useLabelLayer:t,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new DD),this.nodeData=[],this.itemSelection=PD.select(this.itemGroup,(()=>this.nodeFactory()),!1),this.labelSelection=PD.select(this.labelGroup,(()=>this.labelFactory()),!1),this.highlightSelection=PD.select(this.highlightGroup,(()=>this.nodeFactory())),this.highlightLabelSelection=PD.select(this.highlightLabel,(()=>this.labelFactory())),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new jN("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}labelFactory(){const e=new pN;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&PI([this.itemSelection,this.highlightSelection],e),t&&PI([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&PI([this.highlightSelection],t),i&&PI([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(void 0!==t)return this.itemSelection.select((e=>e instanceof bL&&e.datum===t))[0]}},HF=class extends IR{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},WF=class extends _F{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:$F,label:sB}}),this.properties=new jF,this.phantomNodeData=void 0,this.previousRadiusScale=new OP,this.radiusScale=new OP,this.phantomGroup=this.contentGroup.appendChild(new DD),this.phantomSelection=PD.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new DD({name:"pieCalloutLabels"})),this.calloutLabelSelection=new PD(this.calloutLabelGroup,DD),this.backgroundGroup=this.rootGroup.appendChild(new tE({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new DD({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ZR),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ZR),this.innerLabelsGroup=this.contentGroup.appendChild(new DD({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new DD({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=PD.select(this.innerLabelsGroup,pN),this.innerCircleSelection=PD.select(this.innerCircleGroup,ZR),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=HF,this.angleScale=new OP,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){return new DF}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:o,angleFilterKey:a,radiusKey:r,calloutLabelKey:s,sectorLabelKey:l,legendItemKey:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=[],h=[];c?u.push(jj(c,"band",{id:"legendItemKey"})):s?u.push(jj(s,"band",{id:"calloutLabelKey"})):l&&u.push(jj(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;r&&h.push($j(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Bj(r,p,{id:"radiusRaw"}),Zj("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),s&&h.push(Bj(s,"band",{id:"calloutLabelValue"})),l&&h.push(Bj(l,"band",{id:"sectorLabelValue"})),c&&h.push(Bj(c,"band",{id:"legendItemValue"})),a&&h.push(Fj(a,g,{id:"angleFilterValue",onlyPositive:!0}),Bj(a,g,{id:"angleFilterRaw"}),Zj("angleFilterValue",[0,1],0,0)),d&&this.processedData&&u.length>0&&h.push(nB(this.processedData)),h.push(qj()),t=t.map(((e,t)=>i&&n[t]?e:{...e,[o]:0})),await this.requestDataModel(e,t,{props:[...u,Fj(o,g,{id:"angleValue",onlyPositive:!0}),Bj(o,g,{id:"angleRaw"}),Zj("angleValue",[0,1],0,0),...h]});for(const f of this.processedData?.defs?.values??[]){const{id:e,missing:t,property:i}=f,n=GT(this,t);"angleRaw"!==e&&n>0&&MA.warnOnce(`no value was found for the key '${String(i)}' on ${n} data element${n>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:e.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!i||"ungrouped"!==t.type)return;const{angleIdx:r,angleRawIdx:s,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:d,radiusRawIdx:u,calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:g}=this.getProcessedDataIndexes(i),f=null!=c&&t.data.some((e=>{let{values:t}=e;return t[c]>t[s]}));let m=0,y=0;const v=[],b=null!=c?[]:void 0;return t.data.forEach(((e,t)=>{const{datum:i,values:a}=e,x=f?a[l]:a[r],S=null==c||f?1:Math.sqrt(a[c]/a[s]),M=n.convert(m)+_D(o);m=x,y+=x;const A=n.convert(m)+_D(o),k=Math.abs(A-M),w=M+k/2,C=a[s],I=(null!=d?a[d]??1:1)*S,D=null!=u?a[u]:void 0,N=null!=g?a[g]:void 0,E=this.getLabels(i,w,k,!0,null!=h?a[h]:void 0,null!=p?a[p]:void 0,N),O=this.getSectorFormat(i,t,!1),L={itemId:t,series:this,datum:i,index:t,angleValue:C,midAngle:w,midCos:Math.cos(w),midSin:Math.sin(w),startAngle:M,endAngle:A,radius:I,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(I),0),sectorFormat:O,radiusValue:D,legendItemValue:N,enabled:this.seriesItemEnabled[t],focusable:!0,...E};v.push(L),null!=b&&b.push({...L,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})})),this.zerosumOuterRing.visible=0===y,this.zerosumInnerRing.visible=0===y&&null!=a&&1!==a&&a>0,{itemId:e,nodeData:v,labelData:v,phantomNodeData:b}}getLabels(e,t,i,n,o,a,r){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||s.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return d&&i>_D(s.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(s,{...h,value:o}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:a})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=$D(e)- -.75*Math.PI;return t[Fk(Math.floor(i/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:o,radiusKey:a,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[t%d.length],{fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:b,cornerRadius:x}=Lw(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let S;return u&&(S=n.call(u,{datum:e,angleKey:o,radiusKey:a,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l,fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:b,cornerRadius:x,highlighted:i,seriesId:this.id})),{fill:S?.fill??p,fillOpacity:S?.fillOpacity??g,stroke:S?.stroke??f,strokeWidth:S?.strokeWidth??m,strokeOpacity:S?.strokeOpacity??y,lineDash:S?.lineDash??v,lineDashOffset:S?.lineDashOffset??b,cornerRadius:S?.cornerRadius??x}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=e=>({...e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);if(0===e)return NaN;return-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}async update(e){let{seriesRect:t}=e;const{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},o=null!=MN(this.nodeDataDependencies,n);if(o&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(o),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const e=this.getTitleTranslationY();i.node.y=isFinite(e)?e:0;const t=i.node.getBBox();i.node.visible=i.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t)}for(const a of[this.zerosumInnerRing,this.zerosumOuterRing])a.fillOpacity=0,a.stroke=this.properties.calloutLabel.color,a.strokeWidth=1,a.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:o,labelSelection:a,innerLabelsSelection:r}=this,s=this.nodeData.map((e=>({...e,sectorFormat:{...e.sectorFormat}}))),l=(e,t)=>{e.update(t,void 0,(e=>this.getDatumId(e))),this.ctx.animationManager.isSkipped()&&e.cleanup()};l(e,this.nodeData),l(t,s),l(i,this.phantomNodeData??[]),o.update(this.calloutNodeData,(e=>{const t=new rN;t.tag=0,t.pointerEvents=1,e.appendChild(t);const i=new pN;i.tag=1,i.pointerEvents=1,e.appendChild(i)})),a.update(this.nodeData),n.update(s),r.update(this.properties.innerLabels,(e=>{e.pointerEvents=1}))}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const e=Math.min(i,this.getOuterRadius()),n=1;t=Math.ceil(2*e+n)}const n=e?[{radius:t}]:[];this.innerCircleSelection.update(n)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&t?.series===this,this.highlightLabel.visible=i&&t?.series===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each(((e,t)=>{let{radius:i}=t;e.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:i})}));const n=this.ctx.animationManager.isSkipped(),o=(e,t,i,o)=>{const a=this.getSectorFormat(t.datum,t.itemId,o);t.sectorFormat.fill=a.fill,t.sectorFormat.stroke=a.stroke,n&&(e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius),(o||n)&&(e.fill=a.fill,e.stroke=a.stroke),e.strokeWidth=a.strokeWidth,e.fillOpacity=a.fillOpacity,e.strokeOpacity=a.strokeOpacity,e.lineDash=a.lineDash,e.lineDashOffset=a.lineDashOffset,e.cornerRadius=a.cornerRadius,e.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=a.stroke?a.strokeWidth:0))/2,0);e.inset=r,e.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((e,t,i)=>o(e,t,0,!1))),this.highlightSelection.each(((e,i,n)=>{o(e,i,0,!0),e.visible=i.itemId===t?.itemId})),this.phantomSelection.each(((e,t,i)=>o(e,t,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((e,a)=>{const r=e.datum,{calloutLabel:s,outerRadius:l}=r;if(s?.text&&!s.hidden&&0!==l){e.visible=!0,e.strokeWidth=i,e.stroke=n[a%n.length],e.fill=void 0;const c=r.midCos*l,d=r.midSin*l;let u=r.midCos*(l+t),h=r.midSin*(l+t);if((s.collisionTextAlign??0!==s.collisionOffsetY)&&null!=s.box){const e=s.box;let t=u,i=h;u<e.x?t=e.x:u>e.x+e.width&&(t=e.x+e.width),h<e.y?i=e.y:h>e.y+e.height&&(i=e.y+e.height);const n=t-u,a=i-h,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),l=r-o;l>0&&(u+=n*l/r,h+=a*l/r)}e.x1=c,e.y1=d,e.x2=u,e.y2=h}else e.visible=!1}))}getLabelOverflow(e,t,i){const n=i.x-this.centerX,o=i.x+i.width-this.centerX,a=i.y-this.centerY,r=i.y+i.height-this.centerY;let s=1;t.x+1<n?s=(t.x+t.width-n)/t.width:t.x+t.width-1>o&&(s=(o-t.x)/t.width);const l=t.y+1<a||t.y+t.height-1>r;return{textLength:1===s?e.length:Math.floor(e.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(null==t)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some((e=>e.x**2+e.y**2>n))}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:o}=t,a=e.convert(0),r=this.calloutNodeData,s=r.filter((e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t}));if(s.forEach((e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)})),s.length<=1)return;const l=s.filter((e=>e.midCos<0)).sort(((e,t)=>e.midSin-t.midSin)),c=s.filter((e=>e.midCos>=0)).sort(((e,t)=>e.midSin-t.midSin)),d=s.filter((e=>e.midSin<0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),u=s.filter((e=>e.midSin>=0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),h=e=>{const t=e.calloutLabel;if(null==t)return Vk.zero.clone();const o=e.outerRadius+i.length+n,a=e.midCos*o,r=e.midSin*o+t.collisionOffsetY,s=t.collisionTextAlign??t.textAlign,l=t.textBaseline;return pN.computeBBox(t.text,a,r,{font:this.properties.calloutLabel,textAlign:s,textBaseline:l})},p=(e,t,i)=>{const n=h(e).grow(o/2),a=h(t).grow(o/2);if(n.x<a.x+a.width&&n.x+n.width>a.x&&("to-top"===i?n.y<a.y+a.height:n.y+n.height>a.y)){const e="to-top"===i?n.y-a.y-a.height:n.y+n.height-a.y;t.calloutLabel.collisionOffsetY=e}},g=e=>{const t=e.slice().sort(((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin)))[0],i=e.indexOf(t);for(let n=i-1;n>=0;n--){const t=e[n+1],i=e[n];p(t,i,"to-top")}for(let n=i+1;n<e.length;n++){const t=e[n-1],i=e[n];p(t,i,"to-bottom")}},f=e=>{const t=s.some((e=>0!==e.calloutLabel.collisionOffsetY)),i=e.map((e=>h(e))),n=i.map((e=>e.clone().grow(o/2)));let l=!1;for(let o=0;o<n.length&&!l;o++){const t=n[o];for(let i=o+1;i<e.length;i++){const e=n[i];if(t.collidesBBox(e)){l=!0;break}}}const c=r.map((e=>{const{startAngle:t,endAngle:i,outerRadius:n}=e;return{startAngle:t,endAngle:i,innerRadius:a,outerRadius:n}})),d=i.some((e=>c.some((t=>SF(e,t)))));(l||t||d)&&e.filter((e=>"center"===e.calloutLabel.textAlign)).forEach((e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"}))};g(l),g(c),f(d),f(u)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:a,color:r}=i,s=new pN;this.calloutLabelSelection.selectByTag(1).forEach((n=>{const{datum:l}=n,c=l.calloutLabel,d=t.convert(l.radius),u=Math.max(0,d);if(!c?.text||0===u||c.hidden)return void(n.visible=!1);const h=u+o+a,p=l.midCos*h,g=l.midSin*h+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};s.text=c.text,s.x=p,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(f);const m=s.getBBox();let y=c.text,v=!0;if(i.avoidCollisions){const{textLength:t,hasVerticalOverflow:i}=this.getLabelOverflow(c.text,m,e);y=c.text.length===t?c.text:`${c.text.substring(0,t)}\u2026`,v=!i}n.text=y,n.x=p,n.y=g,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=r,n.visible=v}))}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:a,maxCollisionOffset:r,minSpacing:s}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new pN;let d;const{title:u}=this.properties;if(u?.text&&u.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=u.text,c.x=0,c.y=e,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.getBBox(),l.push(d))}return this.calloutNodeData.forEach((i=>{const n=i.calloutLabel;if(!n||0===i.outerRadius)return null;const u=i.outerRadius+o+a,h=i.midCos*u,p=i.midSin*u+n.collisionOffsetY;c.text=n.text,c.x=h,c.y=p,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:n.collisionTextAlign??n.textAlign,textBaseline:n.textBaseline});const g=c.getBBox();if(n.box=g,Math.abs(n.collisionOffsetY)>r)n.hidden=!0;else{if(d){const e=t.y-this.centerY,i=new Vk(d.x-s,e,d.width+2*s,d.y+d.height+s-e);if(g.collidesBBox(i))return void(n.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:o}=this.getLabelOverflow(n.text,g,t),a=n.text.length>2&&e<2;if(i||a||o)return void(n.hidden=!0)}n.hidden=!1,l.push(g)}})),0===l.length?null:Vk.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:o,fontFamily:a,positionOffset:r,positionRatio:s,color:l}=this.properties.sectorLabel,c=(e,c)=>{const{sectorLabel:d,outerRadius:u}=c;let h=!1;if(d&&0!==u){const p=t*(1-s)+u*s+r;e.fill=l,e.fontStyle=n,e.fontWeight=o,e.fontSize=i,e.fontFamily=a,e.text=d.text,e.x=c.midCos*p,e.y=c.midSin*p,e.textAlign="center",e.textBaseline="middle";const g=e.getBBox(),f=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:m,endAngle:y}=c,v={startAngle:m,endAngle:y,innerRadius:t,outerRadius:u};f.every((e=>{let[t,i]=e;return bF(t,i,v)}))&&(h=!0)}e.visible=h};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each(((i,n)=>{const{fontStyle:o,fontWeight:a,fontSize:r,fontFamily:s,color:l}=n;i.fontStyle=o,i.fontWeight=a,i.fontSize=r,i.fontFamily=s,i.text=n.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",e.push(i.getBBox()),t.push(n.spacing)}));const i=e=>0===e?0:t[e],n=e=>e===t.length-1?0:t[e],o=e.reduce(((e,t,o)=>e+t.height+i(o)+n(o)),0),a=Math.max(...e.map((e=>e.width))),r=this.getInnerRadius(),s=Math.sqrt(Math.pow(a/2,2)+Math.pow(o/2,2))<=(r>0?r:this.getOuterRadius()),l=[];for(let c=0,d=-o/2;c<e.length;c++){const t=e[c].height+d+i(c);l.push(t),d=t+n(c)}this.innerLabelsSelection.each(((e,t,i)=>{e.y=l[i],e.visible=s}))}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:o}=this.properties,{sectorLabel:a,calloutLabel:r,legendItem:s}=e;return o&&void 0!==s?s.text:i&&i!==t&&void 0!==r?.text?r.text:n&&n!==t&&void 0!==a?.text?a.text:void 0}pickNodeClosestDatum(e){return FF(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return KN;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:o}=e,a=Sj(this.properties.title?.text),r=kw(i)?$k(i):String(i),s=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:a??s,content:a&&s?`${s}: ${r}`:r,backgroundColor:n},{datum:t,itemId:o,title:a,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){const{visible:t,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||!this.properties.isValid()||"category"!==e)return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:r,legendItemKey:s}=this.properties;if(!s&&(!a||a===o)&&(!r||r===o))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,h=[];for(let p=0;p<i.data.length;p++){const{datum:e,values:n}=i.data[p],g=[];u&&g.push(u);const f=this.getLabels(e,2*Math.PI,2*Math.PI,!1,null!=l?n[l]:void 0,null!=c?n[c]:void 0,null!=d?n[d]:void 0);if(s&&void 0!==f.legendItem?g.push(f.legendItem.text):a&&a!==o&&void 0!==f.calloutLabel?.text?g.push(f.calloutLabel?.text):r&&r!==o&&void 0!==f.sectorLabel?.text&&g.push(f.sectorLabel?.text),0===g.length)continue;const m=this.getSectorFormat(e,p,!1);h.push({legendType:"category",id:this.id,itemId:p,seriesId:this.id,enabled:t&&this.legendItemEnabled[p],label:{text:g.join(" - ")},symbols:[{marker:{fill:m.fill,stroke:m.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=s?e[s]:void 0})}return h}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:o}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=o&&this.toggleOtherSeriesItems(o,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(((n,o)=>{let{values:a}=n;a[i]===e&&this.toggleSeriesItem(o,t)}))}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=BF(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);nC(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((e,t)=>this.getDatumId(t))),nC(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),aB(this,"callout",t,this.calloutLabelSelection),aB(this,"sector",t,this.labelSelection),aB(this,"highlight",t,this.highlightLabelSelection),aB(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:o,previousRadiusScale:a}=this,{animationManager:r}=this.ctx,s=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(s?.moved.size??0),c=(n?.defs.keys.length??0)>0;l&&c&&(n?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const d=BF(!1,this.properties.rotation,o,a);nC(this.id,"nodes",r,[e,t,i],d.nodes,((e,t)=>this.getDatumId(t)),s),nC(this.id,"innerCircle",r,[this.innerCircleSelection],d.innerCircle),aB(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),aB(this,"sector",this.ctx.animationManager,this.labelSelection),aB(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),aB(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,r=BF(!1,this.properties.rotation,n,o);nC(this.id,"nodes",a,[e,t,i],r.nodes,((e,t)=>this.getDatumId(t))),nC(this.id,"innerCircle",a,[this.innerCircleSelection],r.innerCircle),rB(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),rB(this,"sector",this.ctx.animationManager,this.labelSelection),rB(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),rB(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys)return n?e[n]:t?e[t]:i?e[i]:void 0}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t,legendItemEnabled:i}=this;this.seriesItemEnabled=e?.map(((e,i)=>t[i]??!0))??[],this.legendItemEnabled=e?.map(((e,t)=>i[t]??!0))??[]}};WF.className="DonutSeries",WF.type="donut";var GF={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:wz,color:Nz,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:wz,color:Cz,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:wz,color:Dz,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Rz,xOffset:3,yOffset:3,blur:5}}},VF=e=>{let{takeColors:t,colorsCount:i}=e;const{fills:n,strokes:o}=t(i);return{fills:n,strokes:o,calloutLine:{colors:o}}},UF={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new WF(e),tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:wz,color:Nz,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:wz,color:Cz,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:wz,color:Dz,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Rz,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:wz,color:Cz,spacing:2}}},paletteFactory:VF},KF=class extends QN{constructor(){super(...arguments),this.showInLegend=!1}};pA([TC($C)],KF.prototype,"showInLegend",2);var YF=class extends nE{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};pA([TC(VC)],YF.prototype,"offset",2),pA([TC(KC)],YF.prototype,"minAngle",2),pA([TC(VC)],YF.prototype,"minSpacing",2),pA([TC(VC)],YF.prototype,"maxCollisionOffset",2),pA([TC($C)],YF.prototype,"avoidCollisions",2);var XF=class extends nE{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};pA([TC(HC)],XF.prototype,"positionOffset",2),pA([TC(UC)],XF.prototype,"positionRatio",2);var ZF=class extends EC{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};pA([TC(oI,{optional:!0})],ZF.prototype,"colors",2),pA([TC(VC)],ZF.prototype,"length",2),pA([TC(VC)],ZF.prototype,"strokeWidth",2);var qF=class extends bP{constructor(){super(...arguments),this.fills=Object.values(NF),this.strokes=Object.values(EF),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new KF,this.shadow=new cB,this.calloutLabel=new YF,this.sectorLabel=new XF,this.calloutLine=new ZF,this.tooltip=new pB}};pA([TC(_C)],qF.prototype,"angleKey",2),pA([TC(_C,{optional:!0})],qF.prototype,"angleName",2),pA([TC(_C,{optional:!0})],qF.prototype,"angleFilterKey",2),pA([TC(_C,{optional:!0})],qF.prototype,"radiusKey",2),pA([TC(_C,{optional:!0})],qF.prototype,"radiusName",2),pA([TC(VC,{optional:!0})],qF.prototype,"radiusMin",2),pA([TC(VC,{optional:!0})],qF.prototype,"radiusMax",2),pA([TC(_C,{optional:!0})],qF.prototype,"calloutLabelKey",2),pA([TC(_C,{optional:!0})],qF.prototype,"calloutLabelName",2),pA([TC(_C,{optional:!0})],qF.prototype,"sectorLabelKey",2),pA([TC(_C,{optional:!0})],qF.prototype,"sectorLabelName",2),pA([TC(_C,{optional:!0})],qF.prototype,"legendItemKey",2),pA([TC(oI)],qF.prototype,"fills",2),pA([TC(oI)],qF.prototype,"strokes",2),pA([TC(UC)],qF.prototype,"fillOpacity",2),pA([TC(UC)],qF.prototype,"strokeOpacity",2),pA([TC(pI)],qF.prototype,"lineDash",2),pA([TC(VC)],qF.prototype,"lineDashOffset",2),pA([TC(VC)],qF.prototype,"cornerRadius",2),pA([TC(FC,{optional:!0})],qF.prototype,"itemStyler",2),pA([TC(KC)],qF.prototype,"rotation",2),pA([TC(HC)],qF.prototype,"outerRadiusOffset",2),pA([TC(UC)],qF.prototype,"outerRadiusRatio",2),pA([TC(VC)],qF.prototype,"strokeWidth",2),pA([TC(HC)],qF.prototype,"sectorSpacing",2),pA([TC(jC)],qF.prototype,"title",2),pA([TC(jC)],qF.prototype,"shadow",2),pA([TC(jC)],qF.prototype,"calloutLabel",2),pA([TC(jC)],qF.prototype,"sectorLabel",2),pA([TC(jC)],qF.prototype,"calloutLine",2),pA([TC(jC)],qF.prototype,"tooltip",2);var QF=class extends IR{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},JF=class extends _F{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:$F,label:sB}}),this.properties=new qF,this.phantomNodeData=void 0,this.previousRadiusScale=new OP,this.radiusScale=new OP,this.phantomGroup=this.contentGroup.appendChild(new DD),this.phantomSelection=PD.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new DD({name:"pieCalloutLabels"})),this.calloutLabelSelection=new PD(this.calloutLabelGroup,DD),this.backgroundGroup=this.rootGroup.appendChild(new tE({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new DD({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ZR),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=QF,this.angleScale=new OP,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){const e=new DF;return e.miterLimit=1e9,e}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:o,angleFilterKey:a,radiusKey:r,calloutLabelKey:s,sectorLabelKey:l,legendItemKey:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=[],h=[];c?u.push(jj(c,"band",{id:"legendItemKey"})):s?u.push(jj(s,"band",{id:"calloutLabelKey"})):l&&u.push(jj(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;r&&h.push($j(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Bj(r,p,{id:"radiusRaw"}),Zj("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),s&&h.push(Bj(s,"band",{id:"calloutLabelValue"})),l&&h.push(Bj(l,"band",{id:"sectorLabelValue"})),c&&h.push(Bj(c,"band",{id:"legendItemValue"})),a&&h.push(Fj(a,g,{id:"angleFilterValue",onlyPositive:!0}),Bj(a,g,{id:"angleFilterRaw"}),Zj("angleFilterValue",[0,1],0,0)),d&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&u.length>0&&h.push(nB(this.processedData)),h.push(qj()),t=t.map(((e,t)=>i&&n[t]?e:{...e,[o]:0})),await this.requestDataModel(e,t,{props:[...u,Fj(o,g,{id:"angleValue",onlyPositive:!0}),Bj(o,g,{id:"angleRaw"}),Zj("angleValue",[0,1],0,0),...h]});for(const f of this.processedData?.defs?.values??[]){const{id:e,missing:t,property:i}=f,n=GT(this,t);"angleRaw"!==e&&n>0&&MA.warnOnce(`no value was found for the key '${String(i)}' on ${n} data element${n>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:e.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:o}=this.properties;if(!t||!i||"ungrouped"!==t.type)return;const{angleIdx:a,angleRawIdx:r,angleFilterIdx:s,angleFilterRawIdx:l,radiusIdx:c,radiusRawIdx:d,calloutLabelIdx:u,sectorLabelIdx:h,legendItemIdx:p}=this.getProcessedDataIndexes(i),g=null!=l&&t.data.some((e=>{let{values:t}=e;return t[l]>t[r]}));let f=0,m=0;const y=[],v=null!=l?[]:void 0;return t.data.forEach(((e,t)=>{const{datum:i,values:b}=e,x=g?b[s]:b[a],S=null==l||g?1:Math.sqrt(b[l]/b[r]),M=n.convert(f)+_D(o);f=x,m+=x;const A=n.convert(f)+_D(o),k=Math.abs(A-M),w=M+k/2,C=b[r],I=(null!=c?b[c]??1:1)*S,D=null!=d?b[d]:void 0,N=null!=p?b[p]:void 0,E=this.getLabels(i,w,k,!0,null!=u?b[u]:void 0,null!=h?b[h]:void 0,N),O=this.getSectorFormat(i,t,!1),L={itemId:t,series:this,datum:i,index:t,angleValue:C,midAngle:w,midCos:Math.cos(w),midSin:Math.sin(w),startAngle:M,endAngle:A,radius:I,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(I),0),sectorFormat:O,radiusValue:D,legendItemValue:N,enabled:this.seriesItemEnabled[t],...E};y.push(L),null!=v&&v.push({...L,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})})),this.zerosumOuterRing.visible=0===m,{itemId:e,nodeData:y,labelData:y,phantomNodeData:v}}getLabels(e,t,i,n,o,a,r){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||s.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};const h={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return d&&i>_D(s.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(s,{...h,value:o}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:a})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=$D(e)- -.75*Math.PI;return t[Fk(Math.floor(i/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:o,radiusKey:a,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[t%d.length],{fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:b,cornerRadius:x}=Lw(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let S;return u&&(S=n.call(u,{datum:e,angleKey:o,radiusKey:a,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l,fill:p,strokeOpacity:y,stroke:f,strokeWidth:m,fillOpacity:g,lineDash:v,lineDashOffset:b,cornerRadius:x,highlighted:i,seriesId:this.id})),{fill:S?.fill??p,fillOpacity:S?.fillOpacity??g,stroke:S?.stroke??f,strokeWidth:S?.strokeWidth??m,strokeOpacity:S?.strokeOpacity??y,lineDash:S?.lineDash??v,lineDashOffset:S?.lineDashOffset??b,cornerRadius:S?.cornerRadius??x}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=e=>({...e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);if(0===e)return NaN;return-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}async update(e){let{seriesRect:t}=e;const{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},o=null!=MN(this.nodeDataDependencies,n);if(o&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(o),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const e=this.getTitleTranslationY();i.node.y=isFinite(e)?e:0;const t=i.node.getBBox();i.node.visible=i.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:o,labelSelection:a}=this,r=this.nodeData.map((e=>({...e,sectorFormat:{...e.sectorFormat}}))),s=(e,t)=>{e.update(t,void 0,(e=>this.getDatumId(e))),this.ctx.animationManager.isSkipped()&&e.cleanup()};s(e,this.nodeData),s(t,r),s(i,this.phantomNodeData??[]),o.update(this.calloutNodeData,(e=>{const t=new rN;t.tag=0,t.pointerEvents=1,e.appendChild(t);const i=new pN;i.tag=1,i.pointerEvents=1,e.appendChild(i)})),a.update(this.nodeData),n.update(r)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&t?.series===this,this.highlightLabel.visible=i&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),o=(e,t,i,o)=>{const a=this.getSectorFormat(t.datum,t.itemId,o);t.sectorFormat.fill=a.fill,t.sectorFormat.stroke=a.stroke,n&&(e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius),(o||n)&&(e.fill=a.fill,e.stroke=a.stroke),e.strokeWidth=a.strokeWidth,e.fillOpacity=a.fillOpacity,e.strokeOpacity=a.strokeOpacity,e.lineDash=a.lineDash,e.lineDashOffset=a.lineDashOffset,e.cornerRadius=a.cornerRadius,e.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=a.stroke?a.strokeWidth:0))/2,0);e.inset=r,e.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((e,t,i)=>o(e,t,0,!1))),this.highlightSelection.each(((e,i,n)=>{o(e,i,0,!0),e.visible=i.itemId===t?.itemId})),this.phantomSelection.each(((e,t,i)=>o(e,t,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((e,a)=>{const r=e.datum,{calloutLabel:s,outerRadius:l}=r;if(s?.text&&!s.hidden&&0!==l){e.visible=!0,e.strokeWidth=i,e.stroke=n[a%n.length],e.fill=void 0;const c=r.midCos*l,d=r.midSin*l;let u=r.midCos*(l+t),h=r.midSin*(l+t);if((s.collisionTextAlign??0!==s.collisionOffsetY)&&null!=s.box){const e=s.box;let t=u,i=h;u<e.x?t=e.x:u>e.x+e.width&&(t=e.x+e.width),h<e.y?i=e.y:h>e.y+e.height&&(i=e.y+e.height);const n=t-u,a=i-h,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),l=r-o;l>0&&(u+=n*l/r,h+=a*l/r)}e.x1=c,e.y1=d,e.x2=u,e.y2=h}else e.visible=!1}))}getLabelOverflow(e,t,i){const n=i.x-this.centerX,o=i.x+i.width-this.centerX,a=i.y-this.centerY,r=i.y+i.height-this.centerY;let s=1;t.x+1<n?s=(t.x+t.width-n)/t.width:t.x+t.width-1>o&&(s=(o-t.x)/t.width);const l=t.y+1<a||t.y+t.height-1>r;return{textLength:1===s?e.length:Math.floor(e.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(null==t)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some((e=>e.x**2+e.y**2>n))}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:o}=t,a=e.convert(0),r=this.calloutNodeData,s=r.filter((e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t}));if(s.forEach((e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)})),s.length<=1)return;const l=s.filter((e=>e.midCos<0)).sort(((e,t)=>e.midSin-t.midSin)),c=s.filter((e=>e.midCos>=0)).sort(((e,t)=>e.midSin-t.midSin)),d=s.filter((e=>e.midSin<0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),u=s.filter((e=>e.midSin>=0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),h=e=>{const t=e.calloutLabel;if(null==t)return Vk.zero.clone();const o=e.outerRadius+i.length+n,a=e.midCos*o,r=e.midSin*o+t.collisionOffsetY,s=t.collisionTextAlign??t.textAlign,l=t.textBaseline;return pN.computeBBox(t.text,a,r,{font:this.properties.calloutLabel,textAlign:s,textBaseline:l})},p=(e,t,i)=>{const n=h(e).grow(o/2),a=h(t).grow(o/2);if(n.x<a.x+a.width&&n.x+n.width>a.x&&("to-top"===i?n.y<a.y+a.height:n.y+n.height>a.y)){const e="to-top"===i?n.y-a.y-a.height:n.y+n.height-a.y;t.calloutLabel.collisionOffsetY=e}},g=e=>{const t=e.slice().sort(((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin)))[0],i=e.indexOf(t);for(let n=i-1;n>=0;n--){const t=e[n+1],i=e[n];p(t,i,"to-top")}for(let n=i+1;n<e.length;n++){const t=e[n-1],i=e[n];p(t,i,"to-bottom")}},f=e=>{const t=s.some((e=>0!==e.calloutLabel.collisionOffsetY)),i=e.map((e=>h(e))),n=i.map((e=>e.clone().grow(o/2)));let l=!1;for(let o=0;o<n.length&&!l;o++){const t=n[o];for(let i=o+1;i<e.length;i++){const e=n[i];if(t.collidesBBox(e)){l=!0;break}}}const c=r.map((e=>{const{startAngle:t,endAngle:i,outerRadius:n}=e;return{startAngle:t,endAngle:i,innerRadius:a,outerRadius:n}})),d=i.some((e=>c.some((t=>SF(e,t)))));(l||t||d)&&e.filter((e=>"center"===e.calloutLabel.textAlign)).forEach((e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"}))};g(l),g(c),f(d),f(u)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:a,color:r}=i,s=new pN;this.calloutLabelSelection.selectByTag(1).forEach((n=>{const{datum:l}=n,c=l.calloutLabel,d=t.convert(l.radius),u=Math.max(0,d);if(!c?.text||0===u||c.hidden)return void(n.visible=!1);const h=u+o+a,p=l.midCos*h,g=l.midSin*h+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};s.text=c.text,s.x=p,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(f);const m=s.getBBox();let y=c.text,v=!0;if(i.avoidCollisions){const{textLength:t,hasVerticalOverflow:i}=this.getLabelOverflow(c.text,m,e);y=c.text.length===t?c.text:`${c.text.substring(0,t)}\u2026`,v=!i}n.text=y,n.x=p,n.y=g,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=r,n.visible=v}))}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,o=n.length,{offset:a,maxCollisionOffset:r,minSpacing:s}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new pN;let d;const{title:u}=this.properties;if(u?.text&&u.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=u.text,c.x=0,c.y=e,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.getBBox(),l.push(d))}return this.calloutNodeData.forEach((i=>{const n=i.calloutLabel;if(!n||0===i.outerRadius)return null;const u=i.outerRadius+o+a,h=i.midCos*u,p=i.midSin*u+n.collisionOffsetY;c.text=n.text,c.x=h,c.y=p,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:n.collisionTextAlign??n.textAlign,textBaseline:n.textBaseline});const g=c.getBBox();if(n.box=g,Math.abs(n.collisionOffsetY)>r)n.hidden=!0;else{if(d){const e=t.y-this.centerY,i=new Vk(d.x-s,e,d.width+2*s,d.y+d.height+s-e);if(g.collidesBBox(i))return void(n.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:o}=this.getLabelOverflow(n.text,g,t),a=n.text.length>2&&e<2;if(i||a||o)return void(n.hidden=!0)}n.hidden=!1,l.push(g)}})),0===l.length?null:Vk.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:o,fontFamily:a,positionOffset:r,positionRatio:s,color:l}=this.properties.sectorLabel,c=t>0,d=1===this.seriesItemEnabled.filter(Boolean).length,u=(e,u)=>{const{sectorLabel:h,outerRadius:p,startAngle:g,endAngle:f}=u;let m=!1;if(h&&0!==p){const y=t*(1-s)+p*s+r;e.fill=l,e.fontStyle=n,e.fontWeight=o,e.fontSize=i,e.fontFamily=a,e.text=h.text;!c&&d?(e.x=0,e.y=0):(e.x=u.midCos*y,e.y=u.midSin*y),e.textAlign="center",e.textBaseline="middle";const v=e.getBBox(),b=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],x={startAngle:g,endAngle:f,innerRadius:t,outerRadius:p};b.every((e=>{let[t,i]=e;return bF(t,i,x)}))&&(m=!0)}e.visible=m};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:o}=this.properties,{sectorLabel:a,calloutLabel:r,legendItem:s}=e;return o&&void 0!==s?s.text:i&&i!==t&&void 0!==r?.text?r.text:n&&n!==t&&void 0!==a?.text?a.text:void 0}pickNodeClosestDatum(e){return FF(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return KN;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:o}=e,a=Sj(this.properties.title?.text),r=kw(i)?$k(i):String(i),s=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:a??s,content:a&&s?`${s}: ${r}`:r,backgroundColor:n},{datum:t,itemId:o,title:a,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){const{visible:t,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||"category"!==e)return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:r,legendItemKey:s}=this.properties;if(!s&&(!a||a===o)&&(!r||r===o))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,h=[];for(let p=0;p<i.data.length;p++){const{datum:e,values:n}=i.data[p],g=[];u&&g.push(u);const f=this.getLabels(e,2*Math.PI,2*Math.PI,!1,null!=l?n[l]:void 0,null!=c?n[c]:void 0,null!=d?n[d]:void 0);if(s&&void 0!==f.legendItem?g.push(f.legendItem.text):a&&a!==o&&void 0!==f.calloutLabel?.text?g.push(f.calloutLabel?.text):r&&r!==o&&void 0!==f.sectorLabel?.text&&g.push(f.sectorLabel?.text),0===g.length)continue;const m=this.getSectorFormat(e,p,!1);h.push({legendType:"category",id:this.id,itemId:p,seriesId:this.id,enabled:t&&this.legendItemEnabled[p],label:{text:g.join(" - ")},symbols:[{marker:{fill:m.fill,stroke:m.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=s?e[s]:void 0})}return h}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:o}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=o&&this.toggleOtherSeriesItems(o,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(((n,o)=>{let{values:a}=n;a[i]===e&&this.toggleSeriesItem(o,t)}))}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=BF(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);nC(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((e,t)=>this.getDatumId(t))),aB(this,"callout",t,this.calloutLabelSelection),aB(this,"sector",t,this.labelSelection),aB(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:o,previousRadiusScale:a}=this,{animationManager:r}=this.ctx,s=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(s?.moved.size??0),c=(n?.defs.keys.length??0)>0;l&&c&&(n?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const d=BF(!1,this.properties.rotation,o,a);nC(this.id,"nodes",r,[e,t,i],d.nodes,((e,t)=>this.getDatumId(t)),s),aB(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),aB(this,"sector",this.ctx.animationManager,this.labelSelection),aB(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,r=BF(!1,this.properties.rotation,n,o);nC(this.id,"nodes",a,[e,t,i],r.nodes,((e,t)=>this.getDatumId(t))),rB(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),rB(this,"sector",this.ctx.animationManager,this.labelSelection),rB(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys)return n?e[n]:t?e[t]:i?e[i]:void 0}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t,legendItemEnabled:i}=this;this.seriesItemEnabled=e?.map(((e,i)=>t[i]??!0))??[],this.legendItemEnabled=e?.map(((e,t)=>i[t]??!0))??[]}};JF.className="PieSeries",JF.type="pie";var e_={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new JF(e),tooltipDefaults:{range:"exact"},themeTemplate:GF,paletteFactory:VF},t_={add:function(e,t){if("number"===typeof t)return{x:e.x+t,y:e.y+t};return{x:e.x+t.x,y:e.y+t.y}},angle:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)},apply:function(e,t){return e.x=t.x,e.y=t.y,e},equal:function(e,t){return e.x===t.x&&e.y===t.y},distance:function(e,t){const i=i_(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function(e,t){const i=i_(e,t);return i.x*i.x+i.y*i.y},from:function(e,t){if("number"===typeof e)return{x:e,y:t};if("regionOffsetX"in e)return{x:e.regionOffsetX,y:e.regionOffsetY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${e}] [${t}]`)},gradient:function(e,t,i){const n=t.x-e.x;return(null==i?t.y-e.y:i-t.y-(i-e.y))/n},intercept:function(e,t,i){return(null==i?e.y:i-e.y)-t*e.x},intersectAtX:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const o=e===1/0?1/0:e*i+t;return{x:i,y:null==n?o:n-o}},intersectAtY:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return{x:e===1/0?1/0:(i-t)/e,y:null==n?i:n-i}},length:n_,lengthSquared:function(e){return e.x*e.x+e.y*e.y},multiply:function(e,t){if("number"===typeof t)return{x:e.x*t,y:e.y*t};return{x:e.x*t.x,y:e.y*t.y}},normalized:function(e){const t=n_(e);return{x:e.x/t,y:e.y/t}},origin:o_,required:function(e){return{x:e?.x??0,y:e?.y??0}},rotate:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};const n=n_(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}},round:function(e){return{x:Math.round(e.x),y:Math.round(e.y)}},sub:i_};function i_(e,t){return"number"===typeof t?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function n_(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function o_(){return{x:0,y:0}}var a_=class extends EC{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){const e=[...this.buttons??[]];return this.draggable&&e.unshift({icon:"drag-handle",tooltip:"toolbarAnnotationsDragHandle",value:"drag",id:"drag"}),e?.map((e=>{const t=e.id??e.value,i=this.buttonOverrides.get(t);return null!=i?{...e,...i}:e}))??[]}buttonsChanged(e){this.onButtonsChange(this.buttonConfigurations(),e)}overrideButtonConfiguration(e,t){let i=this.buttonOverrides.get(e);null==i&&(i=Object.create(null),this.buttonOverrides.set(e,i));for(const n in t){const e=t[n];null==e?delete i[n]:i[n]=e}this.buttonsChanged(!0)}};pA([TN((e=>{e.onChange(e.enabled)})),TC($C)],a_.prototype,"enabled",2),pA([TN((e=>{e.onChange(e.enabled)})),TC(wI([...kT]),{optional:!0})],a_.prototype,"align",2),pA([TN((e=>{e.onChange(e.enabled)})),TC(wI(DT),{optional:!0})],a_.prototype,"position",2),pA([TC($C)],a_.prototype,"draggable",2),pA([TN((e=>{e.onChange(e.enabled)})),TC(wI(["small","normal"]),{optional:!0})],a_.prototype,"size",2),pA([TN((e=>{for(const t of e.buttons??[])null!=t.icon&&mA.includes(t.icon)&&MA.warnOnce(`Icon '${t.icon}' is deprecated, use another icon instead.`),"toolbarAnnotationsColor"===t.ariaLabel&&MA.warnOnce(`Aria label '${t.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);e.buttonsChanged(!1)})),TC(XC,{optional:!0})],a_.prototype,"buttons",2);var r_="ag-charts-toolbar",s_="ag-charts-toolbar__align",l_="ag-charts-toolbar__section",c_="ag-charts-toolbar__button",d_="ag-charts-toolbar__icon",u_="ag-charts-toolbar__label",h_={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{first:"ag-charts-toolbar__button--first",last:"ag-charts-toolbar__button--last",active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible",strokeWidthVisible:"ag-charts-toolbar__button--stroke-width-visible",withTransition:"ag-charts-toolbar__button--with-transition",dragHandle:"ag-charts-toolbar__button--drag-handle",dragging:"ag-charts-toolbar__button--dragging"}},p_=class extends yO{constructor(e){super(),this.ctx=e,this.enabled=!0,this.seriesType=new a_(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new a_(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new a_(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new a_(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new a_(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.dragState={client:{x:0,y:0},position:{x:0,y:0},detached:!1},this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,left:new Set,right:new Set,bottom:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},left:{},right:{},bottom:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[],resetListeners:()=>{}},{groups:["annotationOptions"],destroyFns:[],resetListeners:()=>{}},{groups:["ranges"],destroyFns:[],resetListeners:()=>{}},{groups:["zoom"],destroyFns:[],resetListeners:()=>{}}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(const i of DT)this.elements[i]=e.domManager.addChild("canvas-overlay",`toolbar-${i}`),this.elements[i].role="presentation",this.renderToolbar(i);this.toggleVisibilities();const t=e.regionManager.getRegion("series");this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),63),e.interactionManager.addListener("leave",this.onLeave.bind(this),63),t.addListener("drag-start",this.toggleNoPointerEvents.bind(this,!0),40),t.addListener("drag-end",this.toggleNoPointerEvents.bind(this,!1),63),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("group-updated",this.onGroupUpdated.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutManager.registerElement(2,this.onLayoutStart.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-dom-update",this.onPreDomUpdate.bind(this)),e.updateService.addListener("update-complete",this.onUpdateComplete.bind(this)),e.localeManager.addListener("locale-changed",(()=>{this.hasNewLocale=!0})),(()=>this.destroyElements()))}destroyElements(){this.ctx.domManager.removeStyles(r_);for(const e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){const{enabled:t,elements:i,floatingDetectionRange:n,ctx:{scene:o}}=this,{offsetY:a,sourceEvent:{target:r}}=e,{FloatingBottom:s,FloatingTop:l}=IT;if(!t)return;const c=i[s],d=i[l],u=a>c.offsetTop-n&&a<o.canvas.element.offsetHeight||r===c,h=d.offsetTop+d.offsetHeight+n,p=a>0&&a<h||r===d;this.translateFloatingElements(s,u),this.translateFloatingElements(l,p)}onLeave(e){const{enabled:t,ctx:{scene:i}}=this,{relatedElement:n,targetElement:o}=e,{FloatingBottom:a,FloatingTop:r}=IT;if(!t||o!==i.canvas.element)return;wT.some((e=>this.groupButtons[e].some((e=>e===n))))||(this.translateFloatingElements(a,!1),this.translateFloatingElements(r,!1))}toggleNoPointerEvents(e){this.groupButtons.annotationOptions.forEach((t=>t.classList.toggle("ag-charts-toolbar__no-pointer-events",e)))}onGroupChanged(e){null==this[e]||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t,i){if(this.enabled&&!this.groupProxied.has(e)){if(i)for(const t of this[e].buttonConfigurations())this.refreshButtonContent(e,t);else this.createGroupButtons(e,t);this.toggleVisibilities()}}onLayoutComplete(e){for(const t of DT)this.elements[t].classList.remove(h_.preventFlash);this.enabled&&this.refreshInnerLayout(e.series.rect)}toggleButtonsTransition(e){const t=h_.button.withTransition;for(const i of Object.values(this.groupButtons).flat())e&&!i.classList.contains(t)&&i.getBoundingClientRect(),i.classList.toggle(t,e)}onPreDomUpdate(){this.toggleButtonsTransition(!1)}onUpdateComplete(){this.toggleButtonsTransition(!0)}onButtonUpdated(e){const{type:t,group:i,id:n,...o}=e;this[i].overrideButtonConfiguration(n,o)}setButtonActive(e,t){e.classList.toggle(h_.button.active,t)}setButtonChecked(e,t){"switch"===e.role&&(e.ariaChecked=t.toString())}setButtonGroupFirstLast(e){const t=Array.from(e.childNodes??[]),i=(e,t,i)=>{const n=!t.classList.contains(h_.button.hiddenToggled);return t.classList.toggle(i,n&&e),!n&&e};let n=!0;t.forEach((e=>n=i(n,e,h_.button.first)));let o=!0;t.toReversed().forEach((e=>o=i(o,e,h_.button.last)))}onButtonToggled(e){const{group:t,id:i,active:n,enabled:o,visible:a,checked:r}=e;if(0===this.groupButtons[t].length)return void this.pendingButtonToggledEvents.push(e);const s=this.groupButtons[t].find((e=>e.dataset.toolbarId===`${i}`));null!=s&&(s.ariaDisabled=`${!o}`,s.classList.toggle(h_.button.hiddenToggled,!a),this.setButtonActive(s,n),this.setButtonChecked(s,r),this.setButtonGroupFirstLast(s.parentNode))}onGroupToggled(e){const{caller:t,group:i,active:n,visible:o}=e;this.toggleGroup(t,i,n,o),this.toggleVisibilities()}onGroupUpdated(e){const{group:t}=e;for(const i of this.ariaToolbars)if(i.groups.includes(t))return void i.resetListeners()}onFloatingAnchorChanged(e){const{elements:t,positions:i,horizontalSpacing:n,verticalSpacing:o}=this,{group:a,anchor:r}=e,s=t.floating;if(this.dragState.detached||s.classList.contains(h_.hidden))return;if(this.dragState.detached=!1,!i.floating.has(a))return;const l=r.position??"above",{offsetWidth:c,offsetHeight:d}=s;let u=r.y-d-o,h=r.x-c/2;"below"===l?u=r.y+o:"right"===l?(u=r.y-d/2,h=r.x+n):"above-left"===l&&(h=r.x);const p=new Vk(h,u,c,d);this.positionGroup(s,a,p)}positionGroup(e,t,i){const{ctx:{domManager:n}}=this,o=n.getBoundingClientRect();i.x=Lk(0,i.x,o.width-i.width),i.y=Lk(0,i.y,o.height-i.height);const a=`${Math.floor(i.x)}px`,r=`${Math.floor(i.y)}px`;(e.style.getPropertyValue("left")!==a||e.style.getPropertyValue("top")!==r)&&(e.style.setProperty("left",a),e.style.setProperty("top",r),this.onGroupMoved(t,i))}onGroupMoved(e,t){const{groupButtons:i,ctx:{toolbarManager:n}}=this;for(const o of i[e]){if(o.classList.contains(h_.button.hiddenToggled))continue;const i=o.offsetParent;n.buttonMoved(e,o.dataset.toolbarId,new Vk(o.offsetLeft+(i?.offsetLeft??0),o.offsetTop+(i?.offsetTop??0),o.offsetWidth,o.offsetHeight),t)}}buttonRect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx.domManager.getBoundingClientRect();const i=e.getBoundingClientRect();return new Vk(i.left-t.left,i.top-t.top,i.width,i.height)}onProxyGroupOptions(e){if(!this.enabled)return;const{caller:t,group:i,options:n}=e;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(t,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(e,t,i){t??(t=this[e].enabled),i??(i=this[e].position);for(const n of DT)t&&i===n?this.positions[n].add(e):this.positions[n].delete(e)}createGroupButtons(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const d of this.groupButtons[e])d.remove();if(this.groupButtons[e]=[],0===t.length)return;const{align:i,position:n}=this[e],o=this.positionAlignments[n][i];if(!o)return;const a=t=>{const i=Array.from(o.children),n="data-group",a="data-section";let r=i.find((i=>i.getAttribute(n)===e&&i.getAttribute(a)===(t??"")));if(!r){r=Ak("div"),r.role="presentation",r.setAttribute(n,e),r.setAttribute(a,t??"");const s=CT[e],l=i.find((e=>{const t=e.getAttribute(n);return CT[t]>s}));null!=l?o.insertBefore(r,l):o.appendChild(r),this.destroyFns.push((()=>r.remove()))}return r.classList.add(l_,h_[this[e].size]),r};let r=t.at(0)?.section,s=a(r);for(const d of t){r!==d.section&&(this.setButtonGroupFirstLast(s),s=a(d.section)),r=d.section;const t=this.createButtonElement(e,d);s.appendChild(t),this.groupButtons[e].push(t)}this.setButtonGroupFirstLast(s);let l,c;NT(n)&&(l=()=>this.translateFloatingElements(n,!0),c=()=>this.translateFloatingElements(n,!1)),this.createAriaToolbar(e,o,l,c,(()=>{this.ctx.toolbarManager.cancel(e)}))}createAriaToolbar(e,t,i,n,o){const a=this.computeAriaOrientation(this[e].position),r=this.getAriaToolbar(e);r.resetListeners=()=>{const e=r.groups.map((e=>this.groupButtons[e])).flat().filter((e=>!e.classList.contains(h_.button.hiddenToggled)&&!e.classList.contains(h_.button.dragHandle)));r.destroyFns.forEach((e=>e())),r.destroyFns=YO({orientation:a,toolbar:t,buttons:e,onEscape:o,onFocus:i,onBlur:n})},r.resetListeners(),this.updateToolbarAriaLabel(e,t)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,i,n){if(!0===n?this.groupCallers[t].add(e):!1===n&&this.groupCallers[t].delete(e),null!=i)for(const o of this.groupButtons[t])this.setButtonActive(o,i)}processPendingEvents(){const e=(this.pendingButtonToggledEvents??[]).slice();for(const t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}onLayoutStart(e){this.enabled&&(this.refreshOuterLayout(e.layoutBox),this.refreshLocale())}refreshOuterLayout(e){const{elements:t,horizontalSpacing:i,verticalSpacing:n}=this;t.top.classList.contains(h_.hidden)||e.shrink(t.top.offsetHeight+n,"top"),t.right.classList.contains(h_.hidden)||e.shrink(t.right.offsetWidth+i,"right"),t.bottom.classList.contains(h_.hidden)||(e.shrink(t.bottom.offsetHeight+n,"bottom"),t.bottom.style.top=`${e.y+e.height+n}px`),t.left.classList.contains(h_.hidden)||e.shrink(t.left.offsetWidth+i,"left")}refreshLocale(){const{hasNewLocale:e}=this;if(e){for(const e of wT){const t=this[e].buttonConfigurations();for(const i of t)this.refreshButtonContent(e,i);this.updateToolbarAriaLabel(e)}this.hasNewLocale=!1}}refreshInnerLayout(e){const{elements:t,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:o}=IT;t.top.style.top=e.y-t.top.offsetHeight-i+"px",t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[o].style.top=`${e.y}px`,t[n].style.top=e.y+e.height-t[n].offsetHeight+"px"}refreshButtonContent(e,t){const i=this.buttonId(t),n=this.groupProxied.get(e)?.buttons?.find((e=>this.buttonId(e)===i))??t,o=this.groupButtons[e].find((e=>e.getAttribute("data-toolbar-id")===i));null!=o&&this.updateButton(o,n)}toggleVisibilities(){if(null==this.elements)return;const e=e=>this[e].enabled&&this.groupCallers[e].size>0,t=e=>t=>{const i=this.buttonId(t);return null==i||i===e.dataset.toolbarId};for(const i of DT){const t=this.enabled&&Array.from(this.positions[i].values()).some(e);"floating"!==i||t||(this.dragState.detached=!1),this.elements[i].classList.toggle(h_.hidden,!t)}for(const i of wT){if(null==this[i])continue;const n=e(i);for(const e of this.groupButtons[i]){const o=n&&this[i].buttonConfigurations().some(t(e));e.classList.toggle(h_.button.hiddenValue,!o)}}}translateFloatingElements(e,t){const{elements:i,verticalSpacing:n,positionAlignments:o}=this,a=i[e],r=Object.values(o[e]);a.classList.toggle(h_.floatingHidden,!t);const s="floating-bottom"===e?1:-1;for(const l of r)l.style.transform=t&&""!==l.style.transform?"translateY(0)":`translateY(${(a.offsetHeight+n)*s}px)`}renderToolbar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";const t=this.elements[e];t.classList.add(r_,h_[e],h_.preventFlash),NT(e)&&t.classList.add(h_.floatingHidden);for(const i of kT){const n=Ak("div");n.role="presentation",n.classList.add(s_,h_.align[i]),t.appendChild(n),this.positionAlignments[e][i]=n}}createButtonElement(e,t){const i=Ak("button");return i.classList.add(c_),i.dataset.toolbarGroup=e,FN(i,"tabindex",-1),t.haspopup&&_N(i,{"aria-haspopup":!0,"aria-expanded":!1}),i.dataset.toolbarId=this.buttonId(t),i.addEventListener("click",QO(i,(n=>this.onButtonPress(n,i,e,t.id,t.value)))),"drag"===t.value&&(i.addEventListener("mousedown",QO(i,(t=>this.onDragStart(t,i,e)))),i.classList.add(h_.button.dragHandle)),"switch"===t.role&&_N(i,{role:t.role,"aria-checked":!1}),this.updateButton(i,t),this.destroyFns.push((()=>i.remove())),i}getAriaToolbar(e){for(const t of this.ariaToolbars)if(t.groups.includes(e))return t;throw new Error(`AG Charts - cannot find aria-toolbar of '${e}'`)}updateToolbarAriaLabel(e,t){if(!t){const{align:i,position:n}=this[e];if(!(t=this.positionAlignments[n][i]))return}t.ariaLabel=this.ctx.localeManager.t({seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[e])}expandButtonConfig(e,t){return"switch"!==t.role||"true"!==e.ariaChecked||void 0===t.checkedOverrides?t:{icon:t.checkedOverrides.icon??t.icon,label:t.checkedOverrides.label??t.label,ariaLabel:t.checkedOverrides.ariaLabel??t.ariaLabel,tooltip:t.checkedOverrides.tooltip??t.tooltip}}updateButton(e,t){const{domManager:i,localeManager:n}=this.ctx,{icon:o,label:a,ariaLabel:r,tooltip:s}=this.expandButtonConfig(e,t);s&&(e.title=n.t(s));let l="";if(null!=o&&(l=`<span class="${i.getIconClassNames(o)} ${d_}"></span>`),null!=a){const e=n.t(a);l=`${l}<span class="${u_}">${e}</span>`}e.innerHTML=l,e.classList.toggle(h_.button.fillVisible,null!=t.fill),e.style.setProperty("--fill",t.fill??null);const c=null!=t.strokeWidth;e.classList.toggle(h_.button.strokeWidthVisible,c),e.style.setProperty("--strokeWidth",c?`${t.strokeWidth}px`:null);FN(e,"aria-label",r?this.ctx.localeManager.t(r):void 0)}onButtonPress(e,t,i,n,o){this.ctx.toolbarManager.pressButton(i,this.buttonId({id:n,value:o}),o,this.buttonRect(t),e)}onDragStart(e,t,i){const n=this.elements.floating;e.preventDefault(),e.stopPropagation(),this.dragState={client:t_.from(e.clientX,e.clientY),position:t_.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px",""))),detached:!0},t.classList.toggle(h_.button.dragging,!0);const o=e=>this.onDrag(e,i),a=Mk();a.addEventListener("mousemove",o),a.addEventListener("mouseup",(()=>{t.classList.toggle(h_.button.dragging,!1),a.removeEventListener("mousemove",o)}),{once:!0}),this.ctx.toolbarManager.groupMoved(i)}onDrag(e,t){const{elements:i,dragState:n}=this,o=i.floating,{offsetWidth:a,offsetHeight:r}=o,s=t_.sub(t_.from(e.clientX,e.clientY),n.client),l=t_.add(n.position,s),c=new Vk(l.x,l.y,a,r);this.positionGroup(o,t,c)}buttonId(e){const{id:t,value:i,label:n}=e;return null!=t?t:null!=i&&"object"!==typeof i?String(i):n??""}};pA([TN((e=>{e.processPendingEvents(),e.toggleVisibilities()})),TC($C)],p_.prototype,"enabled",2);var g_=2592e6,f_={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new p_(e),themeTemplate:{toolbar:{enabled:!0,seriesType:{enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type",haspopup:!0}]},annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations",haspopup:!0},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations",haspopup:!0},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu",section:"shape-annotations",haspopup:!0},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu",section:"measure-annotations",haspopup:!0},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",draggable:!0,buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color",haspopup:!0},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color",haspopup:!0},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color",haspopup:!0},{tooltip:"toolbarAnnotationsTextSize",value:"text-size",haspopup:!0},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width",haspopup:!0},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type",haspopup:!0},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings",haspopup:!0},{role:"switch",icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:{enabled:!1,position:mj,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:g_},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:7776e6},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:15552e6},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:31536e6},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t],id:"all"}]},zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};function m_(){bO.register(WP,lz,EP,pz,f_,L$,eF,rF,hF,mF,UF,e_,cF);for(const e of[TP,oO,zP,mO,PP])qT.register(e.type,{moduleFactory:t=>new e(t),hidden:e===mO})}function y_(){for(const e of bO.modules){if("enterprise"!==e.packageType||eR(e)||MA.errorOnce("Unexpected enterprise module registered: "+e.identifier),"root"===e.type&&e.themeTemplate)for(const t of e.chartTypes)rR.set(t,e.themeTemplate);if("series"===e.type){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);sR.register(e.identifier,e)}if("series-option"===e.type&&e.themeTemplate)for(const t of e.seriesTypes)sR.setThemeTemplate(t,e.themeTemplate);if("axis-option"===e.type&&e.themeTemplate)for(const t of e.axisTypes){const i=qT.getThemeTemplate(t),n=Lw(e.themeTemplate,i);qT.setThemeTemplate(t,n)}"axis"===e.type&&qT.register(e.identifier,e),"legend"===e.type&&tR.register(e.identifier,e)}if(bO.hasEnterpriseModules()){const e=QT.filter((e=>{let{useCount:t}=e;return null==t||0===t}));e.length>0&&MA.errorOnce("Enterprise modules expected but not registered: ",e)}}var v_=class extends _R{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:e}=this.getOptions();this.series.forEach((t=>{(function(e){return"sankey"===e.type||"chord"===e.type})(t)&&t.setChartNodes(e)}))}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:o}=e,a=o.clone();o.shrink(this.seriesArea.padding.toJson()),this.seriesRect=o,this.animationRect=o,t.visible=this.series.some((e=>e.visible));for(const r of[t,i,n])r.translationX=Math.floor(o.x),r.translationY=Math.floor(o.y),r.setClipRect(a.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:a,paddedRect:o}})}};v_.className="FlowProportionChart",v_.type="flow-proportion";var b_=class extends JE{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};pA([TC(wI(["polygon","circle"],"a polar axis shape"))],b_.prototype,"shape",2),pA([TC(UC)],b_.prototype,"innerRadiusRatio",2);var x_=class extends _R{getChartType(){return"gauge"}updateRadialGauge(e,t){const i=this.axes.find((e=>"x"===e.direction));if(!(i instanceof b_))return;i.computeRange();const n=e.x,o=n+e.width,a=e.y,r=a+e.height,[s,l]=i.range,c=BD(l-s)>Math.PI,d=c||FD(1.5*Math.PI,s,l),u=c||FD(0*Math.PI,s,l),h=c||FD(.5*Math.PI,s,l),p=c||FD(1*Math.PI,s,l);let g,f;g=p&&!u?"right":!p&&u?"left":"center",f=d&&!h?"bottom":!d&&h?"top":"middle";const m=vF({startAngle:s,endAngle:l,innerRadius:0,outerRadius:.5}),y=2*-(m.x+m.width/2),v=2*-(m.y+m.height/2),{minimumRadius:b=0,maximumRadius:x}=t,S=Math.max(.5*Math.min(e.width/m.width,e.height/m.height),0);let M=Math.min(x??1/0,Math.max(S,b??0));for(let A=0;A<8;A+=1){const t=M<=b||7===A,s=e.x+e.width/2+y*M,l=e.y+e.height/2+v*M;i.translation.x=s,i.translation.y=l,i.gridLength=M,i.calculateLayout();const c=i.computeLabelsBBox({hideWhenNecessary:t},e);if(t)break;let d=0;if(null!=c){const e=c.x+s,t=e+c.width,i=c.y+l,u=i+c.height;d=Math.max(a-i,n-e,u-r,t-o,0)}if(!(d>0))break;M=Math.max(M-d,b)}i.translation.x=e.x+e.width/2+y*M,i.translation.y=e.y+e.height/2+v*M,t.centerX=e.width/2+y*M,t.centerY=e.height/2+v*M,t.radius=M,t.textAlign=g,t.verticalAlign=f,(0===M||M>S)&&MA.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(e,t){const i=this.axes.find((e=>"x"===e.direction)),n=this.axes.find((e=>"y"===e.direction));if(!(i instanceof iO))return e;if(!(n instanceof iO))return e;const{horizontal:o,thickness:a}=t;let r=0,s=0;const l=new OP;l.domain=[0,100],l.range=o?i.range:n.range;const c=l.ticks();o?r=t.computeInset("x",c):s=t.computeInset("y",c);const d=e.width-Math.abs(r),u=e.height-Math.abs(s),h=Math.max(o?d:a,0),p=Math.max(o?a:u,0),g=e.x+(d-h)/2+Math.max(r,0),f=e.y+(u-p)/2-Math.min(s,0);i.range=[0,h],i.gridLength=h,i.calculateLayout(),i.translation.x=g,i.translation.y=f+("bottom"===i.position?a:0),n.range=[0,p],n.gridLength=p,n.calculateLayout(),n.translation.x=g+("right"===n.position?a:0),n.translation.y=f,t.originX=g-e.x,t.originY=f-e.y,0!==h&&0!==p||MA.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n,series:o,seriesArea:a}=this,{layoutBox:r}=e,s=r.clone();r.shrink(a.padding.toJson());const l=this.series[0];!function(e){return"radial-gauge"===e.type}(l)?function(e){return"linear-gauge"===e.type}(l)&&this.updateLinearGauge(r,l):this.updateRadialGauge(r,l),this.axes.forEach((e=>e.update())),this.seriesRect=s.clone().translate(s.x-r.x,s.y-r.y),this.animationRect=r,t.visible=o.some((e=>e.visible));for(const c of[t,i,n])c.translationX=Math.floor(r.x),c.translationY=Math.floor(r.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:s,paddedRect:r}})}getAriaLabel(){const e=[],t=this.getCaptionText();0!==t.length&&e.push(t);for(const n of this.series)e.push(n.getCaptionText());const i=e.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};x_.className="GaugeChart",x_.type="gauge";var S_=class extends _R{constructor(e,t){super(e,t)}getChartType(){return"hierarchy"}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:o}=e,a=o.clone();o.shrink(this.seriesArea.padding.toJson()),this.seriesRect=o,this.animationRect=o;for(const r of[t,i,n])r.translationX=Math.floor(o.x),r.translationY=Math.floor(o.y);t.visible=this.series[0].visible,t.setClipRect(o.clone()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:a,paddedRect:o}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};S_.className="HierarchyChart",S_.type="hierarchy";var M_=class extends _R{constructor(e,t){super(e,t),this.padding=new AO(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e,i=t.clone();t.shrink(this.seriesArea.padding.toJson()),this.seriesRect=t,this.animationRect=t,await this.computeCircle(t),this.axes.forEach((e=>e.update())),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:i,paddedRect:t}})}updateAxes(e,t,i){const n=this.axes.find((e=>"x"===e.direction)),o=this.axes.find((e=>"y"===e.direction));if(!(n instanceof b_)||!(o instanceof b_))return;const a=n.scale,r=o.innerRadiusRatio;n.innerRadiusRatio=r,n.computeRange(),n.gridLength=i,o.gridAngles=a.ticks?.().map((e=>a.convert(e))),o.gridRange=n.range,o.range=[i,i*r],[n,o].forEach((i=>{i.translation.x=e,i.translation.y=t,i.calculateLayout()}))}async computeCircle(e){var t=this;const i=this.series.filter(A_),n=this.axes.filter(k_),o=(e,t,n)=>{this.updateAxes(e,t,n),i.forEach((i=>{i.centerX=e,i.centerY=t,i.radius=n}));const o=i.filter((e=>"donut"===e.type||"pie"===e.type));if(o.length>1){const e=o.map((e=>{const t=e.getInnerRadius();return{series:e,innerRadius:t}})).sort(((e,t)=>e.innerRadius-t.innerRadius));e.at(-1).series.surroundingRadius=void 0;for(let t=0;t<e.length-1;t++)e[t].series.surroundingRadius=e[t+1].innerRadius}},a=e.x+e.width/2,r=e.y+e.height/2,s=Math.max(0,Math.min(e.width,e.height)/2);let l=s;o(a,r,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d=[];for(const t of gk(n,i)){const i=await t.computeLabelsBBox({hideWhenNecessary:c},e);i&&d.push(i)}if(0===d.length)return void o(a,r,s);const u=Vk.merge(d),h=t.refineCircle(u,l,e);o(h.centerX,h.centerY,h.radius),l=h.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(const d of gk(n,i))await d.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:l,centerX:a,centerY:r}}refineCircle(e,t,i){const n=-t,o=-t,a=t,r=t;let s=Math.max(0,n-e.x),l=Math.max(0,o-e.y),c=Math.max(0,e.x+e.width-a),d=Math.max(0,e.y+e.height-r);s=c=Math.max(s,c),l=d=Math.max(l,d);const u=i.width-s-c,h=i.height-l-d;let p=Math.min(u,h)/2;const g=.5*i.width/2,f=.5*i.height/2,m=Math.min(g,f);if(p<m){p=m;const e=s+c;if(2*p+(l+d)>i.height){const e=i.height-2*p;2*Math.min(l,d)>e?(l=e/2,d=e/2):l>d?l=e-d:d=e-l}if(2*p+e>i.width){const e=i.width-2*p;2*Math.min(s,c)>e?(s=e/2,c=e/2):s>c?s=e-c:c=e-s}}const y=s+2*p+c,v=l+2*p+d;return{centerX:i.x+(i.width-y)/2+s+p,centerY:i.y+(i.height-v)/2+l+p,radius:p}}};function A_(e){return e instanceof _F}function k_(e){return e instanceof b_}M_.className="PolarChart",M_.type="polar";var w_=class extends _R{constructor(e,t){super(e,t)}getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:o}=e,a=o.clone();o.shrink(this.seriesArea.padding.toJson()),this.seriesRect=o,this.animationRect=o;for(const r of[t,i,n])r.translationX=Math.floor(o.x),r.translationY=Math.floor(o.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:a,paddedRect:o}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};w_.className="StandaloneChart",w_.type="standalone";var C_=Math.PI/180,I_=e=>e*C_,D_=e=>-Math.log(Math.tan(.25*Math.PI+e*C_*.5)),N_=e=>e/C_,E_=e=>(Math.atan(Math.exp(-e))-.25*Math.PI)/(.5*C_),O_=class e{constructor(t,i){this.domain=t,this.range=i,this.type="mercator",this.bounds=e.bounds(t)}static bounds(e){const[[t,i],[n,o]]=e,a=I_(t),r=D_(i),s=I_(n),l=D_(o);return new Vk(Math.min(a,s),Math.min(r,l),Math.abs(s-a),Math.abs(l-r))}static fixedScale(){return new e([[N_(0),E_(0)],[N_(1),E_(1)]],[[0,0],[1,1]])}convert(e){let[t,i]=e;const[[n,o],[a,r]]=this.range,s=(a-n)/this.bounds.width,l=(r-o)/this.bounds.height;return[(I_(t)-this.bounds.x)*s+n,(D_(i)-this.bounds.y)*l+o]}invert(e){let[t,i]=e;const[[n,o],[a,r]]=this.range,s=(a-n)/this.bounds.width,l=(r-o)/this.bounds.height;return[N_((t-n)/s+this.bounds.x),E_((i-o)/l+this.bounds.y)]}};function L_(e){return"map-shape"===e.type||"map-line"===e.type||"map-marker"===e.type||"map-shape-background"===e.type||"map-line-background"===e.type}var T_=class extends _R{constructor(e,t){super(e,t),this.xAxis=new TP(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new TP(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:e}=this.getOptions();this.series.forEach((t=>{L_(t)&&t.setChartTopology(e)}))}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:o}=e,a=o.clone();o.shrink(this.seriesArea.padding.toJson()),this.seriesRect=o,this.animationRect=o;const r=this.series.filter(L_),s=r.reduce(((e,t)=>{if(!t.visible)return e;const i=t.topologyBounds;return null==i?e:null==e?i:(e.merge(i),e)}),void 0);let l;if(null!=s){const{lon0:e,lat0:t,lon1:i,lat1:n}=s,a=[[e,t],[i,n]],r=O_.bounds(a),{width:c,height:d}=o,u=Math.min(c/r.width,d/r.height),h=r.width*u,p=r.height*u,g=(c-h)/2,f=(d-p)/2,m=g,y=f,v=g+h,b=f+p,x=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),S=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),M=(v-m)/(x.max-x.min),A=m-M*x.min,k=(b-y)/(1-S.min-(1-S.max)),w=y-k*(1-S.max);l=new O_(a,[[A,w],[A+M,w+k]])}r.forEach((e=>{e.scale=l}));const c=this.series.some((e=>e.visible));t.visible=c;for(const d of[t,i,n])d.translationX=Math.floor(o.x),d.translationY=Math.floor(o.y),d.setClipRect(o.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:c,rect:a,paddedRect:o}})}};T_.className="TopologyChart",T_.type="topology";var R_=Symbol("IGNORED_PROP");function P_(e,t){const i={};for(const n in t){const o=t[n];o!==R_&&Object.hasOwn(e,n)&&(i[n]=o)}return i}function z_(e,t){if(null==t)return e;const{targets:i,...n}=t;return null!=(e=Lw(e,n)).targets&&null!=i&&(e.targets=Tw(e.targets,i)),e}function j_(e,t){if(bw(e))return t(e)}var B_=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];var $_="range-area";function F_(e,t){return{fill:j_(t,(t=>t.overrides?.[e]?.series?.fill)),stroke:j_(t,(t=>t.overrides?.[e]?.series?.stroke))}}var __={line:{enabled:!1},title:{enabled:!1},label:{enabled:!1},crosshair:{enabled:!1,strokeOpacity:.25,lineDash:[0],label:{enabled:!1}}},H_={...__,nice:!1},W_={bottom:{crosshair:{enabled:kz}}},G_={category:W_,number:W_,log:W_,time:W_},V_={position:{type:"sparkline"}},U_={overrides:{common:{animation:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...H_,interval:{values:[0]}},log:{...H_},time:{...H_},category:{...__,gridLine:{enabled:!1}}}},bar:{series:{sparklineMode:!0},tooltip:{range:"nearest"}},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},axes:G_,series:{strokeWidth:1,marker:{enabled:!1,size:3},tooltip:V_}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},axes:G_,series:{strokeWidth:1,fillOpacity:.4,tooltip:V_}}}};function K_(e,t){return"string"===typeof e?{...t,baseTheme:e}:null!=e?{...e,baseTheme:K_(e.baseTheme,t)}:t}var Y_={"price-volume":function(e,t,i){const{xKey:n,dateKey:o=n??"date",highKey:a="high",openKey:r="open",lowKey:s="low",closeKey:l="close",volumeKey:c="volume",chartType:d="candlestick",navigator:u=!1,volume:h=!0,rangeToolbar:p,rangeButtons:g=p??!0,statusBar:f=!0,annotations:m,toolbar:y=m??!0,zoom:v=!0,theme:b,data:x,...S}=e;null!=n&&MA.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),null!=p&&MA.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),null!=m&&MA.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");const M=function(e,t,i,n,o,a,r){t===$_&&(MA.warnOnce(`type '${t}' is deprecated, use 'hlc' chart type instead`),t="hlc");const s={xKey:i,openKey:a,closeKey:r,highKey:n,lowKey:o},l={xKey:i,yKey:r},c={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return[{type:"ohlc",focusPriority:0,...c,...s}];case"line":return[{type:"line",focusPriority:0,...c,...l,stroke:j_(e,(e=>e.overrides?.line?.series?.stroke))??Wz,marker:j_(e,(e=>e.overrides?.line?.series?.marker))??{enabled:!1}}];case"step-line":return[{type:"line",focusPriority:0,...c,...l,stroke:j_(e,(e=>e.overrides?.line?.series?.stroke))??Wz,interpolation:j_(e,(e=>e.overrides?.line?.series?.interpolation))??{type:"step"},marker:j_(e,(e=>e.overrides?.line?.series?.marker))??{enabled:!1}}];case"hlc":{const t=F_($_,e);return[{type:$_,focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:r,fill:t.fill??_z,stroke:t.stroke??$z,fillOpacity:j_(e,(e=>e.overrides?.["range-area"]?.series?.fillOpacity))??.3,strokeWidth:j_(e,(e=>e.overrides?.["range-area"]?.series?.strokeWidth))??2},{type:$_,focusPriority:0,...c,xKey:i,yHighKey:r,yLowKey:o,fill:t.fill??Hz,stroke:t.stroke??Fz,fillOpacity:j_(e,(e=>e.overrides?.["range-area"]?.series?.fillOpacity))??.3,strokeWidth:j_(e,(e=>e.overrides?.["range-area"]?.series?.strokeWidth))??2},{type:"line",...c,...l,stroke:j_(e,(e=>e.overrides?.line?.series?.stroke))??Zz,strokeWidth:j_(e,(e=>e.overrides?.line?.series?.strokeWidth))??2,marker:j_(e,(e=>e.overrides?.line?.series?.marker))??{enabled:!1}}]}case"high-low":{const t=F_("range-bar",e);return[{type:"range-bar",focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:o,fill:t.fill??Gz,stroke:t.stroke??Wz,tooltip:{range:"nearest"}}]}case"candlestick":return[{type:"candlestick",focusPriority:0,...c,...s}];case"hollow-candlestick":{const t=j_(e,(e=>e.overrides?.candlestick?.series?.item));return[{type:"candlestick",focusPriority:0,...c,...s,item:{up:{fill:t?.up?.fill??"transparent"}}}]}default:return MA.warnOnce(`unknown chart type: ${t}; expected one of: ${B_.join(", ")}`),[{type:"candlestick",focusPriority:0,...c,...s}]}}(b,d,o,a,s,r,l),A=function(e,t,i,n,o,a){if(!o)return[];const r=j_(e,(e=>e.overrides?.bar?.series?.fill)),s=r?{fill:r}:{itemStyler(e){let{datum:o}=e;const{up:a,down:r}=t().palette;return{fill:o[i]<o[n]?a?.fill:r?.fill}}};return[{type:"bar",xKey:"date",yKey:a,focusPriority:1,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:j_(e,(e=>e.overrides?.bar?.series?.fillOpacity))??.5,...s}]}(b,i,r,l,h,c),k={navigator:{enabled:u,...h?{miniChart:{enabled:u,series:[{type:"line",xKey:o,yKey:c,marker:{enabled:!1}}]}}:null}},w={annotations:{enabled:y,data:x,xKey:o,volumeKey:h?c:void 0}},C=f?{statusBar:{enabled:!0,data:x,highKey:a,openKey:r,lowKey:s,closeKey:l,volumeKey:h?c:void 0}}:null,I={zoom:{enabled:v,enableIndependentAxes:!0}},D={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:y},annotationOptions:{enabled:y},annotations:{enabled:y},ranges:{enabled:g}}},N=h?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:"string"===typeof b?b:"ag-financial",...Lw("object"===typeof b?b:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...A,...M],axes:[{type:"number",position:"right",keys:[r,l,a,s],interval:{maxSpacing:j_(b,(e=>e.overrides?.common?.axes?.number?.interval?.maxSpacing))??45},label:{format:j_(b,(e=>e.overrides?.common?.axes?.number?.label?.format))??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...N,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:x,...w,...k,...C,...I,...D,...S}},gauge:function(e,t){if(function(e){return"radial-gauge"===e.type}(e)){return function(e){const{animation:t,background:i,container:n,contextMenu:o,footnote:a,height:r,listeners:s,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:g,width:f,type:m,cursor:y,nodeClickRange:v,tooltip:b,value:x,scale:S={},startAngle:M,endAngle:A,highlightStyle:k,segmentation:w,bar:C,needle:I,targets:D,outerRadius:N,innerRadius:E,outerRadiusRatio:O,innerRadiusRatio:L,cornerRadius:T,cornerMode:R,label:P,secondaryLabel:z,spacing:j,...B}=e,{fills:$,fillMode:F,fill:_,fillOpacity:H,stroke:W,strokeWidth:G,strokeOpacity:V,lineDash:U,lineDashOffset:K,min:Y=0,max:X=1,interval:Z={},label:q={},...Q}=S,J=P_(e,{animation:t,background:i,container:n,contextMenu:o,footnote:a,height:r,listeners:s,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:g,width:f}),ee=P_(S,{fills:$,fillMode:F,fill:_,fillOpacity:H,stroke:W,strokeWidth:G,strokeOpacity:V,lineDash:U,lineDashOffset:K});return{...J,series:[P_(e,{startAngle:R_,endAngle:R_,needle:null!=I?{enabled:!0,...I}:R_,scale:ee,type:m,cursor:y,nodeClickRange:v,listeners:s,tooltip:b,value:x,highlightStyle:k,segmentation:w,bar:C,targets:D,outerRadius:N,innerRadius:E,outerRadiusRatio:O,innerRadiusRatio:L,cornerRadius:T,cornerMode:R,label:P,secondaryLabel:z,spacing:j,...B})],axes:[{type:"angle-number",min:Y,max:X,startAngle:M,endAngle:A,interval:Z??{},label:q??{}},{type:"radius-number"}]}}(z_(e,t))}if(function(e){return"linear-gauge"===e.type}(e)){return function(e){const{animation:t,background:i,container:n,contextMenu:o,footnote:a,height:r,listeners:s,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:g,width:f,type:m,cursor:y,nodeClickRange:v,tooltip:b,value:x,scale:S={},direction:M="vertical",thickness:A,highlightStyle:k,segmentation:w,bar:C,targets:I,cornerRadius:D,cornerMode:N,label:E,...O}=e,{fills:L,fillMode:T,fill:R,fillOpacity:P,stroke:z,strokeWidth:j,strokeOpacity:B,lineDash:$,lineDashOffset:F,min:_=0,max:H=1,interval:W={},label:G={},...V}=S,U=P_(e,{animation:t,background:i,container:n,contextMenu:o,footnote:a,height:r,listeners:s,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:g,width:f}),K=P_(S,{fills:L,fillMode:T,fill:R,fillOpacity:P,stroke:z,strokeWidth:j,strokeOpacity:B,lineDash:$,lineDashOffset:F}),Y=P_(e,{scale:K,type:m,cursor:y,nodeClickRange:v,listeners:s,tooltip:b,value:x,direction:M,thickness:A,highlightStyle:k,segmentation:w,bar:C,targets:I,cornerRadius:D,cornerMode:N,label:E,...O}),{placement:X,...Z}=G;let q,Q;const J="horizontal"===M;J?(q="before"===X?"top":"bottom",Q="left"):(q="after"===X?"right":"left",Q="bottom");const ee={type:"number",position:q,min:_,max:H,reverse:!J,interval:W,label:Z,nice:!1},te={type:"number",position:Q,min:0,max:1,label:{enabled:!1}};return{...U,series:[Y],axes:J?[ee,te]:[te,ee]}}(z_(e,t))}const{animation:i,background:n,container:o,contextMenu:a,footnote:r,height:s,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:p,theme:g,title:f,width:m}=e;return P_(e,{animation:i,background:n,container:o,contextMenu:a,footnote:r,height:s,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:p,theme:g,title:f,width:m})},sparkline:function(e){const{background:t,container:i,height:n,listeners:o,locale:a,minHeight:r,minWidth:s,padding:l,width:c,theme:d,data:u,xAxis:h,yAxis:p,...g}=e,f=g,m="bar"!==f.type||"horizontal"!==f.direction,y=P_(e,{background:t,container:i,height:n,listeners:o,locale:a,minHeight:r,minWidth:s,padding:l,width:c,data:u,xAxis:R_,yAxis:R_,theme:R_});return y.theme=K_(d,U_),y.series=[f],y.axes=m?[{type:"number",...p,position:"left"},{type:"category",...h,position:"bottom"}]:[{type:"category",...h,position:"left"},{type:"number",...p,position:"bottom"}],y}};function X_(e,t){let i=[];const n=xR(e),o=pR(e),a=o?oR.get(o):"unknown";for(const{type:r,chartTypes:s,optionsKey:l,optionsInnerKey:c,identifier:d}of QT)if("unknown"===a||s.includes(a))if("root"===r||"legend"===r){const t=e[l];if(null==t)continue;c?t[c]&&(i.push(`${l}.${c}`),delete t[c]):(i.push(l),delete e[l])}else if("axis"===r){if(!("axes"in e)||!e.axes?.some((e=>e.type===d)))continue;i.push(`axis[type=${d}]`),e.axes=e.axes.filter((e=>e.type!==d))}else if("axis-option"===r){if(!("axes"in e)||!e.axes?.some((e=>e[l])))continue;i.push(`axis.${l}`),e.axes.forEach((e=>{e[l]&&delete e[l]}))}else if("series"===r){if(!e.series?.some((e=>e.type===d)))continue;i.push(`series[type=${d}]`),e.series=e.series.filter((e=>e.type!==d))}else if("series-option"===r){if(!e.series?.some((e=>e[l])))continue;i.push(`series.${l}`),e.series.forEach((e=>{e[l]&&delete e[l]}))}if(i.length&&!t){n&&(i=["AgCharts.createGauge"]);let t="ag-charts-enterprise",o="https://ag-grid.com/charts/javascript/installation/";"integrated"===e.mode&&(t="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",o="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),MA.warnOnce([`unable to use these enterprise features as '${t}' has not been loaded:`,"",...i,"",`See: ${o}`].join("\n"))}}var Z_=Symbol("description"),q_=Symbol("required");function Q_(e,t,i){const{errors:n}=eH(e,t,i);for(const{message:o}of n)MA.warn(o);return 0===n.length}function J_(e,t,i){const n=Mw(i)?i:i[Z_],o=n?`; expecting ${n}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return(e=JSON.stringify(e)).length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}(t)}\`${o}, ignoring.`}function eH(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!bw(e))return{valid:null,errors:[{path:i,value:e,message:J_(i,e,"an object")}]};const n=new Set(Object.keys(e)),o=[],a={};function r(e){return pw(t)?`${i}[${e}]`:i?`${i}.${e}`:e}for(const[s,l]of Object.entries(t)){n.delete(s);const t=e[s];if(l[q_]||"undefined"!==typeof t)if(vw(l))l(t)?a[s]=t:o.push({key:s,path:i,value:t,message:J_(r(s),t,l)});else{const e=eH(t,l,r(s));a[s]=e.valid,o.push(...e.errors)}}for(const s of n)o.push({key:s,path:i,unknown:!0,message:`Unknown option \`${r(s)}\`, ignoring.`});return{valid:a,errors:o}}function tH(e,t){return Object.assign((t=>e(t)),{[Z_]:t})}tH(pw,"an array"),tH(gw,"a boolean"),tH(vw,"a function"),tH(kw,"a number");var iH=tH(bw,"an object"),nH=tH(Mw,"a string"),oH=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tH((i=>kw(i)&&(i>e||t&&i===e)),`a number greater than ${t?"or equal to ":""}${e}`)},aH=(e,t)=>tH((i=>kw(i)&&i>=e&&i<=t),`a number between ${e} and ${t} inclusive`),rH=(oH(0),oH(1),aH(0,1),aH(0,360),(e,t)=>tH((t=>pw(t)&&t.every(e)),t??`${e[Z_]} array`));function sH(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var lH="white",cH={get cartesian(){return{seriesTypes:oR.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:oR.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:oR.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:oR.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:oR.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:oR.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:oR.gaugeTypes,commonOptions:[]}}},dH={"radial-gauge":!0,"linear-gauge":!0};function uH(e){return!0===dH[e]}var hH=Object.values(cH).reduce(((e,t)=>{let{commonOptions:i}=t;return e.concat(i)}),[]),pH=class e{static getAxisDefaults(e){return Lw(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:wz,color:Cz},label:{fontSize:12,fontFamily:wz,padding:5,color:Cz,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Oz},tick:{enabled:!1,width:1,stroke:Oz},gridLine:{enabled:!0,style:[{stroke:Ez,lineDash:[]}]},crossLines:{enabled:!1,fill:Lz,stroke:Lz,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:wz,padding:5,color:Cz}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:Tz},padding:{top:zz,right:zz,bottom:zz,left:zz},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:wz,color:Cz,wrapping:"hyphenate",layoutStyle:jz,textAlign:Bz},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:wz,color:Nz,wrapping:"hyphenate",layoutStyle:jz,textAlign:Bz},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:wz,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:jz,textAlign:Bz},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:Cz,fontSize:12,fontFamily:wz}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:Cz},inactiveStyle:{fill:Nz},highlightStyle:{fill:Cz},label:{color:Cz}}},tooltip:{enabled:!0,darkTheme:Mz,delay:0},overlays:{darkTheme:Mz},listeners:{}}}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:t,palette:i}=AN(e),n=this.createChartConfigPerChartType(this.getDefaults()),o={};t&&this.mergeOverrides(n,o,t);const{fills:a,strokes:r,...s}=this.getDefaultColors();this.palette=Lw(i,{fills:Object.values(a),strokes:Object.values(r),...s}),this.paletteType=sH(i),this.config=Object.freeze(this.templateTheme(n)),this.presets=o}mergeOverrides(e,t,i){for(const{seriesTypes:n,commonOptions:o}of Object.values(cH)){const t={...i.common};for(const e of hH)o.includes(e)||delete t[e];if(t)for(const i of n){const n=i;uH(n)||(e[n]=Lw(t,e[n]))}}oR.seriesTypes.forEach((n=>{const o=n,a=i[o];uH(o)?t[o]=a:e[o]=Lw(a,e[o])}))}createChartConfigPerChartType(e){for(const[t,{seriesTypes:i}]of Object.entries(cH)){const n=rR.get(t);for(const t of i)e[t]||(e[t]=AN(n))}return e}getDefaults(){const t=(t,i)=>{const n={},o={axes:{},...tR.getThemeTemplates(),...this.getChartDefaults(),...rR.get(t)};for(const a of i){n[a]=Lw(sR.getThemeTemplate(a),n[a]??AN(o));const{axes:t}=n[a];for(const i of qT.keys())t[i]=Lw(t[i],qT.getThemeTemplate(i),e.cartesianAxisDefault[i])}return n};return Lw(t("cartesian",oR.cartesianTypes),t("polar",oR.polarTypes),t("hierarchy",oR.hierarchyTypes),t("topology",oR.topologyTypes),t("flow-proportion",oR.flowProportionTypes),t("standalone",oR.standaloneTypes),t("gauge",oR.gaugeTypes))}templateTheme(e){const t=AN(e),i=this.getTemplateParameters();return wN(t,(e=>{if(pw(e))for(let t=0;t<e.length;t++){const n=e[t];i.has(n)&&(e[t]=i.get(n))}else for(const[t,n]of Object.entries(e))i.has(n)&&(e[t]=i.get(n))})),AN(t)}getDefaultColors(){return{fills:NF,strokes:EF,up:{fill:NF.GREEN,stroke:EF.GREEN},down:{fill:NF.RED,stroke:EF.RED},neutral:{fill:NF.GRAY,stroke:EF.GRAY},altUp:{fill:NF.BLUE,stroke:EF.BLUE},altDown:{fill:NF.ORANGE,stroke:EF.ORANGE},altNeutral:{fill:NF.GRAY,stroke:EF.GRAY}}}getTemplateParameters(){const{isEnterprise:e}=$N,t=new Map;t.set(Mz,!1),t.set(kz,e),t.set(Az,!e),t.set(wz,"Verdana, sans-serif"),t.set(Cz,"rgb(70, 70, 70)"),t.set(Iz,"white"),t.set(Nz,"rgb(140, 140, 140)"),t.set(Ez,"rgb(224,234,241)"),t.set(Oz,"rgb(195, 195, 195)"),t.set(Lz,"rgb(70, 70, 70)"),t.set(Dz,lH),t.set(Tz,lH),t.set(Rz,"rgba(0, 0, 0, 0.5)"),t.set(Qz,[NF.ORANGE,NF.YELLOW,NF.GREEN]),t.set(Jz,[NF.GREEN,NF.YELLOW,NF.RED]),t.set(ej,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),t.set(zz,20),t.set(jz,"block"),t.set(Bz,"center"),t.set(tj,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),t.set(ij,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),t.set(qz,lH),t.set(nj,NF.BLUE),t.set(oj,NF.BLUE),t.set(aj,NF.BLUE),t.set(rj,lH),t.set(sj,"#fafafa"),t.set(lj,"#dddddd"),t.set(cj,"#000000"),t.set(dj,"#181d1f"),t.set(uj,"#e35c5c"),t.set(hj,"#e35c5c"),t.set(pj,"#fafafa"),t.set(gj,"#dddddd"),t.set(fj,"#000000"),t.set(mj,"top"),t.set(yj,!1);const i=this.getDefaultColors();return t.set($z,this.palette.up?.stroke??i.up.stroke),t.set(_z,this.palette.up?.fill??i.up.fill),t.set(Fz,this.palette.down?.stroke??i.down.stroke),t.set(Hz,this.palette.down?.fill??i.down.fill),t.set(Wz,this.palette.neutral?.stroke??i.neutral.stroke),t.set(Gz,this.palette.neutral?.fill??i.neutral.fill),t.set(Vz,this.palette.altUp?.stroke??i.up.stroke),t.set(Kz,this.palette.altUp?.fill??i.up.fill),t.set(Uz,this.palette.altDown?.stroke??i.down.stroke),t.set(Yz,this.palette.altDown?.fill??i.down.fill),t.set(Xz,this.palette.altNeutral?.fill??i.altNeutral.fill),t.set(Zz,this.palette.altNeutral?.stroke??i.altNeutral.stroke),t}};pH.cartesianAxisDefault={number:pH.getAxisDefaults({line:{enabled:!1}}),log:pH.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:pH.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:yj},crosshair:{enabled:!1}}),time:pH.getAxisDefaults({gridLine:{enabled:yj}}),"ordinal-time":pH.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:yj}}),"angle-category":pH.getAxisDefaults({gridLine:{enabled:yj}}),"angle-number":pH.getAxisDefaults({gridLine:{enabled:yj}}),"radius-category":pH.getAxisDefaults({line:{enabled:!1}}),"radius-number":pH.getAxisDefaults({line:{enabled:!1}}),"grouped-category":pH.getAxisDefaults({tick:{enabled:!0}})};var gH=pH,fH="#192232",mH={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},yH={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},vH=class extends gH{getDefaultColors(){return{fills:mH,strokes:yH,up:{fill:mH.GREEN,stroke:yH.GREEN},down:{fill:mH.RED,stroke:yH.RED},neutral:{fill:mH.GRAY,stroke:yH.GRAY},altUp:{fill:mH.BLUE,stroke:yH.BLUE},altDown:{fill:mH.ORANGE,stroke:yH.ORANGE},altNeutral:{fill:mH.GRAY,stroke:yH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Mz,!0),e.set(qz,fH),e.set(Cz,"white"),e.set(Nz,"#7D91A0"),e.set(Ez,"#545A6E"),e.set(Lz,"white"),e.set(Qz,[mH.ORANGE,mH.YELLOW,mH.GREEN]),e.set(Jz,[mH.GREEN,mH.YELLOW,mH.RED]),e.set(ej,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),e.set(tj,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(ij,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(Tz,fH),e.set(Dz,fH),e.set(nj,mH.BLUE),e.set(oj,"white"),e.set(aj,mH.BLUE),e.set(rj,fH),e.set(sj,"#28313e"),e.set(lj,"#4b525d"),e.set(cj,"#ffffff"),e.set(dj,"#ffffff"),e.set(pj,"#28313e"),e.set(gj,"#4b525d"),e.set(fj,"#ffffff"),e}constructor(e){super(e)}},bH={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},xH={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},SH=class extends vH{getDefaultColors(){return{fills:{...bH},strokes:{...xH},up:{fill:bH.GREEN,stroke:xH.GREEN},down:{fill:bH.RED,stroke:xH.RED},neutral:{fill:bH.BLUE,stroke:xH.BLUE},altUp:{fill:bH.GREEN,stroke:xH.GREEN},altDown:{fill:bH.RED,stroke:xH.RED},altNeutral:{fill:bH.GRAY,stroke:xH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[bH.GREEN,bH.BLUE,bH.RED]),e.set(nj,bH.BLUE),e.set(aj,bH.BLUE),e.set(Ez,"#343A4E"),e.set(zz,0),e.set(jz,"overlay"),e.set(Bz,"left"),e.set(mj,"bottom"),e.set(yj,!0),e}},MH={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},AH={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},kH=class extends gH{getDefaultColors(){return{fills:{...MH},strokes:{...AH},up:{fill:MH.GREEN,stroke:AH.GREEN},down:{fill:MH.RED,stroke:AH.RED},neutral:{fill:MH.BLUE,stroke:AH.BLUE},altUp:{fill:MH.GREEN,stroke:AH.GREEN},altDown:{fill:MH.RED,stroke:AH.RED},altNeutral:{fill:MH.GRAY,stroke:AH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[MH.GREEN,MH.BLUE,MH.RED]),e.set(nj,MH.BLUE),e.set(aj,MH.BLUE),e.set(Ez,"#F2F3F3"),e.set(zz,0),e.set(jz,"overlay"),e.set(Bz,"left"),e.set(mj,"bottom"),e.set(yj,!0),e}},wH={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},CH={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},IH=class extends vH{getDefaultColors(){return{fills:wH,strokes:CH,up:{fill:wH.GREEN,stroke:CH.GREEN},down:{fill:wH.RED,stroke:CH.RED},neutral:{fill:wH.GRAY,stroke:CH.GRAY},altUp:{fill:wH.BLUE,stroke:CH.BLUE},altDown:{fill:wH.RED,stroke:CH.RED},altNeutral:{fill:wH.GRAY,stroke:CH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[wH.ORANGE,wH.YELLOW,wH.GREEN]),e.set(ej,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),e.set(Jz,[wH.GREEN,wH.YELLOW,wH.RED]),e.set(nj,wH.BLUE),e.set(aj,wH.BLUE),e}},DH={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},NH={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},EH=class extends gH{getDefaultColors(){return{fills:DH,strokes:NH,up:{fill:DH.GREEN,stroke:NH.GREEN},down:{fill:DH.RED,stroke:NH.RED},neutral:{fill:DH.GRAY,stroke:NH.GRAY},altUp:{fill:DH.BLUE,stroke:NH.BLUE},altDown:{fill:DH.RED,stroke:NH.RED},altNeutral:{fill:DH.GRAY,stroke:NH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[DH.ORANGE,DH.YELLOW,DH.GREEN]),e.set(ej,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),e.set(Jz,[DH.GREEN,DH.YELLOW,DH.RED]),e.set(nj,DH.BLUE),e.set(aj,DH.BLUE),e}},OH={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},LH={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},TH=class extends vH{getDefaultColors(){return{fills:OH,strokes:LH,up:{fill:OH.GREEN,stroke:LH.GREEN},down:{fill:OH.RED,stroke:LH.RED},neutral:{fill:OH.GRAY,stroke:LH.GRAY},altUp:{fill:OH.BLUE,stroke:LH.BLUE},altDown:{fill:OH.RED,stroke:LH.RED},altNeutral:{fill:OH.GRAY,stroke:LH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[OH.BLUE,OH.RED]),e.set(ej,[OH.BLUE,OH.PURPLE,OH.MAGENTA,OH.PINK,OH.RED,OH.ORANGE,OH.YELLOW,OH.GREEN]),e.set(Jz,[OH.BLUE,OH.RED]),e.set(nj,OH.BLUE),e.set(aj,OH.BLUE),e}},RH={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},PH={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},zH=class extends gH{getDefaultColors(){return{fills:RH,strokes:PH,up:{fill:RH.GREEN,stroke:PH.GREEN},down:{fill:RH.RED,stroke:PH.RED},neutral:{fill:RH.GRAY,stroke:PH.GRAY},altUp:{fill:RH.BLUE,stroke:PH.BLUE},altDown:{fill:RH.RED,stroke:PH.RED},altNeutral:{fill:RH.GRAY,stroke:PH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[RH.BLUE,RH.RED]),e.set(ej,[RH.BLUE,RH.PURPLE,RH.MAGENTA,RH.PINK,RH.RED,RH.ORANGE,RH.YELLOW,RH.GREEN]),e.set(Jz,[RH.BLUE,RH.RED]),e.set(nj,RH.BLUE),e.set(aj,RH.BLUE),e}},jH={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},BH={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},$H=class extends vH{getDefaultColors(){return{fills:{...jH,RED:jH.ORANGE},strokes:{...BH,RED:BH.ORANGE},up:{fill:jH.GREEN,stroke:BH.GREEN},down:{fill:jH.ORANGE,stroke:BH.ORANGE},neutral:{fill:jH.GRAY,stroke:BH.GRAY},altUp:{fill:jH.BLUE,stroke:BH.BLUE},altDown:{fill:jH.ORANGE,stroke:BH.ORANGE},altNeutral:{fill:jH.GRAY,stroke:BH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[jH.ORANGE,jH.YELLOW,jH.GREEN]),e.set(Jz,[jH.GREEN,jH.YELLOW,jH.ORANGE]),e.set(nj,jH.BLUE),e.set(aj,jH.BLUE),e}},FH={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},_H={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},HH=class extends gH{getDefaultColors(){return{fills:{...FH,RED:FH.ORANGE},strokes:{..._H,RED:_H.ORANGE},up:{fill:FH.GREEN,stroke:_H.GREEN},down:{fill:FH.ORANGE,stroke:_H.ORANGE},neutral:{fill:_H.GRAY,stroke:_H.GRAY},altUp:{fill:FH.BLUE,stroke:_H.BLUE},altDown:{fill:FH.ORANGE,stroke:_H.ORANGE},altNeutral:{fill:FH.GRAY,stroke:_H.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[FH.ORANGE,FH.YELLOW,FH.GREEN]),e.set(Jz,[FH.GREEN,FH.YELLOW,FH.ORANGE]),e.set(nj,FH.BLUE),e.set(aj,FH.BLUE),e}},WH={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},GH={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},VH=class extends vH{getDefaultColors(){return{fills:WH,strokes:GH,up:{fill:WH.GREEN,stroke:GH.GREEN},down:{fill:WH.RED,stroke:GH.RED},neutral:{fill:WH.GRAY,stroke:GH.GRAY},altUp:{fill:WH.BLUE,stroke:GH.BLUE},altDown:{fill:WH.ORANGE,stroke:GH.ORANGE},altNeutral:{fill:WH.GRAY,stroke:GH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[WH.ORANGE,WH.YELLOW,WH.GREEN]),e.set(ej,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),e.set(Jz,[WH.GREEN,WH.YELLOW,WH.RED]),e.set(nj,WH.BLUE),e.set(aj,WH.BLUE),e}},UH={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},KH={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},YH=class extends gH{getDefaultColors(){return{fills:UH,strokes:KH,up:{fill:UH.GREEN,stroke:KH.GREEN},down:{fill:UH.RED,stroke:KH.RED},neutral:{fill:UH.GRAY,stroke:KH.GRAY},altUp:{fill:UH.BLUE,stroke:KH.BLUE},altDown:{fill:UH.ORANGE,stroke:KH.ORANGE},altNeutral:{fill:UH.GRAY,stroke:KH.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qz,[UH.ORANGE,UH.YELLOW,UH.GREEN]),e.set(ej,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),e.set(Jz,[UH.GREEN,UH.YELLOW,UH.RED]),e.set(nj,UH.BLUE),e.set(aj,UH.BLUE),e}},XH=()=>new gH,ZH={"ag-default-dark":()=>new vH,"ag-sheets-dark":()=>new $H,"ag-polychroma-dark":()=>new TH,"ag-vivid-dark":()=>new VH,"ag-material-dark":()=>new IH,"ag-financial-dark":()=>new SH,null:XH,undefined:XH,"ag-default":XH,"ag-sheets":()=>new HH,"ag-polychroma":()=>new zH,"ag-vivid":()=>new YH,"ag-material":()=>new EH,"ag-financial":()=>new kH};function qH(e){if(e instanceof gH)return e;if(null==e||"string"===typeof e){const t=ZH[e];return t?t():(MA.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),XH())}if(Q_(e,QH,"theme")){const t=function(e){let t,i=e;const n=[];for(;"object"===typeof i;)t??(t=i.palette),i.overrides&&n.push(i.overrides),i=i.baseTheme;return{baseTheme:i,overrides:Lw(...n),palette:t}}(e);return new((t.baseTheme?qH(t.baseTheme):XH()).constructor)(t)}return XH()}var QH={baseTheme:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return tH((e=>t.some((t=>t(e)))),t.map((e=>e[Z_])).filter(Boolean).join(" or "))}(nH,iH),overrides:iH,palette:{fills:rH(nH),strokes:rH(nH),up:{fill:nH,stroke:nH},down:{fill:nH,stroke:nH},neutral:{fill:nH,stroke:nH}}},JH=new Set(["map-shape-background","map-line-background"]),eW=class{constructor(e,t,i,n){var o;this.debug=RD.create(!0,"opts"),this.optionMetadata=n??{},this.processedOverrides=t??{};const a={shallow:["data"]};this.userOptions=AN(e,a);let r=AN(e,a);const{presetType:s}=this.optionMetadata;if(null!=s){const e=Y_[s],t=r,i=r.type,n=null!=i?qH(r.theme).presets[i]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",t),r=e?.(t,n,(()=>this.activeTheme))??r}$N.isEnterprise||X_(r),this.activeTheme=qH(r.theme),s&&(r=this.activeTheme.templateTheme(r)),this.sanityCheckAndCleanup(r),this.defaultAxes=this.getDefaultAxes(r),this.specialOverrides=this.specialOverridesDefaults({...i});const l=this.optionsType(r),{axes:c={},annotations:{axesButtons:d=null,...u}={},series:h,...p}=this.getSeriesThemeConfig(l);this.processedOptions=AN(Lw(t,r,null!=d?{annotations:{axesButtons:d}}:{},p,this.defaultAxes),a),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=u,(gR(this.processedOptions)||function(e){const t=pR(e);return fR(e)&&"pie"!==t&&"donut"!==t}(this.processedOptions))&&null==this.processedOptions.legend?.enabled&&((o=this.processedOptions).legend??(o.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions,r),$N.isEnterprise||X_(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(e){return MN(e,this.processedOptions)}getSeriesThemeConfig(e){const t=AN(this.activeTheme?.config[e]??{});return this.removeLeftoverSymbols(t),t}getDefaultAxes(e){const t=this.optionsType(e),i=e.series?.find((e=>(e.type??"line")===t))??{};return sR.cloneDefaultAxes(t,i)}optionsType(e){return e.series?.[0]?.type??"line"}sanityCheckAndCleanup(e){this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),e.series?.some((e=>"bullet"===e.type))&&null!=e.sync&&!1!==e.sync.enabled&&(MA.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map((e=>{const{crossLines:i,...n}=Lw(t[e.type]?.[e.position],t[e.type]);e.crossLines&&(e.crossLines=Tw(e.crossLines,i));const o=n.gridLine?.style;e.gridLine?.style&&o?.length&&(e.gridLine.style=e.gridLine.style.map(((e,t)=>null!=e.stroke||null!=e.lineDash?Lw(e,o.at(t%o.length)):e)));const{top:a,right:r,bottom:s,left:l,...c}=Lw(e,n);return c})))}processSeriesOptions(e){const t=this.getTooltipPositionDefaults(e),i=bw(e.theme)?sH(e.theme?.palette):"inbuilt",n={colourIndex:0,userPalette:i},o=e.series?.map((o=>{o.type??(o.type=this.getDefaultSeriesType(e));const{innerLabels:a,...r}=this.getSeriesThemeConfig(o.type).series??{},s=JH.has(o.type)?{colourIndex:0,userPalette:i}:n,l=this.getSeriesPalette(o.type,s),c=this.getTooltipRangeDefaults(e,o.type),d=Lw(this.getSeriesGroupingOptions(o),o,t,c,r,l,{visible:!0});return d.innerLabels&&(d.innerLabels=Tw(d.innerLabels,a)),this.activeTheme.templateTheme(d)}));e.series=this.setSeriesGroupingOptions(o??[])}processMiniChartSeriesOptions(e){let t=e.navigator?.miniChart?.series;if(null==t)return;const i={colourIndex:0,userPalette:bw(e.theme)?sH(e.theme.palette):"inbuilt"};t=t.map((e=>{e.type??(e.type="line");const{innerLabels:t,...n}=this.getSeriesThemeConfig(e.type).series??{},o=Lw(this.getSeriesGroupingOptions(e),e,n,this.getSeriesPalette(e.type,i));return this.activeTheme.templateTheme(o)})),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){const i=sR.getPaletteFactory(e),{colourIndex:n,userPalette:o}=t,{fills:a=[],strokes:r=[]}=this.activeTheme.palette;return i?.({userPalette:o,colorsCount:Math.max(a.length,r.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:e=>(t.colourIndex+=e,{fills:fC(a,e,n),strokes:fC(r,e,n)})})}getSeriesGroupingOptions(e){const t=sR.isGroupable(e.type),i=sR.isStackable(e.type),n=sR.isStackedByDefault(e.type);e.grouped&&!t&&MA.warnOnce(`unsupported grouping of series type "${e.type}".`),!e.stacked&&!e.stackGroup||i||MA.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:o,stacked:a}=e;return a??(a=(n||null!=e.stackGroup)&&!(t&&o)),o??(o=!0),{stacked:i&&a,grouped:t&&o&&!(i&&a)}}setSeriesGroupingOptions(e){const t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);const i={},n=t.reduce(((e,t)=>{var i;return"default"===t.groupType||(e[i=t.seriesType]??(e[i]=0),e[t.seriesType]+="stack"===t.groupType?1:t.series.length),e}),{});return t.flatMap((e=>{var t;switch(i[t=e.seriesType]??(i[t]=0),e.groupType){case"stack":{const t=i[e.seriesType]++;return e.series.map(((i,o)=>Object.assign(i,{seriesGrouping:{groupId:e.groupId,groupIndex:t,groupCount:n[e.seriesType],stackIndex:o,stackCount:e.series.length}})))}case"group":return e.series.map((t=>Object.assign(t,{seriesGrouping:{groupId:e.groupId,groupIndex:i[e.seriesType]++,groupCount:n[e.seriesType],stackIndex:0,stackCount:0}})))}return e.series})).map((e=>{let{stacked:t,grouped:i,...n}=e;return n}))}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce(((e,i)=>{const n=i.type;if(i.stacked||i.grouped){const o=this.getSeriesGroupId(i);if(!t.has(o)){const a={groupType:i.stacked?"stack":"group",seriesType:n,series:[],groupId:o};t.set(o,a),e.push(a)}t.get(o).series.push(i)}else e.push({groupType:"default",seriesType:n,series:[i],groupId:"__default__"});return e}),[])}getDefaultSeriesType(e){if(gR(e))return"line";if(fR(e))return"pie";if(mR(e))return"treemap";if(yR(e))return"map-shape";if(vR(e))return"sankey";if(bR(e))return"pyramid";if(xR(e))return"radial-gauge";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){const t=e.tooltip?.position;if(!Sw(t))return;const{type:i,xOffset:n,yOffset:o}=t,a={};return Mw(i)&&Iw(yA,i)&&(a.type=i),kw(n)&&(a.xOffset=n),kw(o)&&(a.yOffset=o),{tooltip:{position:a}}}getTooltipRangeDefaults(e,t){return{tooltip:{range:e.tooltip?.range??sR.getTooltipDefauls(t)?.range}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((t=>{let[i,n]=t;e.series?.some((e=>null!=e[i]))&&MA.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)}))}axesTypeIntegrity(e){if("axes"in e){const i=e.axes??[];for(const{type:n}of i)if(null==(t=n)||!qT.has(t)){delete e.axes;const t=qT.publicKeys().join(", ");MA.warnOnce(`unknown axis type: ${n}; expected one of: ${t}`)}}var t}seriesTypeIntegrity(e){e.series=e.series?.filter((e=>{let{type:t}=e;if(null==t||null!=(i=t)&&oR.has(i)||function(e){return QT.some((t=>"series"===t.type&&t.identifier===e))}(t))return!0;var i;MA.warnOnce(`unknown series type: ${t}; expected one of: ${aR.seriesTypes.join(", ")}`)}))}soloSeriesIntegrity(e){const t=e.series;if(t&&t.length>1&&t.some((e=>sR.isSolo(e.type)))){const i=this.optionsType(e);if(sR.isSolo(i))MA.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{const{solo:i,nonSolo:n}=gC(t,(e=>sR.isSolo(e.type)?"solo":"nonSolo")),o=pC(i.map((e=>e.type))).join(", ");MA.warn(`Unable to mix these series types with the lead series type: ${o}`),e.series=n}}}enableConfiguredOptions(e,t){wN(t,((e,t)=>{t&&"enabled"in t&&!t._enabledFromTheme&&null==e.enabled&&(t.enabled=!0)}),{skip:["data","theme"]},e),wN(e,(e=>{null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}removeDisabledOptions(e){wN(e,(e=>{"enabled"in e&&!1===e.enabled&&Object.keys(e).forEach((t=>{"enabled"!==t&&delete e[t]}))}),{skip:["data","theme"]})}removeLeftoverSymbols(e){wN(e,(e=>{if(e&&bw(e))for(const[t,i]of Object.entries(e))Dw(i)&&delete e[t]}),{skip:["data"]})}specialOverridesDefaults(e){if(null!=e.window?Ik(e.window):"undefined"!==typeof window?e.window=window:"undefined"!==typeof global&&(e.window=global.window),null!=e.document?Ck(e.document):"undefined"!==typeof document?e.document=document:"undefined"!==typeof global&&(e.document=global.document),null==e.window)throw new Error("AG Charts - unable to resolve global window");if(null==e.document)throw new Error("AG Charts - unable to resolve global document");return e}},tW=RD.create(!0,"opts");function iW(e){if(gR(e))return"cartesian";if(fR(e))return"polar";if(mR(e))return"hierarchy";if(yR(e))return"topology";if(vR(e))return"flow-proportion";if(bR(e))return"standalone";if(xR(e))return"gauge";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var nW=class{static licenseCheck(e){this.licenseChecked||(this.licenseManager=$N.licenseManager?.(e),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){return $N.licenseManager?.({}).getLicenseDetails(e)}static getInstance(e){return aW.getInstance(e)}static create(e,t){this.licenseCheck(e);const i=aW.createOrUpdate({userOptions:e,licenseManager:this.licenseManager,styles:null!=$N.styles?[["ag-charts-enterprise",$N.styles]]:[],optionsMetadata:t});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&$N.injectWatermark?.(i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),i}static createFinancialChart(e){return this.create(e,{presetType:"price-volume"})}static createGauge(e){return this.create(e,{presetType:"gauge"})}static __createSparkline(e){return this.create(e,{presetType:"sparkline"})}};nW.licenseChecked=!1,nW.gridContext=!1;var oW=class e{static getInstance(e){const t=_R.getInstance(e);return t?DP.chartInstances.get(t):void 0}static initialiseModules(){e.initialised||(m_(),y_(),e.initialised=!0)}static createOrUpdate(t){let{proxy:i}=t;const{userOptions:n,licenseManager:o,styles:a,processedOverrides:r=i?.chart.chartOptions.processedOverrides??{},specialOverrides:s=i?.chart.chartOptions.specialOverrides??{},optionsMetadata:l=i?.chart.chartOptions.optionMetadata??{}}=t,{presetType:c}=l;e.initialiseModules(),tW(">>> AgCharts.createOrUpdate() user options",n);let d=n;nW.optionsMutationFn&&(d=nW.optionsMutationFn(d,c),tW(">>> AgCharts.createOrUpdate() MUTATED user options",d));const{overrideDevicePixelRatio:u,document:h,window:p,styleContainer:g,...f}=d,m=new eW(f,r,{...s,document:h,window:p,overrideDevicePixelRatio:u,styleContainer:g},l);let y=i?.chart;return null!=y&&iW(m.processedOptions)===iW(y?.chartOptions.processedOptions)||(y=e.createChartInstance(m,y),a?.forEach((e=>{let[t,i]=e;y?.ctx.domManager.addStyles(t,i)}))),null==i?i=new DP(y,e.callbackApi,o):i.chart=y,tW.check()&&"undefined"!==typeof window&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[y.id]=y),y.queuedUserOptions.push(n),y.requestFactoryUpdate((e=>{e.applyOptions(m);const t=e.queuedUserOptions.indexOf(n)+1;e.queuedUserOptions.splice(0,t)})),i}static updateUserDelta(t,i){wN(i=AN(i,{shallow:["data"]}),(e=>{if("object"===typeof e)for(const[t,i]of Object.entries(e))"undefined"===typeof i&&Object.assign(e,{[t]:Symbol("UNSET")})}),{skip:["data"]});const{chart:n}=t,o=n.getOptions(),a=Lw(i,o);tW(">>> AgCharts.updateUserDelta() user delta",i),tW("AgCharts.updateUserDelta() - base options",o),e.createOrUpdate({userOptions:a,proxy:t})}static createChartInstance(t,i){const n=i?.destroy({keepTransferableResources:!0});return new(e.getChartByOptions(t.processedOptions))(t,n)}static getChartByOptions(e){if(gR(e))return CP;if(mR(e))return S_;if(fR(e))return M_;if(yR(e))return T_;if(vR(e))return v_;if(bR(e))return w_;if(xR(e))return x_;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};oW.caretaker=new BO(PO),oW.initialised=!1,oW.callbackApi={caretaker:oW.caretaker,create:(e,t,i,n)=>oW.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:n}),update:(e,t)=>oW.createOrUpdate({userOptions:e,proxy:t}),updateUserDelta:(e,t)=>oW.updateUserDelta(e,t)};var aW=oW;var rW={};hA(rW,{Arc:()=>sW,ArrowDown:()=>fW,ArrowUp:()=>gW,BBox:()=>Vk,BandScale:()=>NC,Caption:()=>QN,ChangeDetectableProperties:()=>lB,Circle:()=>ZR,ConicGradient:()=>lW,ContinuousScale:()=>lC,Diamond:()=>eP,DropShadow:()=>cB,ExtendedPath2D:()=>yL,Gradient:()=>tN,Group:()=>DD,HdpiCanvas:()=>EL,Image:()=>KP,Label:()=>nE,Layer:()=>eE,Line:()=>rN,LinearGradient:()=>iN,LinearScale:()=>OP,Marker:()=>XR,Node:()=>qk,OrdinalTimeScale:()=>dD,Path:()=>bL,PointerEvents:()=>Xk,RadialColumnShape:()=>dW,Rect:()=>_P,RedrawType:()=>Uk,Rotatable:()=>AD,RotatableGroup:()=>ED,RotatableText:()=>gN,Scalable:()=>kD,ScalableGroup:()=>ND,Scene:()=>HL,SceneChangeDetection:()=>Kk,ScenePathChangeDetection:()=>vL,Sector:()=>DF,SectorBox:()=>yF,Selection:()=>PD,Shape:()=>aN,Square:()=>aP,SvgPath:()=>hW,Text:()=>pN,Tooltip:()=>qN,Transformable:()=>CD,TransformableText:()=>fN,Translatable:()=>wD,TranslatableGroup:()=>OD,TranslatableLayer:()=>tE,Triangle:()=>lP,calculateDerivativeExtrema:()=>fL,calculateDerivativeExtremaXY:()=>mL,drawCorner:()=>jP,easing:()=>Fw,evaluateBezier:()=>hL,getFont:()=>yW,getMarker:()=>hP,getRadialColumnWidth:()=>uW,motion:()=>mW,sectorBox:()=>vF,solveBezier:()=>pL,splitBezier:()=>gL,toRadians:()=>_D,toTooltipHtml:()=>XN});var sW=class extends bL{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return zk(jD(this.startAngle),jD(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?e.closePath():2!==this.type||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Vk(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(e,t){const i=this.getBBox();return 0!==this.type&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};sW.className="Arc",sW.defaultStyles={...aN.defaultStyles,lineWidth:1,fillStyle:null},pA([vL()],sW.prototype,"centerX",2),pA([vL()],sW.prototype,"centerY",2),pA([vL()],sW.prototype,"radius",2),pA([vL()],sW.prototype,"startAngle",2),pA([vL()],sW.prototype,"endAngle",2),pA([vL()],sW.prototype,"counterClockwise",2),pA([vL()],sW.prototype,"type",2);var lW=class extends tN{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,t,arguments.length>3?arguments[3]:void 0),this.angle=i}createCanvasGradient(e,t){const{colorSpace:i,stops:n,angle:o}=this,a=jD(_D(o+90));if(!("createConicGradient"in e)){return new iN(i,n,o).createCanvasGradient(e,t)}const r=t.x+.5*t.width,s=t.y+.5*t.height;return e.createConicGradient(a,r,s)}};function cW(e,t,i){const n=Math.sqrt(e**2+t**2),o=Math.atan2(t,e)+i;return{x:Math.cos(o)*n,y:Math.sin(o)*n}}var dW=class extends bL{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,n=this.getRotation(),o=-i/2,a=i/2,r=-t,s=-e;let l=1/0,c=1/0,d=-1/0,u=-1/0;for(let h=0;h<4;h+=1){const{x:e,y:t}=cW(h%2===0?o:a,h<2?r:s,n);l=Math.min(e,l),c=Math.min(t,c),d=Math.max(e,d),u=Math.max(t,u)}return new Vk(l,c,d-l,u-c)}getRotation(){const{startAngle:e,endAngle:t}=this;return jD(e+GD(e,t)/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:n}=this,o=-e/2,a=e/2,r=-i,s=-t,l=this.getRotation(),c=[[o,s],[o,r],[a,r],[a,s]].map((e=>{let[t,i]=e;return cW(t,i,l)}));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:n,axisInnerRadius:o,axisOuterRadius:a,isRadiusAxisReversed:r}=this,s=zk(n,o),l=Math.asin(e/2/n),c=this.getRotation(),d=(e,t)=>cW(e,t,c),u=(e,t)=>Math.sqrt(e**2+t**2),h=(e,t)=>t>e?0:Math.sqrt(e**2-t**2),p=(e,t,i)=>i?e<t:e>t,g=s&&!isNaN(l)&&l<Math.PI/6;let f=-e/2,m=e/2;const y=-i,v=-n*(g?Math.cos(l):1),b=p(a,u(n,e/2),!r);if(b){const e=h(a,n);f=-e,m=e}t.clear(!0);const x=d(f,v);t.moveTo(x.x,x.y);const S=zk(n,i),M=p(a,u(i,e/2),!r);if(S&&g)t.arc(0,0,n,jD(-l-Math.PI/2)+c,jD(l-Math.PI/2)+c,!1);else if(M){const n=-h(a,e/2),o=h(a,i);if(!b){const e=d(f,n);t.lineTo(e.x,e.y)}if(t.arc(0,0,a,Math.atan2(n,f)+c,Math.atan2(y,-o)+c,!1),!zk(o,0)){const e=d(o,y);t.lineTo(e.x,e.y)}t.arc(0,0,a,Math.atan2(y,o)+c,Math.atan2(n,m)+c,!1)}else{const e=d(f,y),i=d(m,y);t.lineTo(e.x,e.y),t.lineTo(i.x,i.y)}const A=d(m,v);if(t.lineTo(A.x,A.y),g)t.arc(0,0,n,jD(l-Math.PI/2)+c,jD(-l-Math.PI/2)+c,!0);else{const e=d(f,v);t.lineTo(e.x,e.y)}t.closePath()}};function uW(e,t,i,n,o){const a=GD(e,t),r=a*(1-n)/2;if(e+=r,t-=r,a<.001)return 2*i*o;if(a>=2*Math.PI){const i=e+a/2;e=i-Math.PI,t=i+Math.PI}const s=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),d=i*Math.sin(t),u=Math.floor(Math.sqrt((s-c)**2+(l-d)**2)),h=2*i*o;return Math.max(1,Math.min(h,u))}dW.className="RadialColumnShape",pA([vL()],dW.prototype,"isBeveled",2),pA([vL()],dW.prototype,"columnWidth",2),pA([vL()],dW.prototype,"startAngle",2),pA([vL()],dW.prototype,"endAngle",2),pA([vL()],dW.prototype,"outerRadius",2),pA([vL()],dW.prototype,"innerRadius",2),pA([vL()],dW.prototype,"axisInnerRadius",2),pA([vL()],dW.prototype,"axisOuterRadius",2),pA([vL()],dW.prototype,"isRadiusAxisReversed",2);var hW=class extends bL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[t,i,n]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const e=n.split(/\s+/g).map(Number);this.commands.push([i,e])}this.checkPathDirty()}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let n=t,o=i;for(const[a,r]of this.commands)switch(a){case"M":e.moveTo(t+r[0],i+r[1]),n=t+r[0];break;case"C":e.cubicCurveTo(t+r[0],i+r[1],t+r[2],i+r[3],t+r[4],i+r[5]),n=t+r[4],o=i+r[5];break;case"H":e.lineTo(t+r[0],o),n=i+r[0];break;case"L":e.lineTo(t+r[0],i+r[1]),n=t+r[0],o=i+r[1];break;case"V":e.lineTo(n,i+r[0]),o=i+r[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${a}' with '${r.join(" ")}'`)}e.closePath()}};pA([vL()],hW.prototype,"x",2),pA([vL()],hW.prototype,"y",2);var pW=class e extends XR{updatePath(){const t=this.size/2;super.applyPath(t,e.moves)}};pW.className="ArrowUp",pW.moves=[{x:0,y:0,t:"move"},{x:1,y:1.2},{x:-.5,y:0},{x:0,y:.8},{x:-1,y:0},{x:0,y:-.8},{x:-.5,y:0}];var gW=pW,fW=class extends XR{updatePath(){const e=this.size/2;super.applyPath(e,gW.moves.map((e=>({x:-1*e.x,y:-1*e.y}))))}};fW.className="ArrowDown";var mW={...ck,...RI},yW=dN.toFontString,vW={};hA(vW,{CARTESIAN_AXIS_TYPE:()=>bz,CARTESIAN_POSITION:()=>vz,ChartTheme:()=>gH,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>aj,DEFAULT_ANNOTATION_COLOR:()=>nj,DEFAULT_ANNOTATION_HANDLE_FILL:()=>rj,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>cj,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>dj,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>uj,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>hj,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>sj,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>lj,DEFAULT_AXIS_GRID_COLOUR:()=>Ez,DEFAULT_AXIS_LINE_COLOUR:()=>Oz,DEFAULT_BACKGROUND_COLOUR:()=>Tz,DEFAULT_CAPTION_ALIGNMENT:()=>Bz,DEFAULT_CAPTION_LAYOUT_STYLE:()=>jz,DEFAULT_COLOURS:()=>Pz,DEFAULT_CROSS_LINES_COLOUR:()=>Lz,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Qz,DEFAULT_FONT_FAMILY:()=>wz,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>ej,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Jz,DEFAULT_GRIDLINE_ENABLED:()=>yj,DEFAULT_HIERARCHY_FILLS:()=>tj,DEFAULT_HIERARCHY_STROKES:()=>ij,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Dz,DEFAULT_INVERTED_LABEL_COLOUR:()=>Iz,DEFAULT_LABEL_COLOUR:()=>Cz,DEFAULT_MUTED_LABEL_COLOUR:()=>Nz,DEFAULT_PADDING:()=>zz,DEFAULT_POLAR_SERIES_STROKE:()=>qz,DEFAULT_SHADOW_COLOUR:()=>Rz,DEFAULT_TEXTBOX_COLOR:()=>fj,DEFAULT_TEXTBOX_FILL:()=>pj,DEFAULT_TEXTBOX_STROKE:()=>gj,DEFAULT_TEXT_ANNOTATION_COLOR:()=>oj,DEFAULT_TOOLBAR_POSITION:()=>mj,FONT_SIZE:()=>mz,FONT_WEIGHT:()=>yz,IS_COMMUNITY:()=>Az,IS_DARK_THEME:()=>Mz,IS_ENTERPRISE:()=>kz,PALETTE_ALT_DOWN_FILL:()=>Yz,PALETTE_ALT_DOWN_STROKE:()=>Uz,PALETTE_ALT_NEUTRAL_FILL:()=>Xz,PALETTE_ALT_NEUTRAL_STROKE:()=>Zz,PALETTE_ALT_UP_FILL:()=>Kz,PALETTE_ALT_UP_STROKE:()=>Vz,PALETTE_DOWN_FILL:()=>Hz,PALETTE_DOWN_STROKE:()=>Fz,PALETTE_NEUTRAL_FILL:()=>Gz,PALETTE_NEUTRAL_STROKE:()=>Wz,PALETTE_UP_FILL:()=>_z,PALETTE_UP_STROKE:()=>$z,POLAR_AXIS_SHAPE:()=>Sz,POLAR_AXIS_TYPE:()=>xz,getChartTheme:()=>qH,markerPaletteFactory:()=>fz,singleSeriesPaletteFactory:()=>gz,swapAxisCondition:()=>T$,themes:()=>bW});var bW=Rw(ZH,(e=>e?.())),xW={};hA(xW,{BandScale:()=>NC,ColorScale:()=>eN,ContinuousScale:()=>lC,Invalidating:()=>rC,LinearScale:()=>OP,OrdinalTimeScale:()=>dD,TimeScale:()=>sD});var SW={};hA(SW,{Color:()=>iw,Debug:()=>RD,Logger:()=>MA,Padding:()=>AO,TimeInterval:()=>AA,angleBetween:()=>GD,angleDiff:()=>WD,arcDistanceSquared:()=>ZD,areArrayNumbersEqual:()=>xN,checkDatum:()=>hE,clamp:()=>Lk,clampArray:()=>Tk,clockwiseAngle:()=>UD,clockwiseAngles:()=>KD,countFractionDigits:()=>_k,createId:()=>hk,day:()=>WA,deepClone:()=>AN,displacePointFromVector:()=>VD,extent:()=>cC,findMinMax:()=>Rk,findRangeExtent:()=>Pk,formatNormalizedPercentage:()=>Hk,formatPercentage:()=>Wk,friday:()=>qA,generateUUID:()=>pk,getAttribute:()=>HN,hour:()=>_A,interpolateColor:()=>ow,interpolateNumber:()=>nw,isBetweenAngles:()=>FD,isContinuous:()=>uE,isDate:()=>mw,isDenseInterval:()=>oD,isEqual:()=>zk,isNegative:()=>jk,isNumber:()=>kw,isNumberEqual:()=>zk,isNumberObject:()=>dE,isString:()=>Mw,isStringObject:()=>cE,jsonApply:()=>CN,jsonDiff:()=>MN,jsonWalk:()=>wN,lineDistanceSquared:()=>XD,millisecond:()=>wA,minute:()=>BA,mod:()=>Fk,monday:()=>KA,month:()=>ek,normalisedExtentWithMetadata:()=>dC,normalizeAngle180:()=>$D,normalizeAngle360:()=>jD,normalizeAngle360Inclusive:()=>BD,range:()=>nD,resetIds:()=>uk,round:()=>Bk,sanitizeHtml:()=>Sj,saturday:()=>QA,second:()=>PA,setAttribute:()=>FN,setAttributes:()=>_N,setElementStyle:()=>WN,shallowClone:()=>kN,sunday:()=>UA,thursday:()=>ZA,tickFormat:()=>iD,tickStep:()=>eD,ticks:()=>QI,toDegrees:()=>HD,toFixed:()=>$k,toRadians:()=>_D,transformIntegratedCategoryValue:()=>pE,tuesday:()=>YA,utcDay:()=>rk,utcHour:()=>ak,utcMinute:()=>ok,utcMonth:()=>sk,utcYear:()=>lk,wednesday:()=>XA,year:()=>ik});var MW={};function AW(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");MA.warnOnce(i)}}function kW(e,t){const i=AW(),n=t?.default;return lw(((t,o,a)=>(a!==n&&i(o.toString(),e),a)))}function wW(e,t){const i=AW();return lw(((n,o,a)=>(a!==n[e]&&(i(o.toString(),`Use [${e}] instead.`),Bw(n,e,t?t(a):a)),aw)),((t,n)=>(i(n.toString(),`Use [${e}] instead.`),zw(t,e))))}function CW(e,t,i){if(e>t)return;let n;for(;t>=e;){const o=Math.floor((t+e)/2),a=i(o);null==a?t=o-1:(n=a,e=o+1)}return n}hA(MW,{AND:()=>PC,ARRAY:()=>XC,ARRAY_OF:()=>ZC,AbstractBarSeries:()=>j$,AbstractBarSeriesProperties:()=>z$,ActionOnSet:()=>LN,Animation:()=>tC,AnimationManager:()=>rT,Axis:()=>JE,AxisInterval:()=>BE,AxisLabel:()=>$E,AxisTick:()=>_E,AxisTicks:()=>RW,BOOLEAN:()=>$C,BOOLEAN_ARRAY:()=>aI,Background:()=>HP,BackgroundModule:()=>WP,BaseModuleInstance:()=>yO,BaseProperties:()=>EC,COLOR_STRING:()=>nI,COLOR_STRING_ARRAY:()=>oI,CachedTextMeasurer:()=>cN,CachedTextMeasurerPool:()=>lN,CartesianAxis:()=>iO,CartesianSeries:()=>kP,CartesianSeriesNodeEvent:()=>MP,CartesianSeriesProperties:()=>AP,CategoryAxis:()=>oO,ChartAxisDirection:()=>LI,ChartEventManager:()=>sT,ChartOptions:()=>eW,ChartUpdateType:()=>PT,ContextMenuRegistry:()=>lT,Cursor:()=>dT,CursorManager:()=>uT,DATE:()=>eI,DATE_ARRAY:()=>lI,DATE_OR_DATETIME_MS:()=>tI,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>xP,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>SP,DEFAULT_TOOLTIP_CLASS:()=>VN,DEFAULT_TOOLTIP_DARK_CLASS:()=>UN,DEGREE:()=>KC,DIRECTION:()=>SI,DOMManager:()=>rL,DRAG_INTERACTION_TYPES:()=>ZL,DataController:()=>ZT,DataModel:()=>YT,DataModelSeries:()=>pP,DataService:()=>UL,Default:()=>zE,Deprecated:()=>kW,DeprecatedAndRenamedTo:()=>wW,EMPTY_TOOLTIP_CONTENT:()=>KN,FONT_STYLE:()=>fI,FONT_WEIGHT:()=>mI,FUNCTION:()=>FC,GREATER_THAN:()=>JC,GestureDetector:()=>pT,GroupedCategoryAxis:()=>mO,HierarchyNode:()=>NW,HierarchySeries:()=>EW,HierarchySeriesProperties:()=>OW,HighlightManager:()=>gT,HighlightProperties:()=>yP,HighlightStyle:()=>vP,INTERACTION_RANGE:()=>AI,INTERPOLATION_STEP_POSITION:()=>fB,INTERPOLATION_TYPE:()=>gB,InteractionManager:()=>oT,InteractionState:()=>LO,InterpolationProperties:()=>mB,KeyNavManager:()=>fT,LABEL_PLACEMENT:()=>kI,LARGEST_KEY_INTERVAL:()=>Vj,LESS_THAN:()=>QC,LINE_CAP:()=>dI,LINE_DASH:()=>pI,LINE_JOIN:()=>uI,LINE_STYLE:()=>hI,LayoutElement:()=>CO,LayoutManager:()=>IO,LonLatBBox:()=>LW,MARKER_SHAPE:()=>dB,MATCHING_CROSSLINE_TYPE:()=>gE,MAX_SPACING:()=>II,MIN_SPACING:()=>CI,MercatorScale:()=>O_,ModuleRegistry:()=>vO,Motion:()=>Fw,NAN:()=>GC,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>iC,NUMBER:()=>HC,NUMBER_ARRAY:()=>rI,NUMBER_OR_NAN:()=>YC,Navigator:()=>hz,NavigatorModule:()=>pz,NodeRegionBBoxProvider:()=>yT,OBJECT:()=>jC,OBJECT_ARRAY:()=>cI,OR:()=>zC,OVERFLOW_STRATEGY:()=>xI,ObserveChanges:()=>TN,PHASE_METADATA:()=>qw,PHASE_ORDER:()=>Zw,PLACEMENT:()=>MI,PLAIN_OBJECT:()=>BC,POINTER_INTERACTION_TYPES:()=>qL,POSITION:()=>gI,POSITION_TOP_COORDINATES:()=>xE,POSITIVE_NUMBER:()=>VC,PolarAxis:()=>b_,PolarSeries:()=>_F,PropertiesArray:()=>OC,ProxyOnWrite:()=>EN,ProxyProperty:()=>NN,ProxyPropertyOnWrite:()=>ON,QUICK_TRANSITION:()=>Xw,RATIO:()=>UC,REAL_NUMBER:()=>WC,REGIONS:()=>mT,RegionManager:()=>AT,RepeatType:()=>Qw,SKIP_JS_BUILTINS:()=>jw,SMALLEST_KEY_INTERVAL:()=>Gj,SORT_DOMAIN_GROUPS:()=>Uj,STRING:()=>_C,STRING_ARRAY:()=>sI,Series:()=>NR,SeriesGroupingChangedEvent:()=>DR,SeriesItemHighlightStyle:()=>gP,SeriesMarker:()=>uB,SeriesNodeEvent:()=>IR,SeriesNodePickMode:()=>CR,SeriesProperties:()=>bP,SeriesTooltip:()=>pB,SimpleRegionBBoxProvider:()=>vT,SimpleTextMeasurer:()=>uN,StateMachine:()=>jN,TEXT_ALIGN:()=>vI,TEXT_WRAP:()=>yI,TICK_INTERVAL:()=>jE,TOOLBAR_ALIGNMENTS:()=>kT,TOOLBAR_GROUPS:()=>wT,TOOLBAR_GROUP_ORDERING:()=>CT,TOOLBAR_POSITIONS:()=>DT,TextUtils:()=>dN,TextWrapper:()=>BN,ToolbarManager:()=>ET,ToolbarPosition:()=>IT,Tooltip:()=>qN,TooltipManager:()=>OT,TooltipPosition:()=>ZN,UNION:()=>wI,UpdateService:()=>zT,VERTICAL_ALIGN:()=>bI,Validate:()=>TC,Vec2:()=>t_,Vec4:()=>IW,ZIndexMap:()=>lE,ZoomManager:()=>LT,__FORCE_MODULE_DETECTION:()=>PW,accumulateGroup:()=>eB,accumulateStack:()=>iB,accumulatedValue:()=>Oj,accumulativeValueProperty:()=>Fj,addHitTestersToQuadtree:()=>R$,adjustLabelPlacement:()=>q$,animationValidation:()=>qj,area:()=>Ej,arraysEqual:()=>uC,backfillPathPointData:()=>HB,buildFormatter:()=>kC,buildResetPathFn:()=>qB,calculateDefaultTimeTickFormat:()=>IC,calculateLabelChartPadding:()=>bE,calculateLabelTranslation:()=>vE,calculatePlacement:()=>GN,checkCrisp:()=>H$,circularSliceArray:()=>fC,clamp:()=>Lk,clampArray:()=>Tk,collapsedStartingBarPosition:()=>G$,computeBarFocusBounds:()=>Y$,computeMarkerFocusBounds:()=>jB,convertValuesToScaleByDefs:()=>OR,countFractionDigits:()=>_k,createButton:()=>zW,createCheckbox:()=>jW,createDatumId:()=>oB,createDeprecationWarning:()=>AW,createElement:()=>Ak,createElementId:()=>Ok,createElementNS:()=>kk,createIcon:()=>FW,createSelect:()=>BW,createTextArea:()=>$W,dateToNumber:()=>wC,deconstructSelectionsOrNodes:()=>Jw,deepClone:()=>AN,deepMerge:()=>Ow,defaultTimeTickFormat:()=>CC,determinePathStatus:()=>h$,diff:()=>nB,downloadUrl:()=>wk,enterpriseModule:()=>$N,excludesType:()=>Nw,extent:()=>cC,extractDecoratedProperties:()=>uw,findMaxValue:()=>CW,findMinMax:()=>Rk,findQuadtreeMatch:()=>P$,findRangeExtent:()=>Pk,fixNumericExtent:()=>WT,focusCursorAtEnd:()=>Nk,formatNormalizedPercentage:()=>Hk,formatPercentage:()=>Wk,formatValue:()=>bj,fromToMotion:()=>nC,getDocument:()=>Sk,getLastFocus:()=>eL,getMissCount:()=>GT,getPath:()=>zw,getPathComponents:()=>UT,getRectConfig:()=>_$,getWindow:()=>Mk,groupAccumulativeValueProperty:()=>Hj,groupAverage:()=>Nj,groupBy:()=>gC,groupCount:()=>Dj,groupStackValueProperty:()=>Wj,groupSum:()=>Cj,initMenuKeyNav:()=>qO,initRovingTabIndex:()=>XO,initToolbarKeyNav:()=>YO,isAnimatingFloatingPosition:()=>NT,isArray:()=>pw,isBoolean:()=>gw,isButtonClickEvent:()=>JO,isDate:()=>fw,isDecoratedObject:()=>cw,isDefined:()=>hw,isEnumKey:()=>Cw,isEnumValue:()=>Iw,isEqual:()=>zk,isFiniteNumber:()=>kw,isFunction:()=>vw,isHtmlElement:()=>ww,isNegative:()=>jk,isNumber:()=>Aw,isObject:()=>bw,isObjectLike:()=>xw,isPlainObject:()=>Sw,isProperties:()=>LC,isRegExp:()=>yw,isString:()=>Mw,isSymbol:()=>Dw,isValidDate:()=>mw,jsonApply:()=>CN,jsonDiff:()=>MN,jsonWalk:()=>wN,keyProperty:()=>jj,labelDirectionHandling:()=>DE,listDecoratedProperties:()=>dw,makeAccessibleClickListener:()=>QO,mapValues:()=>Rw,markerFadeInAnimation:()=>OB,markerPaletteFactory:()=>fz,markerScaleInAnimation:()=>LB,markerSwipeScaleInAnimation:()=>TB,mergeArrayDefaults:()=>Tw,mergeDefaults:()=>Lw,midpointStartingBarPosition:()=>V$,minMax:()=>$B,mod:()=>Fk,moduleRegistry:()=>bO,nearestSquared:()=>vk,nearestSquaredInContainer:()=>bk,normaliseGroupTo:()=>Yj,normalisePropertyTo:()=>Zj,normalisedExtentWithMetadata:()=>dC,objectEqualWith:()=>Ew,pairCategoryData:()=>u$,pairContinuousData:()=>d$,partialAssign:()=>$w,pathFadeInAnimation:()=>XB,pathFadeOutAnimation:()=>ZB,pathRangePoints:()=>a$,pathRangePointsReverse:()=>r$,pathRanges:()=>o$,pathSwipeInAnimation:()=>YB,pickByMatchingAngle:()=>FF,pickNode:()=>LR,plotPath:()=>VB,predicateWithMessage:()=>DI,prepareAreaPathAnimation:()=>E$,prepareAxisAnimationContext:()=>WE,prepareAxisAnimationFunctions:()=>UE,prepareBarAnimationFunctions:()=>U$,prepareLinePathAnimation:()=>f$,prepareLinePathAnimationFns:()=>g$,prepareLinePathPropertyAnimation:()=>p$,prepareMarkerAnimation:()=>zB,preparePieSeriesAnimationFunctions:()=>BF,range:()=>Ij,rangedValueProperty:()=>$j,renderPartialPath:()=>KB,resetAxisGroupFn:()=>KE,resetAxisLabelSelectionFn:()=>XE,resetAxisLineSelectionFn:()=>ZE,resetAxisSelectionFn:()=>YE,resetBarSelectionsFn:()=>K$,resetIds:()=>uk,resetLabelFn:()=>sB,resetMarkerFn:()=>RB,resetMarkerPositionFn:()=>PB,resetMotion:()=>PI,resetPieSelectionsFn:()=>$F,round:()=>Bk,scale:()=>s$,seriesLabelFadeInAnimation:()=>aB,seriesLabelFadeOutAnimation:()=>rB,setDocument:()=>Ck,setElementBBox:()=>Dk,setPath:()=>Bw,setWindow:()=>Ik,shallowClone:()=>kN,singleSeriesPaletteFactory:()=>gz,sortBasedOnArray:()=>mC,splitPairData:()=>UB,staticFromToMotion:()=>oC,stopPageScrolling:()=>tL,stringify:()=>OI,sum:()=>wj,sumValues:()=>kj,toArray:()=>hC,toFixed:()=>$k,toTooltipHtml:()=>XN,trailingAccumulatedValue:()=>Lj,trailingAccumulatedValueProperty:()=>_j,unique:()=>pC,updateClipPath:()=>QB,updateLabelNode:()=>X$,updateRect:()=>F$,validateCrossLineValues:()=>fE,valueProperty:()=>Bj,without:()=>Pw});var IW={bottomCenter:function(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}},center:function(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}},clone:function(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}},end:function(e){return{x:e.x2,y:e.y2}},from:function(e,t,i,n){if("number"===typeof e)return{x1:e,y1:t,x2:i,y2:n};if("width"in e)return{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height};throw new Error(`Values can not be converted into a vector4: [${e}] [${t}] [${i}] [${n}]`)},height:function(e){return Math.abs(e.y2-e.y1)},round:function(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}},start:function(e){return{x:e.x1,y:e.y1}},topCenter:function(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}},origin:function(){return{x1:0,y1:0,x2:0,y2:0}},width:function(e){return Math.abs(e.x2-e.x1)}};var DW=class e{constructor(e,t,i,n,o,a,r,s,l,c,d){this.series=e,this.index=t,this.datum=i,this.size=n,this.colorValue=o,this.fill=a,this.stroke=r,this.sumSize=s,this.depth=l,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}contains(e){let t=e;for(;null!=t&&t.index>=this.index;){if(t===this)return!0;t=t.parent}return!1}walk(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Walk.PreOrder;i===e.Walk.PreOrder&&t(this),this.children.forEach((e=>{e.walk(t,i)})),i===e.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};DW.Walk={PreOrder:0,PostOrder:1};var NW=DW,EW=class extends NR{constructor(e){super({moduleCtx:e,pickModes:[1,0],contentGroupVirtual:!1}),this.rootNode=new NW(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new jN("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}async processData(){const{childrenKey:e,sizeKey:t,colorKey:i,fills:n,strokes:o,colorRange:a}=this.properties;let r=0;let s=0,l=1/0,c=-1/0;const d=new Array((this.data?.length??0)+1).fill(void 0),u=(n,o)=>{const a=(r+=1,r),u=null!=o.depth?o.depth+1:0,p=null!=e?n[e]:void 0,g=null==p||0===p.length;let f=null!=t?n[t]:void 0;f=Number.isFinite(f)?Math.max(f,0):g?1:0;const m=f;s=Math.max(s,u);const y=null!=i?n[i]:void 0;return"number"===typeof y&&(d[a]=y,l=Math.min(l,y),c=Math.max(c,y)),h(new NW(this,a,n,f,y,void 0,void 0,m,u,o,[]),p)},h=(e,t)=>(t?.forEach((t=>{const i=u(t,e);e.children.push(i),e.sumSize+=i.sumSize})),e),p=h(new NW(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),g=[l,c];let f;null!=a&&Number.isFinite(l)&&Number.isFinite(c)&&(f=new eN,f.domain=g,f.range=a,f.update()),p.children.forEach(((e,t)=>{e.walk((e=>{let i;const a=d[e.index];null!=a&&(i=f?.convert(a)),i??(i=n?.[t%n.length]),e.fill=i,e.stroke=null==f?o?.[t%o.length]:"rgba(0, 0, 0, 0.2)"}))})),this.rootNode=p,this.maxDepth=s,this.colorDomain=g,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update(e){let{seriesRect:t}=e;await this.updateSelections(),await this.updateNodes();const i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(e){const t=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=t&&PI(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const t=this.animationResetFns?.datum;null!=t&&PI([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n,visible:o}=this.properties;return"gradient"===e&&null!=t&&null!=n?[{legendType:"gradient",enabled:o,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&MA.error("this.focusPath should not be empty");const{datumIndexDelta:t,otherIndexDelta:i}=e,{focusPath:n}=this,o=n.length-2;if(0!==i||1===n.length){const e=Math.max(0,o+i);if(void 0!==n[e+1])return n.length=e+2,this.computeFocusOutputs(n[e+1]);{let t=n[n.length-1];for(;t.nodeDatum.children.length>0&&(t.nodeDatum.depth??-1)<e;){const e={nodeDatum:t.nodeDatum.children[0],childIndex:0};n.push(e),t=e}return this.computeFocusOutputs(t)}}if(0===t)return this.computeFocusOutputs(n[n.length-1]);{const e=n[o+1].childIndex+t,i=n[o].nodeDatum,a=i?.children?.length;if(void 0!==a){const t=Lk(0,e,a-1),r={nodeDatum:i.children[t],childIndex:t};return n[o+1]=r,n.length=o+2,this.computeFocusOutputs(r)}}}getDatumAriaText(e,t){if(e instanceof NW)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t});MA.error(`datum is not HierarchyNode: ${e}`)}computeFocusOutputs(e){let{nodeDatum:t,childIndex:i}=e;const n=this.computeFocusBounds(t);if(n)return{datum:t,datumIndex:i,otherIndex:t.depth,bounds:n,showFocusBox:!0}}},OW=class extends bP{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(NF),this.strokes=Object.values(EF)}};pA([TC(_C)],OW.prototype,"childrenKey",2),pA([TC(_C,{optional:!0})],OW.prototype,"sizeKey",2),pA([TC(_C,{optional:!0})],OW.prototype,"colorKey",2),pA([TC(_C,{optional:!0})],OW.prototype,"colorName",2),pA([TC(oI)],OW.prototype,"fills",2),pA([TC(oI)],OW.prototype,"strokes",2),pA([TC(oI,{optional:!0})],OW.prototype,"colorRange",2);var LW=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}};var TW=class e{constructor(){this.id=hk(this),this.axisGroup=new OD({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=PD.select(this.axisGroup,pN),this.interval=new BE,this.label=new $E,this.scale=new OP,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(e){e.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;const e=[],t=this.generateTicks(),{translationX:i,translationY:n}=this;return this.labelSelection.update(t.ticks.map((e=>this.createLabelDatum(e))),void 0,(e=>e.tickId)),this.labelSelection.each(((t,i)=>{t.setProperties(i),i.visible&&e.push(t.getBBox())})),this.axisGroup.setProperties({translationX:i,translationY:n}),Vk.merge(e)}getLabelParams(e){const{padding:t}=this,{translate:i}=e;switch(this.position){case"top":case"bottom":return{x:i,y:t,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:t,y:i,textAlign:"start",textBaseline:"middle"}}}inRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const[i,n]=Rk(this.scale.range);return e>=i-t&&e<=n+t}createLabelDatum(e){const{x:t,y:i,textBaseline:n,textAlign:o}=this.getLabelParams(e);return{visible:Boolean(e.tickLabel),tickId:e.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:e.tickLabel,textAlign:o,textBaseline:n,x:t,y:i}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,n=Bk(Pk(this.scale.range),2),{maxTickCount:o,minTickCount:a,tickCount:r}=function(e,t,i,n,o){o=Math.max(o,e/(n+1)),isNaN(t)&&(t=o),isNaN(i)&&(i=e),t>i&&(t===o?t=i:i=t);const a=Lk(1,Math.floor(e/t),Math.min(Math.floor(e),100)),r=Math.min(a,Math.ceil(e/i));return{minTickCount:r,maxTickCount:a,tickCount:Lk(r,n,a)}}(n,t,i,e.DefaultTickCount,e.DefaultMinSpacing);r&&(this.scale.tickCount=r,this.scale.minTickCount=a,this.scale.maxTickCount=o);const s=this.getTicksData();if("bottom"===this.position||"top"===this.position){const e=lN.getMeasurer({font:this.label}),t=this.scale.getDomain(),i=t[0]>t[1]?-1:1;let n=-1/0*i;s.ticks=s.ticks.filter((t=>Math.sign(t.translate-n)===i&&(n=t.translate+e.textWidth(t.tickLabel,!0)*i,!0)))}return s}getTicksData(){const e=[],t=this.scale.ticks(),i=t.reduce(((e,t)=>Math.max(e,"number"===typeof t?_k(t):0)),0),n=function(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}${i}`):(e.set(t,1),t)}}(),o=this.label.format?this.scale.tickFormat({ticks:t,specifier:this.label.format}):e=>Aw(e)?e.toFixed(i):String(e);for(let a=0;a<t.length;a++){const r=t[a],s=this.scale.convert(r);if(!this.inRange(s))continue;const l=this.label.formatter?.({value:r,index:a,fractionDigits:i})??o(r),c=n(l);e.push({tick:r,tickId:c,tickLabel:l,translate:s})}return{rawTicks:t,fractionDigits:i,ticks:e}}};TW.DefaultTickCount=5,TW.DefaultMinSpacing=50;var RW=TW,PW=0;function zW(e,t){const i=Ak("button",_W("ag-charts-input ag-charts-button",t));return void 0!==e.label?i.append(e.label):(i.append(FW(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),_N(i,t),i}function jW(e,t){const i=Ak("input",_W("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",(t=>e.onChange(i.checked,t))),i.addEventListener("keydown",(e=>{JO(e)&&(e.preventDefault(),i.click())})),_N(i,t),i}function BW(e,t){const i=Ak("select",_W("ag-charts-input ag-charts-select",t));return i.append(...e.options.map((e=>{const t=Ak("option");return t.value=e.value,t.textContent=e.label,t}))),FN(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",(t=>e.onChange(i.value,t))),_N(i,t),i}function $W(e,t){const i=Ak("textarea",_W("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",(t=>e.onChange(i.value,t))),_N(i,t),i}function FW(e){const t=Ak("span",`ag-charts-icon ag-charts-icon-${e}`);return FN(t,"aria-hidden",!0),t}function _W(e,t){return null==t?e:`${e} ${t.class}`}var HW=Object.defineProperty,WW=Object.getOwnPropertyDescriptor,GW=(e,t,i,n)=>{for(var o,a=n>1?void 0:n?WW(t,i):t,r=e.length-1;r>=0;r--)(o=e[r])&&(a=(n?o(t,i,a):o(a))||a);return n&&a&&HW(t,i,a),a};function VW(e,t,i){const n=(t,i,n,o)=>{let a=e[0];for(let r=t;n>0?r<=i:r>i;r+=n){const t=e[r];if(o(a,t))return!0;a=t}return!1},o=Math.floor(e.length/2);return!!n(t,o,t,i)||n(e.length-t,o,-t,i)}var{OR:UW,POSITIVE_NUMBER:KW,NAN:YW,AxisInterval:XW,Validate:ZW}=MW,qW=class extends XW{constructor(){super(...arguments),this.minSpacing=NaN}};GW([ZW(UW(KW,YW))],qW.prototype,"minSpacing",2);var{BaseProperties:QW,ChartAxisDirection:JW,ZIndexMap:eG,ARRAY:tG,BOOLEAN:iG,COLOR_STRING:nG,FONT_STYLE:oG,FONT_WEIGHT:aG,LINE_DASH:rG,NUMBER:sG,OBJECT:lG,POSITIVE_NUMBER:cG,RATIO:dG,STRING:uG,UNION:hG,AND:pG,Validate:gG,MATCHING_CROSSLINE_TYPE:fG}=MW,{Layer:mG}=rW,{createId:yG}=SW,vG=class extends QW{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};GW([gG(iG,{optional:!0})],vG.prototype,"enabled",2),GW([gG(uG,{optional:!0})],vG.prototype,"text",2),GW([gG(oG,{optional:!0})],vG.prototype,"fontStyle",2),GW([gG(aG,{optional:!0})],vG.prototype,"fontWeight",2),GW([gG(cG)],vG.prototype,"fontSize",2),GW([gG(uG)],vG.prototype,"fontFamily",2),GW([gG(sG)],vG.prototype,"padding",2),GW([gG(nG,{optional:!0})],vG.prototype,"color",2),GW([gG(iG,{optional:!0})],vG.prototype,"parallel",2);var bG=class e extends QW{constructor(){super(...arguments),this.id=yG(this),this.shape="polygon",this.label=new vG,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=JW.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new mG({name:this.id,zIndex:e.LINE_LAYER_ZINDEX}),this.labelGroup=new mG({name:this.id,zIndex:e.LABEL_LAYER_ZINDEX})}setSectorNodeProps(e){e.fill=this.fill,e.fillOpacity=this.fillOpacity??1,e.stroke=this.stroke,e.strokeOpacity=this.strokeOpacity??1,e.strokeWidth=this.strokeWidth??1,e.lineDash=this.lineDash}setLabelNodeProps(e,t,i,n,o){const{label:a}=this;e.x=t,e.y=i,e.text=a.text,e.textAlign="center",e.textBaseline=n,e.rotation=o,e.rotationCenterX=t,e.rotationCenterY=i,e.fill=a.color,e.fontFamily=a.fontFamily,e.fontSize=a.fontSize,e.fontStyle=a.fontStyle,e.visible=!0}};bG.LINE_LAYER_ZINDEX=eG.SERIES_CROSSLINE_LINE,bG.RANGE_LAYER_ZINDEX=eG.SERIES_CROSSLINE_RANGE,bG.LABEL_LAYER_ZINDEX=eG.SERIES_LABEL,GW([gG(iG,{optional:!0})],bG.prototype,"enabled",2),GW([gG(hG(["range","line"],"a crossLine type"),{optional:!0})],bG.prototype,"type",2),GW([gG(pG(fG("range"),tG.restrict({length:2})),{optional:!0})],bG.prototype,"range",2),GW([gG(fG("value"),{optional:!0})],bG.prototype,"value",2),GW([gG(nG,{optional:!0})],bG.prototype,"fill",2),GW([gG(dG,{optional:!0})],bG.prototype,"fillOpacity",2),GW([gG(nG,{optional:!0})],bG.prototype,"stroke",2),GW([gG(sG,{optional:!0})],bG.prototype,"strokeWidth",2),GW([gG(dG,{optional:!0})],bG.prototype,"strokeOpacity",2),GW([gG(rG,{optional:!0})],bG.prototype,"lineDash",2),GW([gG(hG(["polygon","circle"],"a shape"))],bG.prototype,"shape",2),GW([gG(lG)],bG.prototype,"label",2);var xG=bG,{ChartAxisDirection:SG,validateCrossLineValues:MG}=MW,{Path:AG,Sector:kG,RotatableText:wG,ContinuousScale:CG}=rW,{normalizeAngle360:IG,isNumberEqual:DG}=SW,NG=class e extends xG{constructor(){super(),this.direction=SG.X,this.polygonNode=new AG,this.sectorNode=new kG,this.lineNode=new AG,this.labelNode=new wG,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:t,shape:i,type:n,value:o,range:a}=this;if(!t||!n||!MG(n,o,a,t,(()=>{if(!CG.is(t))return!0;const[e,i]=a??[o,void 0],r=t.getDomain?.()??t.domain;return e>=r[0]&&e<=r[1]&&("line"===n||i>=e&&i<=r[1])})))return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=e,this.labelGroup.visible=e,"line"===n&&"circle"===i&&t instanceof xW.BandScale&&(this.type="range",this.range=[o,o]),this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(t){const{scale:i,type:n,value:o,lineNode:a}=this;let r;if(!t||"line"!==n||!i||isNaN(r=i.convert(o)))return void(a.visible=!1);const{axisInnerRadius:s,axisOuterRadius:l}=this;a.visible=!0,a.stroke=this.stroke,a.strokeOpacity=this.strokeOpacity??1,a.strokeWidth=this.strokeWidth??1,a.fill=void 0,a.lineDash=this.lineDash;const c=l*Math.cos(r),d=l*Math.sin(r),u=s*Math.cos(r),h=s*Math.sin(r);a.path.clear(!0),a.path.moveTo(u,h),a.path.lineTo(c,d),this.group.zIndex=e.LINE_LAYER_ZINDEX}updatePolygonNode(t){const{polygonNode:i,range:n,scale:o,shape:a,type:r}=this;let s;if(!t||"range"!==r||"polygon"!==a||!o||!n||!(s=o.ticks?.()))return void(i.visible=!1);const{axisInnerRadius:l,axisOuterRadius:c}=this,d=s.indexOf(n[0]),u=s.indexOf(n[1]),h=(d<=u?s.slice(d,u+1):s.slice(d).concat(s.slice(0,u+1))).map((e=>o.convert(e)));i.visible=!0,this.setSectorNodeProps(i);const{path:p}=i;p.clear(!0),h.forEach(((e,t)=>{const i=c*Math.cos(e),n=c*Math.sin(e);0===t?p.moveTo(i,n):p.lineTo(i,n)})),0===l?p.lineTo(0,0):h.slice().reverse().forEach((e=>{const t=l*Math.cos(e),i=l*Math.sin(e);p.lineTo(t,i)})),i.path.closePath(),this.group.zIndex=e.RANGE_LAYER_ZINDEX}updateSectorNode(t){const{sectorNode:i,range:n,scale:o,shape:a,type:r}=this;if(!t||"range"!==r||"circle"!==a||!o||!n)return void(i.visible=!1);const{axisInnerRadius:s,axisOuterRadius:l}=this,c=n.map((e=>o.convert(e))),d=o.step??0,u=o instanceof xW.BandScale?d/2:0;i.visible=!0,this.setSectorNodeProps(i),i.centerX=0,i.centerY=0,i.innerRadius=s,i.outerRadius=l,i.startAngle=c[0]-u,i.endAngle=c[1]+u,this.group.zIndex=e.RANGE_LAYER_ZINDEX}updateLabelNode(e){const{label:t,labelNode:i,range:n,scale:o,type:a}=this;if(!e||!1===t.enabled||!t.text||!o||"range"===a&&!n)return void(i.visible=!0);const{axisInnerRadius:r,axisOuterRadius:s}=this;let l,c,d,u;if("line"===a){const e=IG(o.convert(this.value)),i=1.5*Math.PI,n=DG(e,i)||e>i||e<Math.PI/2,a=(r+s)/2*Math.cos(e),h=(r+s)/2*Math.sin(e);l=a+t.padding*Math.cos(e+Math.PI/2),c=h+t.padding*Math.sin(e+Math.PI/2),u=n?"top":"bottom",d=n?e:e-Math.PI}else{const[e,i]=n.map((e=>IG(o.convert(e))));let a=(e+i)/2;e>i&&(a-=Math.PI),a=IG(a);const r=(DG(a,0)||a>0)&&a<Math.PI;let h;const p=o.ticks?.()??[];h="circle"===this.shape||p.length<3?s-t.padding:s*Math.cos(Math.PI/p.length)-t.padding,l=h*Math.cos(a),c=h*Math.sin(a),u=r?"bottom":"top",d=r?a-Math.PI/2:a+Math.PI/2}this.setLabelNodeProps(i,l,c,u,d)}};NG.className="AngleCrossLine";var EG=NG,{AND:OG,ChartAxisDirection:LG,GREATER_THAN:TG,NUMBER:RG,UNION:PG,ProxyOnWrite:zG,TextWrapper:jG,TextUtils:BG,Validate:$G}=MW,{Path:FG,RotatableText:_G}=rW,{angleBetween:HG,isNumberEqual:WG,toRadians:GG,normalizeAngle360:VG}=SW,UG=class extends MW.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};GW([$G(PG(["fixed","parallel","perpendicular"],"a label orientation"))],UG.prototype,"orientation",2);var KG=class extends MW.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new FG),this.includeInvisibleDomains=!0}get direction(){return LG.X}createLabel(){return new UG}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}computeRange(){const e=VG(-Math.PI/2+GG(this.startAngle));let t=null==this.endAngle?e+2*Math.PI:-Math.PI/2+GG(this.endAngle);t<e&&(t+=2*Math.PI),this.range=[e,t]}calculateAvailableRange(){const{range:e,gridLength:t}=this;return HG(e[0],e[1])*t}updatePosition(){const{translation:e,axisGroup:t,gridGroup:i,crossLineGroup:n}=this,o=Math.floor(e.x),a=Math.floor(e.y);t.translationX=o,t.translationY=a,i.translationX=o,i.translationY=a,n.translationX=o,n.translationY=a}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear(!0);const{points:i,closePath:n}=this.getAxisLinePoints();i.forEach((e=>{let{x:i,y:n,moveTo:o,arc:a,radius:r=0,startAngle:s=0,endAngle:l=0}=e;a?t.arc(i,n,r,s,l):o?t.moveTo(i,n):t.lineTo(i,n)})),n&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.stroke,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){const{scale:e,shape:t,gridLength:i}=this,[n,o]=this.range,a=WG(o-n,2*Math.PI),r=[];if("circle"===t)a?r.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):r.push({x:i*Math.cos(n),y:i*Math.sin(n),moveTo:!0},{x:0,y:0,radius:i,startAngle:VG(n),endAngle:VG(o),arc:!0,moveTo:!1});else if("polygon"===t){const t=e.ticks?.().map((t=>e.convert(t)));t&&t.length>2&&t.forEach(((e,t)=>{const n=i*Math.cos(e),o=i*Math.sin(e),a=0===t;r.push({x:n,y:o,moveTo:a})}))}return{points:r,closePath:a}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{enabled:i,style:n,width:o},innerRadiusRatio:a}=this;if(!(n&&t>0))return;const r=this.tickData,s=t*a,l=n.length;this.gridLineGroupSelection.update(i?r:[],void 0,(e=>e.value)).each(((i,a,r)=>{const{value:c}=a,{stroke:d,lineDash:u}=n[r%l],h=e.convert(c);i.x1=s*Math.cos(h),i.y1=s*Math.sin(h),i.x2=t*Math.cos(h),i.y2=t*Math.sin(h),i.stroke=d,i.strokeWidth=o,i.lineDash=u,i.fill=void 0})),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this,i=this.tickData;t.update(e.enabled?i:[]).each(((t,i,n)=>{const o=this.labelData[n];o&&!o.hidden?(t.text=o.text,t.setFont(e),t.fill=e.color,t.x=o.x,t.y=o.y,t.textAlign=o.textAlign,t.textBaseline=o.textBaseline,t.visible=!0,o.rotation?(t.rotation=o.rotation,t.rotationCenterX=o.x,t.rotationCenterY=o.y):t.rotation=0):t.visible=!1}))}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:n}=this,o=this.tickData;n.update(i.enabled?o:[]).each(((n,o)=>{const{value:a}=o,r=e.convert(a),s=Math.cos(r),l=Math.sin(r);n.x1=t*s,n.y1=t*l,n.x2=(t+i.size)*s,n.y2=(t+i.size)*l,n.stroke=i.stroke,n.strokeWidth=i.width}))}createLabelNodeData(e,t,i){const{label:n,gridLength:o,scale:a,tick:r}=this;if(!n.enabled)return[];const s=new _G,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,d=e.map(((i,d)=>{const{value:u}=i,h=o+n.padding+r.size,p=a.convert(u),g=h*Math.cos(p),f=h*Math.sin(p),{textAlign:m,textBaseline:y}=this.getLabelAlign(p),v=d===e.length-1&&u!==e[0]&&WG(VG(p),VG(a.convert(e[0]))),b=this.getLabelRotation(p);let x=String(u);if(n.formatter){const{callbackCache:e}=this.moduleCtx;x=e.call(n.formatter,{value:u,index:d})??""}s.text=x,s.x=g,s.y=f,s.setFont(n),s.textAlign=m,s.textBaseline=y,s.rotation=b,b&&(s.rotationCenterX=g,s.rotationCenterY=f);let S=b?rW.Transformable.toCanvas(s):s.getBBox();if(S&&t.hideWhenNecessary&&!b){const e=l-S.x,t=S.x+S.width-c,i=1;if(e>i||t>i){const i=S.width-Math.max(e,t);x=jG.wrapText(x,{maxWidth:i,font:n,textWrap:"never"}),x===BG.EllipsisChar&&(x=""),s.text=x,S=s.getBBox()}}return{text:x,x:g,y:f,textAlign:m,textBaseline:y,hidden:""===x||i.hidden||v,rotation:b,box:S}}));return n.avoidCollisions&&this.avoidLabelCollisions(d),d}computeLabelsBBox(e,t){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map((e=>{let{box:t}=e;return t})).filter((e=>null!=e));return this.label.enabled&&0!==i.length?rW.BBox.merge(i):null}getLabelOrientation(){const{label:e}=this;return e instanceof UG?e.orientation:"fixed"}getLabelRotation(e){let t=GG(this.label.rotation??0);e=VG(e);const i=this.getLabelOrientation();return"parallel"===i?(t+=e,e>=0&&e<Math.PI?t-=Math.PI/2:t+=Math.PI/2):"perpendicular"===i&&(t+=e,e>=Math.PI/2&&e<1.5*Math.PI&&(t+=Math.PI)),t}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let n,o;const a=this.getLabelOrientation(),r=WG(t,0),s=WG(i,0),l=WG(t,1),c=WG(i,-1),d=t>0&&!r,u=i>0&&!s;return"parallel"===a?(n="center",o=l&&s||u?"top":"bottom"):"perpendicular"===a?(n=c||d?"left":"right",o="middle"):(n="right",r?n="center":d&&(n="left"),o="bottom",s?o="middle":u&&(o="top")),{textAlign:n,textBaseline:o}}updateCrossLines(){this.crossLines?.forEach((e=>{if(e instanceof EG){const{shape:t,gridLength:i,innerRadiusRatio:n}=this;e.shape=t,e.axisOuterRadius=i,e.axisInnerRadius=i*n}})),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};KG.CrossLineConstructor=EG,GW([zG("rotation"),$G(RG.restrict({min:0,max:360}))],KG.prototype,"startAngle",2),GW([$G(OG(RG.restrict({min:0,max:720}),TG("startAngle")),{optional:!0})],KG.prototype,"endAngle",2);var{RATIO:YG,OBJECT:XG,Validate:ZG}=MW,{BandScale:qG}=xW,{isNumberEqual:QG}=SW,JG=class extends KG{constructor(e){super(e,new qG),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new qW}generateAngleTicks(){const{scale:e,gridLength:t}=this,{values:i,minSpacing:n}=this.interval,o=i??e.ticks()??[];if(o.length<2||isNaN(n))return o.map((e=>({value:e,visible:!0})));const a=o[0],r=e.convert(a),s=t*Math.cos(r),l=t*Math.sin(r);for(let c=1;c<o.length-1;c++){const i=o[c],d=e.convert(i);if(d-r>Math.PI)break;const u=t*Math.cos(d),h=t*Math.sin(d);if(Math.sqrt((u-s)**2+(h-l)**2)>n){const e=new Set([a]);return VW(o,c,((t,i)=>{e.add(i)})),o.map((t=>({value:t,visible:e.has(t)})))}}return[{value:a,visible:!0}]}avoidLabelCollisions(e){let{minSpacing:t}=this.label;if(Number.isFinite(t)||(t=0),e.length<3)return;const i=(e,i)=>{if(e.hidden||i.hidden)return!1;const n=e.box.clone().grow(t/2),o=i.box.clone().grow(t/2);return n.collidesBBox(o)},n=e[0],o=e.at(-1),a=new Set([n]),r=QG(n.x,o.x)&&QG(n.y,o.y),s=Math.floor(e.length/2);for(let l=1;l<=s;l++){const t=r?e.slice(0,-1):e;if(!VW(t,l,i)){VW(t,l,((e,t)=>{a.add(t)}));break}}e.forEach((e=>{a.has(e)||(e.hidden=!0,e.box=void 0)}))}};JG.className="AngleCategoryAxis",JG.type="angle-category",GW([ZG(YG)],JG.prototype,"groupPaddingInner",2),GW([ZG(YG)],JG.prototype,"paddingInner",2),GW([ZG(XG)],JG.prototype,"interval",2);var eV={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",moduleFactory:e=>new JG(e)},{LinearScale:tV,Invalidating:iV}=xW,{range:nV,isDenseInterval:oV,isNumberEqual:aV}=SW,rV=class extends tV{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some((e=>!isFinite(e)))||this.arcLength<=0)return[];this.refresh();const{interval:e}=this,[t,i]=this.getDomain();if(e){const n=Math.abs(e),o=this.getPixelRange();if(!oV((i-t)/n,o))return nV(t,i,n)}const n=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(t,i);return nV(t,i,n)}hasNiceRange(){const e=this.range.slice().sort(((e,t)=>e-t));return[Math.PI,2*Math.PI].some((t=>aV(t,e[1]-e[0])))}getNiceStepAndTickCount(){const[e,t]=this.niceDomain;let i=this.getTickStep(e,t);const n=isNaN(this.maxTickCount)?1/0:this.maxTickCount,o=Math.abs(t-e)/i;let a=Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)));return a>n&&(a/=2,i*=2),{count:a,step:i}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const e=this.niceDomain[0]>this.niceDomain[1],t=e?this.niceDomain[1]:this.niceDomain[0],{step:i,count:n}=this.getNiceStepAndTickCount(),o=1/i,a=i>=1?Math.ceil(t/i+n)*i:Math.ceil((t+n*i)*o)/o;this.niceDomain=e?[a,t]:[t,a],this.niceTickStep=i}getPixelRange(){return this.arcLength}};GW([iV],rV.prototype,"arcLength",2);var{AND:sV,Default:lV,GREATER_THAN:cV,LESS_THAN:dV,NUMBER_OR_NAN:uV,OBJECT:hV,Validate:pV}=MW,{angleBetween:gV,isNumberEqual:fV,normalisedExtentWithMetadata:mV,findMinMax:yV}=SW,vV=class extends KG{constructor(e){super(e,new rV),this.shape="circle",this.min=NaN,this.max=NaN,this.interval=new qW}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:o}=mV(e,t,i);return{domain:n,clipped:o}}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e);return(gV(t,i)||2*Math.PI)*this.gridLength}generateAngleTicks(){const e=this.getRangeArcLength(),{scale:t,range:i}=this,{values:n,minSpacing:o,maxSpacing:a}=this.interval,r=a?Math.floor(e/a):1,s=o?Math.floor(e/o):1/0,l=Math.floor(4/Math.PI*Math.abs(i[0]-i[1]));let c;if(t.tickCount=Math.max(r,Math.min(s,l)),t.minTickCount=r,t.maxTickCount=s,t.arcLength=e,null!=n){const[e,i]=yV(t.getDomain().map(Number));c=n.filter((t=>t>=e&&t<=i)).sort(((e,t)=>e-t))}else c=t.ticks();return c.map((e=>({value:e,visible:!0})))}avoidLabelCollisions(e){let{minSpacing:t}=this.label;Number.isFinite(t)||(t=0);const i=(e,i)=>{if(e.hidden||i.hidden)return!1;const n=e.box.clone().grow(t/2),o=i.box.clone().grow(t/2);return n.collidesBBox(o)},n=e[0],o=e.at(-1);n!==o&&fV(n.x,o.x)&&fV(n.y,o.y)&&(o.hidden=!0);for(let a=1;a<e.length;a*=2){let t=!1;for(let n=a;n<e.length;n+=a){const o=e[n];if(i(e[n-a],o)){t=!0;break}}if(!t)return void e.forEach(((e,t)=>{t%a>0&&(e.hidden=!0,e.box=void 0)}))}e.forEach(((e,t)=>{t>0&&(e.hidden=!0,e.box=void 0)}))}};vV.className="AngleNumberAxis",vV.type="angle-number",GW([pV(sV(uV,dV("max"))),lV(NaN)],vV.prototype,"min",2),GW([pV(sV(uV,cV("min"))),lV(NaN)],vV.prototype,"max",2),GW([pV(hV)],vV.prototype,"interval",2);var bV={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",moduleFactory:e=>new vV(e)},{OrdinalTimeScale:xV}=xW,{dateToNumber:SV}=MW,MV=class extends MW.CategoryAxis{constructor(e){super(e,new xV)}normaliseDataDomain(e){const t=[],i=new Set;for(let n of e){"number"===typeof n&&(n=new Date(n));const e=SV(n);i.has(e)||(i.add(e),t.push(n))}return t.sort(((e,t)=>SV(e)-SV(t))),{domain:t,clipped:!1}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i})}};MV.className="OrdinalTimeAxis",MV.type="ordinal-time";var AV={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",moduleFactory:e=>new MV(e)},{ChartAxisDirection:kV,Validate:wV,DEGREE:CV,validateCrossLineValues:IV}=MW,{Path:DV,Sector:NV,RotatableText:EV}=rW,{normalizeAngle360:OV,toRadians:LV,isNumberEqual:TV}=SW,RV=class extends vG{constructor(){super(...arguments),this.positionAngle=void 0}};GW([wV(CV,{optional:!0})],RV.prototype,"positionAngle",2);var PV=class e extends xG{constructor(){super(),this.direction=kV.Y,this.label=new RV,this.polygonNode=new DV,this.sectorNode=new NV,this.labelNode=new EV,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,type:n,value:o,range:a}=this;if(!i||!n||!IV(n,o,a,i))return this.group.visible=!1,void(this.labelGroup.visible=!1);"line"===n&&i instanceof xW.BandScale&&(this.type="range",this.range=[o,o]),this.updateRadii();const{innerRadius:r,outerRadius:s}=this;t&&(t=r>=this.axisInnerRadius&&s<=this.axisOuterRadius),this.group.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.group.zIndex="line"===this.type?e.LINE_LAYER_ZINDEX:e.RANGE_LAYER_ZINDEX}updateRadii(){const{range:e,scale:t,type:i,axisInnerRadius:n,axisOuterRadius:o}=this;if(!t)return{innerRadius:0,outerRadius:0};const a=e=>o+n-e;let r=0,s=0;if("line"===i)r=a(t.convert(this.value)),s=r;else{const i=Math.abs(t?.bandwidth??0),n=e.map((e=>t.convert(e)));r=a(Math.max(...n)),s=a(Math.min(...n))+i}this.outerRadius=r,this.innerRadius=s}drawPolygon(e,t,i){t.forEach(((t,n)=>{const o=e*Math.cos(t),a=e*Math.sin(t);0===n?i.path.moveTo(o,a):i.path.lineTo(o,a)})),i.path.closePath()}updatePolygonNode(e){const{gridAngles:t,polygonNode:i,scale:n,shape:o,type:a,innerRadius:r,outerRadius:s}=this;if(!e||"polygon"!==o||!n||!t)return void(i.visible=!1);i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(s-l,t,i);const c=t.slice().reverse(),d="line"===a?s-l:r+l;this.drawPolygon(d,c,i),this.setSectorNodeProps(i)}updateSectorNode(e){const{axisInnerRadius:t,axisOuterRadius:i,scale:n,sectorNode:o,shape:a,innerRadius:r,outerRadius:s}=this;if(!e||"circle"!==a||!n)return void(o.visible=!1);o.visible=!0,o.startAngle=0,o.endAngle=2*Math.PI;const l=this.getPadding(),c=SW.clamp(t,r+l,i),d=SW.clamp(t,s-l,i);o.innerRadius=Math.min(c,d),o.outerRadius=Math.max(c,d),this.setSectorNodeProps(o)}updateLabelNode(e){const{innerRadius:t,label:i,labelNode:n,scale:o,shape:a,type:r}=this;if(!e||!1===i.enabled||!i.text||!o)return void(n.visible=!1);const s=OV(LV((i.positionAngle??0)-90)),l=(TV(s,0)||s>0)&&s<Math.PI,c=l?s-Math.PI/2:s+Math.PI/2;let d=0;const u=this.gridAngles??[];d="line"===r?t+i.padding:"circle"===a||u.length<3?t-i.padding:t*Math.cos(Math.PI/u.length)-i.padding;const h=d*Math.cos(s),p=d*Math.sin(s);let g;g="line"===r?l?"top":"bottom":l?"bottom":"top",this.setLabelNodeProps(n,h,p,g,c)}getPadding(){const{scale:e}=this;if(!e)return 0;const t=Math.abs(e.bandwidth??0),i=Math.abs(e.step??0);return e instanceof xW.BandScale?(i-t)/2:0}};PV.className="RadiusCrossLine";var zV=PV,{ChartAxisDirection:jV,Default:BV,ZIndexMap:$V,DEGREE:FV,BOOLEAN:_V,Validate:HV}=MW,{Caption:WV,Group:GV,Path:VV,Selection:UV}=rW,{isNumberEqual:KV,normalizeAngle360:YV,toRadians:XV}=SW,ZV=class extends MW.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};GW([HV(_V,{optional:!0})],ZV.prototype,"autoRotate",2),GW([HV(FV)],ZV.prototype,"autoRotateAngle",2);var qV=class extends MW.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new GV({name:`${this.id}-gridPaths`,zIndex:$V.AXIS_GRID})),this.gridPathSelection=UV.select(this.gridPathGroup,VV)}get direction(){return jV.Y}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:n}=this,o=e*n,a=XV(i);return{translationX:t.x,translationY:t.y-e-o,rotation:a,rotationCenterX:0,rotationCenterY:e+o}}updateSelections(e,t,i){super.updateSelections(e,t,i);const{gridLine:{enabled:n,style:o,width:a},shape:r}=this;if(!o)return;const s=this.prepareTickData(t),l=o.length,[c,d]=this.gridRange??[0,2*Math.PI],u=KV(d-c,2*Math.PI),h=(e,t)=>{const{path:i}=e;i.clear(!0);const n=this.getTickRadius(t);u?(i.moveTo(n,0),i.arc(0,0,n,0,2*Math.PI)):(i.moveTo(n*Math.cos(c),n*Math.sin(c)),i.arc(0,0,n,YV(c),YV(d))),u&&i.closePath()},p=(e,t)=>{const{path:i}=e,n=this.gridAngles;if(i.clear(!0),!n||n.length<3)return;const o=this.getTickRadius(t);n.forEach(((e,t)=>{const a=o*Math.cos(e),r=o*Math.sin(e);0===t?i.moveTo(a,r):i.lineTo(a,r),n.forEach(((e,t)=>{const n=o*Math.cos(e),a=o*Math.sin(e);0===t?i.moveTo(n,a):i.lineTo(n,a)})),i.closePath()})),i.closePath()};this.gridPathSelection.update(n?s:[]).each(((e,t,i)=>{((e,t)=>{const{stroke:i,lineDash:n}=o[t%l];e.stroke=i,e.strokeWidth=a,e.lineDash=n,e.fill=void 0})(e,i),"circle"===r?h(e,t):p(e,t)}))}updateTitle(){const e=e=>e.defaultValue,{title:t,range:i,moduleCtx:{callbackCache:n}}=this,{formatter:o=e}=this.title;t.caption.enabled=t.enabled,t.caption.fontFamily=t.fontFamily,t.caption.fontSize=t.fontSize,t.caption.fontStyle=t.fontStyle,t.caption.fontWeight=t.fontWeight,t.caption.color=t.color,t.caption.wrapping=t.wrapping;let a=!1;const r=t.caption.node;t.enabled&&(a=!0,r.rotation=Math.PI/2,r.x=Math.floor((i[0]+i[1])/2),r.y=-WV.SMALL_PADDING,r.textAlign="center",r.textBaseline="bottom",r.text=n.call(o,this.getTitleFormatterParams())),r.visible=a}updateCrossLines(){this.crossLines?.forEach((e=>{if(e instanceof zV){const{shape:t,gridAngles:i,range:n,innerRadiusRatio:o}=this,a=n[0];e.shape=t,e.gridAngles=i,e.axisOuterRadius=a,e.axisInnerRadius=a*o}})),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new ZV}};qV.CrossLineConstructor=zV,GW([HV(FV),BV(0)],qV.prototype,"positionAngle",2);var{RATIO:QV,ProxyPropertyOnWrite:JV,Validate:eU}=MW,{BandScale:tU}=xW,iU=class extends qV{constructor(e){super(e,new tU),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t,innerRadiusRatio:i}=this,n=t.range[0],o=n*i;if(t instanceof tU){const i=t.ticks(),n=i.length-1-i.indexOf(e.tickId);return 0===n?o:t.inset+t.step*(n-.5)+t.bandwidth/2}{const i=(n-o)/t.domain.length;return n-e.translationY+o-i/2}}};iU.className="RadiusCategoryAxis",iU.type="radius-category",GW([eU(QV)],iU.prototype,"groupPaddingInner",2),GW([JV("scale","paddingInner"),eU(QV)],iU.prototype,"paddingInner",2),GW([JV("scale","paddingOuter"),eU(QV)],iU.prototype,"paddingOuter",2);var nU={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",moduleFactory:e=>new iU(e)},{AND:oU,Default:aU,GREATER_THAN:rU,LESS_THAN:sU,NUMBER_OR_NAN:lU,Validate:cU}=MW,{LinearScale:dU}=xW,{normalisedExtentWithMetadata:uU}=SW,hU=class extends qV{constructor(e){super(e,new dU),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(e){const{scale:t}=this,i=t.getDomain?.()[1];return e.filter((e=>{let{tick:t}=e;return t!==i})).sort(((e,t)=>t.tick-e.tick))}getTickRadius(e){const{scale:t}=this,i=t.range[0],n=i*this.innerRadiusRatio;return i-e.translationY+n}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:o}=uU(e,t,i);return{domain:n,clipped:o}}};hU.className="RadiusNumberAxis",hU.type="radius-number",GW([cU(oU(lU,sU("max"))),aU(NaN)],hU.prototype,"min",2),GW([cU(oU(lU,rU("min"))),aU(NaN)],hU.prototype,"max",2);var pU={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",moduleFactory:e=>new hU(e)},{BOOLEAN:gU,POSITIVE_NUMBER:fU,ObserveChanges:mU,Validate:yU}=MW,vU=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,e.animationManager.skip(!1)}};GW([mU(((e,t)=>{e.ctx.animationManager.skip(!t)})),yU(gU)],vU.prototype,"enabled",2),GW([mU(((e,t)=>{e.ctx.animationManager.defaultDuration=t})),yU(fU,{optional:!0})],vU.prototype,"duration",2);var bU={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new vU(e),themeTemplate:{animation:{enabled:!0}}},{BaseModuleInstance:xU,createElement:SU,getLastFocus:MU}=MW,AU="canvas-overlay",kU=class extends xU{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,this.element=i?.detached?SU("div"):e.domManager.addChild(AU,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push((()=>e.domManager.removeChild(AU,this.moduleId)))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};0!==this.element.children.length&&(this.hideFns.forEach((e=>e())),t?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=SU("div","ag-charts-popover");if(null!=t.ariaLabel&&i.setAttribute("aria-label",t.ariaLabel),null!=t.class&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push((()=>this.removeChildren())),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const e=MU(t.sourceEvent);void 0!==e&&(t.initialFocus.focus(),this.lastFocus=e)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){const t=this.getPopoverElement();t&&(t.style.setProperty("top","unset"),t.style.setProperty("bottom","unset"),t.style.setProperty("left",`${Math.floor(e.x)}px`),t.style.setProperty("top",`${Math.floor(e.y)}px`))}},{clamp:wU}=SW,CU=class extends kU{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const i=t.anchor??this.anchor,n=t.fallbackAnchor??this.fallbackAnchor,o=super.showWithChildren(e,t);return i&&this.setAnchor(i,n),MW.getWindow().requestAnimationFrame((()=>{this.repositionWithinBounds()})),o}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!e||!n)return;const o=t.domManager.getBoundingClientRect(),{offsetWidth:a,offsetHeight:r}=n;let s=wU(0,e.x,o.width-a),l=wU(0,e.y,o.height-r);s!==e.x&&null!=i?.x&&(s=wU(0,i.x-a,o.width-a)),l!==e.y&&null!=i?.y&&(l=wU(0,i.y-r,o.height-r)),this.updatePosition({x:s,y:l})}},{createElement:IU,initMenuKeyNav:DU,isButtonClickEvent:NU}=MW,EU=class extends CU{show(e){const t=e.items.map((t=>this.createRow(e,t))),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=DU({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push((()=>{this.menuCloser?.finishClosing(),this.menuCloser=void 0}))}createRow(e,t){const{domManager:i}=this.ctx,{menuItemRole:n="menuitem"}=e,o=t.value===e.value,a=IU("div","ag-charts-menu__row");if(a.setAttribute("role",n),"menuitemradio"===n&&a.setAttribute("aria-checked",(e.value===t.value).toString()),"string"===typeof t.value&&(a.dataset.popoverId=t.value),a.classList.toggle("ag-charts-menu__row--active",o),null!=t.icon){const e=IU("span",`ag-charts-menu__icon ${i.getIconClassNames(t.icon)}`);a.appendChild(e)}const r=null!=t.strokeWidth;if(r&&(a.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),a.style.setProperty("--strokeWidth",r?`${t.strokeWidth}px`:null)),null!=t.label){const e=IU("span","ag-charts-menu__label");e.textContent=this.ctx.localeManager.t(t.label),a.appendChild(e)}"altText"in t&&(a.ariaLabel=this.ctx.localeManager.t(t.altText));const s=i=>{NU(i)&&(e.onPress?.(t),i.preventDefault(),i.stopPropagation())};return a.addEventListener("keydown",s),a.addEventListener("click",s),a.addEventListener("mousemove",(()=>{a.focus()})),a}},{ChartAxisDirection:OU}=MW;function LU(e,t,i){const n=e.clone();return n.x+="left"===t?-i:0,n.y+="top"===t?-i:0,n.width+="left"===t||"right"===t?i:0,n.height+="top"===t||"bottom"===t?i:0,n}var{createElement:TU}=MW,{Color:RU,clamp:PU}=SW,zU=e=>{try{const t=RU.fromString(e),[i,n,o]=t.toHSB();return[i,n,o,t.a]}catch{return}},jU=class extends CU{constructor(e,t){super(e,"color-picker",t),this.hasChanged=!1,this.hideFns.push((()=>{this.hasChanged&&this.onChangeHide?.()}))}show(e){this.hasChanged=!1,this.onChangeHide=e.onChangeHide;const{element:t,initialFocus:i}=this.createColorPicker(e),n=this.showWithChildren([t],{initialFocus:i,...e});n.classList.add("ag-charts-color-picker"),n.setAttribute("role","dialog")}createColorPicker(e){var t=this;let[i,n,o,a]=zU(e.color??"#f00")??[0,1,.5,1];a=e.opacity??a;const r=TU("div","ag-charts-color-picker__content");r.innerHTML='<div class="ag-charts-color-picker__palette" tabindex="0"></div><input class="ag-charts-color-picker__hue-input" tabindex="0" type="range" min="0" max="360" value="0"> <input class="ag-charts-color-picker__alpha-input" tabindex="0" type="range" min="0" max="1" value="1" step="0.01"> <label class="ag-charts-color-picker__color-field"><span class="ag-charts-color-picker__color-label">Color</span> <input class="ag-charts-color-picker__color-input" tabindex="0" value="#000"></label>',r.ariaLabel=this.ctx.localeManager.t("ariaLabelColorPicker");const s=r.querySelector(".ag-charts-color-picker__palette"),l=r.querySelector(".ag-charts-color-picker__hue-input"),c=r.querySelector(".ag-charts-color-picker__alpha-input"),d=r.querySelector(".ag-charts-color-picker__color-input"),u=function(){let s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const u=RU.fromHSB(i,n,o,a).toHexString();if(r.style.setProperty("--h",`${i}`),r.style.setProperty("--s",`${n}`),r.style.setProperty("--v",`${o}`),r.style.setProperty("--a",`${a}`),r.style.setProperty("--color",u.slice(0,7)),r.style.setProperty("--color-a",u),l.value=`${i}`,c.value=`${a}`,c.classList.toggle("ag-charts-color-picker__alpha-input--opaque",1===a),document.activeElement!==d&&(d.value=u.toUpperCase()),s||null==e.color){const t=RU.fromHSB(i,n,o,1).toHexString();e.onChange?.(u,t,a)}s&&(t.hasChanged=!0)};u(!1);return r.addEventListener("mousedown",(e=>{e.stopPropagation()})),r.addEventListener("keydown",(e=>{switch(e.stopPropagation(),e.key){case"Enter":case"Escape":this.hide();break;default:return}e.preventDefault()})),s.addEventListener("mousedown",(e=>{e.preventDefault();const t=e.currentTarget;t.focus();const i=t.getBoundingClientRect(),a=e=>{let{pageX:t,pageY:a}=e;n=Math.min(Math.max((t-i.left)/i.width,0),1),o=1-Math.min(Math.max((a-i.top)/i.height,0),1),u()};a(e),window.addEventListener("mousemove",a),window.addEventListener("mouseup",(()=>window.removeEventListener("mousemove",a)),{once:!0})})),s.addEventListener("keydown",(e=>{if("ArrowLeft"===e.key)n=PU(0,n-.01,1);else if("ArrowRight"===e.key)n=PU(0,n+.01,1);else if("ArrowUp"===e.key)o=PU(0,o+.01,1);else{if("ArrowDown"!==e.key)return;o=PU(0,o-.01,1)}e.preventDefault(),u()})),l.addEventListener("input",(e=>{i=e.currentTarget.valueAsNumber??0,u()})),c.addEventListener("input",(e=>{a=e.currentTarget.valueAsNumber??0,u()})),d.addEventListener("input",(e=>{const t=zU(e.currentTarget.value);null!=t&&([i,n,o,a]=t,u())})),d.addEventListener("blur",(()=>u())),d.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.currentTarget.blur(),u())})),{element:r,initialFocus:s}}},{focusCursorAtEnd:BU}=MW,$U="text-input",FU="canvas-overlay",_U=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1,this.element=e.domManager.addChild(FU,$U),this.element.classList.add("ag-charts-text-input"),this.destroyFns.push((()=>e.domManager.removeChild(FU,$U)))}setKeyDownHandler(e){this.element.addEventListener("keydown",e),this.destroyFns.push((()=>this.element.removeEventListener("keydown",e)))}show(e){this.element.innerHTML='<div contenteditable="plaintext-only" class="ag-charts-text-input__textarea" tabindex="0"></div>';const t=this.element.firstElementChild;t.isContentEditable||(t.contentEditable="true"),t.setAttribute("placeholder",this.ctx.localeManager.t(e.placeholderText??"inputTextareaPlaceholder")),e.styles?.placeholderColor&&t.style.setProperty("--ag-charts-input-placeholder-color",e.styles?.placeholderColor),t.innerText=e.text??"",t.style.color=e.styles?.color??"inherit",t.style.fontFamily=e.styles?.fontFamily??"inherit",t.style.fontSize=e.styles?.fontSize?`${e.styles.fontSize}px`:"inherit",t.style.fontStyle=e.styles?.fontStyle??"inherit",t.style.fontWeight="number"===typeof e.styles?.fontWeight?`${e.styles.fontWeight}`:e.styles?.fontWeight??"inherit",BU(t),t.addEventListener("input",(()=>{this.updatePosition(),e.onChange?.(this.getValue(),this.getBBox())})),t.addEventListener("click",(e=>{e.stopPropagation()})),e.layout&&(this.layout=e.layout,this.updatePosition()),e.onChange?.(this.getValue(),this.getBBox()),this.visible=!0}hide(){this.element.innerHTML="",this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1}isVisible(){return this.visible}updateColor(e){this.element.firstElementChild&&(this.element.firstElementChild.style.color=e)}updateFontSize(e){if(this.element.firstElementChild)return this.element.firstElementChild.style.fontSize=`${e}px`,this.updatePosition(),this.getBBox()}getValue(){if(this.element.firstElementChild)return this.element.firstElementChild.innerText.trim()}updatePosition(){const{element:e}=this,t=e.firstElementChild;if(!t)return;const i=this.ctx.domManager.getBoundingClientRect(),{width:n,getTextInputCoords:o,getTextPosition:a,alignment:r,textAlign:s}=this.layout;e.style.setProperty("width",n?`${n}px`:"unset");const l=t.getBoundingClientRect(),c=o(l.height);let d=c.x;"center"===r?d-=(n??l.width)/2:"right"===r&&(d-=n??l.width);const u=a();let h=c.y;"center"===u?h-=l.height/2:"bottom"===u&&(h-=l.height),e.style.setProperty("top",`${h}px`),e.style.setProperty("left",`${d}px`),e.style.setProperty("max-width",i.width-d+"px"),e.style.setProperty("text-align",r),t.style.setProperty("text-align",s)}getBBox(){const{left:e,top:t,width:i,height:n}=this.element.getBoundingClientRect();return new rW.BBox(e,t,i,n)}},{BOOLEAN:HU,Validate:WU,UNION:GU}=MW,VU=GU(["x","y","xy"],"an axis type"),UU=class{constructor(){this.enabled=!0,this.axes="y"}};GW([WU(HU)],UU.prototype,"enabled",2),GW([WU(VU,{optional:!0})],UU.prototype,"axes",2);var KU=(e=>(e.Line="line",e.HorizontalLine="horizontal-line",e.VerticalLine="vertical-line",e.DisjointChannel="disjoint-channel",e.ParallelChannel="parallel-channel",e.Callout="callout",e.Comment="comment",e.Note="note",e.Text="text",e.Arrow="arrow",e.ArrowUp="arrow-up",e.ArrowDown="arrow-down",e.DateRange="date-range",e.PriceRange="price-range",e.DatePriceRange="date-price-range",e.QuickDatePriceRange="quick-date-price-range",e))(KU||{}),YU=Object.values(KU),XU=["line","horizontal-line","vertical-line","disjoint-channel","parallel-channel","callout","comment","note","text","arrow","arrow-up","arrow-down"],ZU=["line-menu","text-menu","shape-menu","measurer-menu"];function qU(e){for(const t of YU)if(t===e)return t}var{BOOLEAN:QU,COLOR_STRING:JU,DATE:eK,FONT_STYLE:tK,FONT_WEIGHT:iK,FUNCTION:nK,LINE_DASH:oK,LINE_STYLE:aK,NUMBER:rK,OBJECT:sK,OR:lK,POSITIVE_NUMBER:cK,RATIO:dK,STRING:uK,TEXT_ALIGN:hK,UNION:pK,BaseProperties:gK,Validate:fK}=MW,mK=class extends gK{};GW([fK(lK(uK,rK,eK))],mK.prototype,"x",2),GW([fK(rK)],mK.prototype,"y",2);var yK=class extends(PK(zK(TK(gK)))){},vK=class extends(PK(zK(RK(EK(jK(gK)))))){constructor(){super(...arguments),this.cornerRadius=2}};GW([fK(QU)],vK.prototype,"enabled",2),GW([fK(cK)],vK.prototype,"cornerRadius",2);var bK=class extends(RK(gK)){},xK=class extends(PK(zK(RK(gK)))){},SK=class extends(jK(gK)){constructor(){super(...arguments),this.label="",this.position="top",this.alignment="left"}};GW([fK(uK)],SK.prototype,"label",2),GW([fK(pK(["top","center","bottom"]),{optional:!0})],SK.prototype,"position",2),GW([fK(pK(["left","center","right"]),{optional:!0})],SK.prototype,"alignment",2);var MK=class extends(jK(gK)){constructor(){super(...arguments),this.label=""}};function AK(e){class t extends(function(e){class t extends e{}return GW([fK(QU,{optional:!0})],t.prototype,"locked",2),t}(TK(e))){constructor(){super(...arguments),this.id=SW.generateUUID()}isValidWithContext(e,t){return super.isValid(t)}}return t}function kK(e){class t extends e{constructor(){super(...arguments),this.start=new mK,this.end=new mK}}return GW([fK(sK)],t.prototype,"start",2),GW([fK(sK)],t.prototype,"end",2),t}function wK(e){class t extends e{}return GW([fK(lK(uK,rK,eK))],t.prototype,"x",2),GW([fK(rK)],t.prototype,"y",2),t}function CK(e){class t extends e{}return GW([fK(lK(uK,rK,eK))],t.prototype,"value",2),t}function IK(e){class t extends e{constructor(){super(...arguments),this.background=new bK}}return GW([fK(sK,{optional:!0})],t.prototype,"background",2),t}function DK(e){class t extends e{constructor(){super(...arguments),this.handle=new xK}}return GW([fK(sK,{optional:!0})],t.prototype,"handle",2),t}function NK(e){class t extends e{constructor(){super(...arguments),this.axisLabel=new vK}}return GW([fK(sK,{optional:!0})],t.prototype,"axisLabel",2),t}function EK(e){class t extends e{constructor(){super(...arguments),this.textAlign="center"}}return GW([fK(cK,{optional:!0})],t.prototype,"padding",2),GW([fK(hK,{optional:!0})],t.prototype,"textAlign",2),GW([fK(nK,{optional:!0})],t.prototype,"formatter",2),t}function OK(e){class t extends e{}return GW([fK(QU,{optional:!0})],t.prototype,"extendStart",2),GW([fK(QU,{optional:!0})],t.prototype,"extendEnd",2),t}function LK(e){return class extends e{setLocaleManager(e){this.localeManager??(this.localeManager=e)}}}function TK(e){class t extends e{}return GW([fK(QU,{optional:!0})],t.prototype,"visible",2),t}function RK(e){class t extends e{}return GW([fK(JU,{optional:!0})],t.prototype,"fill",2),GW([fK(dK,{optional:!0})],t.prototype,"fillOpacity",2),t}function PK(e){class t extends e{}return GW([fK(JU,{optional:!0})],t.prototype,"stroke",2),GW([fK(dK,{optional:!0})],t.prototype,"strokeOpacity",2),GW([fK(rK,{optional:!0})],t.prototype,"strokeWidth",2),t}function zK(e){class t extends e{constructor(){super(...arguments),this.lineCap=void 0,this.computedLineDash=void 0}}return GW([fK(oK,{optional:!0})],t.prototype,"lineDash",2),GW([fK(rK,{optional:!0})],t.prototype,"lineDashOffset",2),GW([fK(aK,{optional:!0})],t.prototype,"lineStyle",2),t}function jK(e){class t extends e{constructor(){super(...arguments),this.fontSize=12,this.fontFamily="Verdana, sans-serif"}}return GW([fK(tK,{optional:!0})],t.prototype,"fontStyle",2),GW([fK(iK,{optional:!0})],t.prototype,"fontWeight",2),GW([fK(cK)],t.prototype,"fontSize",2),GW([fK(uK)],t.prototype,"fontFamily",2),GW([fK(JU,{optional:!0})],t.prototype,"color",2),t}function BK(e,t){if(null==e.start||null==e.end)return;const i=$K(e.start,t),n=$K(e.end,t);return null!=i&&null!=n?{x1:i.x,y1:i.y,x2:n.x,y2:n.y}:void 0}function $K(e,t){return{x:FK(e.x,t.xAxis),y:FK(e.y,t.yAxis)}}function FK(e,t){if(null==e)return 0;const i=(t.scaleBandwidth()??0)/2;return t.scaleConvert(e)+i}function _K(e,t){return{x:HK(e.x,t.xAxis),y:HK(e.y,t.yAxis)}}function HK(e,t){const i=(t.scaleBandwidth()??0)/2;return t.continuous?t.scaleInvert(e-i):t.scaleInvertNearest(e-i)}GW([fK(uK)],MK.prototype,"label",2),GW([fK(pK(["top","inside","bottom"]),{optional:!0})],MK.prototype,"position",2),GW([fK(pK(["left","center","right"]),{optional:!0})],MK.prototype,"alignment",2);var{BaseProperties:WK}=MW,GK=class extends(AK(kK(DK(WK)))){constructor(){super(...arguments),this.snapToAngle=45}isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){}getDefaultOpacity(e){}},{STRING:VK,Validate:UK}=MW,KK=class extends(LK(EK(jK(GK)))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){return this.color}getDefaultOpacity(e){}getPlaceholderColor(){}getPadding(){const{padding:e=0}=this;return{top:e,right:e,bottom:e,left:e}}getText(){const e=0==this.text.length;let t=this.text;return e&&(t=this.placeholderText??"",this.localeManager&&(t=this.localeManager.t(t))),{text:t,isPlaceholder:e}}getTextInputCoords(e,t){return $K(this.end,e)}getTextPosition(){return this.position}};GW([UK(VK)],KK.prototype,"text",2);var{STRING:YK,Validate:XK,isObject:ZK}=MW,{Color:qK}=SW,QK={top:6,right:12,bottom:9,left:12},JK=class extends(RK(PK(KK))){constructor(){super(...arguments),this.type="callout",this.position="bottom",this.alignment="left"}static is(e){return ZK(e)&&"callout"===e.type}getDefaultColor(e){switch(e){case"fill-color":return this.fill;case"line-color":return this.stroke;default:return this.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;default:return}}getPlaceholderColor(){const{r:e,g:t,b:i}=qK.fromString(this.color??"#888888");return new qK(e,t,i,.66).toString()}getPadding(){const{padding:e}=this;return null==e?{...QK}:{top:e,right:e,bottom:e,left:e}}getTextInputCoords(e,t){const i=super.getTextInputCoords(e,t),n=this.getPadding(),o="number"===typeof n?n:n?.left??0,a="number"===typeof n?n:n?.bottom??0;return{x:i.x+o,y:i.y-a}}};GW([XK(YK)],JK.prototype,"type",2);var{STRING:eY,BaseProperties:tY,Validate:iY}=MW,nY=class extends(AK(wK(DK(EK(jK(tY)))))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){return this.color}getDefaultOpacity(e){}getPlaceholderColor(){}getPadding(){const{padding:e=0}=this;return{top:e,right:e,bottom:e,left:e}}getText(){const e=0==this.text.length;return{text:e?this.placeholderText??"":this.text,isPlaceholder:e}}getTextInputCoords(e,t){return $K(this,e)}getTextPosition(){return this.position}};GW([iY(eY)],nY.prototype,"text",2);var{STRING:oY,Validate:aY,isObject:rY}=MW,{Color:sY}=SW,lY=8,cY=14,dY=8,uY=14,hY=class extends(RK(PK(nY))){constructor(){super(...arguments),this.type="comment",this.position="bottom",this.alignment="left"}static is(e){return rY(e)&&"comment"===e.type}getDefaultColor(e){switch(e){case"fill-color":return this.fill;case"line-color":return this.stroke;default:return this.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;default:return}}getPlaceholderColor(){const{r:e,g:t,b:i}=sY.fromString(this.color??"#888888");return new sY(e,t,i,.66).toString()}getPadding(){const{padding:e,fontSize:t}=this;return null==e?{top:Math.max(.4*t,lY),bottom:Math.max(.4*t,dY),left:Math.max(.8*t,uY),right:Math.max(.8*t,cY)}:{top:e,right:e,bottom:e,left:e}}getTextInputCoords(e,t){const i=super.getTextInputCoords(e,t),n=this.getPadding();return{x:i.x+n.left,y:i.y-n.bottom}}};GW([aY(oY)],hY.prototype,"type",2);var{Vec2:pY}=MW;function gY(e,t){return e?"dashed":t??"solid"}function fY(e,t){switch(t){case"solid":return[];case"dashed":return[4*e,2*e];case"dotted":return[0,2*e]}}function mY(e,t,i,n){const o=gY(e,i);return t??e??fY(n??1,o)}function yY(e,t,i){const n=gY(t,i);return e??"dotted"===n?"round":void 0}var{BOOLEAN:vY,OBJECT:bY,STRING:xY,BaseProperties:SY,Validate:MY,isObject:AY}=MW,kY=class extends(PK(SY)){},wY=class extends(jK(RK(PK(SY)))){constructor(){super(...arguments),this.divider=new kY}};GW([MY(bY,{optional:!0})],wY.prototype,"divider",2);var CY=class extends(RK(PK(DK(SY)))){constructor(){super(...arguments),this.statistics=new wY}};GW([MY(bY,{optional:!0})],CY.prototype,"statistics",2);var IY=class extends(LK(IK(PK(zK(GK))))){constructor(){super(...arguments),this.direction="both",this.hasDateRange=!1,this.hasPriceRange=!1,this.statistics=new wY,this.getVolume=()=>0}getDefaultColor(e){switch(e){case"fill-color":return this.background.fill;case"line-color":return this.stroke}}getDefaultOpacity(e){switch(e){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return mY(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return yY(this.lineCap,this.lineDash,this.lineStyle)}};function DY(e){return class extends e{constructor(){super(...arguments),this.hasDateRange=!0}}}function NY(e){return class extends e{constructor(){super(...arguments),this.hasPriceRange=!0}}}function EY(e){class t extends e{constructor(){super(...arguments),this.text=new SK}getDefaultColor(e){return"text-color"===e?this.text.color:super.getDefaultColor(e)}}return GW([MY(bY,{optional:!0})],t.prototype,"text",2),t}GW([MY(bY,{optional:!0})],IY.prototype,"statistics",2);var OY=class extends(DY(EY(IY))){constructor(){super(...arguments),this.type="date-range",this.direction="horizontal"}static is(e){return AY(e)&&"date-range"===e.type}};GW([MY(xY)],OY.prototype,"type",2),GW([MY(vY,{optional:!0})],OY.prototype,"extendAbove",2),GW([MY(vY,{optional:!0})],OY.prototype,"extendBelow",2);var LY=class extends(NY(EY(IY))){constructor(){super(...arguments),this.type="price-range",this.direction="vertical"}static is(e){return AY(e)&&"price-range"===e.type}};GW([MY(xY)],LY.prototype,"type",2),GW([MY(vY,{optional:!0})],LY.prototype,"extendLeft",2),GW([MY(vY,{optional:!0})],LY.prototype,"extendRight",2);var TY=class extends(DY(NY(EY(IY)))){constructor(){super(...arguments),this.type="date-price-range",this.direction="both"}static is(e){return AY(e)&&"date-price-range"===e.type}};GW([MY(xY)],TY.prototype,"type",2);var RY=class extends(DY(NY(IY))){constructor(){super(...arguments),this.type="quick-date-price-range",this.up=new CY,this.down=new CY,this.direction="both"}static is(e){return AY(e)&&"quick-date-price-range"===e.type}};GW([MY(xY)],RY.prototype,"type",2),GW([MY(bY,{optional:!0})],RY.prototype,"up",2),GW([MY(bY,{optional:!0})],RY.prototype,"down",2);var{TextWrapper:PY,CachedTextMeasurerPool:zY}=MW,{BBox:jY}=rW,BY=1.38;function $Y(e){return{font:{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},textAlign:e.textAlign,textBaseline:"center"==e.position?"middle":e.position,lineHeight:BY,avoidOrphans:!1,textWrap:"always"}}function FY(e,t,i){return i?PY.wrapText(t,{...$Y(e),maxWidth:i}):t}function _Y(e,t,i,n){let o=n?.width??0,a=n?.height??0;if(!n){const i=null!=e.width?FY(e,t,e.width):t;({width:o,height:a}=function(e,t){const i=$Y(e),{lineMetrics:n,width:o}=zY.measureLines(t,i);return{width:o,height:n.length*(e.fontSize??14)*BY}}(e,i))}return new jY(i.x,i.y,o,a)}function HY(e,t,i,n,o){let{x:a,y:r}=o;const{visible:s=!0,fontFamily:l,fontSize:c=14,fontStyle:d,fontWeight:u,textAlign:h}=n,p=c*BY,g="center"==n.position?"middle":n.position,f=i?n.getPlaceholderColor():n.color;e.setProperties({x:a,y:r,visible:s,text:t,fill:f,fontFamily:l,fontSize:c,fontStyle:d,fontWeight:u,textAlign:h,lineHeight:p,textBaseline:g})}var{OBJECT:WY,STRING:GY,BaseProperties:VY,Validate:UY,isObject:KY}=MW,{clamp:YY}=SW,XY=class extends(RK(PK(VY))){},ZY=class extends(RK(PK(nY))){constructor(){super(...arguments),this.type="note",this.background=new XY,this.position="bottom",this.alignment="center",this.width=200}static is(e){return KY(e)&&"note"===e.type}getDefaultColor(e){switch(e){case"line-color":return this.fill;case"text-color":return this.color}}getDefaultOpacity(e){switch(e){case"line-color":return this.fillOpacity;case"text-color":return}}getPadding(){const e=this.padding??10;return{top:e,right:e,bottom:e,left:e}}getTextInputCoords(e,t){const{width:i,text:n}=this,{seriesRect:o}=e,a=super.getTextInputCoords(e,t),r=this.getPadding().top,s=_Y(this,n,a,void 0);s.x=YY(i/2,s.x,o.width-i/2);const l=s.y-30-2*r,c=s.y+11+2*r;return l-Math.max(s.height,t)-34<o.y?(s.y=c,this.position="top"):(s.y=l+r,this.position="bottom"),{x:s.x,y:s.y}}};GW([UY(GY)],ZY.prototype,"type",2),GW([UY(WY,{optional:!0})],ZY.prototype,"background",2);var{BaseProperties:qY}=MW,QY=class extends(AK(wK(DK(qY)))){isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){}getDefaultOpacity(e){}},JY=class e extends(RK(QY)){constructor(){super(...arguments),this.size=32}static is(t){return t instanceof e}getDefaultColor(e){return"fill-color"===e?this.fill:void 0}getDefaultOpacity(e){return"fill-color"===e?this.fillOpacity:void 0}},{Logger:eX}=SW;function tX(e,t,i){let n=!0;return n&&(n=nX(e,t.start,i&&`${i}[start] `)),n&&(n=nX(e,t.end,i&&`${i}[end] `)),n}function iX(e,t,i){const n="horizontal"===t.direction?e.yAxis:e.xAxis,o=oX(t.value,n);return!o&&i&&eX.warnOnce(`${i}is outside the axis domain, ignoring. - value: [${t.value}]]`),o}function nX(e,t,i){if(null==t.x||null==t.y)return i&&eX.warnOnce(`${i}requires both an [x] and [y] property, ignoring.`),!1;const n=oX(t.x,e.xAxis),o=oX(t.y,e.yAxis);if(!n||!o){let e="x & y domains";return n&&(e="y domain"),o&&(e="x domain"),i&&eX.warnOnce(`${i}is outside the ${e}, ignoring. - x: [${t.x}], y: ${t.y}]`),!1}return!0}function oX(e,t){const i=t.scaleDomain();return!i||!xW.OrdinalTimeScale.is(t.scale)||e>=i[0]&&e<=i.at(-1)}function aX(e){return null!=e?.x&&null!=e?.y}var{OBJECT:rX,STRING:sX,BaseProperties:lX,Validate:cX,isObject:dX}=MW,uX=class extends(AK(CK(DK(NK(PK(zK(lX))))))){constructor(){super(...arguments),this.direction="horizontal",this.type="horizontal-line",this.text=new SK}static is(e){return dX(e)&&"horizontal-line"===e.type}isValidWithContext(e,t){return super.isValid(t)&&iX(e,this,t)}getDefaultColor(e){return this.stroke}getDefaultOpacity(e){return this.strokeOpacity}getLineDash(){return mY(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return yY(this.lineCap,this.lineDash,this.lineStyle)}};GW([cX(sX)],uX.prototype,"type",2),GW([cX(rX,{optional:!0})],uX.prototype,"text",2);var hX=class extends(AK(CK(DK(NK(PK(zK(lX))))))){constructor(){super(...arguments),this.direction="vertical",this.type="vertical-line",this.text=new SK}static is(e){return dX(e)&&"vertical-line"===e.type}isValidWithContext(e,t){return super.isValid(t)&&iX(e,this,t)}getDefaultColor(e){return this.stroke}getDefaultOpacity(e){return this.strokeOpacity}getLineDash(){return mY(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return yY(this.lineCap,this.lineDash,this.lineStyle)}};GW([cX(sX)],hX.prototype,"type",2),GW([cX(rX,{optional:!0})],hX.prototype,"text",2);var{NUMBER:pX,OBJECT:gX,STRING:fX,BaseProperties:mX,Validate:yX,isObject:vX}=MW,bX=class extends(AK(IK(kK(DK(OK(PK(zK(mX)))))))){constructor(){super(...arguments),this.type="disjoint-channel",this.text=new MK,this.snapToAngle=45}static is(e){return vX(e)&&"disjoint-channel"===e.type}get bottom(){const e={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return"number"===typeof e.start.y&&"number"===typeof e.end.y?(e.start.y-=this.startHeight,e.end.y-=this.endHeight):SW.Logger.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),e}isValidWithContext(e,t){return super.isValid(t)&&tX(e,this,t)&&tX(e,this.bottom,t)}getDefaultColor(e){switch(e){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return mY(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return yY(this.lineCap,this.lineDash,this.lineStyle)}};GW([yX(fX)],bX.prototype,"type",2),GW([yX(pX)],bX.prototype,"startHeight",2),GW([yX(pX)],bX.prototype,"endHeight",2),GW([yX(gX,{optional:!0})],bX.prototype,"text",2);var{OBJECT:xX,STRING:SX,Validate:MX,isObject:AX}=MW,kX=class extends(LK(function(e){return class extends e{}}(OK(PK(zK(GK)))))){constructor(){super(...arguments),this.text=new SK}isValidWithContext(e,t){return super.isValid(t)&&tX(e,this,t)}getDefaultColor(e){switch(e){case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(e){return this.strokeOpacity}getLineDash(){return mY(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return yY(this.lineCap,this.lineDash,this.lineStyle)}};GW([MX(xX,{optional:!0})],kX.prototype,"text",2);var wX=class extends kX{constructor(){super(...arguments),this.type="arrow",this.endCap="arrow"}static is(e){return AX(e)&&"arrow"===e.type}};GW([MX(SX)],wX.prototype,"type",2);var CX=class extends kX{constructor(){super(...arguments),this.type="line"}static is(e){return AX(e)&&"line"===e.type}};GW([MX(SX)],CX.prototype,"type",2);var{NUMBER:IX,STRING:DX,OBJECT:NX,BaseProperties:EX,Validate:OX,isObject:LX}=MW,TX=class extends(AK(IK(kK(DK(OK(PK(zK(EX)))))))){constructor(){super(...arguments),this.type="parallel-channel",this.middle=new yK,this.text=new MK,this.snapToAngle=45}static is(e){return LX(e)&&"parallel-channel"===e.type}get bottom(){const e={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return"number"===typeof e.start.y&&"number"===typeof e.end.y?(e.start.y-=this.height,e.end.y-=this.height):SW.Logger.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),e}isValidWithContext(e,t){return super.isValid(t)&&tX(e,this,t)&&tX(e,this.bottom,t)}getDefaultColor(e){switch(e){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return mY(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return yY(this.lineCap,this.lineDash,this.lineStyle)}};GW([OX(DX)],TX.prototype,"type",2),GW([OX(IX)],TX.prototype,"height",2),GW([OX(NX,{optional:!0})],TX.prototype,"middle",2),GW([OX(NX,{optional:!0})],TX.prototype,"text",2);var{STRING:RX,Validate:PX,isObject:zX}=MW,jX=class extends nY{constructor(){super(...arguments),this.type="text",this.position="bottom"}static is(e){return zX(e)&&"text"===e.type}};function BX(e){return RY.is(e)}function $X(e){return CX.is(e)||uX.is(e)||hX.is(e)||wX.is(e)}function FX(e){return bX.is(e)||TX.is(e)}function _X(e){return JK.is(e)||hY.is(e)||ZY.is(e)||jX.is(e)}function HX(e){return OY.is(e)||LY.is(e)||TY.is(e)||RY.is(e)}GW([PX(RX)],jX.prototype,"type",2);var{isObject:WX}=MW;function GX(e){return _X(e)&&!ZY.is(e)}function VX(e){return $X(e)||FX(e)||HX(e)&&!RY.is(e)}function UX(e){return $X(e)||FX(e)||HX(e)||JK.is(e)||ZY.is(e)}function KX(e){return FX(e)||HX(e)||JK.is(e)||hY.is(e)||JY.is(e)}function YX(e){return _X(e)&&!ZY.is(e)}function XX(e){return($X(e)||FX(e)||HX(e))&&!BX(e)&&WX(e.text)}function ZX(e,t){"fontSize"in e&&(e.fontSize=t),XX(e)&&(e.text.fontSize=t)}function qX(e,t){const i=t?.strokeWidth??e.strokeWidth??1,n=t?.type??e.lineStyle,o=n??gY(e.lineDash,n),a=fY(i,o);e.strokeWidth=i,e.computedLineDash=a,e.lineStyle=o,e.lineCap="dotted"===o?"round":void 0}function QX(e,t,i,n,o){switch(t){case"fill-color":"fill"in e&&(e.fill=n),"fillOpacity"in e&&(e.fillOpacity=o),"background"in e&&(e.background.fill=n,e.background.fillOpacity=o);break;case"line-color":"axisLabel"in e&&(e.axisLabel.fill=n,e.axisLabel.fillOpacity=o,e.axisLabel.stroke=n,e.axisLabel.strokeOpacity=o),"fill"in e&&"fillOpacity"in e&&function(e){return ZY.is(e)}(e)?(e.fill=n,e.fillOpacity=o):("stroke"in e&&(e.stroke=n),"strokeOpacity"in e&&(e.strokeOpacity=o));break;case"text-color":"color"in e&&(e.color=i),XX(e)&&(e.text.color=n)}}var JX=class{constructor(){this.mementoOriginatorKey="annotation-defaults",this.colors=new Map(Object.values(KU).map((e=>[e,new Map([["line-color",void 0],["fill-color",void 0],["text-color",void 0]])]))),this.fontSizes=new Map([["callout",void 0],["comment",void 0],["text",void 0],["arrow",void 0],["line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineStyles=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextAlignments=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextPositions=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]])}createMemento(){return{colors:SW.deepClone(this.colors),fontSizes:SW.deepClone(this.fontSizes),lineStyles:SW.deepClone(this.lineStyles),lineTextAlignments:SW.deepClone(this.lineTextAlignments),lineTextPositions:SW.deepClone(this.lineTextPositions)}}guardMemento(e){return!0}restoreMemento(e,t,i){this.colors=SW.deepClone(i.colors),this.fontSizes=SW.deepClone(i.fontSizes),this.lineStyles=SW.deepClone(i.lineStyles),this.lineTextAlignments=SW.deepClone(i.lineTextAlignments),this.lineTextPositions=SW.deepClone(i.lineTextPositions)}setDefaultColor(e,t,i,n,o){this.colors.get(e)?.set(t,[i,n,o])}setDefaultFontSize(e,t){this.fontSizes.set(e,t)}setDefaultLineStyleType(e,t){const i=this.lineStyles.get(e);i?i.type=t:this.lineStyles.set(e,{type:t})}setDefaultLineStyleWidth(e,t){const i=this.lineStyles.get(e);i?i.strokeWidth=t:this.lineStyles.set(e,{strokeWidth:t})}setDefaultLineTextAlignment(e,t){this.lineTextAlignments.set(e,t)}setDefaultLineTextPosition(e,t){this.lineTextPositions.set(e,t)}applyDefaults(e){for(const[t,i]of this.colors)if(e.type===t)for(const[n,[o,a,r]=[]]of i)o&&a&&null!=r&&QX(e,n,o,a,r);for(const[t,i]of this.fontSizes)e.type===t&&null!=i&&ZX(e,i);for(const[t,i]of this.lineStyles)e.type===t&&null!=i&&qX(e,i);for(const[t,i]of this.lineTextPositions)e.type===t&&null!=i&&(e.text.position=i);for(const[t,i]of this.lineTextAlignments)e.type===t&&null!=i&&(e.text.alignment=i)}},{StateMachine:eZ,Vec2:tZ}=MW,iZ=class extends eZ{constructor(e){const t=t=>{let{shiftKey:i,context:n}=t;e.setSnapping(i);const o=e.datum(),a=e.getHoverCoords();a&&(e.node()?.drag(o,a,n,i),e.update())};super("idle",{idle:{dragStart:{target:"dragging",action:t=>{let{offset:i,context:n}=t;this.hasMoved=!1,this.dragStart=i,e.node()?.dragStart(e.datum(),i,n)}}},dragging:{keyDown:t,keyUp:t,drag:t=>{let{offset:i,context:n}=t;this.hasMoved=tZ.lengthSquared(tZ.sub(i,this.dragStart))>0;const o=e.datum(),a=e.getSnapping();e.node()?.drag(o,i,n,a),e.update()},dragEnd:{target:eZ.parent,action:()=>{e.node()?.stopDragging(),e.stopInteracting(),this.hasMoved&&e.recordAction("Move annotation"),e.update()}}}}),this.debug=SW.Debug.create(!0,"annotations"),this.hasMoved=!1}},{STRING:nZ,Validate:oZ,isObject:aZ}=MW,rZ=class extends JY{constructor(){super(...arguments),this.type="arrow-down"}static is(e){return aZ(e)&&"arrow-down"===e.type}};GW([oZ(nZ)],rZ.prototype,"type",2);var sZ=class e extends rW.Group{constructor(){super(...arguments),this.active=!1,this.locked=!1,this.visible=!1,this.zIndex=1}drag(e){const{handle:t,locked:i}=this;return i?{point:{x:t.x,y:t.y},offset:{x:0,y:0}}:{point:e,offset:{x:e.x-t.x,y:e.y-t.y}}}toggleActive(t){this.active=t,t||(this.handle.strokeWidth=e.INACTIVE_STROKE_WIDTH)}toggleHovered(e){this.glow.visible=!this.locked&&e,this.glow.dirtyPath=!0}toggleDragging(e){this.locked||(this.handle.visible=!e,this.glow.visible=this.glow.visible&&!e,this.handle.dirtyPath=!0,this.glow.dirtyPath=!0)}toggleLocked(e){this.locked=e}getCursor(){}containsPoint(e,t){return this.handle.containsPoint(e,t)}};sZ.INACTIVE_STROKE_WIDTH=2;var lZ=sZ,cZ=class e extends lZ{constructor(){super(),this.handle=new rW.Circle,this.glow=new rW.Circle,this.append([this.handle]),this.handle.size=e.HANDLE_SIZE,this.handle.strokeWidth=lZ.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2}update(e){this.handle.setProperties({...e,strokeWidth:lZ.INACTIVE_STROKE_WIDTH})}drag(e){return{point:e,offset:{x:0,y:0}}}};cZ.HANDLE_SIZE=7,cZ.GLOW_SIZE=9;var dZ=cZ,uZ=class e extends lZ{constructor(){super(),this.handle=new rW.Rect,this.glow=new rW.Rect,this.gradient="horizontal",this.append([this.glow,this.handle]),this.handle.cornerRadius=e.CORNER_RADIUS,this.handle.width=e.HANDLE_SIZE,this.handle.height=e.HANDLE_SIZE,this.handle.strokeWidth=lZ.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.cornerRadius=e.CORNER_RADIUS,this.glow.width=e.GLOW_SIZE,this.glow.height=e.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(t){if(super.toggleLocked(t),t){const t=(e.HANDLE_SIZE-dZ.HANDLE_SIZE)/2;this.handle.cornerRadius=1,this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.x+=t,this.handle.y+=t,this.handle.width=dZ.HANDLE_SIZE,this.handle.height=dZ.HANDLE_SIZE,this.glow.width=dZ.GLOW_SIZE,this.glow.height=dZ.GLOW_SIZE}else this.handle.cornerRadius=e.CORNER_RADIUS,this.handle.width=e.HANDLE_SIZE,this.handle.height=e.HANDLE_SIZE,this.glow.width=e.GLOW_SIZE,this.glow.height=e.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles)}update(t){if(this.cachedStyles={...t},this.active||delete t.strokeWidth,this.locked){delete t.fill,delete t.strokeWidth;const i=(e.HANDLE_SIZE-dZ.HANDLE_SIZE)/2;t.x-=i,t.y-=i,this.cachedStyles.x-=i,this.cachedStyles.y-=i}this.handle.setProperties(t),this.glow.setProperties({...t,x:(t.x??this.glow.x)-2,y:(t.y??this.glow.y)-2,strokeWidth:0,fill:t.stroke})}drag(e){return this.locked?{point:e,offset:{x:0,y:0}}:"vertical"===this.gradient?{point:{x:e.x,y:this.handle.y},offset:{x:e.x-this.handle.x,y:0}}:{point:{x:this.handle.x,y:e.y},offset:{x:0,y:e.y-this.handle.y}}}getCursor(){if(!this.locked)return"vertical"===this.gradient?"col-resize":"row-resize"}};uZ.HANDLE_SIZE=12,uZ.GLOW_SIZE=16,uZ.CORNER_RADIUS=4;var hZ=uZ,pZ=class e extends lZ{constructor(){super(),this.handle=new rW.Circle,this.glow=new rW.Circle,this.append([this.glow,this.handle]),this.handle.size=e.HANDLE_SIZE,this.handle.strokeWidth=lZ.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.size=e.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(t){super.toggleLocked(t),t?(this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.size=dZ.HANDLE_SIZE,this.glow.size=dZ.GLOW_SIZE):(this.handle.size=e.HANDLE_SIZE,this.glow.size=e.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles))}update(e){this.cachedStyles={...e},this.active||delete e.strokeWidth,this.locked&&(delete e.fill,delete e.strokeWidth),this.handle.setProperties(e),this.glow.setProperties({...e,strokeWidth:0,fill:e.stroke})}getCursor(){return"pointer"}};pZ.HANDLE_SIZE=11,pZ.GLOW_SIZE=17;var gZ=pZ,{ZIndexMap:fZ,isObject:mZ}=MW,yZ=class extends rW.Group{constructor(){super(...arguments),this.name="AnnotationScene",this.zIndex=fZ.CHART_ANNOTATION}static isCheck(e,t){return mZ(e)&&Object.hasOwn(e,"type")&&e.type===t}toggleHovered(e){this.toggleHandles(e)}*nonHandleChildren(){for(const e of this.children())e instanceof lZ||(yield e)}computeBBoxWithoutHandles(){return rW.Transformable.toCanvas(this,rW.Group.computeChildrenBBox(this.nonHandleChildren()))}},{Vec2:vZ}=MW,bZ=class extends yZ{constructor(){super(...arguments),this.handle=new gZ,this.anchor={x:0,y:0,position:"above"}}update(e,t){const i=$K(e,t);this.updateHandle(e,i),this.anchor=this.updateAnchor(e,i,t)}dragStart(e,t,i){this.dragState={offset:t,handle:$K(e,i)}}drag(e,t,i){const{dragState:n}=this;if(e.locked||!n)return;const o=_K(vZ.add(n.handle,vZ.sub(t,n.offset)),i);e.x=o.x,e.y=o.y}translate(e,t,i){const n=_K(vZ.add($K(e,i),t),i);nX(i,n)&&(e.x=n.x,e.y=n.y)}toggleHandles(e){this.handle.visible=Boolean(e),this.handle.toggleHovered("handle"===this.activeHandle)}toggleActive(e){this.toggleHandles(e),this.handle.toggleActive(e)}stopDragging(){this.handle.toggleDragging(!1)}copy(e,t,i){const n=$K(e,i),o=_K({x:n.x-30,y:n.y-30},i);return t.x=o.x,t.y=o.y,t}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(e,t){const{handle:i}=this;return this.activeHandle=void 0,!!i.containsPoint(e,t)&&(this.activeHandle="handle",!0)}getNodeAtCoords(e,t){if(this.handle.containsPoint(e,t))return"handle"}updateHandle(e,t,i){const{x:n,y:o}=this.getHandleCoords(e,t,i),a=this.getHandleStyles(e);this.handle.update({...a,x:n,y:o}),this.handle.toggleLocked(e.locked??!1)}updateAnchor(e,t,i){const n=this.getHandleCoords(e,t);return{x:n.x+i.seriesRect.x,y:n.y+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(e,t,i){return{x:t.x,y:t.y}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}},xZ=class extends bZ{constructor(){super(),this.append([this.handle])}update(e,t){super.update(e,t);const i=$K(e,t);this.updateShape(e,i)}updateShape(e,t){this.updateShapeStyles(e),this.updateShapePath(e,t)}updateShapeStyles(e){const{shape:t}=this;t.fill=e.fill,t.fillOpacity=e.fillOpacity??1}updateShapePath(e,t){const{shape:i}=this;i.x=t.x,i.y=t.y,i.size=e.size}containsPoint(e,t){return super.containsPoint(e,t)||this.shape.containsPoint(e,t)}getNodeAtCoords(e,t){return this.shape.containsPoint(e,t)?"shape":super.getNodeAtCoords(e,t)}},SZ=class extends xZ{constructor(){super(),this.type="arrow-down",this.shape=new rW.ArrowDown,this.append([this.shape])}static is(e){return yZ.isCheck(e,"arrow-down")}updateAnchor(e,t,i){const n=super.updateAnchor(e,t,i);return n.y-=e.size,n}getHandleCoords(e,t){const i=gZ.HANDLE_SIZE/2,n=super.getHandleCoords(e,t);return n.y+=i,n}},{StateMachine:MZ}=MW,AZ=class extends MZ{constructor(e){const t=t=>{let{point:i}=t;const n=this.createDatum(),{x:o,y:a}=i();n.set({x:o,y:a}),e.create(n)};super("start",{start:{click:{target:"waiting-first-render",action:t},drag:{target:"waiting-first-render",action:t},cancel:MZ.parent,reset:MZ.parent},"waiting-first-render":{render:{target:MZ.parent,action:()=>{e.node()?.toggleActive(!0),e.showAnnotationOptions(),e.update()}}}}),this.debug=SW.Debug.create(!0,"annotations")}},kZ=class extends AZ{createDatum(){return new rZ}},wZ={type:"arrow-down",datum:rZ,scene:SZ,isDatum:rZ.is,translate:(e,t,i,n)=>{rZ.is(t)&&SZ.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(rZ.is(t)&&rZ.is(i)&&SZ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{rZ.is(t)&&SZ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getNode:n}=t;return new kZ({...e,create:i("arrow-down"),node:n(SZ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(rZ.is),node:n(SZ.is)})}},{STRING:CZ,Validate:IZ,isObject:DZ}=MW,NZ=class extends JY{constructor(){super(...arguments),this.type="arrow-up"}static is(e){return DZ(e)&&"arrow-up"===e.type}};GW([IZ(CZ)],NZ.prototype,"type",2);var EZ=class extends xZ{constructor(){super(),this.type="arrow-up",this.shape=new rW.ArrowUp,this.append([this.shape])}static is(e){return yZ.isCheck(e,"arrow-up")}getHandleCoords(e,t){const i=gZ.HANDLE_SIZE/2,n=super.getHandleCoords(e,t);return n.y-=i,n}},OZ=class extends AZ{createDatum(){return new NZ}},LZ={type:"arrow-up",datum:NZ,scene:EZ,isDatum:NZ.is,translate:(e,t,i,n)=>{NZ.is(t)&&EZ.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(NZ.is(t)&&NZ.is(i)&&EZ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{NZ.is(t)&&EZ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getNode:n}=t;return new OZ({...e,create:i("arrow-up"),node:n(EZ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(NZ.is),node:n(EZ.is)})}},{toRadians:TZ}=rW;function RZ(e,t,i){let{x:n,y:o}=e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const{x:r,y:s}=t,l=Math.sqrt(Math.pow(n-r,2)+Math.pow(o-s,2)),c=Math.atan2(o-s,n-r),d=TZ(i),u=Math.round(c/d)*d;return{x:r+l*Math.cos(u),y:s+l*Math.sin(u)*a}}var{Vec2:PZ}=MW,zZ=class extends yZ{extendLine(e,t,i){let{x1:n,y1:o,x2:a,y2:r}=e;const s={x1:n,y1:o,x2:a,y2:r};if(!t.extendStart&&!t.extendEnd)return s;const[l,c]=function(e,t){const[i,n]=pY.from(e),o=t.height,a=pY.gradient(n,i,o),r=pY.intercept(n,a,o),s=[{x:i.x,y:o??0},{x:i.x,y:null==o?t.height:o-t.height}];if(a===1/0)return s;let l=[pY.intersectAtY(a,r,0,o),pY.intersectAtY(a,r,t.height,o),pY.intersectAtX(a,r,0,o),pY.intersectAtX(a,r,t.width,o)];return l=l.filter((e=>e.x>=t.x&&e.x<=t.width&&e.y>=t.y&&e.y<=t.height)).sort(((e,t)=>e.x===t.x?0:e.x<t.x?-1:1)),2!==l.length?s:l}(s,i.yAxis.bounds),d=s.x2<s.x1,u=s.y1>=s.y2,h=s.x2===s.x1;return t.extendEnd&&(h?s.y2=u?c.y:l.y:(s.x2=d?l.x:c.x,s.y2=d?l.y:c.y)),t.extendStart&&(h?s.y1=u?l.y:c.y:(s.x1=d?c.x:l.x,s.y1=d?c.y:l.y)),s}dragStart(e,t,i){this.dragState={offset:t,start:$K(e.start,i),end:$K(e.end,i)}}drag(e,t,i,n){e.locked||(this.activeHandle?this.dragHandle(e,t,i,n):this.dragAll(e,t,i))}dragAll(e,t,i){const{dragState:n}=this;n&&this.translatePoints({datum:e,start:n.start,end:n.end,translation:PZ.sub(t,n.offset),context:i})}translatePoints(e){let{datum:t,start:i,end:n,translation:o,context:a}=e;const r=PZ.add(i,o),s=PZ.add(n,o),l=_K(r,a),c=_K(s,a),{xAxis:d,yAxis:u}=a,h=(e,t,i)=>t>=e&&t<=i,p=[r,s].concat(...this.getOtherCoords(t,r,s,a));p.every((e=>h(d.bounds.x,e.x,d.bounds.x+d.bounds.width)))&&(t.start.x=l.x,t.end.x=c.x),p.every((e=>h(u.bounds.y,e.y,u.bounds.y+u.bounds.height)))&&(t.start.y=l.y,t.end.y=c.y)}translate(e,t,i){this.translatePoints({datum:e,start:$K(e.start,i),end:$K(e.end,i),translation:t,context:i})}copy(e,t,i){const n=BK(e,i);if(!n)return;const o=this.computeBBoxWithoutHandles();return this.translatePoints({datum:t,start:{x:n.x1,y:n.y1},end:{x:n.x2,y:n.y2},translation:{x:-o.width/2,y:-o.height/2},context:i}),t}getOtherCoords(e,t,i,n){return[]}},{Vec4:jZ}=MW,BZ=class extends zZ{constructor(){super(...arguments),this.start=new gZ,this.end=new gZ,this.anchor={x:0,y:0,position:"above"}}update(e,t){const i=BK(e,t);null!=i&&(this.updateHandles(e,i),this.updateAnchor(e,i,t))}toggleHandles(e){if("boolean"===typeof e)this.start.visible=e,this.end.visible=e;else for(const[t,i]of Object.entries(e))this[t].visible=i;this.start.toggleHovered("start"===this.activeHandle),this.end.toggleHovered("end"===this.activeHandle)}toggleActive(e){this.toggleHandles(e),this.start.toggleActive(e),this.end.toggleActive(e)}dragHandle(e,t,i,n){const{activeHandle:o,dragState:a}=this;if(!o||!a)return;this[o].toggleDragging(!0);const r=n?this.snapToAngle(e,t,i):_K(this[o].drag(t).point,i);r&&nX(i,r)&&(e[o].x=r.x,e[o].y=r.y)}snapToAngle(e,t,i){const{activeHandle:n}=this,o=["start","end"].find((e=>e!==n));if(!n||!o)return;this[n].toggleDragging(!0);return _K(RZ(t,$K(e[o],i),e.snapToAngle),i)}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(e,t){const{start:i,end:n}=this;return this.activeHandle=void 0,i.containsPoint(e,t)?(this.activeHandle="start",!0):!!n.containsPoint(e,t)&&(this.activeHandle="end",!0)}getNodeAtCoords(e,t){if(this.start.containsPoint(e,t)||this.end.containsPoint(e,t))return"handle"}updateHandles(e,t,i){this.start.update({...this.getHandleStyles(e,"start"),...this.getHandleCoords(e,t,"start")}),this.end.update({...this.getHandleStyles(e,"end"),...this.getHandleCoords(e,t,"end",i)}),this.start.toggleLocked(e.locked??!1),this.end.toggleLocked(e.locked??!1)}updateAnchor(e,t,i,n){this.anchor={x:t.x1+i.seriesRect.x,y:t.y1+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(e,t,i,n){return"start"===i?jZ.start(t):jZ.end(t)}getHandleStyles(e,t){return{fill:e.handle.fill,stroke:e.handle.stroke,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}},{Vec2:$Z,Vec4:FZ}=MW,_Z=class extends BZ{constructor(){super(...arguments),this.label=new rW.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(e){this.textInputBBox=e,this.markDirty(rW.RedrawType.MINOR)}update(e,t){const i=BK(e,t);if(null==i)return;const n=this.getTextBBox(e,i);this.updateLabel(e,n,i),this.updateHandles(e,i,n),this.updateShape(e,n,i),this.updateAnchor(e,i,t,n)}dragHandle(e,t,i,n){const{activeHandle:o,dragState:a}=this;if(!o||!a)return;this[o].toggleDragging(!0);const r=$Z.add(a.end,$Z.sub(t,a.offset)),s=n?this.snapToAngle(e,r,i):_K(r,i);s&&nX(i,s)&&(e[o].x=s.x,e[o].y=s.y)}containsPoint(e,t){const{label:i}=this;return super.containsPoint(e,t)||i.containsPoint(e,t)}getNodeAtCoords(e,t){return this.label.containsPoint(e,t)?"text":super.getNodeAtCoords(e,t)}getTextBBox(e,t){const{text:i}=e.getText();return _Y(e,i,FZ.end(t),this.textInputBBox)}updateLabel(e,t,i){const{text:n,isPlaceholder:o}=e.getText();HY(this.label,n,o,e,this.getLabelCoords(e,t,i))}updateShape(e,t,i){}getLabelCoords(e,t,i){return FZ.end(i)}getHandleStyles(e,t){return{...super.getHandleStyles(e,t),stroke:e.handle.stroke??e.color}}},{drawCorner:HZ}=rW,WZ=class extends _Z{constructor(){super(),this.type="callout",this.shape=new rW.Path,this.append([this.shape,this.label,this.start,this.end])}static is(e){return yZ.isCheck(e,"callout")}drag(e,t,i,n){e.locked||("end"===this.activeHandle?this.dragHandle(e,t,i,n):this.dragAll(e,t,i))}getLabelCoords(e,t,i){const n=e.getPadding(),{bodyBounds:o={x:0,y:0,width:0,height:0}}=this.getDimensions(e,t,i)??{};return{x:o.x+n.left,y:o.y-n.bottom}}getHandleStyles(e,t){return"start"===t?{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}:{fill:void 0,strokeWidth:0}}updateAnchor(e,t,i,n){const{bodyBounds:o}=this.getDimensions(e,n,t)??{},a=o??n;this.anchor={x:a.x+i.seriesRect.x,y:a.y+i.seriesRect.y-a.height,position:this.anchor.position}}updateShape(e,t,i){const{shape:n}=this;n.fill=e.fill,n.fillOpacity=e.fillOpacity??1,n.stroke=e.stroke,n.strokeWidth=e.strokeWidth??1,n.strokeOpacity=e.strokeOpacity??1;const{tailPoint:o,bodyBounds:a}=this.getDimensions(e,t,i)??{};o&&a&&this.updatePath(o,a)}updatePath(e,t){const{x:i,y:n}=e,{x:o,y:a,width:r,height:s}=t,l=a-s,c=o+r,d=this.calculateCalloutPlacement({x:i,y:n},t),u=[{coordinates:{x0:o,x1:o+8,y0:l+8,y1:l,cx:"topLeft"===d?i:o+8,cy:"topLeft"===d?n:l+8},type:"topLeft"===d?"calloutCorner":"corner"},{coordinates:{x0:o+8,x1:c-8,y0:l,y1:l,cx:i,cy:n},type:"top"===d?"calloutSide":"side"},{coordinates:{x0:c-8,x1:c,y0:l,y1:l+8,cx:"topRight"===d?i:c-8,cy:"topRight"===d?n:l+8},type:"topRight"===d?"calloutCorner":"corner"},{coordinates:{x0:c,x1:c,y0:l+8,y1:a-8,cx:i,cy:n},type:"right"===d?"calloutSide":"side"},{coordinates:{x0:c,x1:c-8,y0:a-8,y1:a,cx:"bottomRight"===d?i:c-8,cy:"bottomRight"===d?n:a-8},type:"bottomRight"===d?"calloutCorner":"corner"},{coordinates:{x0:c-8,x1:o+8,y0:a,y1:a,cx:i,cy:n},type:"bottom"===d?"calloutSide":"side"},{coordinates:{x0:o+8,x1:o,y0:a,y1:a-8,cx:"bottomLeft"===d?i:o+8,cy:"bottomLeft"===d?n:a-8},type:"bottomLeft"===d?"calloutCorner":"corner"},{coordinates:{x0:o,x1:o,y0:a-8,y1:l+8,cx:i,cy:n},type:"left"===d?"calloutSide":"side"}],{path:h}=this.shape;h.clear(),h.moveTo(o,l+8),u.forEach((e=>{let{coordinates:t,type:i}=e;this.drawPath(h,t,8,i)})),h.closePath()}drawPath(e,t,i,n){let{x0:o,y0:a,x1:r,y1:s,cx:l,cy:c}=t;switch(n){case"calloutCorner":e.lineTo(l,c),e.lineTo(r,s);break;case"corner":HZ(e,{x0:o,x1:r,y0:a,y1:s,cx:l,cy:c},i,!1);break;case"calloutSide":if(o!==r){const t=o>r?-1:1,i=Math.min(o,r)+Math.abs(r-o)/2;e.lineTo(i-6*t,a),e.lineTo(l,c),e.lineTo(i+6*t,a),e.lineTo(r,s)}else{const t=a>s?-1:1,i=Math.min(a,s)+Math.abs(a-s)/2;e.lineTo(o,i-6*t),e.lineTo(l,c),e.lineTo(o,i+6*t),e.lineTo(r,s)}break;default:e.lineTo(r,s)}}calculateCalloutPlacement(e,t){const i=t.x+t.width,n=t.y-t.height;let o,a;return e.x>i?o="right":e.x<t.x&&(o="left"),e.y>t.y?a="bottom":e.y<n&&(a="top"),o&&a?`${a}${o[0].toUpperCase()}${o.substring(1)}`:a??o}getDimensions(e,t,i){const{fontSize:n}=e,o=e.getPadding(),a=o.left+o.right,r=o.top+o.bottom,s=t.width+a,l=Math.max(t.height+r,n+r);return{tailPoint:{x:i.x1,y:i.y1},bodyBounds:{x:t.x,y:t.y,width:s,height:l}}}containsPoint(e,t){const{start:i,end:n,shape:o}=this;if(this.activeHandle=void 0,i.containsPoint(e,t))return this.activeHandle="start",!0;const a=n.containsPoint(e,t)||o.containsPoint(e,t);return a&&(this.activeHandle="end"),a}};function GZ(e){let{key:t}=e;return"Escape"===t}function VZ(e){let{key:t,shiftKey:i}=e;return!i&&"Enter"===t}var{StateMachine:UZ}=MW,KZ=class extends UZ{constructor(e){const t=t=>{let{point:i}=t;const n=this.createDatum(),o=i();n.set({start:o,end:o,visible:!0}),e.create(n)},i=t=>{let{point:i}=t;e.datum()?.set({end:i()}),e.node()?.toggleActive(!0),e.node()?.toggleHandles({end:!1}),e.update()},n=()=>{e.showAnnotationOptions(),e.node()?.toggleHandles({end:!0})},o=()=>{e.delete()},a=t=>{let{textInputValue:i,bbox:n}=t;if(null!=i&&i.length>0){const t=e.datum();if(!_X(t))return;const o=FY(t,i,n.width);t?.set({text:o}),e.update(),e.recordAction(`Create ${e.node()?.type} annotation`)}else e.delete()};super("start",{start:{click:{target:"waiting-first-render",action:t},dragStart:{target:"waiting-first-render",action:t},cancel:UZ.parent,reset:UZ.parent},"waiting-first-render":{render:{target:"end",action:()=>{e.node()?.toggleActive(!0)}}},end:{hover:i,drag:i,click:{target:"edit",action:n},dragEnd:{target:"edit",action:n},reset:{target:UZ.parent,action:o},cancel:{target:UZ.parent,action:o}},edit:{onEnter:()=>{e.showTextInput();const t=e.datum();t&&(t.visible=!1)},updateTextInputBBox:t=>{const i=e.node();i?.setTextInputBBox(t),e.update()},color:t=>{let{colorPickerType:i,colorOpacity:n,color:o,opacity:a}=t;const r=e.datum();r&&("text-color"===i&&e.updateTextInputColor(o),QX(r,i,n,o,a),e.update())},fontSize:t=>{const i=e.datum(),n=e.node();i&&n&&_X(i)&&(i.fontSize=t,e.updateTextInputFontSize(t),e.update())},keyDown:[{guard:GZ,target:UZ.parent,action:o},{guard:VZ,target:UZ.parent,action:a}],click:{target:UZ.parent,action:a},dragStart:{target:UZ.parent,action:a},zoomChange:{target:UZ.parent,action:a},onExit:()=>{e.hideTextInput();const t=e.datum();t&&(t.visible=!0),e.deselect()},cancel:{target:UZ.parent,action:o}}}),this.debug=SW.Debug.create(!0,"annotations")}},YZ=class extends KZ{createDatum(){return new JK}},XZ={type:"callout",datum:JK,scene:WZ,isDatum:JK.is,translate:(e,t,i,n)=>{if(JK.is(t)&&WZ.is(e))return e.translate(t,i,n)},copy:(e,t,i,n)=>{if(JK.is(t)&&JK.is(i)&&WZ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{JK.is(t)&&WZ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new YZ({...e,create:i("callout"),datum:n(JK.is),node:o(WZ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(JK.is),node:n(WZ.is)})}},ZZ=class extends bZ{constructor(){super(...arguments),this.label=new rW.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(e){this.textInputBBox=e,this.markDirty(rW.RedrawType.MINOR)}update(e,t){const i=$K(e,t),n=this.getTextBBox(e,i,t);this.updateLabel(e,n),this.updateHandle(e,i,n),this.updateShape(e,n),this.anchor=this.updateAnchor(e,n,t)}copy(e,t,i){const n=$K(e,i),o=this.getTextBBox(e,n,i),a=e.getPadding(),r=a.left+a.right,s=a.top+a.bottom,l=(o.width+r)/2,c=o.height+s,d=_K({x:n.x-l,y:n.y-c},i);return t.x=d.x,t.y=d.y,t}containsPoint(e,t){const{label:i}=this;return super.containsPoint(e,t)||i.visible&&i.containsPoint(e,t)}getNodeAtCoords(e,t){return this.label.visible&&this.label.containsPoint(e,t)?"text":super.getNodeAtCoords(e,t)}getTextBBox(e,t,i){const{text:n}=e.getText();return _Y(e,n,{x:t.x,y:t.y},this.textInputBBox)}updateLabel(e,t){const{text:i,isPlaceholder:n}=e.getText();HY(this.label,i,n,e,this.getLabelCoords(e,t))}updateShape(e,t){}updateAnchor(e,t,i){return{x:t.x+i.seriesRect.x,y:t.y+i.seriesRect.y-t.height,position:this.anchor.position}}getLabelCoords(e,t){return t}getHandleCoords(e,t,i){return i}getHandleStyles(e){const t=super.getHandleStyles(e);return t.stroke=e.handle.stroke??e.color,t}},{drawCorner:qZ}=rW,QZ=class extends ZZ{constructor(){super(),this.type="comment",this.shape=new rW.Path,this.append([this.shape,this.label,this.handle])}static is(e){return yZ.isCheck(e,"comment")}updateShape(e,t){const{shape:i}=this;i.fill=e.fill,i.fillOpacity=e.fillOpacity??1,i.stroke=e.stroke??"transparent",i.strokeWidth=e.strokeWidth??1,i.strokeOpacity=e.strokeOpacity??1,this.updatePath(e,t)}getLabelCoords(e,t){const i=e.getPadding();return{x:t.x+i.left,y:t.y-i.bottom}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke??e.fill,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}updateAnchor(e,t,i){const n=super.updateAnchor(e,t,i),o=e.getPadding();return n.y-=o.bottom+o.top,n}updatePath(e,t){const i=e.getPadding(),{x:n,y:o}=t;let{width:a,height:r}=t;const{fontSize:s}=e,l=i.left+i.right,c=i.top+i.bottom;a+=l,r=Math.max(r+c,s+c);const d=o-r,u=n+a,h=(s*BY+c)/2,{path:p}=this.shape;p.clear(),p.moveTo(n,o),p.lineTo(n,d+h),qZ(p,{x0:n,x1:n+h,y0:d+h,y1:d,cx:n+h,cy:d+h},h,!1),p.lineTo(u-h,d),qZ(p,{x0:u-h,x1:u,y0:d,y1:d+h,cx:u-h,cy:d+h},h,!1),p.lineTo(u,o-h),qZ(p,{x0:u,x1:u-h,y0:o-h,y1:o,cx:u-h,cy:o-h},h,!1),p.closePath()}containsPoint(e,t){return super.containsPoint(e,t)||this.shape.containsPoint(e,t)}},{StateMachine:JZ}=MW,eq=class extends JZ{constructor(e){const t=t=>{let{point:i}=t;const n=this.createDatum(),{x:o,y:a}=i();n.set({x:o,y:a}),e.create(n)},i=()=>{e.delete()},n=t=>{let{textInputValue:i,bbox:n}=t;if(null!=i&&i.length>0){const t=e.datum();if(!_X(t))return;const o=FY(t,i,n.width);t?.set({text:o}),e.update(),e.recordAction(`Create ${e.node()?.type} annotation`)}else e.delete()};super("start",{start:{click:{target:"waiting-first-render",action:t},dragStart:{target:"waiting-first-render",action:t},cancel:JZ.parent,reset:JZ.parent},"waiting-first-render":{render:{target:"edit",action:()=>{e.node()?.toggleActive(!0),e.showAnnotationOptions(),e.update()}}},edit:{onEnter:()=>{e.showTextInput();const t=e.datum();t&&(t.visible=!1)},updateTextInputBBox:t=>{const i=e.node();i?.setTextInputBBox(t),e.update()},color:t=>{let{colorPickerType:i,colorOpacity:n,color:o,opacity:a}=t;const r=e.datum();r&&("text-color"===i&&e.updateTextInputColor(o),QX(r,i,n,o,a),e.update())},fontSize:t=>{const i=e.datum(),n=e.node();i&&n&&_X(i)&&(i.fontSize=t,e.updateTextInputFontSize(t),e.update())},keyDown:[{guard:GZ,target:JZ.parent,action:i},{guard:VZ,target:JZ.parent,action:n}],click:{target:JZ.parent,action:n},dragStart:{target:JZ.parent,action:n},zoomChange:{target:JZ.parent,action:n},onExit:()=>{e.hideTextInput();const t=e.datum();t&&(t.visible=!0),e.deselect()},cancel:{target:JZ.parent,action:i}}}),this.debug=SW.Debug.create(!0,"annotations")}},tq=class extends eq{createDatum(){return new hY}},iq={type:"comment",datum:hY,scene:QZ,isDatum:hY.is,translate:(e,t,i,n)=>{hY.is(t)&&QZ.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(hY.is(t)&&hY.is(i)&&QZ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{hY.is(t)&&QZ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new tq({...e,create:i("comment"),datum:n(hY.is),node:o(QZ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(hY.is),node:n(QZ.is)})}},{calculateLabelTranslation:nq,ChartAxisDirection:oq}=MW,aq=class extends rW.Group{constructor(){super({name:"AnnotationAxisLabelGroup"}),this.label=new rW.Text({zIndex:1}),this.rect=new rW.Rect;const{label:e}=this;e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.textBaseline="middle",e.textAlign="center",this.append([this.rect,this.label])}update(e){this.updateLabel(e),this.updateRect(e),this.updatePosition(e)}updateLabel(e){let{value:t,styles:i,context:n}=e;const{label:o}=this,{fontWeight:a,fontSize:r,fontStyle:s,fontFamily:l,textAlign:c,color:d="white",formatter:u}=i;o.setProperties({fontWeight:a,fontSize:r,fontStyle:s,fontFamily:l,textAlign:c,fill:d}),o.text=this.getFormattedValue(t,u??n.scaleValueFormatter())}updateRect(e){let{styles:t}=e;const{rect:i}=this,{cornerRadius:n,fill:o,fillOpacity:a,stroke:r,strokeOpacity:s}=t;i.setProperties({cornerRadius:n,fill:o,fillOpacity:a,stroke:r,strokeOpacity:s})}updatePosition(e){let{x:t,y:i,context:n,styles:{padding:o}}=e;const{label:a,rect:r}=this,s=a.getBBox()?.clone();s.grow(o??8,"horizontal"),s.grow(o??5,"vertical");const l=n.direction===oq.X?2.5:8,{xTranslation:c,yTranslation:d}=nq({yDirection:!0,padding:n.labelPadding-l,position:n.position??"left",bbox:s}),u=t+c,h=i+d;a.x=u,a.y=h,r.x=u-s.width/2,r.y=h-s.height/2,r.height=s.height,r.width=s.width}getFormattedValue(e,t){return t?.(e)??String(e)}};aq.className="AxisLabel";var{Vec2:rq}=MW,sq=class extends rW.Line{constructor(){super(...arguments),this.growCollisionBox=9}setProperties(e,t){return super.setProperties(e,t),this.updateCollisionBBox(),this}updateCollisionBBox(){const{growCollisionBox:e,strokeWidth:t,x1:i,y1:n,x2:o,y2:a}=this;let r=t+e;r%2===0&&(r+=1);const s=rq.from(i,n-Math.floor(r/2)),l=rq.from(o,a),c=rq.distance(s,l);this.collisionBBox=new rW.BBox(s.x,s.y,c,r)}isPointInPath(e,t){const{collisionBBox:i,x1:n,y1:o,x2:a,y2:r}=this;if(!i)return!1;const s=rq.from(n,o),l=rq.from(a,r),c=rq.sub(rq.from(e,t),s),d=rq.sub(l,s),u=rq.rotate(c,rq.angle(c,d),s);return i.containsPoint(u.x,u.y)??!1}render(e){this.applyClipMask(e.ctx),super.render(e),this.closeClipMask(e.ctx)}setClipMask(e){null!=MW.jsonDiff(this.clipMask,e)&&this.markDirty(rW.RedrawType.MAJOR),this.clipMask=e}applyClipMask(e){const{clipMask:t}=this;if(!t)return;const{x:i,y:n,radius:o}=t;e.save(),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.ellipse(i,n,o,o,0,2*Math.PI,0,!0),e.clip()}closeClipMask(e){this.clipMask&&e.restore()}},lq=class extends rW.TransformableText{constructor(){super(...arguments),this.growCollisionBox={top:4,right:4,bottom:4,left:4}}isPointInPath(e,t){const i=this.fromParentPoint(e,t),n=this.computeBBoxWithoutTransforms();return!!n&&n.grow(this.growCollisionBox).containsPoint(i.x,i.y)}},{Vec2:cq}=MW,dq=class e{static updateLineText(t,i,n){if(!i.text?.label&&this.text&&(this.removeChild(this.text),t.setClipMask(),this.text=void 0),!i.text?.label)return;null==this.text&&(this.text=new lq,this.appendChild(this.text));const{alignment:o,position:a}=i.text,r=e.getNumbers(n,i.text.fontSize,i.strokeWidth),{point:s,textBaseline:l}=e.positionAndAlignment(r,a,o);e.setProperties(this.text,i.text,s,r.angle,l);const{x:c,y:d,width:u,height:h}=this.text.getBBox(),p={x:c+u/2,y:d+h/2,radius:cq.length(cq.from(u,h))/2+cq.length(r.offset)};return"center"===a?t.setClipMask(p):t.setClipMask(),{clipMask:p,numbers:r}}static updateChannelText(t,i,n,o){if(!i.text?.label&&this.text&&(this.removeChild(this.text),this.text=void 0),!i.text?.label)return;null==this.text&&(this.text=new lq,this.appendChild(this.text));const{alignment:a,position:r}=i.text,[s,l]=n.y1<=o.y1?[n,o]:[o,n];let c=s;"bottom"===r?c=l:"inside"===r&&(c={x1:(s.x1+l.x1)/2,y1:(s.y1+l.y1)/2,x2:(s.x2+l.x2)/2,y2:(s.y2+l.y2)/2});const d=e.getNumbers(c,i.text.fontSize,i.strokeWidth),{point:u,textBaseline:h}=e.positionAndAlignment(d,"inside"===r?"center":r,a,t);e.setProperties(this.text,i.text,u,d.angle,h)}static getNumbers(e,t,i){let[n,o]=cq.from(e);n.x>o.x&&([n,o]=[o,n]);const a=cq.normalized(cq.sub(o,n));return{left:n,right:o,normal:a,angle:cq.angle(a),inset:cq.multiply(a,gZ.HANDLE_SIZE/2+(t??14)/2),offset:cq.multiply(a,(i??2)/2+(t??14)/3)}}static positionAndAlignment(e,t,i,n){let o,{left:a,right:r,normal:s,angle:l,inset:c,offset:d}=e;o="right"===i?cq.sub(r,c):"center"===i?cq.add(a,cq.multiply(s,cq.distance(a,r)/2)):cq.add(a,c);let u="bottom";return"bottom"===t?(o=cq.rotate(d,l+Math.PI/2,o),u="top"):"center"!==t||n?o=cq.rotate(d,l-Math.PI/2,o):u="middle",{point:o,textBaseline:u}}static setProperties(e,t,i,n,o){e.setProperties({text:t.label,x:i.x,y:i.y,rotation:n,rotationCenterX:i.x,rotationCenterY:i.y,fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:t.alignment,textBaseline:o})}},{ChartAxisDirection:uq,Vec2:hq,Vec4:pq}=MW,gq=class extends yZ{constructor(){super(),this.type="cross-line",this.line=new sq,this.middle=new hZ,this.isHorizontal=!1,this.append([this.line,this.middle])}static is(e){return yZ.isCheck(e,"cross-line")}update(e,t){const{seriesRect:i}=t;this.seriesRect=i,this.isHorizontal=uX.is(e);const n=this.isHorizontal?t.yAxis:t.xAxis,o=this.convertCrossLine(e,n);null!=o?(this.visible=e.visible??!0,this.visible&&(this.updateLine(e,o),this.updateHandle(e,o),this.updateText(e,o),this.updateAxisLabel(e,n,o))):this.visible=!1}updateLine(e,t){const{line:i}=this,{lineDashOffset:n,stroke:o,strokeWidth:a,strokeOpacity:r}=e,{x1:s,y1:l,x2:c,y2:d}=t;i.setProperties({x1:s,y1:l,x2:c,y2:d,lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:n,stroke:o,strokeWidth:a,strokeOpacity:r,fillOpacity:0})}updateHandle(e,t){const{middle:i}=this,{locked:n,stroke:o,strokeWidth:a,strokeOpacity:r}=e,s={fill:e.handle.fill,stroke:e.handle.stroke??o,strokeOpacity:e.handle.strokeOpacity??r,strokeWidth:e.handle.strokeWidth??a},l=hq.sub(pq.center(t),hq.from(i.handle.width/2,i.handle.height/2));i.gradient=this.isHorizontal?"horizontal":"vertical",i.update({...s,...l}),i.toggleLocked(n??!1)}updateText(e,t){dq.updateLineText.call(this,this.line,e,t)}createAxisLabel(e){const t=new aq;return e.attachLabel(t),t}updateAxisLabel(e,t,i){this.axisLabel||(this.axisLabel=this.createAxisLabel(t));const{axisLabel:n,seriesRect:o}=this,{direction:a,position:r}=t;if(e.axisLabel.enabled){n.visible=this.visible;const s="left"===r||"top"===r?pq.start(i):pq.end(i),l=a===uq.X?s.x:s.y;if(!t.inRange(l))return void(n.visible=!1);n.update({...hq.add(s,hq.required(o)),value:e.value,styles:e.axisLabel,context:t})}else n.visible=!1}toggleHandles(e){this.middle.visible=e,this.middle.toggleHovered("middle"===this.activeHandle)}destroy(){super.destroy(),this.axisLabel?.destroy()}toggleActive(e){this.toggleHandles(e),this.middle.toggleActive(e)}dragStart(e,t,i){const n=uX.is(e)?{x:t.x,y:FK(e.value,i.yAxis)}:{x:FK(e.value,i.xAxis),y:t.y};this.dragState={offset:t,middle:n}}drag(e,t,i){const{activeHandle:n,dragState:o}=this;if(e.locked)return;let a;if(n)this[n].toggleDragging(!0),a=this[n].drag(t).point;else{if(!o)return;a=hq.add(o.middle,hq.sub(t,o.offset))}const r=_K(a,i),s=uX.is(e);e.set({value:s?r.y:r.x})}translate(e,t,i){let{x:n,y:o}=t;if(e.locked)return;const{axisContext:a,translation:r}=uX.is(e)?{axisContext:i.yAxis,translation:o}:{axisContext:i.xAxis,translation:n},s=HK(FK(e.value,a)+r,a);isNaN(s)||e.set({value:s})}stopDragging(){this.middle.toggleDragging(!1)}copy(e,t,i){const n=uX.is(e),o=this.isHorizontal?i.yAxis:i.xAxis,a=this.convertCrossLine(e,o);if(!a)return;const r=n?-30:0,s=n?0:-30,l=_K({x:a.x1+s,y:a.y1+r},i);return t.set({value:n?l.y:l.x}),t}getCursor(){return null==this.activeHandle?"pointer":this[this.activeHandle].getCursor()}containsPoint(e,t){const{middle:i,line:n,text:o}=this;return this.activeHandle=void 0,i.containsPoint(e,t)?(this.activeHandle="middle",!0):n.isPointInPath(e,t)||Boolean(o?.containsPoint(e,t))}getNodeAtCoords(e,t){return this.text?.containsPoint(e,t)?"text":this.line.isPointInPath(e,t)?"line":this.middle.containsPoint(e,t)?"handle":void 0}getAnchor(){const e=this.computeBBoxWithoutHandles();return this.isHorizontal?{x:e.x+e.width/2,y:e.y}:{x:e.x+e.width,y:e.y+e.height/2,position:"right"}}convertCrossLine(e,t){if(null==e.value)return;let i=0,n=0,o=0,a=0;const{bounds:r,scaleConvert:s,scaleBandwidth:l}=t,c=(l()??0)/2;if(uX.is(e)){const t=s(e.value)+c;n=r.width,o=t,a=t}else{const t=s(e.value)+c;i=t,n=t,a=r.height}return{x1:i,y1:o,x2:n,y2:a}}},{StateMachine:fq}=MW,mq=class extends fq{constructor(e,t){const i=i=>{let{point:n}=i;const o="horizontal"===e,a=o?new uX:new hX,{x:r,y:s}=n();a.set({value:o?s:r}),t.create(a),t.recordAction(`Create ${o?"horizontal-line":"vertical-line"} annotation`)};super("start",{start:{click:{target:"waiting-first-render",action:i},drag:{target:"waiting-first-render",action:i},reset:fq.parent,cancel:fq.parent},"waiting-first-render":{render:{target:fq.parent,action:()=>{t.node()?.toggleActive(!0),t.showAnnotationOptions(),t.update()}}}}),this.debug=SW.Debug.create(!0,"annotations")}},yq={type:"horizontal-line",datum:uX,scene:gq,isDatum:uX.is,translate:(e,t,i,n)=>{uX.is(t)&&gq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(uX.is(t)&&uX.is(i)&&gq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{uX.is(t)&&gq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getNode:n}=t;return new mq("horizontal",{...e,create:i("horizontal-line"),node:n(gq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(uX.is),node:n(gq.is)})}},vq={type:"vertical-line",datum:hX,scene:gq,isDatum:hX.is,translate:(e,t,i,n)=>{hX.is(t)&&gq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(hX.is(t)&&hX.is(i)&&gq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{hX.is(t)&&gq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getNode:n}=t;return new mq("vertical",{...e,create:i("vertical-line"),node:n(gq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(hX.is),node:n(gq.is)})}},{Vec4:bq}=MW,xq=class{static updateBackground(e,t,i,n){const{background:o}=this,{seriesRect:a}=n;o.path.clear(!0);const r=bq.from(0,0,a.width,a.height),s=this.getBackgroundPoints(e,t,i,r);for(let c=0;c<s.length;c++){const e=s[c];0===c?o.path.moveTo(e.x,e.y):o.path.lineTo(e.x,e.y)}o.path.closePath(),o.checkPathDirty();const l=this.getBackgroundStyles?.(e)??e.background;o.setProperties({fill:l.fill,fillOpacity:l.fillOpacity})}},Sq=class extends zZ{constructor(){super(...arguments),this.handles={},this.topLine=new sq,this.bottomLine=new sq,this.background=new rW.Path({zIndex:-1}),this.anchor={x:0,y:0},this.updateBackground=xq.updateBackground.bind(this)}update(e,t){const{locked:i,visible:n}=e,o=BK(e,t),a=BK(e.bottom,t);if(null==o||null==a)return void(this.visible=!1);this.visible=n??!0;const r=this.extendLine(o,e,t),s=this.extendLine(a,e,t);this.updateLines(e,r,s,t,o,a),this.updateHandles(e,o,a),this.updateText(e,o,a),this.updateBackground(e,r,s,t),this.updateAnchor(o,a);for(const l of Object.values(this.handles))l.toggleLocked(i??!1)}snapToAngle(e,t,i,n,o,a){const{handles:r}=this,s=r[n].handle;return _K(RZ(r[i].drag(e).point,s,o,a),t)}toggleHandles(e){const{handles:t}=this;if("boolean"!==typeof e)for(const[i,n]of Object.entries(e)){const e=t[i];e.visible=n??!0,e.toggleHovered(this.activeHandle===i)}else for(const[i,n]of Object.entries(t))n.visible=e,n.toggleHovered(this.activeHandle===i)}toggleActive(e){this.toggleHandles(e);for(const t of Object.values(this.handles))t.toggleActive(e)}stopDragging(){const{activeHandle:e,handles:t}=this;null!=e&&t[e].toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return null==this.activeHandle?"pointer":this.handles[this.activeHandle].getCursor()}containsPoint(e,t){const{handles:i,topLine:n,bottomLine:o,text:a}=this;this.activeHandle=void 0;for(const[r,s]of Object.entries(i))if(s.containsPoint(e,t))return this.activeHandle=r,!0;return n.containsPoint(e,t)||o.containsPoint(e,t)||Boolean(a?.containsPoint(e,t))}getNodeAtCoords(e,t){if(this.text?.containsPoint(e,t))return"text";if(this.topLine.containsPoint(e,t)||this.bottomLine.containsPoint(e,t))return"line";for(const[i,n]of Object.entries(this.handles))if(n.containsPoint(e,t))return"handle"}updateAnchor(e,t){const{x:i,y:n}=rW.Transformable.toCanvasPoint(this.topLine,(e.x1+e.x2)/2,Math.min(e.y1,e.y2,t.y1,t.y2));this.anchor.x=i,this.anchor.y=n}},{Vec2:Mq,Vec4:Aq}=MW,kq=class extends Sq{constructor(){super(),this.type="disjoint-channel",this.handles={topLeft:new gZ,topRight:new gZ,bottomLeft:new gZ,bottomRight:new hZ},this.updateText=dq.updateChannelText.bind(this,!1),this.append([this.background,this.topLine,this.bottomLine,...Object.values(this.handles)])}static is(e){return yZ.isCheck(e,"disjoint-channel")}dragHandle(e,t,i,n){const{activeHandle:o,handles:a}=this;if(null==o)return;const{offset:r}=a[o].drag(t);a[o].toggleDragging(!0);const s=e=>_K(e,i),l=e.toJson(),c=e.snapToAngle;switch(o){case"topLeft":case"bottomLeft":{const l="topLeft"===o?1:-1,d=n?this.snapToAngle(t,i,"topLeft","topRight",c,l):s({x:a.topLeft.handle.x+r.x,y:a.topLeft.handle.y+r.y*l}),u=n?this.snapToAngle(t,i,"bottomLeft","bottomRight",c,-l):s({x:a.bottomLeft.handle.x+r.x,y:a.bottomLeft.handle.y+r.y*-l});if(!d||null==d.y||!u||null==u.y||null==e.start.y)return;const h=e.startHeight+2*(d.y-e.start.y);e.start.x=d.x,e.start.y=d.y,e.startHeight=h;break}case"topRight":{const o=n?this.snapToAngle(t,i,"topRight","topLeft",c):s({x:a.topRight.handle.x+r.x,y:a.topRight.handle.y+r.y});if(!o||null==o.y||null==e.end.y)return;const l=e.endHeight+2*(o.y-e.end.y);e.end.x=o.x,e.end.y=o.y,e.endHeight=l;break}case"bottomRight":{const t=s({x:a.bottomLeft.handle.x+r.x,y:a.bottomLeft.handle.y+r.y}),i=s({x:a.bottomRight.handle.x+r.x,y:a.bottomRight.handle.y+r.y});if(!t||!i||null==e.start.y||null==e.end.y)return;const n=e.end.y-i.y,o=e.startHeight-(e.endHeight-n);e.startHeight=o,e.endHeight=n}}e.isValidWithContext(i)||e.set(l)}getOtherCoords(e,t,i,n){const o=$K(e.bottom.start,n).y-$K(e.start,n).y,a=$K(e.bottom.end,n).y-$K(e.end,n).y;return[Mq.add(t,Mq.from(0,o)),Mq.add(i,Mq.from(0,a))]}updateLines(e,t,i){const{topLine:n,bottomLine:o}=this,{lineDashOffset:a,stroke:r,strokeOpacity:s,strokeWidth:l}=e,c={lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:a,stroke:r,strokeOpacity:s,strokeWidth:l};n.setProperties({...t,...c}),o.setProperties({...i,...c})}updateHandles(e,t,i){const{handles:{topLeft:n,topRight:o,bottomLeft:a,bottomRight:r}}=this,s={fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth};n.update({...s,...Aq.start(t)}),o.update({...s,...Aq.end(t)}),a.update({...s,...Aq.start(i)}),r.update({...s,...Mq.sub(Aq.end(i),Mq.from(r.handle.width/2,r.handle.height/2))})}getBackgroundPoints(e,t,i,n){const o=t.x1>t.x2,a=t.y1>t.y2,r=a?n.y2:n.y1,s=a?n.y1:n.y2,l=Mq.from(t);return e.extendEnd&&t.y2===s&&l.push(Mq.from(o?n.x1:n.x2,a?n.y1:n.y2)),e.extendEnd&&i.y2===r&&l.push(Mq.from(o?n.x1:n.x2,a?n.y2:n.y1)),l.push(...Mq.from(i).reverse()),e.extendStart&&i.y1===s&&l.push(Mq.from(o?n.x2:n.x1,a?n.y1:n.y2)),e.extendStart&&t.y1===r&&l.push(Mq.from(o?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:wq}=MW,Cq=class extends wq{constructor(e){const t=t=>{let{point:i}=t;const n=new bX,o=i();n.set({start:o,end:o,startHeight:0,endHeight:0}),e.create(n),e.addPostUpdateFns((()=>e.node()?.toggleActive(!0)),(()=>e.node()?.toggleHandles({topLeft:!0,topRight:!1,bottomLeft:!1,bottomRight:!1})))},i=t=>{let{point:i}=t;const n=e.datum();n?.set({end:i(n?.start,n?.snapToAngle)}),e.update()},n=()=>{e.node()?.toggleHandles({topRight:!0}),e.update()},o=t=>{let{point:i}=t;const n=e.datum();if(null==n?.start.y||null==n?.end.y)return;const o=i().y,a=n.end.y-(o??0),r=2*(n.start.y-n.end.y)+a,s={x:n.start.x,y:n.start.y-a},l={x:n.end.x,y:o};e.node()?.toggleHandles(!0),e.validatePoint(s)&&e.validatePoint(l)&&(n.set({startHeight:r,endHeight:a}),e.recordAction("Create disjoint-channel annotation"),e.showAnnotationOptions(),e.update())},a=()=>e.delete();super("start",{start:{click:{target:"end",action:t},drag:{target:"end",action:t},reset:wq.parent},end:{hover:i,drag:i,keyDown:i,keyUp:i,click:{target:"height",action:n},dragEnd:{target:"height",action:n},reset:{target:wq.parent,action:a},cancel:{target:wq.parent,action:a}},height:{hover:t=>{let{point:i}=t;const n=e.datum();if(null==n?.start.y||null==n?.end.y)return;const o=i().y,a=n.end.y-(o??0),r=2*(n.start.y-n.end.y)+a,s={x:n.start.x,y:n.start.y-r},l={x:n.end.x,y:o};e.node()?.toggleHandles({bottomLeft:!0,bottomRight:!0}),e.validatePoint(s)&&e.validatePoint(l)&&(n.set({startHeight:r,endHeight:a}),e.update())},click:{target:wq.parent,action:o},drag:{target:wq.parent,action:o},reset:{target:wq.parent,action:a},cancel:{target:wq.parent,action:a}}}),this.debug=SW.Debug.create(!0,"annotations")}},Iq={type:"disjoint-channel",datum:bX,scene:kq,isDatum:bX.is,translate:(e,t,i,n)=>{bX.is(t)&&kq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(bX.is(t)&&bX.is(i)&&kq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{bX.is(t)&&kq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new Cq({...e,create:i("disjoint-channel"),datum:n(bX.is),node:o(kq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(bX.is),node:n(kq.is)})}},{Vec2:Dq}=MW,Nq=class extends rW.Group{},Eq=class extends Nq{constructor(){super(),this.type="arrow",this.path=new rW.Path,this.armLength=6,this.append([this.path])}update(e){const{path:t}=this,{x:i,y:n,angle:o,...a}=e,r=Dq.from(i,n),s=3*Math.PI/4,l=this.armLength+2*(e.strokeWidth??0),c=Dq.rotate(Dq.from(0,l),o+s,r),d=Dq.rotate(Dq.from(l,0),o-s,r);t.setProperties(a),t.fillOpacity=0,t.path.clear(),t.path.moveTo(c.x,c.y),t.path.lineTo(r.x,r.y),t.path.lineTo(d.x,d.y)}},{Vec2:Oq,Vec4:Lq}=MW,Tq=class extends BZ{constructor(){super(),this.type="line",this.line=new sq,this.append([this.line,this.start,this.end])}static is(e){return yZ.isCheck(e,"line")}update(e,t){let i=BK(e,t);null!=i?(i=Lq.round(i),this.visible=e.visible??!0,this.visible&&(this.updateLine(e,i,t),this.updateHandles(e,i),this.updateText(e,i),this.updateCaps(e,i),this.updateAnchor(e,i,t))):this.visible=!1}updateLine(e,t,i){const{line:n}=this,{lineDashOffset:o,stroke:a,strokeWidth:r,strokeOpacity:s}=e,l=this.extendLine(t,e,i);n.setProperties({...l,lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:o,stroke:a,strokeWidth:r,strokeOpacity:s,fillOpacity:0})}updateText(e,t){dq.updateLineText.call(this,this.line,e,t)}updateCaps(e,t){if(!e.startCap&&this.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),!e.endCap&&this.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),!e.startCap&&!e.endCap)return;const{stroke:i,strokeWidth:n,strokeOpacity:o}=e,[a,r]=Oq.from(t),s=Oq.angle(Oq.sub(r,a));e.startCap&&(this.startCap&&this.startCap.type!==e.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),null==this.startCap&&(this.startCap=new Eq,this.append([this.startCap])),this.startCap.update({x:a.x,y:a.y,angle:s-Math.PI,stroke:i,strokeWidth:n,strokeOpacity:o})),e.endCap&&(this.endCap&&this.endCap.type!==e.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),null==this.endCap&&(this.endCap=new Eq,this.append([this.endCap])),this.endCap.update({x:r.x,y:r.y,angle:s,stroke:i,strokeWidth:n,strokeOpacity:o}))}updateAnchor(e,t,i,n){const o=Lq.topCenter(t);Oq.apply(this.anchor,rW.Transformable.toCanvasPoint(this.line,o.x,o.y))}containsPoint(e,t){const{line:i,text:n}=this;return super.containsPoint(e,t)||i.isPointInPath(e,t)||Boolean(n?.containsPoint(e,t))}getNodeAtCoords(e,t){return this.text?.containsPoint(e,t)?"text":this.line.isPointInPath(e,t)?"line":super.getNodeAtCoords(e,t)}getHandleCoords(e,t,i,n){const{startCap:o,endCap:a}=this;let[r,s]=Oq.from(t);const l=Oq.angle(Oq.sub(s,r));return o&&(r=Oq.rotate(Oq.from(0,-gZ.HANDLE_SIZE/2),l,r)),a&&(s=Oq.rotate(Oq.from(0,gZ.HANDLE_SIZE/2),l,s)),"start"===i?r:s}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth}}},{StateMachine:Rq}=MW,Pq=class extends Rq{constructor(e){const t=t=>{let{point:i}=t;const n=this.createDatum(),o=i();n.set({start:o,end:o}),e.create(n),e.addPostUpdateFns((()=>e.node()?.toggleActive(!0)),(()=>e.node()?.toggleHandles({start:!0,end:!1})))},i=t=>{let{point:i}=t;const n=e.datum();n?.set({end:i(n?.start,n?.snapToAngle)}),e.update()},n=()=>{e.node()?.toggleHandles({end:!0}),e.update()},o=()=>e.delete();super("start",{start:{reset:Rq.parent,click:{target:"end",action:t},drag:{target:"end",action:t}},end:{hover:i,keyDown:i,keyUp:i,click:{target:Rq.parent,action:n},drag:i,dragEnd:{target:Rq.parent,action:n},reset:{target:Rq.parent,action:o},cancel:{target:Rq.parent,action:o},onExit:()=>{e.showAnnotationOptions(),e.recordAction(`Create ${e.datum()?.type} annotation`)}}}),this.debug=SW.Debug.create(!0,"annotations")}},zq=class extends Pq{createDatum(){return new wX}},jq=class extends Pq{createDatum(){return new CX}},Bq={type:"line",datum:CX,scene:Tq,isDatum:CX.is,translate:(e,t,i,n)=>{CX.is(t)&&Tq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(CX.is(t)&&CX.is(i)&&Tq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{CX.is(t)&&Tq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new jq({...e,create:i("line"),datum:n(CX.is),node:o(Tq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(CX.is),node:n(Tq.is)})}},$q={type:"arrow",datum:wX,scene:Tq,isDatum:wX.is,translate:(e,t,i,n)=>{wX.is(t)&&Tq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(wX.is(t)&&wX.is(i)&&Tq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{wX.is(t)&&Tq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new zq({...e,create:i("arrow"),datum:n(wX.is),node:o(Tq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(wX.is),node:n(Tq.is)})}};function Fq(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(const n of e)if(Array.isArray(n)){for(const e of n)_q(e,i);i+=rW.Group.computeChildrenBBox(n).width+t}else _q(n,i),i+=n.getBBox().width+t}function _q(e,t){"x1"in e?(e.x2=t+(e.x2-e.x1),e.x1=t):e.x=t}function Hq(e,t){"y1"in e?(e.y2=t+(e.y2-e.y1),e.y1=t):e.y=t}function Wq(e,t){"x1"in e?(e.x1+=t,e.x2+=t):e.x+=t}function Gq(e,t){"y1"in e?(e.y1+=t,e.y2+=t):e.y+=t}var{Vec4:Vq}=MW,Uq=class extends rW.Group{constructor(){super(),this.name="MeasurerStatisticsScene",this.background=new rW.Rect,this.dateRangeBarsText=new rW.Text,this.dateRangeDivider=new rW.Line,this.dateRangeValueText=new rW.Text,this.priceRangeValueText=new rW.Text,this.priceRangeDivider=new rW.Line,this.priceRangePercentageText=new rW.Text,this.volumeText=new rW.Text,this.volumeFormatter=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2}),this.append([this.background,this.dateRangeBarsText,this.dateRangeDivider,this.dateRangeValueText,this.priceRangeValueText,this.priceRangeDivider,this.priceRangePercentageText,this.volumeText])}update(e,t,i,n,o,a){this.verticalDirection=o;const r=this.updateStatistics(e,t,i,a),s=rW.Group.computeChildrenBBox(r.flat());s.grow(10),this.updateBackground(e,s,10),this.reposition(r,10,n)}updateStatistics(e,t,i,n){const{dateRangeBarsText:o,dateRangeDivider:a,dateRangeValueText:r,priceRangeValueText:s,priceRangeDivider:l,priceRangePercentageText:c,volumeText:d}=this,u=e.statistics.fontSize+3,h=this.getTextStyles(e),p={...this.getDividerStyles(e),x1:0,y1:0,x2:0,y2:u},g=[o,a,r],f=[s,l,c],m=[];return t.priceRange&&(s.setProperties({...h,text:this.formatPriceRangeValue(t.priceRange.value,n)}),l.setProperties(p),c.setProperties({...h,text:this.formatPriceRangePercentage(t.priceRange.percentage,n)}),Fq(f,i.x,8),m.push(f)),t.dateRange&&(o.setProperties({...h,text:this.formatDateRangeBars(t.dateRange.bars,n)}),a.setProperties(p),r.setProperties({...h,text:this.formatDateRangeValue(t.dateRange.value)}),Fq(g,i.x,8),m.push(g)),null!=t.volume&&(d.setProperties({...h,x:i.x,text:this.formatVolume(t.volume,n)}),m.push(d)),function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(const n of e)if(Array.isArray(n)){for(const e of n)Hq(e,i);i+=rW.Group.computeChildrenBBox(n).height+t}else Hq(n,i),i+=n.getBBox().height+t}(m,i.y,6),l.y1+=-2,l.y2+=-2,a.y1+=-2,a.y2+=-2,m}updateBackground(e,t,i){const n=this.getBackgroundStyles(e);this.background.setProperties({...n,...t,x:t.x-t.width/2+i,y:t.y})}reposition(e,t,i){const{width:n,height:o}=i.seriesRect,a=Vq.from(this.background.getBBox());let r=0;a.x1<0&&(r=-a.x1),a.x2>n&&(r=n-a.x2);const s=Math.min(t,o-a.y2);for(const l of e)if(Array.isArray(l)){const e=rW.Group.computeChildrenBBox(l).width;for(const t of l)Wq(t,r-e/2),Gq(t,s)}else Wq(l,r-l.getBBox().width/2),Gq(l,s);this.background.x+=r,this.background.y+=s}getTextStyles(e){return{fill:e.statistics.color,fontFamily:e.statistics.fontFamily,fontSize:e.statistics.fontSize,fontStyle:e.statistics.fontStyle,fontWeight:e.statistics.fontWeight,textBaseline:"top"}}getDividerStyles(e){return{stroke:e.statistics.divider.stroke,strokeOpacity:e.statistics.divider.strokeOpacity,strokeWidth:e.statistics.divider.strokeWidth}}getBackgroundStyles(e){return{fill:e.statistics.fill,stroke:e.statistics.stroke,strokeOpacity:e.statistics.strokeOpacity,strokeWidth:e.statistics.strokeWidth,cornerRadius:4}}formatDateRangeBars(e,t){return t?.t("measurerDateRangeBars",{value:e})??`${e}`}formatDateRangeValue(e){const t=[],i=e>=0?"":"-";e=Math.abs(e);const n=6e4,o=36e5,a=24*o,r=Math.floor(e/n),s=Math.floor(e/o),l=Math.floor(e/a),c=s%24,d=r%60;return l>=1&&t.push(`${l}d`),s>=1&&(e<a||0!==c)&&t.push(`${c}h`),(e<o||0!==d)&&t.push(`${d}m`),t[0]=`${i}${t[0]}`,t.join(" ")}formatPriceRangeValue(e,t){return t?.t("measurerPriceRangeValue",{value:Number(e.toFixed(2))})??`${e}`}formatPriceRangePercentage(e,t){return t?.t("measurerPriceRangePercent",{value:e})??`${e}`}formatVolume(e,t){const i=isNaN(e)?"":this.volumeFormatter.format(e);return t?.t("measurerVolume",{value:i})??i}},Kq=class extends Uq{getDirectionStyles(e){return"down"===this.verticalDirection?e.down.statistics:e.up.statistics}getTextStyles(e){const t=this.getDirectionStyles(e);return{...super.getTextStyles(e),fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight}}getDividerStyles(e){const t=this.getDirectionStyles(e);return{stroke:t.divider.stroke,strokeOpacity:t.divider.strokeOpacity,strokeWidth:t.divider.strokeWidth}}getBackgroundStyles(e){const t=this.getDirectionStyles(e);return{...super.getBackgroundStyles(e),fill:t.fill,stroke:t.stroke,strokeOpacity:t.strokeOpacity,strokeWidth:t.strokeWidth}}},{Vec2:Yq,Vec4:Xq}=MW,Zq=class extends BZ{constructor(){super(),this.type="measurer",this.horizontalLine=new sq,this.verticalLine=new sq,this.horizontalStartLine=new sq,this.horizontalEndLine=new sq,this.verticalStartLine=new sq,this.verticalEndLine=new sq,this.horizontalEndCap=new Eq,this.verticalEndCap=new Eq,this.background=new rW.Path({zIndex:-1}),this.updateBackground=xq.updateBackground.bind(this),this.statistics=this.createStatisticsScene(),this.statistics.zIndex=1,this.append([this.background,this.verticalStartLine,this.verticalEndLine,this.horizontalStartLine,this.horizontalEndLine,this.horizontalLine,this.verticalLine,this.horizontalEndCap,this.verticalEndCap,this.start,this.end,this.statistics])}static is(e){return yZ.isCheck(e,"measurer")}createStatisticsScene(){return new Uq}update(e,t){const i=BK(e,t);if(null==i)return void(this.visible=!1);if(this.visible=e.visible??!0,!this.visible)return;const n=this.extendPerpendicular(i,e,t),o={...n,y2:n.y1},a={...n,y1:n.y2};this.verticalDirection=i.y1<i.y2?"down":"up",this.updateVisibilities(e),this.updateLines(e,i),this.updateHandles(e,i),this.updateText(e,i),this.updateCaps(e,i),this.updateBoundingLines(e,n),this.updateBackground(e,o,a,t),this.updateStatistics(e,i,t),this.updateAnchor(e,i,t)}extendPerpendicular(e,t,i){const n={x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)},[o,a]=Yq.from(i.yAxis.bounds);return OY.is(t)?(t.extendAbove&&(n.y1=o.y),t.extendBelow&&(n.y2=a.y)):LY.is(t)&&(t.extendLeft&&(n.x1=o.x),t.extendRight&&(n.x2=a.x)),n}updateVisibilities(e){const{horizontalStartLine:t,horizontalEndLine:i,horizontalEndCap:n,verticalStartLine:o,verticalEndLine:a,verticalEndCap:r}=this,{direction:s}=e;o.visible="vertical"!==s,a.visible="vertical"!==s,n.visible="vertical"!==s,t.visible="horizontal"!==s,i.visible="horizontal"!==s,r.visible="horizontal"!==s}updateLines(e,t){const{horizontalLine:i,verticalLine:n}=this,{direction:o}=e,{x1:a,y1:r,x2:s,y2:l}=t,c=Yq.round(Xq.center(t)),d=this.getLineStyles(e);"vertical"!==o&&i.setProperties({...d,x1:a,x2:s,y1:c.y,y2:c.y}),"horizontal"!==o&&n.setProperties({...d,x1:c.x,x2:c.x,y1:r,y2:l})}updateText(e,t){const{direction:i}=e,n=Yq.round(Xq.center(t));let o;const a={...t};"vertical"===i?(o=this.verticalLine,a.x1=n.x,a.x2=n.x):(o=this.horizontalLine,a.y1=n.y,a.y2=n.y);const r=dq.updateLineText.call(this,o,e,a);let s;if("both"===i&&r&&this.text){const e=Xq.from(this.text.getBBox()),{offset:t}=r.numbers;e.x1<=n.x+t.x&&e.x2>=n.x-t.x&&(s={x:n.x,y:r.clipMask.y,radius:this.text.getBBox().height/2+Yq.length(t)})}this.verticalLine.setClipMask(s)}updateCaps(e,t){const{horizontalEndCap:i,verticalEndCap:n}=this,{direction:o}=e,{x1:a,y1:r,x2:s,y2:l}=t,c=Yq.round(Xq.center(t)),{stroke:d,strokeWidth:u,strokeOpacity:h}=this.getLineStyles(e),p={stroke:d,strokeWidth:u,strokeOpacity:h};if("vertical"!==o){const e=a<=s?0:Math.PI;let t=s;"horizontal"===o&&(t+=a<=s?-2:2),i.update({...p,x:t,y:c.y,angle:e})}if("horizontal"!==o){const e=r<=l?Math.PI/2:Math.PI/-2;let t=l;"vertical"===o&&(t+=r<=l?-2:2),n.update({...p,x:c.x,y:t,angle:e})}}updateBoundingLines(e,t){const{verticalStartLine:i,verticalEndLine:n,horizontalStartLine:o,horizontalEndLine:a}=this,{direction:r}=e,{x1:s,y1:l,x2:c,y2:d}=t,u=this.getLineStyles(e);"horizontal"===r&&(i.setProperties({...u,x1:s,y1:l,x2:s,y2:d}),n.setProperties({...u,x1:c,y1:l,x2:c,y2:d})),"vertical"===r&&(o.setProperties({...u,x1:s,y1:l,x2:c,y2:l}),a.setProperties({...u,x1:s,y1:d,x2:c,y2:d}))}updateStatistics(e,t,i){const n=Yq.add(Xq.bottomCenter(t),Yq.from(0,10)),o={volume:this.getVolume(e)};e.hasPriceRange&&(o.priceRange={percentage:this.getPriceRangePercentage(e),value:this.getPriceRangeValue(e)}),e.hasDateRange&&(o.dateRange={bars:this.getDateRangeBars(t,i),value:this.getDateRangeValue(e)}),this.statistics.update(e,o,n,i,this.verticalDirection,e.localeManager)}updateAnchor(e,t,i,n){const o=Xq.topCenter(t);Yq.apply(this.anchor,rW.Transformable.toCanvasPoint(this.horizontalLine,o.x,o.y))}getBackgroundPoints(e,t,i,n){const[o,a]=Yq.from(t),[r,s]=Yq.from(i);return[o,a,s,r]}getLineStyles(e){const{lineDashOffset:t,stroke:i,strokeWidth:n,strokeOpacity:o}=e;return{lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:t,stroke:i,strokeWidth:n,strokeOpacity:o,fillOpacity:0}}getBackgroundStyles(e){const{background:t}=e;return{fill:t.fill,fillOpacity:t.fillOpacity}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth}}containsPoint(e,t){const{horizontalLine:i,text:n,verticalLine:o,horizontalStartLine:a,horizontalEndLine:r,verticalStartLine:s,verticalEndLine:l}=this;return super.containsPoint(e,t)||i.isPointInPath(e,t)||o.isPointInPath(e,t)||a.visible&&a.isPointInPath(e,t)||r.visible&&r.isPointInPath(e,t)||s.visible&&s.isPointInPath(e,t)||l.visible&&l.isPointInPath(e,t)||Boolean(n?.containsPoint(e,t))}getNodeAtCoords(e,t){return this.text?.containsPoint(e,t)?"text":this.start.containsPoint(e,t)||this.end.containsPoint(e,t)?"handle":"line"}getDateRangeBars(e,t){const i=e.x1<=e.x2?1:-1;return Math.round(Xq.width(e)/t.xAxis.scaleStep())*i}getDateRangeValue(e){if(null==e.start.x||null==e.end.x||!(e.start.x instanceof Date)||!(e.end.x instanceof Date))throw new Error("Can not create a date range measurement of non-date x-axis.");return e.end.x.getTime()-e.start.x.getTime()}getPriceRangePercentage(e){if(null==e.start.y||null==e.end.y)throw new Error("Can not create a price range measurement of a non-numeric y-axis");return(e.end.y-e.start.y)/e.start.y}getPriceRangeValue(e){if(null==e.start.y||null==e.end.y)throw new Error("Can not create a price range measurement of a non-numeric y-axis");return e.end.y-e.start.y}getVolume(e){return e.getVolume?.(e.start.x,e.end.x)}},qq=class extends Zq{constructor(){super(...arguments),this.type="quick-measurer"}static is(e){return yZ.isCheck(e,"quick-measurer")}createStatisticsScene(){return new Kq}getDirectionStyles(e){return"down"===this.verticalDirection?e.down:e.up}getLineStyles(e){const t=this.getDirectionStyles(e);return{...super.getLineStyles(e),stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity}}getBackgroundStyles(e){const t=this.getDirectionStyles(e);return{fill:t.fill,fillOpacity:t.fillOpacity}}getHandleStyles(e){const t=this.getDirectionStyles(e);return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}},{StateMachine:Qq}=MW,Jq=class extends Qq{constructor(e){const t=t=>{let{point:i}=t;const n=this.createDatum(),o=i();n.set({start:o,end:o}),e.create(n)},i=t=>{let{point:i}=t;const n=e.datum();n?.set({end:i()}),e.node()?.toggleActive(!0),e.node()?.toggleHandles({end:!1}),e.update()},n=()=>{e.node()?.toggleHandles({end:!0})},o=()=>e.delete();super("start",{start:{reset:Qq.parent,click:{target:"end",action:t},drag:{target:"end",action:t}},end:{hover:i,click:{target:Qq.parent,action:n},dragEnd:{target:Qq.parent,action:n},drag:i,reset:{target:Qq.parent,action:o},cancel:{target:Qq.parent,action:o},onExit:()=>{e.showAnnotationOptions(),BX(e.datum())||e.recordAction(`Create ${e.node()?.type} annotation`)}}}),this.debug=SW.Debug.create(!0,"annotations")}},eQ=class extends Jq{createDatum(){return new OY}},tQ=class extends Jq{createDatum(){return new LY}},iQ=class extends Jq{createDatum(){return new TY}},nQ=class extends Jq{createDatum(){return new RY}},oQ={type:"date-range",datum:OY,scene:Zq,isDatum:OY.is,translate:(e,t,i,n)=>{OY.is(t)&&Zq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(OY.is(t)&&OY.is(i)&&Zq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{OY.is(t)&&Zq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new eQ({...e,create:i("date-range"),datum:n(OY.is),node:o(Zq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(OY.is),node:n(Zq.is)})}},aQ={type:"price-range",datum:LY,scene:Zq,isDatum:LY.is,translate:(e,t,i,n)=>{LY.is(t)&&Zq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(LY.is(t)&&LY.is(i)&&Zq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{LY.is(t)&&Zq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new tQ({...e,create:i("date-range"),datum:n(LY.is),node:o(Zq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(LY.is),node:n(Zq.is)})}},rQ={type:"date-price-range",datum:TY,scene:Zq,isDatum:TY.is,translate:(e,t,i,n)=>{TY.is(t)&&Zq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(TY.is(t)&&TY.is(i)&&Zq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{TY.is(t)&&Zq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new iQ({...e,create:i("date-range"),datum:n(TY.is),node:o(Zq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(TY.is),node:n(Zq.is)})}},sQ={type:"quick-date-price-range",datum:RY,scene:qq,isDatum:RY.is,translate:(e,t,i,n)=>{RY.is(t)&&qq.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(RY.is(t)&&RY.is(i)&&qq.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{RY.is(t)&&qq.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new nQ({...e,create:i("quick-date-price-range"),datum:n(RY.is),node:o(qq.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(RY.is),node:n(qq.is)})}},{ZIndexMap:lQ,TextWrapper:cQ}=MW,{clamp:dQ}=SW,uQ=class extends ZZ{constructor(){super(),this.type="note",this.shape=new rW.Rect,this.iconBackground=new rW.SvgPath("M22 1.83333C22 0.820811 21.1792 0 20.1667 0H1.83333C0.820811 0 0 0.82081 0 1.83333V13.9868C0 14.9994 0.820811 15.8202 1.83333 15.8202L5.88971 15.8202C6.44575 15.8202 6.97175 16.0725 7.31971 16.5062L9.57006 19.3112C10.304 20.2259 11.6962 20.2259 12.4301 19.3112L14.6804 16.5062C15.0284 16.0725 15.5544 15.8202 16.1104 15.8202L20.1667 15.8202C21.1792 15.8202 22 14.9994 22 13.9868V1.83333Z"),this.iconLines=new rW.SvgPath("M17.1114 5.75C17.1114 6.16421 16.7756 6.5 16.3614 6.5H5.63916C5.22495 6.5 4.88916 6.16421 4.88916 5.75V5.75C4.88916 5.33579 5.22495 5 5.63916 5H16.3614C16.7756 5 17.1114 5.33579 17.1114 5.75V5.75ZM17.1114 9.25C17.1114 9.66421 16.7756 10 16.3614 10H5.63916C5.22495 10 4.88916 9.66421 4.88916 9.25V9.25C4.88916 8.83579 5.22495 8.5 5.63916 8.5H16.3614C16.7756 8.5 17.1114 8.83579 17.1114 9.25V9.25Z"),this.active=!1,this.shape.visible=!1,this.label.visible=!1,this.iconBackground.fillShadow=new rW.DropShadow,this.append([this.shape,this.label,this.iconBackground,this.iconLines,this.handle])}static is(e){return yZ.isCheck(e,"note")}update(e,t){this.updateIcon(e,t),super.update(e,t)}getTextBBox(e,t,i){const n=super.getTextBBox(e,t,i),{seriesRect:o}=i;n.x-=e.width/2,n.x=dQ(0,n.x,o.width-e.width);const a=e.getPadding().top,r=n.y-30-2*a,s=n.y+gZ.HANDLE_SIZE+2*a;return r-n.height-34<o.y?(n.y=s,e.position="top"):(n.y=r+a,e.position="bottom"),n}updateLabel(e,t){const i=!1!==e.visible&&this.label.visible;super.updateLabel(e,t),this.label.visible=i,this.label.text=cQ.wrapText(e.text,{font:{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},avoidOrphans:!1,textAlign:e.textAlign,textBaseline:"hanging",textWrap:"always",maxWidth:200})}updateShape(e,t){const{shape:i}=this;i.fill=e.background.fill,i.fillOpacity=e.background.fillOpacity??1,i.stroke=e.background.stroke,i.strokeOpacity=e.background.strokeOpacity??1,i.strokeWidth=e.background.strokeWidth??1,i.cornerRadius=4;const n=e.getPadding().top,o="top"===e.position;i.x=t.x-n,i.width=e.width+2*n,i.height=t.height+2*n,i.y=t.y+(o?0:-t.height)-n}updateIcon(e,t){const{active:i,iconBackground:n,iconLines:o}=this,{x:a,y:r}=$K(e,t);n.x=a-11,n.y=r-20,o.x=n.x,o.y=n.y,n.fill=e.fill,n.fillOpacity=e.fillOpacity??1,n.stroke=e.stroke,n.strokeOpacity=e.strokeOpacity??1,n.strokeWidth=e.strokeWidth??1,o.fill=e.stroke,n.fillShadow.color=i?e.fill??"rgba(0, 0, 0, 0.22)":"rgba(0, 0, 0, 0.22)"}updateAnchor(e,t,i){const n=e.getPadding().top,o="top"===e.position,a=o?1:-1;return{x:t.x+i.seriesRect.x+e.width/2,y:t.y+i.seriesRect.y+a*(t.height+n),position:o?"below":"above"}}getHandleCoords(e,t,i){return{x:t.x,y:t.y+gZ.HANDLE_SIZE/2+4}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.fill,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}toggleHovered(e){super.toggleHovered(e),this.label.visible=e,this.shape.visible=e,this.zIndex=e?lQ.CHART_ANNOTATION_FOCUSED:lQ.CHART_ANNOTATION}toggleActive(e){super.toggleActive(e),this.label.visible=e,this.shape.visible=e,this.active=e}containsPoint(e,t){return!(!this.shape.visible||!this.shape.containsPoint(e,t))||(!!this.iconBackground.containsPoint(e,t)||super.containsPoint(e,t))}},hQ=class extends eq{createDatum(){return new ZY}},pQ={type:"note",datum:ZY,scene:uQ,isDatum:ZY.is,translate:(e,t,i,n)=>{ZY.is(t)&&uQ.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(ZY.is(t)&&ZY.is(i)&&uQ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{ZY.is(t)&&uQ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new hQ({...e,create:i("note"),datum:n(ZY.is),node:o(uQ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(ZY.is),node:n(uQ.is)})}},{Vec2:gQ,Vec4:fQ}=MW,mQ=class extends Sq{constructor(){super(),this.type="parallel-channel",this.handles={topLeft:new gZ,topMiddle:new hZ,topRight:new gZ,bottomLeft:new gZ,bottomMiddle:new hZ,bottomRight:new gZ},this.middleLine=new sq,this.updateText=dq.updateChannelText.bind(this,!0),this.append([this.background,this.topLine,this.middleLine,this.bottomLine,...Object.values(this.handles)])}static is(e){return yZ.isCheck(e,"parallel-channel")}dragHandle(e,t,i,n){const{activeHandle:o,handles:a}=this;if(null==o)return;const{offset:r}=a[o].drag(t);a[o].toggleDragging(!0);const s=e.toJson();let l=[],c=[];switch(o){case"topLeft":case"bottomLeft":l=["topLeft","bottomLeft"],c=["topRight","bottomRight"];break;case"topMiddle":l=["topLeft","topRight"],r.y-=hZ.HANDLE_SIZE/2;break;case"topRight":case"bottomRight":l=["topRight","bottomRight"],c=["topLeft","bottomLeft"];break;case"bottomMiddle":l=["bottomLeft","bottomRight"],r.y-=hZ.HANDLE_SIZE/2}const d=e.snapToAngle,u=l.map(((e,o)=>n&&c[o]?this.snapToAngle(t,i,e,c[o],d):_K(gQ.add(a[e].handle,r),i))).filter(aX);if(!u.some((e=>!nX(i,e)))){if(("topMiddle"===o||"bottomMiddle"===o)&&null!=e.start.y){const t=_K(gQ.add(a.topLeft.handle,r),i);nX(i,t)&&("topMiddle"===o?e.height+=t.y-e.start.y:e.height-=t.y-e.start.y)}for(const[t,i]of u.entries())switch(l[t]){case"topLeft":e.start.x=i.x,e.start.y=i.y;break;case"topRight":e.end.x=i.x,e.end.y=i.y}e.isValidWithContext(i)||e.set(s)}}getOtherCoords(e,t,i,n){const o=$K(e.bottom.start,n).y-$K(e.start,n).y;return[gQ.add(t,gQ.from(0,o)),gQ.add(i,gQ.from(0,o))]}containsPoint(e,t){return super.containsPoint(e,t)||this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(e,t)}getNodeAtCoords(e,t){return this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(e,t)?"line":super.getNodeAtCoords(e,t)}updateLines(e,t,i,n,o,a){const{topLine:r,middleLine:s,bottomLine:l}=this,{lineDashOffset:c,stroke:d,strokeOpacity:u,strokeWidth:h}=e,p=e.getLineDash(),g={lineCap:e.getLineCap(),lineDash:p,lineDashOffset:c,stroke:d,strokeOpacity:u,strokeWidth:h};r.setProperties({...t,...g}),l.setProperties({...i,...g});const f=this.extendLine({x1:o.x1,y1:a.y1+(o.y1-a.y1)/2,x2:o.x2,y2:a.y2+(o.y2-a.y2)/2},e,n);s.setProperties({...f,lineDash:e.middle.lineDash??p,lineDashOffset:e.middle.lineDashOffset??c,stroke:e.middle.stroke??d,strokeOpacity:e.middle.strokeOpacity??u,strokeWidth:e.middle.strokeWidth??h,visible:e.middle.visible??!0})}updateHandles(e,t,i){const{handles:{topLeft:n,topMiddle:o,topRight:a,bottomLeft:r,bottomMiddle:s,bottomRight:l}}=this,c={fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth};n.update({...c,...fQ.start(t)}),a.update({...c,...fQ.end(t)}),r.update({...c,...fQ.start(i)}),l.update({...c,...fQ.end(i)}),o.update({...c,...gQ.sub(fQ.center(t),gQ.from(o.handle.width/2,o.handle.height/2))}),s.update({...c,...gQ.sub(fQ.center(i),gQ.from(s.handle.width/2,s.handle.height/2))})}getBackgroundPoints(e,t,i,n){const o=t.x1>t.x2,a=t.y1>t.y2,r=t.x1!==i.x1&&t.y1!==i.y1,s=t.x2!==i.x2&&t.y2!==i.y2,l=gQ.from(t);return e.extendEnd&&s&&l.push(gQ.from(o?n.x1:n.x2,a?n.y1:n.y2)),l.push(...gQ.from(i).reverse()),e.extendStart&&r&&l.push(gQ.from(o?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:yQ}=MW,vQ=class extends yQ{constructor(e){const t=t=>{let{point:i}=t;const n=new TX,o=i();n.set({start:o,end:o,height:0}),e.create(n),e.addPostUpdateFns((()=>e.node()?.toggleActive(!0)),(()=>e.node()?.toggleHandles({topLeft:!0,topMiddle:!1,topRight:!1,bottomLeft:!1,bottomMiddle:!1,bottomRight:!1})))},i=t=>{let{point:i}=t;const n=e.datum();n?.set({end:i(n?.start,n?.snapToAngle),height:0}),e.update()},n=()=>{e.node()?.toggleHandles({topRight:!0}),e.update()},o=t=>{let{point:i}=t;const n=e.datum();if(null==n?.start.y||null==n?.end.y)return;const o=i().y,a=n.end.y-(o??0),r=n.start.y-a;e.node()?.toggleHandles(!0),e.validatePoint({x:n.start.x,y:r})&&e.validatePoint({x:n.end.x,y:o})&&(n.set({height:a}),e.recordAction("Create parallel-channel annotation"),e.showAnnotationOptions(),e.update())},a=()=>e.delete();super("start",{start:{click:{target:"end",action:t},drag:{target:"end",action:t},reset:yQ.parent},end:{hover:i,drag:i,keyDown:i,keyUp:i,click:{target:"height",action:n},dragEnd:{target:"height",action:n},reset:{target:yQ.parent,action:a},cancel:{target:yQ.parent,action:a}},height:{hover:t=>{let{point:i}=t;const n=e.datum();if(null==n?.start.y||null==n?.end.y)return;const o=i().y,a=n.end.y-(o??0),r=n.start.y-a;e.node()?.toggleHandles({bottomLeft:!0,bottomRight:!0}),e.validatePoint({x:n.start.x,y:r})&&e.validatePoint({x:n.end.x,y:o})&&(n.set({height:a}),e.update())},click:{target:yQ.parent,action:o},drag:{target:yQ.parent,action:o},reset:{target:yQ.parent,action:a},cancel:{target:yQ.parent,action:a}}}),this.debug=SW.Debug.create(!0,"annotations")}},bQ={type:"parallel-channel",datum:TX,scene:mQ,isDatum:TX.is,translate:(e,t,i,n)=>{TX.is(t)&&mQ.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(TX.is(t)&&TX.is(i)&&mQ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{TX.is(t)&&mQ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new vQ({...e,create:i("parallel-channel"),datum:n(TX.is),node:o(mQ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(TX.is),node:n(mQ.is)})}},xQ=class extends ZZ{constructor(){super(),this.type="text",this.append([this.label,this.handle])}static is(e){return yZ.isCheck(e,"text")}getHandleCoords(e,t){const i=gZ.HANDLE_SIZE/2;return{x:t.x+i,y:t.y+2+i}}},SQ=class extends eq{createDatum(){return new jX}},MQ={type:"text",datum:jX,scene:xQ,isDatum:jX.is,translate:(e,t,i,n)=>{jX.is(t)&&xQ.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(jX.is(t)&&jX.is(i)&&xQ.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{jX.is(t)&&xQ.is(e)&&e.update(t,i)},createState:(e,t)=>{let{createDatum:i,getDatum:n,getNode:o}=t;return new SQ({...e,create:i("text"),datum:n(jX.is),node:o(xQ.is)})},dragState:(e,t)=>{let{getDatum:i,getNode:n}=t;return new iZ({...e,datum:i(jX.is),node:n(xQ.is)})}},AQ={[Bq.type]:Bq,[yq.type]:yq,[vq.type]:vq,[bQ.type]:bQ,[Iq.type]:Iq,[XZ.type]:XZ,[iq.type]:iq,[pQ.type]:pQ,[MQ.type]:MQ,[$q.type]:$q,[LZ.type]:LZ,[wZ.type]:wZ,[oQ.type]:oQ,[aQ.type]:aQ,[rQ.type]:rQ,[sQ.type]:sQ};function kQ(e){for(const{isDatum:t}of Object.values(AQ))if(t(e))return e}var wQ=[{label:"toolbarAnnotationsTrendLine",icon:"trend-line-drawing",value:"line"},{label:"toolbarAnnotationsHorizontalLine",icon:"horizontal-line-drawing",value:"horizontal-line"},{label:"toolbarAnnotationsVerticalLine",icon:"vertical-line-drawing",value:"vertical-line"},{label:"toolbarAnnotationsParallelChannel",icon:"parallel-channel-drawing",value:"parallel-channel"},{label:"toolbarAnnotationsDisjointChannel",icon:"disjoint-channel-drawing",value:"disjoint-channel"}],CQ=[{label:"toolbarAnnotationsText",icon:"text-annotation",value:"text"},{label:"toolbarAnnotationsComment",icon:"comment-annotation",value:"comment"},{label:"toolbarAnnotationsCallout",icon:"callout-annotation",value:"callout"},{label:"toolbarAnnotationsNote",icon:"note-annotation",value:"note"}],IQ=[{label:"toolbarAnnotationsArrow",icon:"arrow-drawing",value:"arrow"},{label:"toolbarAnnotationsArrowUp",icon:"arrow-up-drawing",value:"arrow-up"},{label:"toolbarAnnotationsArrowDown",icon:"arrow-down-drawing",value:"arrow-down"}],DQ=[{label:"toolbarAnnotationsQuickDatePriceRange",icon:"measurer-drawing",value:"quick-date-price-range"},{label:"toolbarAnnotationsDateRange",icon:"date-range-drawing",value:"date-range"},{label:"toolbarAnnotationsPriceRange",icon:"price-range-drawing",value:"price-range"},{label:"toolbarAnnotationsDatePriceRange",icon:"date-price-range-drawing",value:"date-price-range"}],NQ=[{strokeWidth:1,label:"1",value:1},{strokeWidth:2,label:"2",value:2},{strokeWidth:3,label:"3",value:3},{strokeWidth:4,label:"4",value:4},{strokeWidth:8,label:"8",value:8}],EQ=[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],OQ=[{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"22",value:22},{label:"28",value:28},{label:"36",value:36},{label:"46",value:46}],{StateMachine:LQ}=MW,TQ=class extends LQ{constructor(e){const t=()=>{null!=this.active&&e.delete(this.active),this.active=void 0,e.select()},i={createDatum:t=>i=>{e.create(t,i),this.active=e.selectLast()},getDatum:t=>()=>{if(null==this.active)return;const i=e.datum(this.active);return t(i)?i:void 0},getNode:t=>()=>{if(null==this.active)return;const i=e.node(this.active);return t(i)?i:void 0}},n={...e,delete:t,showTextInput:()=>{null!=this.active&&e.showTextInput(this.active)},deselect:()=>{const t=this.active;this.active=void 0,this.hovered=void 0,e.select(this.active,t)},showAnnotationOptions:()=>{null!=this.active&&e.showAnnotationOptions(this.active)}},o=Object.fromEntries(Object.entries(AQ).map((e=>{let[t,o]=e;return[t,o.createState(n,i)]}))),a={...e,setSnapping:e=>{this.snapping=e},getSnapping:()=>this.snapping,getHoverCoords:()=>e.getHoverCoords()},r=t=>{let{colorPickerType:i,colorOpacity:n,color:o,opacity:a}=t;const r=e.datum(this.active);r&&("text-color"===i&&e.updateTextInputColor(o),QX(r,i,n,o,a),e.update())},s=t=>{const i=e.datum(this.active),n=e.node(this.active);i&&n&&(_X(i)?(i.fontSize=t,e.updateTextInputFontSize(t)):XX(i)&&(i.text.fontSize=t),e.update())},l=t=>{const i=e.node(this.active);i&&"setTextInputBBox"in i&&(i.setTextInputBBox(t),e.update())},c=t=>{let{textInputValue:i,bbox:n}=t;const o=e.datum(this.active);if(null!=i&&i.length>0){if(!_X(o))return;const t=FY(o,i,n.width);o.set({text:t}),e.update(),e.recordAction(`Change ${o.type} annotation text`)}else e.delete(this.active),e.recordAction(`Delete ${o?.type} annotation`)},d=()=>{e.updateTextInputBBox(void 0)},u=()=>null!=this.active,h=()=>{if(null==this.active)return!1;const t=e.datum(this.active);return!!t&&(XX(t)&&!t.locked)},p=()=>null!=this.active&&!BX(e.datum(this.active));super("idle",{idle:{onEnter:()=>{e.select(this.active,this.active);const t=e.getHoverCoords();t&&(this.hovered=e.hoverAtCoords(t,this.active))},hover:t=>{let{offset:i}=t;this.hovered=e.hoverAtCoords(i,this.active)},keyDown:e=>{let{shiftKey:t}=e;this.snapping=t},keyUp:e=>{let{shiftKey:t}=e;this.snapping=t},translate:{guard:u,action:t=>{let{translation:i}=t;e.startInteracting(),e.translate(this.active,i),e.update()}},translateEnd:{guard:u,action:()=>{e.stopInteracting()}},copy:{guard:p,action:()=>{this.copied=e.copy(this.active)}},cut:{guard:p,action:()=>{this.copied=e.copy(this.active),t()}},paste:{guard:()=>null!=this.copied,action:()=>{e.paste(this.copied)}},selectLast:()=>{const t=this.active;this.active=e.selectLast(),e.select(this.active,t)},click:[{guard:()=>{if(null==this.active||this.hovered!==this.active)return!1;const t=e.datum(this.active);return!!t&&(_X(t)&&!t.locked)},target:"text-input"},{action:()=>{const t=this.active;this.active=this.hovered,e.select(this.hovered,t)}}],dblclick:{guard:h,action:t=>{let{offset:i}=t;const n="text"===e.getNodeAtCoords(i,this.active)?"text":"line";e.showAnnotationSettings(this.active,void 0,n)}},dragStart:[{guard:()=>null!=this.hovered,target:"dragging",action:()=>{const t=this.active;this.active=this.hovered,e.select(this.hovered,t),e.startInteracting()}},{action:()=>{const t=this.active;this.active=this.hovered,e.select(this.hovered,t)}}],color:{guard:u,action:r},fontSize:{guard:u,action:s},lineProps:{guard:u,action:t=>{const i=kQ(e.datum(this.active));i?.set(t),e.update(),e.recordAction(`Change ${i?.type} ${Object.entries(t).map((e=>{let[t,i]=e;return`${t} to ${i}`})).join(", ")}`)}},lineStyle:{guard:u,action:t=>{const i=e.datum(this.active),n=e.node(this.active);i&&n&&VX(i)&&(qX(i,t),e.update())}},lineText:{guard:u,action:t=>{const i=kQ(e.datum(this.active));XX(i)&&(FX(i)&&"center"===t.position&&(t.position="inside"),i.text.set(t),e.update())}},updateTextInputBBox:{guard:u,action:l},toolbarPressSettings:{guard:h,action:t=>{e.showAnnotationSettings(this.active,t)}},reset:()=>{null!=this.active&&e.node(this.active)?.toggleActive(!1),this.hovered=void 0,this.active=void 0,e.select(this.active,this.active),e.resetToIdle()},delete:()=>{if(null==this.active)return;e.delete(this.active);const t=e.datum(this.active);BX(t)||e.recordAction(`Delete ${t?.type} annotation`)},deleteAll:()=>{e.deleteAll()},...o},dragging:{onEnter:(t,i)=>{if(null==this.active)return;const n=e.getAnnotationType(this.active);n&&(this.transition(n),this.transition("dragStart",i))},...Object.fromEntries(Object.entries(AQ).map((e=>{let[t,n]=e;return[t,n.dragState(a,i)]})))},"text-input":{onEnter:()=>{if(null==this.active)return;const t=kQ(e.datum(this.active));t&&"getTextInputCoords"in t&&(e.startInteracting(),e.showTextInput(this.active),t.visible=!1,e.update())},updateTextInputBBox:{guard:u,action:l},zoomChange:{target:"idle",action:c},click:{target:"idle",action:c},drag:{target:"idle",action:c},keyDown:[{guard:GZ,target:"idle",action:d},{guard:VZ,target:"idle",action:c}],color:{guard:u,action:r},fontSize:{guard:u,action:s},cancel:{target:"idle",action:d},onExit:()=>{e.stopInteracting(),e.hideTextInput();const t=this.active;if(this.active=this.hovered=void 0,e.select(this.active,t),null==t)return;const i=e.datum(t),n=e.node(t);i&&n&&(i.visible=!0)}}}),this.debug=SW.Debug.create(!0,"annotations"),this.snapping=!1}getActive(){return this.active}isActive(e){return e===this.active}},{BaseModuleInstance:RQ,InteractionState:PQ,Validate:zQ,BOOLEAN:jQ,createElement:BQ,REGIONS:$Q,ChartAxisDirection:FQ}=MW,_Q="ag-charts-annotations__axis-button",HQ=class extends RQ{constructor(e,t,i,n){super(),this.ctx=e,this.axisCtx=t,this.onButtonClick=i,this.seriesRect=n,this.enabled=!0,this.snap=!1,this.padding=0;const{button:o,wrapper:a}=this.setup();this.wrapper=a,this.button=o,this.toggleVisibility(!1),this.updateButtonElement(),this.snap=t.scaleBandwidth()>0;const r=this.ctx.regionManager.getRegion($Q.SERIES),s=PQ.Default|PQ.Annotations|PQ.AnnotationsSelected;this.destroyFns.push(r.addListener("hover",(e=>this.show(e)),s),r.addListener("drag",(e=>this.show(e)),PQ.Annotations|PQ.AnnotationsSelected),r.addListener("leave",(()=>this.hide()),s),e.highlightManager.addListener("highlight-change",(e=>this.onHighlightChange(e))),e.keyNavManager.addListener("nav-hori",(()=>this.onKeyPress())),e.keyNavManager.addListener("nav-vert",(()=>this.onKeyPress())),e.zoomManager.addListener("zoom-pan-start",(()=>this.hide())),e.zoomManager.addListener("zoom-change",(()=>this.hide())),(()=>this.destroyElements()),(()=>this.wrapper.remove()),(()=>this.button.remove()))}update(e,t){this.seriesRect=e,this.padding=t}setup(){const e=this.ctx.domManager.addChild("canvas-overlay",`${_Q}-${this.axisCtx.axisId}`);e.classList.add(`${_Q}-wrapper`);const t=BQ("button");return t.classList.add(_Q),t.tabIndex=-1,e.appendChild(t),{wrapper:e,button:t}}destroyElements(){this.ctx.domManager.removeChild("canvas-overlay",_Q)}show(e){const{offsetX:t,offsetY:i}=e;if(!this.enabled||!this.seriesRect.containsPoint(t,i))return void this.hide();this.toggleVisibility(!0);const n=this.getButtonCoordinates({x:t,y:i});this.coords=this.getAxisCoordinates(n),this.updatePosition(n)}hide(){this.toggleVisibility(!1)}onHighlightChange(e){e.currentHighlight||this.hide()}onKeyPress(){this.snap||this.hide()}getButtonCoordinates(e){let{x:t,y:i}=e;const{axisCtx:{direction:n,position:o},seriesRect:a,snap:r,axisCtx:s,padding:l}=this,{clientWidth:c,clientHeight:d}=this.button,[u,h]=[a.y,a.y+a.height],[p,g]=[a.x,a.x+a.width];if(r&&(t=FK(HK(t-a.x,s),s)+a.x,i=FK(HK(i-a.y,s),s)+a.y),n===FQ.X){const e=5,n=d-Math.max(0,l-e);t-=c/2,i="top"===o?u-d+n:h-n}else{const e=9,n=c-Math.max(0,l-e);t="left"===o?p-c+n:g-n,i-=d/2}return{x:t,y:i}}getAxisCoordinates(e){const{seriesRect:t}=this,{clientWidth:i,clientHeight:n}=this.button;return{x:e.x-t.x+i/2,y:e.y-t.y+n/2}}toggleVisibility(e){const{button:t}=this;if(null==t)return;const i=this.enabled&&e;this.toggleClass("-hidden",!i)}toggleClass(e,t){this.wrapper.classList.toggle(`${_Q}-wrapper-${e}`,t)}updatePosition(e){let{x:t,y:i}=e;this.wrapper.style.transform=`translate(${Math.round(t)}px, ${Math.round(i)}px)`}updateButtonElement(){const{button:e,ctx:t}=this;e.onclick=MW.makeAccessibleClickListener(e,(()=>this.onButtonClick(this.coords))),e.innerHTML=`<span class="${t.domManager.getIconClassNames("zoom-in")} ${_Q}-icon"></span>`}};GW([zQ(jQ)],HQ.prototype,"enabled",2);var{Vec2:WQ,createButton:GQ,createCheckbox:VQ,createElement:UQ,createElementId:KQ,createIcon:YQ,createSelect:XQ,createTextArea:ZQ,initRovingTabIndex:qQ,getWindow:QQ,mapValues:JQ}=MW,{Color:eJ,setAttribute:tJ,setAttributes:iJ}=SW,nJ=class e extends kU{constructor(e,t){super(e,t),this.colorPicker=new jU(this.ctx,{detached:!0}),this.destroyFns.push(e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)))}showWithChildren(e,t){t.initialFocus??(t.initialFocus=this.initialFocus);const i=super.showWithChildren(e,t);return i.classList.add("ag-charts-dialog"),i.setAttribute("role","dialog"),i.addEventListener("mousedown",(e=>{e.target.classList?.contains("ag-charts-dialog__color-picker-button")||this.colorPicker.hide()})),i.addEventListener("keydown",this.onKeyDown.bind(this)),QQ().requestAnimationFrame((()=>this.reposition())),this.colorPicker.attachTo(this),i}updatePosition(e){super.updatePosition(e);const{anchor:t,fallbackAnchor:i}=this.getColorPickerAnchors()??{};t&&this.colorPicker.setAnchor(t,i)}createTabs(e,t,i){const n=UQ("div","ag-charts-dialog__tabs"),o=JQ(i,(()=>KQ("ag-charts-dialog__tab"))),a=JQ(i,(()=>KQ("ag-charts-dialog__tab-panel")));for(const[h,p]of Object.entries(i))iJ(p.panel,{id:a[h],role:"tabpanel","aria-labelledby":o[h]});const r=e=>{for(const[t,n]of Object.entries(i))n.panel.classList.toggle("ag-charts-dialog__tab-panel--active",t===e),c[t].classList.toggle("ag-charts-dialog__tab-button--active",t===e),tJ(c[t],"aria-selected",t===e),t===e&&n.onShow?.()},s=UQ("div","ag-charts-dialog__header");s.addEventListener("mousedown",(e=>{e.target instanceof Element&&e.target.classList.contains("ag-charts-dialog__header")&&this.onDragStart(e)}));const l=this.createHeaderDragHandle(),c=JQ(i,((e,t)=>GQ({label:this.ctx.localeManager.t(e.label),onPress:()=>r(t)},{id:o[t],class:"ag-charts-dialog__tab-button",role:"tab","aria-controls":a[t]}))),d=UQ("div","ag-charts-dialog__tab-list");iJ(d,{role:"tablist","aria-label":this.ctx.localeManager.t(e)}),d.append(...Object.values(c));const u=this.createHeaderCloseButton();return s.append(l,d,u),n.append(s,...Object.values(i).map((e=>e.panel))),r(t),qQ({orientation:"horizontal",buttons:Object.values(c)}),this.initialFocus=c[t],n}createTabPanel(){return UQ("div","ag-charts-dialog__tab-panel")}createInputGroupLine(){return UQ("div","ag-charts-dialog__input-group-line")}createRadioGroup(e){let{label:t,options:i,value:n,onChange:o}=e;const a=this.createInputGroup(t);iJ(a,{role:"radiogroup",tabindex:-1,"aria-label":this.ctx.localeManager.t(t)});const r="ag-charts-dialog__button--active",s=[];for(const l of i){const{icon:e,altText:t}=l,i=this.ctx.localeManager.t(t),c=GQ({icon:e,altText:i,onPress:()=>{for(const e of Array.from(a.children))e.classList.remove(r),e.ariaChecked="false";c.classList.add(r),c.ariaChecked="true",o(l.value)}},{"aria-checked":l.value===n,class:"ag-charts-dialog__button",role:"radio",title:i});l.value===n&&c.classList.add(r),a.appendChild(c),s.push(c)}return qQ({orientation:"horizontal",buttons:s}),a}createSelect(e){let{altText:t,label:i,options:n,value:o,onChange:a}=e;const r=this.createInputGroup(i),s=this.ctx.localeManager.t(t),l=XQ({value:o,options:n,onChange:a},{class:"ag-charts-dialog__select","aria-label":s,title:s});return r.append(l),r}createTextArea(e){let{placeholder:t,value:i,onChange:n}=e;const o=t?this.ctx.localeManager.t(t):void 0;return ZQ({value:i,onChange:n},{placeholder:o})}createCheckbox(e){let{label:t,checked:i,onChange:n}=e;const o=`ag-charts__${t}`,a=this.createInputGroup(t,{for:o}),r=VQ({checked:i,onChange:n},{class:"ag-charts-dialog__checkbox",role:"switch",id:o});return a.append(r),a}createColorPicker(e){let{color:t,opacity:i,label:n,altText:o,onChange:a,onChangeHide:r}=e;const s=this.createInputGroup(n),l=this.ctx.localeManager.t(o),c=GQ({label:l,onPress:e=>{const{anchor:n,fallbackAnchor:o}=this.getColorPickerAnchors(c)??{};this.colorPicker.show({anchor:n,fallbackAnchor:o,color:t,opacity:i,sourceEvent:e,onChange:(e,t,i)=>{c.style.setProperty("--color",e),a(e,t,i)},onChangeHide:r})}},{"aria-label":l,tabindex:0,class:"ag-charts-dialog__color-picker-button",title:l});if(t){const e=eJ.fromHexString(t),n=new eJ(e.r,e.g,e.b,i);c.style.setProperty("--color",n.toHexString())}return s.append(c),this.hideFns.push((()=>{this.colorPicker.hide()})),s}createHeaderDragHandle(){const e=UQ("div","ag-charts-dialog__drag-handle"),t=YQ("drag-handle");return e.append(t),e.addEventListener("mousedown",(t=>this.onDragStart(t,e))),e}createHeaderCloseButton(){return GQ({icon:"close",altText:this.ctx.localeManager.t("iconAltTextClose"),onPress:()=>this.hide()},{class:"ag-charts-dialog__close-button"})}createInputGroup(e,t){const i=UQ("div","ag-charts-dialog__input-group"),n=UQ("label","ag-charts-dialog__input-group-label");return n.innerText=this.ctx.localeManager.t(e),t?.for&&n.setAttribute("for",t.for),i.appendChild(n),i}onLayoutComplete(e){this.seriesRect=e.series.paddedRect,this.reposition()}onKeyDown(e){e.altKey||e.ctrlKey||e.metaKey||e.isComposing||"Escape"!==e.key||this.hide()}onDragStart(e,t){const i=this.getPopoverElement();if(!i)return;const{ctx:{domManager:n}}=this;e.preventDefault(),this.dragStartState={client:WQ.from(e.clientX,e.clientY),position:WQ.from(Number(i.style.getPropertyValue("left").replace("px","")),Number(i.style.getPropertyValue("top").replace("px","")))},t?.classList.add("ag-charts-dialog__drag-handle--dragging");const o=this.onDrag.bind(this),a=()=>{n.removeEventListener("mousemove",o),t?.classList.remove("ag-charts-dialog__drag-handle--dragging")};n.addEventListener("mousemove",o),n.addEventListener("mouseup",a,{once:!0}),i.addEventListener("mouseup",(()=>a),{once:!0})}onDrag(e){const{dragStartState:t}=this,i=this.getPopoverElement();if(!t||!i)return;const n=WQ.sub(WQ.from(e.clientX,e.clientY),t.client),o=WQ.add(t.position,n),a=this.ctx.domManager.getBoundingClientRect();o.x>=a.x&&o.x+i.offsetWidth<=a.width&&i.style.setProperty("left",`${o.x}px`),o.y>=a.y&&o.y+i.offsetHeight<=a.height&&i.style.setProperty("top",`${o.y}px`)}reposition(){const{seriesRect:t,ctx:i}=this,n=i.domManager.getBoundingClientRect(),o=this.getPopoverElement();if(!t||!o)return;const a=WQ.from(0,t.y),r=WQ.from(n.width,t.height),s=WQ.from(o),l=WQ.from(.5,1);let c;if(t.width>1e3){const t=WQ.sub(WQ.add(a,WQ.multiply(r,l)),WQ.multiply(s,l));c=WQ.sub(t,WQ.from(0,e.offset))}else{const t=WQ.sub(WQ.add(a,r),s);c=WQ.sub(t,e.offset)}this.updatePosition(c)}getColorPickerAnchors(e){if(e&&(this.colorPickerAnchorElement=e),!this.colorPickerAnchorElement)return;const t=this.colorPickerAnchorElement.getBoundingClientRect(),i=this.ctx.domManager.getBoundingClientRect(),n=WQ.sub(WQ.from(t.x,t.y),WQ.from(i.left,i.top));return{anchor:WQ.add(n,WQ.from(0,t.height+5)),fallbackAnchor:WQ.sub(n,WQ.from(0,5))}}};nJ.offset=60;var oJ=nJ,{focusCursorAtEnd:aJ}=MW,rJ=class extends oJ{constructor(e){super(e,"settings")}show(e,t){const i=this.createLinearLineTab(e,t),n=this.createLinearTextTab(e,t);let o="dialogHeaderLine";FX(e)?o="dialogHeaderChannel":"date-range"===e.type?o="dialogHeaderDateRange":"price-range"===e.type?o="dialogHeaderPriceRange":"date-price-range"===e.type&&(o="dialogHeaderDatePriceRange");const a=this.createTabs("ariaLabelSettingsTabBar",t.initialSelectedTab,{line:{label:o,panel:i},text:{label:"dialogHeaderText",panel:n.panel,onShow:n.onShow}});this.showWithChildren([a],t).classList.add("ag-charts-dialog--annotation-settings")}createLinearLineTab(e,t){const i=this.createTabPanel(),n=this.createInputGroupLine(),o=this.createInputGroupLine(),a=this.createColorPickerInput("line-color",e.getDefaultColor("line-color"),e.getDefaultOpacity("line-color"),t.onChangeLineColor,t.onChangeHideLineColor),r=this.createStrokeWidthSelect(e.strokeWidth??2,t.onChangeLineStyleWidth),s=this.createLineStyleRadioGroup(e.lineStyle??"solid",t.onChangeLineStyleType);if("background"in e){const i=this.createColorPickerInput("fill-color",e.getDefaultColor("fill-color"),e.getDefaultOpacity("fill-color"),t.onChangeFillColor,t.onChangeHideFillColor);n.append(a,i),o.append(r,s)}else n.append(a,r),o.append(s);return i.append(n,o),"extendStart"in e&&"extendEnd"in e&&i.append(this.createCheckbox({label:FX(e)?"dialogInputExtendChannelStart":"dialogInputExtendLineStart",checked:e.extendStart??!1,onChange:e=>t.onChangeLine({extendStart:e})}),this.createCheckbox({label:FX(e)?"dialogInputExtendChannelEnd":"dialogInputExtendLineEnd",checked:e.extendEnd??!1,onChange:e=>t.onChangeLine({extendEnd:e})})),"extendAbove"in e&&"extendBelow"in e&&i.append(this.createCheckbox({label:"dialogInputExtendAbove",checked:e.extendAbove??!1,onChange:e=>t.onChangeLine({extendAbove:e})}),this.createCheckbox({label:"dialogInputExtendBelow",checked:e.extendBelow??!1,onChange:e=>t.onChangeLine({extendBelow:e})})),"extendLeft"in e&&"extendRight"in e&&i.append(this.createCheckbox({label:"dialogInputExtendLeft",checked:e.extendLeft??!1,onChange:e=>t.onChangeLine({extendLeft:e})}),this.createCheckbox({label:"dialogInputExtendRight",checked:e.extendRight??!1,onChange:e=>t.onChangeLine({extendRight:e})})),i}createLinearTextTab(e,t){const i=this.createTabPanel(),n=this.createTextArea({placeholder:"inputTextareaPlaceholder",value:e.text.label,onChange:e=>t.onChangeText({label:e})}),o=this.createInputGroupLine(),a=this.createFontSizeSelect(e.text.fontSize,t.onChangeTextFontSize),r=this.createColorPickerInput("text-color",e.text.color,1,t.onChangeTextColor,t.onChangeHideTextColor);o.append(a,r);const s=this.createInputGroupLine(),l="inside"===e.text.position?"center":e.text.position,c=this.createPositionRadioGroup(l??"top",(e=>t.onChangeText({position:e}))),d=this.createAlignmentRadioGroup(e.text.alignment??"center",(e=>t.onChangeText({alignment:e})));return s.append(c,d),i.append(n,o,s),{panel:i,onShow:()=>aJ(n)}}createColorPickerInput(e,t,i,n,o){const a="fill-color"===e?"dialogInputFillColorPicker":"dialogInputColorPicker",r="fill-color"===e?"dialogInputFillColorPickerAltText":"dialogInputColorPickerAltText";return this.createColorPicker({label:a,altText:r,color:t,opacity:i,onChange:n,onChangeHide:o})}createStrokeWidthSelect(e,t){return this.createSelect({label:"dialogInputStrokeWidth",altText:"dialogInputStrokeWidthAltText",options:NQ.map((e=>{let{label:t,value:i}=e;return{label:t,value:`${i}`}})),value:String(e),onChange:e=>t(Number(e))})}createLineStyleRadioGroup(e,t){return this.createRadioGroup({label:"dialogInputLineStyle",options:[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],value:e,onChange:t})}createFontSizeSelect(e,t){return this.createSelect({label:"dialogInputFontSize",altText:"dialogInputFontSizeAltText",options:OQ.map((e=>{let{label:t,value:i}=e;return{label:t,value:String(i)}})),value:String(e),onChange:e=>t(Number(e))})}createPositionRadioGroup(e,t){return this.createRadioGroup({label:"dialogInputPosition",options:[{icon:"position-top",altText:"iconAltTextPositionTop",value:"top"},{icon:"position-center",altText:"iconAltTextPositionCenter",value:"center"},{icon:"position-bottom",altText:"iconAltTextPositionBottom",value:"bottom"}],value:e,onChange:t})}createAlignmentRadioGroup(e,t){return this.createRadioGroup({label:"dialogInputAlign",options:[{icon:"align-left",altText:"iconAltTextAlignLeft",value:"left"},{icon:"align-center",altText:"iconAltTextAlignCenter",value:"center"},{icon:"align-right",altText:"iconAltTextAlignRight",value:"right"}],value:e,onChange:t})}};function sJ(e){return e.gridPadding+e.seriesAreaPadding+e.tickSize+e.label.padding}var{BOOLEAN:lJ,ChartUpdateType:cJ,InteractionState:dJ,ObserveChanges:uJ,PropertiesArray:hJ,ToolbarManager:pJ,Validate:gJ,REGIONS:fJ,ChartAxisDirection:mJ,Vec2:yJ,isValidDate:vJ,keyProperty:bJ,valueProperty:xJ}=MW,SJ=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,this.axesButtons=new UU,this.data=void 0,this.xKey=void 0,this.volumeKey=void 0,this.annotationData=new hJ(this.createAnnotationDatum),this.defaults=new JX,this.container=new rW.Group({name:"static-annotations"}),this.annotations=new rW.Selection(this.container,this.createAnnotationScene.bind(this)),this.colorPicker=new jU(this.ctx),this.textSizeMenu=new EU(this.ctx,"text-size"),this.lineStyleTypeMenu=new EU(this.ctx,"annotations-line-style-type"),this.lineStrokeWidthMenu=new EU(this.ctx,"annotations-line-stroke-width"),this.annotationMenu=new EU(this.ctx,"annotations"),this.settingsDialog=new rJ(this.ctx),this.textInput=new _U(this.ctx),this.postUpdateFns=[],this.state=this.setupStateMachine(),this.setupListeners(),this.ctx.historyManager.addMementoOriginator(e.annotationManager),this.ctx.historyManager.addMementoOriginator(this.defaults),this.textInput.setKeyDownHandler(this.onTextInput.bind(this))}setupStateMachine(){var e=this;const{ctx:t}=this;return new TQ({resetToIdle:()=>{t.cursorManager.updateCursor("annotations"),t.toolbarManager.toggleGroup("annotations","annotationOptions",{visible:!1}),t.tooltipManager.unsuppressTooltip("annotations"),this.hideOverlays(),this.deleteEphemeralAnnotations(),this.resetToolbarButtonStates(),this.toggleAnnotationOptionsButtons(),this.update()},hoverAtCoords:(e,t)=>{let i;return this.annotations.each(((n,o,a)=>{const r=n.containsPoint(e.x,e.y);r&&(i??(i=a)),n.toggleHovered(r||t===a)})),this.ctx.cursorManager.updateCursor("annotations",null==i?void 0:this.annotations.at(i)?.getCursor()),i},getHoverCoords:()=>this.hoverCoords,getNodeAtCoords:(e,t)=>{const i=this.annotations.at(t);if(i)return i.getNodeAtCoords(e.x,e.y)},translate:(e,t)=>{const i=this.annotations.at(e),n=kQ(this.annotationData.at(e));if(i&&n)return this.translateNode(i,n,t)},copy:e=>{const t=this.annotations.at(e),i=kQ(this.annotationData.at(e));if(t&&i)return this.createAnnotationDatumCopy(t,i)},paste:e=>{this.createAnnotation(e.type,e,!1),this.postUpdateFns.push((()=>{this.state.transitionAsync("selectLast"),this.state.transitionAsync("copy")}))},select:(e,t)=>{const{annotations:i,ctx:{toolbarManager:n,tooltipManager:o}}=this;this.hideOverlays();const a=null!=e?i.at(e):null,r=null!=t?i.at(t):null;r===a&&null!=a||(r?.toggleActive(!1),n.toggleGroup("annotations","annotationOptions",{visible:!1}),a?(this.ctx.interactionManager.pushState(dJ.AnnotationsSelected),a.toggleActive(!0),o.suppressTooltip("annotations"),this.toggleAnnotationOptionsButtons(),this.postUpdateFns.push((()=>{n.toggleGroup("annotations","annotationOptions",{visible:!0}),n.changeFloatingAnchor("annotationOptions",a.getAnchor())}))):(this.ctx.interactionManager.popState(dJ.AnnotationsSelected),this.ctx.interactionManager.popState(dJ.Annotations),o.unsuppressTooltip("annotations")),n.updateButton("annotations","line-menu",{icon:void 0}),n.updateButton("annotations","text-menu",{icon:void 0}),n.updateButton("annotations","shape-menu",{icon:void 0}),n.updateButton("annotations","measurer-menu",{icon:void 0}),this.deleteEphemeralAnnotations(),this.update())},selectLast:()=>(this.ctx.interactionManager.pushState(dJ.AnnotationsSelected),this.annotationData.length-1),startInteracting:()=>{this.ctx.interactionManager.pushState(dJ.Annotations)},stopInteracting:()=>{this.ctx.interactionManager.popState(dJ.Annotations)},create:(e,t)=>{this.createAnnotation(e,t)},delete:e=>{this.annotationData.splice(e,1)},deleteAll:()=>{this.annotationData.splice(0,this.annotationData.length)},validatePoint:e=>{const t=this.getAnnotationContext();return!t||nX(t,e)},getAnnotationType:e=>qU(this.annotationData[e].type),datum:e=>this.annotationData.at(e),node:e=>this.annotations.at(e),recordAction:e=>{this.recordActionAfterNextUpdate(e)},update:()=>{this.postUpdateFns.push((()=>{const e=this.state.getActive(),i=null!=e?this.annotations.at(e):null;null!=i&&t.toolbarManager.changeFloatingAnchor("annotationOptions",i.getAnchor())})),this.update()},addPostUpdateFns:function(){e.postUpdateFns.push(...arguments)},showTextInput:e=>{const t=kQ(this.annotationData.at(e));if(!this.annotations.at(e)||!t||!("getTextInputCoords"in t)||!("getTextPosition"in t))return;const i={color:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,placeholderColor:t.getPlaceholderColor()},n=this.getAnnotationContext();this.textInput.show({styles:i,layout:{getTextInputCoords:e=>yJ.add(t.getTextInputCoords(n,e),yJ.required(this.seriesRect)),getTextPosition:()=>t.getTextPosition(),alignment:t.alignment,textAlign:t.textAlign,width:t.width},text:t.text,placeholderText:t.placeholderText,onChange:(e,t)=>{this.state.transition("updateTextInputBBox",t)}}),this.ctx.cursorManager.updateCursor("annotations",void 0)},hideTextInput:()=>{this.textInput.hide()},updateTextInputColor:e=>{this.textInput.updateColor(e)},updateTextInputFontSize:e=>{const t=this.textInput.updateFontSize(e);this.state.transition("updateTextInputBBox",t)},updateTextInputBBox:e=>{this.state.transition("updateTextInputBBox",e)},showAnnotationOptions:e=>{const i=this.annotations.at(e);i&&!BX(this.annotationData.at(e))&&(this.toggleAnnotationOptionsButtons(),t.toolbarManager.toggleGroup("annotations","annotationOptions",{visible:!0}),t.toolbarManager.changeFloatingAnchor("annotationOptions",i.getAnchor()))},showAnnotationSettings:function(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"line";const o=e.annotationData.at(t);if(!$X(o)&&!FX(o)&&!HX(o))return;if(BX(o))return;const a=t=>(i,n,a)=>{e.setColorAndDefault(o.type,t,i,n,a),e.updateToolbarColorPickerFill(t,n,a)},r=t=>()=>{e.recordActionAfterNextUpdate(`Change ${o.type} ${t} to ${o.getDefaultColor(t)}`,["annotations","defaults"]),e.update()},s={initialSelectedTab:n,ariaLabel:e.ctx.localeManager.t("ariaLabelAnnotationSettingsDialog"),sourceEvent:i,onChangeLine:t=>{e.state.transition("lineProps",t)},onChangeText:t=>{e.state.transition("lineText",t),t.alignment&&e.defaults.setDefaultLineTextAlignment(o.type,t.alignment),t.position&&e.defaults.setDefaultLineTextPosition(o.type,t.position),e.recordActionAfterNextUpdate(`Change ${o.type} text ${Object.entries(t).map((e=>{let[t,i]=e;return`${t} to ${i}`})).join(", ")}`)},onChangeFillColor:a("fill-color"),onChangeHideFillColor:r("fill-color"),onChangeLineColor:a("line-color"),onChangeHideLineColor:r("line-color"),onChangeLineStyleType:t=>{e.setLineStyleTypeAndDefault(o.type,t),e.updateToolbarLineStyleType(EQ.find((e=>e.value===t))??EQ[0])},onChangeLineStyleWidth:t=>{e.setLineStyleWidthAndDefault(o.type,t),e.updateToolbarStrokeWidth({strokeWidth:t,value:t,label:String(t)})},onChangeTextColor:a("text-color"),onChangeHideTextColor:r("text-color"),onChangeTextFontSize:t=>{e.setFontSizeAndDefault(o.type,t)}};e.settingsDialog.show(o,s)}})}setupListeners(){const{ctx:e}=this,{All:t,Default:i,Annotations:n,AnnotationsSelected:o,ZoomDrag:a}=dJ,r=e.regionManager.getRegion(fJ.SERIES),s=Object.values(fJ).filter((e=>![fJ.SERIES,fJ.NAVIGATOR].includes(e))).map((t=>e.regionManager.getRegion(t))),l=i|a|n|o;this.destroyFns.push(r.addListener("hover",this.onHover.bind(this),t),r.addListener("click",this.onClick.bind(this),t),r.addListener("dblclick",this.onDoubleClick.bind(this),t),r.addListener("drag-start",this.onDragStart.bind(this),l),r.addListener("drag",this.onDrag.bind(this),l),r.addListener("drag-end",this.onDragEnd.bind(this),t),e.interactionManager.addListener("keydown",this.onKeyDown.bind(this),t),e.interactionManager.addListener("keyup",this.onKeyUp.bind(this),t),...s.map((e=>e.addListener("click",this.onCancel.bind(this),t))),e.annotationManager.addListener("restore-annotations",this.onRestoreAnnotations.bind(this)),e.toolbarManager.addListener("button-pressed",this.onToolbarButtonPress.bind(this)),e.toolbarManager.addListener("button-moved",this.onToolbarButtonMoved.bind(this)),e.toolbarManager.addListener("group-moved",this.onToolbarGroupMoved.bind(this)),e.toolbarManager.addListener("cancelled",this.onToolbarCancelled.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-scene-render",this.onPreRender.bind(this)),e.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())),e.annotationManager.attachNode(this.container),(()=>this.colorPicker.destroy()),(()=>e.domManager.removeStyles(_Q)))}destroy(){super.destroy()}async processData(e){if(!this.enabled||null==this.data||null==this.xKey||null==this.volumeKey)return;const t=[bJ(this.xKey,void 0,{id:"date"}),xJ(this.volumeKey,"number",{id:"volume"})],{dataModel:i,processedData:n}=await e.request("annotations",this.data,{props:t});this.dataModel=i,this.processedData=n}createAnnotationScene(e){if(e.type in AQ)return new AQ[e.type].scene;throw new Error(`AG Charts - Cannot create annotation scene of type [${e.type}], expected one of [${Object.keys(AQ)}], ignoring.`)}createAnnotationDatum(e){if(e.type in AQ)return(new AQ[e.type].datum).set(e);throw new Error(`AG Charts - Cannot create annotation datum of unknown type [${e.type}], expected one of [${Object.keys(AQ)}], ignoring.`)}createAnnotation(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.annotationData.push(t),i){const i=this.ctx.annotationManager.getAnnotationTypeStyles(e);i&&t.set(i),this.defaults.applyDefaults(t)}this.injectDatumDependencies(t),this.resetToolbarButtonStates(),this.update()}injectDatumDependencies(e){"setLocaleManager"in e&&e.setLocaleManager(this.ctx.localeManager),"getVolume"in e&&(e.getVolume=this.getDatumRangeVolume.bind(this))}getDatumRangeVolume(e,t){if(!vJ(e)||!vJ(t)||!this.dataModel||!this.processedData)return;e>t&&([e,t]=[t,e]);const i=this.dataModel.resolveProcessedDataDefById({id:"annotations"},"date"),n=this.dataModel.resolveProcessedDataDefById({id:"annotations"},"volume");return this.processedData.data.reduce(((o,a)=>{const r=a.keys[i.index];return vJ(r)&&r>=e&&r<=t?o+a.values[n.index]:o}),0)}translateNode(e,t,i){const n=this.getAnnotationConfig(t),o=this.getAnnotationContext();o&&n.translate(e,t,i,o)}createAnnotationDatumCopy(e,t){const i=this.getAnnotationConfig(t),n=new i.datum;n.set(t.toJson());const o=this.getAnnotationContext();if(o)return i.copy(e,t,n,o)}getAnnotationConfig(e){if(e.type in AQ)return AQ[e.type];throw new Error(`AG Charts - Cannot get annotation config of unknown type [${e.type}], expected one of [${Object.keys(AQ)}], ignoring.`)}onRestoreAnnotations(e){this.enabled&&(this.clear(),this.annotationData.set(e.annotations),this.update())}onToolbarButtonPress(e){if(pJ.isGroup("annotationOptions",e))this.onToolbarAnnotationOptionButtonPress(e);else{if(pJ.isGroup("annotations",e))return"clear"===e.value?(this.clear(),void this.recordActionAfterNextUpdate("Clear all annotations")):void("line-menu"!==e.value?"text-menu"!==e.value?"shape-menu"!==e.value?"measurer-menu"!==e.value?this.onToolbarButtonPressAnnotation(e):this.onToolbarButtonPressMenu(e,"toolbarAnnotationsMeasurerAnnotations",DQ):this.onToolbarButtonPressMenu(e,"toolbarAnnotationsShapeAnnotations",IQ):this.onToolbarButtonPressMenu(e,"toolbarAnnotationsTextAnnotations",CQ):this.onToolbarButtonPressMenu(e,"toolbarAnnotationsLineAnnotations",wQ));this.reset()}}onToolbarAnnotationOptionButtonPress(e){if(!pJ.isGroup("annotationOptions",e))return;const{annotationData:t,state:i}=this,n=i.getActive();if(null==n)return;this.hideOverlays();const o=kQ(t[n]),a=this.annotations.at(n);switch(e.value){case"line-style-type":{const t=VX(o)?gY(o.lineDash,o.lineStyle):void 0;this.lineStyleTypeMenu.show({items:EQ,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStyle"),value:t,sourceEvent:e.sourceEvent,onPress:e=>this.onLineStyleTypeMenuPress(e,o),class:"annotations__line-style-type"});break}case"line-stroke-width":{const t=VX(o)?o.strokeWidth:void 0;this.lineStrokeWidthMenu.show({items:NQ,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStrokeWidth"),value:t,sourceEvent:e.sourceEvent,onPress:e=>this.onLineStrokeWidthMenuPress(e,o),class:"annotations__line-stroke-width"});break}case"line-color":case"fill-color":case"text-color":this.colorPicker.show({color:o?.getDefaultColor(e.value),opacity:o?.getDefaultOpacity(e.value),sourceEvent:e.sourceEvent,onChange:null!=o?this.onColorPickerChange.bind(this,e.value,o):void 0,onChangeHide:(t=>{this.recordActionAfterNextUpdate(`Change ${a?.type} ${e.value} to ${o?.getDefaultColor(t)}`,["annotations","defaults"])}).bind(this,e.value)});break;case"text-size":{const t=_X(o)?o.fontSize:void 0;this.textSizeMenu.show({items:OQ,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsTextSize"),value:t,sourceEvent:e.sourceEvent,onPress:e=>this.onTextSizeMenuPress(e,o),class:"ag-charts-annotations-text-size-menu"});break}case"delete":this.cancel(),this.delete(),this.reset();break;case"lock":t[n].locked=!t[n].locked,this.toggleAnnotationOptionsButtons();break;case"settings":i.transition("toolbarPressSettings",e.sourceEvent)}this.update()}onToolbarButtonPressMenu(e,t,i){const{x:n,y:o,width:a}=e.rect;this.cancel(),this.reset(),this.annotationMenu.setAnchor({x:n+a+6,y:o}),this.annotationMenu.show({items:i,ariaLabel:this.ctx.localeManager.t(t),sourceEvent:e.sourceEvent,onPress:this.onAnnotationsMenuPress.bind(this,e)})}onToolbarButtonPressAnnotation(e){this.ctx.tooltipManager.suppressTooltip("annotations");const t=qU(e.value);t?this.beginAnnotationPlacement(t):(SW.Logger.errorOnce(`Can not create unknown annotation type [${e.value}], ignoring.`),this.update())}onToolbarButtonMoved(e){const{group:t,rect:i,groupRect:n,value:o}=e;if("annotationOptions"!==t)return;const a={x:i.x,y:i.y+i.height-1};switch(o){case"fill-color":case"line-color":case"text-color":{const e=yJ.add(n,yJ.from(0,n.height+4)),t={y:n.y-4};this.colorPicker.setAnchor(e,t);break}case"line-stroke-width":this.lineStrokeWidthMenu.setAnchor(a);break;case"line-style-type":this.lineStyleTypeMenu.setAnchor(a);break;case"text-size":this.textSizeMenu.setAnchor(a)}}onToolbarGroupMoved(e){this.hideOverlays()}onColorPickerChange(e,t,i,n,o){this.setColorAndDefault(t.type,e,i,n,o),this.updateToolbarColorPickerFill(e,i)}updateToolbarColorPickerFill(e,t,i){if(null!=t&&null!=i){const{r:e,g:n,b:o}=SW.Color.fromString(t);t=SW.Color.fromArray([e,n,o,i]).toHexString()}this.ctx.toolbarManager.updateButton("annotationOptions",e,{fill:t})}updateToolbarFills(){const e=this.state.getActive(),t=kQ(null!=e?this.annotationData[e]:void 0);this.updateToolbarColorPickerFill("line-color",t?.getDefaultColor("line-color"),t?.getDefaultOpacity("line-color")),this.updateToolbarColorPickerFill("fill-color",t?.getDefaultColor("fill-color"),t?.getDefaultOpacity("fill-color")),this.updateToolbarColorPickerFill("text-color",t?.getDefaultColor("text-color"),t?.getDefaultOpacity("text-color"))}updateToolbarFontSize(e){this.ctx.toolbarManager.updateButton("annotationOptions","text-size",{label:null!=e?String(e):void 0})}updateToolbarLineStyleType(e){this.ctx.toolbarManager.updateButton("annotationOptions","line-style-type",{icon:e.icon})}updateToolbarStrokeWidth(e){this.ctx.toolbarManager.updateButton("annotationOptions","line-stroke-width",{label:e.label,strokeWidth:e.value})}onTextSizeMenuPress(e,t){if(!GX(t))return;const i=e.value;this.setFontSizeAndDefault(t.type,i),this.textSizeMenu.hide(),this.updateToolbarFontSize(i)}onLineStyleTypeMenuPress(e,t){if(!VX(t))return;const i=e.value;this.setLineStyleTypeAndDefault(t.type,i),this.lineStyleTypeMenu.hide(),this.updateToolbarLineStyleType(e)}onLineStrokeWidthMenuPress(e,t){if(!VX(t))return;const i=e.value;this.setLineStyleWidthAndDefault(t.type,i),this.lineStrokeWidthMenu.hide(),this.updateToolbarStrokeWidth(e)}onAnnotationsMenuPress(e,t){const{toolbarManager:i}=this.ctx;i.toggleButton("annotations",e.id,{active:!0}),i.updateButton("annotations",e.id,{icon:t.icon}),this.beginAnnotationPlacement(t.value),this.annotationMenu.hide()}onToolbarCancelled(e){"annotations"===e.group&&this.cancelPlacementInteraction()}cancelPlacementInteraction(){this.cancel(),this.resetToolbarButtonStates(),this.reset(),this.update()}onLayoutComplete(e){const t=e.series.paddedRect;this.seriesRect=t;for(const i of e.axes??[])i.direction===MW.ChartAxisDirection.X?this.xAxis=this.getAxis(i,t,this.xAxis?.button):this.yAxis=this.getAxis(i,t,this.yAxis?.button)}onPreRender(){this.updateAnnotations(),this.state.transition("render")}getAxis(e,t,i){const n=this.ctx.axisManager.getAxisContext(e.direction)[0],{position:o="bottom",direction:a}=n,r=e.gridPadding+e.seriesAreaPadding,s=LU(new rW.BBox(0,0,t.width,t.height),o,r),l=n.direction===mJ.X?"vertical":"horizontal",{axesButtons:c}=this;if(this.enabled&&c.enabled&&("xy"===c.axes||c.axes===a)){i??(i=new HQ(this.ctx,n,(e=>this.onAxisButtonClick(e,l)),t));const o=sJ(e);i.update(t,o)}else i?.destroy(),i=void 0;return{layout:e,context:n,bounds:s,button:i}}recordActionAfterNextUpdate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotations"];const{defaults:i,ctx:{annotationManager:n,historyManager:o}}=this,a=t.map((e=>"defaults"===e?i:n));this.postUpdateFns.push((()=>{o.record(e,...a)}))}setColorAndDefault(e,t,i,n,o){this.state.transition("color",{colorPickerType:t,colorOpacity:i,color:n,opacity:o}),this.defaults.setDefaultColor(e,t,i,n,o)}setFontSizeAndDefault(e,t){this.state.transition("fontSize",t),this.defaults.setDefaultFontSize(e,t),this.recordActionAfterNextUpdate(`Change ${e} font size to ${t}`,["annotations","defaults"])}setLineStyleTypeAndDefault(e,t){this.state.transition("lineStyle",{type:t}),this.defaults.setDefaultLineStyleType(e,t),this.recordActionAfterNextUpdate(`Change ${e} line style to ${t}`,["annotations","defaults"])}setLineStyleWidthAndDefault(e,t){this.state.transition("lineStyle",{strokeWidth:t}),this.defaults.setDefaultLineStyleWidth(e,t),this.recordActionAfterNextUpdate(`Change ${e} stroke width to ${t}`,["annotations","defaults"])}updateAnnotations(){const{annotationData:e,annotations:t,seriesRect:i,ctx:{annotationManager:n,toolbarManager:o}}=this,a=this.getAnnotationContext();if(!i||!a)return;n.updateData(e.toJson().filter((e=>!BX(e))));const r=e.length>0;o.toggleButton("annotations","clear",{enabled:r}),t.update(e??[],void 0,(e=>e.id)).each(((e,t)=>{this.validateDatum(t)?(this.injectDatumDependencies(t),function(e,t,i){for(const{update:n}of Object.values(AQ))n(e,t,i)}(e,t,a)):e.visible=!1})),this.postUpdateFns.forEach((e=>e())),this.postUpdateFns=[]}validateDatum(e){const t=this.getAnnotationContext();return!t||e.isValidWithContext(t,`Annotation [${e.type}] `)}getAnnotationContext(){const{seriesRect:e,xAxis:t,yAxis:i}=this;if(e&&t&&i)return{seriesRect:e,xAxis:{...t.context,bounds:t.bounds,labelPadding:sJ(t.layout)},yAxis:{...i.context,bounds:i.bounds,labelPadding:sJ(t.layout)}}}getPointFn(e,t,i){return function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _K(e?RZ(t,n?$K(n,i):yJ.origin(),o):t,i)}}onHover(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=e.sourceEvent.shiftKey,o=yJ.from(e);this.hoverCoords=o;const a=this.getPointFn(n,o,i);t.transition("hover",{offset:o,point:a})}onClick(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=yJ.from(e),o=this.textInput.getValue(),a=this.textInput.getBBox();t.transition("click",{offset:n,point:()=>_K(n,i),textInputValue:o,bbox:a})}onDoubleClick(e){const{state:t}=this;if(!this.getAnnotationContext())return;const i=yJ.from(e);t.transition("dblclick",{offset:i})}onAxisButtonClick(e,t){this.cancel(),this.reset();const i=this.getAnnotationContext();if(!this.annotationData||!i)return;const{state:n,ctx:{toolbarManager:o,interactionManager:a}}=this;a.pushState(dJ.Annotations);const r="horizontal"===t;if(n.transition(r?"horizontal-line":"vertical-line"),o.toggleGroup("annotations","annotationOptions",{visible:!1}),!e)return;const s=()=>_K(e,i);nX(i,s())&&(n.transition("click",{point:s}),this.update())}onZoomChange(){const e=this.textInput.getValue(),t=this.textInput.getBBox();this.state.transition("zoomChange",{textInputValue:e,bbox:t})}onDragStart(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=yJ.from(e);this.hoverCoords=n;const o=e.sourceEvent.shiftKey,a=this.getPointFn(o,n,i),r=this.textInput.getValue(),s=this.textInput.getBBox();t.transition("dragStart",{context:i,offset:n,point:a,textInputValue:r,bbox:s})}onDrag(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=yJ.from(e);this.hoverCoords=n;const o=e.sourceEvent.shiftKey,a=this.getPointFn(o,n,i);t.transition("drag",{context:i,offset:n,point:a})}onDragEnd(){this.hoverCoords=void 0,this.state.transition("dragEnd")}onCancel(){this.cancel(),this.reset()}onDelete(){this.textInput.isVisible()||(this.cancel(),this.delete(),this.reset(),this.update())}onTextInput(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const{key:n,shiftKey:o}=e,a=this.textInput.getValue(),r=this.textInput.getBBox();t.transition("keyDown",{key:n,shiftKey:o,textInputValue:a,bbox:r,context:i})}onKeyDown(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const{sourceEvent:n}=e,{shiftKey:o,ctrlKey:a,metaKey:r}=n,s=a||r,l=a||o,c=this.hoverCoords?this.getPointFn(o,this.hoverCoords,i):void 0;this.state.transition("keyDown",{shiftKey:o,context:i,point:c});const d={x:0,y:0},u=Math.max(i?.xAxis.scaleBandwidth()??0,l?10:1),h=Math.max(i?.yAxis.scaleBandwidth()??0,l?10:1);switch(n.key){case"ArrowDown":d.y=h;break;case"ArrowUp":d.y=-h;break;case"ArrowLeft":d.x=-u;break;case"ArrowRight":d.x=u;break;case"Escape":return void this.onCancel();case"Backspace":case"Delete":return void this.onDelete()}if((d.x||d.y)&&(t.transition("translate",{translation:d,context:i}),n.stopPropagation(),n.preventDefault()),s)switch(n.key){case"c":return void t.transition("copy");case"x":return t.transition("cut"),void this.recordActionAfterNextUpdate("Cut annotation");case"v":return t.transition("paste"),void this.recordActionAfterNextUpdate("Paste annotation")}}onKeyUp(e){const{shiftKey:t}=e.sourceEvent,i=this.getAnnotationContext();if(!i)return;const n=this.hoverCoords?this.getPointFn(t,this.hoverCoords,i):void 0;this.state.transition("keyUp",{shiftKey:t,context:i,point:n}),this.state.transition("translateEnd")}beginAnnotationPlacement(e){this.cancel(),this.ctx.interactionManager.pushState(dJ.Annotations),this.state.transition(e),this.update()}toggleAnnotationOptionsButtons(){const{annotationData:e,state:t,ctx:{toolbarManager:i}}=this,n=t.getActive();if(null==n)return;const o=kQ(e.at(n)),a=o?.locked??!1;i.toggleButton("annotationOptions","line-style-type",{enabled:!a,visible:VX(o)}),i.toggleButton("annotationOptions","line-stroke-width",{enabled:!a,visible:VX(o)}),i.toggleButton("annotationOptions","line-color",{enabled:!a,visible:UX(o)}),i.toggleButton("annotationOptions","text-color",{enabled:!a,visible:YX(o)}),i.toggleButton("annotationOptions","fill-color",{enabled:!a,visible:KX(o)}),i.toggleButton("annotationOptions","text-size",{enabled:!a,visible:GX(o)}),i.toggleButton("annotationOptions","settings",{enabled:!a,visible:XX(o)}),i.toggleButton("annotationOptions","delete",{enabled:!a}),i.toggleButton("annotationOptions","lock",{checked:a}),i.updateGroup("annotationOptions"),this.updateToolbarFontSize(null!=o&&"fontSize"in o?o.fontSize:void 0),this.updateToolbarFills(),this.updateToolbarLineStyles(o)}updateToolbarLineStyles(e){if(!VX(e))return;const t=e.strokeWidth??1,i=gY(e.lineDash,e.lineStyle);this.updateToolbarStrokeWidth({strokeWidth:t,value:t,label:String(t)}),this.updateToolbarLineStyleType(EQ.find((e=>e.value===i))??EQ[0])}clear(){this.cancel(),this.deleteAll(),this.reset()}reset(){this.state.transition("reset")}cancel(){this.state.transition("cancel")}delete(){this.state.transition("delete")}deleteAll(){this.state.transition("deleteAll")}deleteEphemeralAnnotations(){for(const[e,t]of this.annotationData.entries())BX(t)&&this.annotationData.splice(e,1)}hideOverlays(){this.colorPicker.hide({lastFocus:null}),this.textSizeMenu.hide(),this.lineStyleTypeMenu.hide(),this.lineStrokeWidthMenu.hide(),this.annotationMenu.hide(),this.settingsDialog.hide()}resetToolbarButtonStates(){const{ctx:{toolbarManager:e}}=this;for(const t of XU)e.toggleButton("annotations",t,{active:!1});for(const t of ZU)e.toggleButton("annotations",t,{active:!1})}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cJ.PRE_SCENE_RENDER;this.ctx.updateService.update(e,{skipAnimations:!0})}};GW([uJ(((e,t,i)=>{const{ctx:{annotationManager:n,stateManager:o,toolbarManager:a}}=e;t!==i&&(a.toggleGroup("annotations","annotations",{visible:Boolean(t)}),!1===i&&!0===t?o.restoreState(n):!1===t&&e.clear())})),gJ(lJ)],SJ.prototype,"enabled",2);var MJ={stroke:vW.DEFAULT_ANNOTATION_COLOR,strokeOpacity:1,strokeWidth:2},AJ={fill:vW.DEFAULT_ANNOTATION_HANDLE_FILL,strokeOpacity:1,strokeWidth:2},kJ={color:vW.DEFAULT_TEXT_ANNOTATION_COLOR,fontSize:14,fontFamily:vW.DEFAULT_FONT_FAMILY},wJ={...kJ,enabled:!0,color:"white",fill:vW.DEFAULT_ANNOTATION_COLOR,fontSize:12},CJ={...kJ,color:vW.DEFAULT_TEXT_ANNOTATION_COLOR,textAlign:"left"},IJ={...kJ,position:"top",alignment:"center",color:vW.DEFAULT_ANNOTATION_COLOR},DJ={...kJ,fontSize:12,color:vW.DEFAULT_ANNOTATION_STATISTICS_COLOR,fill:vW.DEFAULT_ANNOTATION_STATISTICS_FILL,stroke:vW.DEFAULT_ANNOTATION_STATISTICS_STROKE,strokeWidth:1,divider:{stroke:vW.DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE,strokeWidth:1,strokeOpacity:.5}},NJ={...MJ,background:{fill:vW.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{...AJ},text:{...IJ},statistics:{...DJ}},EJ={type:"root",optionsKey:"annotations",packageType:"enterprise",chartTypes:["cartesian"],dependencies:["toolbar"],moduleFactory:e=>new SJ(e),themeTemplate:{annotations:{line:{...MJ,handle:{...AJ},text:{...IJ}},"horizontal-line":{...MJ,handle:{...AJ},axisLabel:{...wJ},text:{...IJ}},"vertical-line":{...MJ,handle:{...AJ},axisLabel:{...wJ},text:{...IJ}},"disjoint-channel":{...MJ,background:{fill:vW.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{...AJ},text:{...IJ}},"parallel-channel":{...MJ,middle:{lineDash:[6,5],strokeWidth:1},background:{fill:vW.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{...AJ},text:{...IJ}},callout:{...MJ,...CJ,color:vW.DEFAULT_LABEL_COLOUR,handle:{...AJ},fill:vW.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},comment:{...CJ,color:"white",fontWeight:700,handle:{...AJ},fill:vW.DEFAULT_ANNOTATION_COLOR},note:{...CJ,color:vW.DEFAULT_TEXTBOX_COLOR,fill:vW.DEFAULT_ANNOTATION_COLOR,stroke:vW.DEFAULT_ANNOTATION_HANDLE_FILL,strokeWidth:1,strokeOpacity:1,handle:{...AJ},background:{fill:vW.DEFAULT_TEXTBOX_FILL,stroke:vW.DEFAULT_TEXTBOX_STROKE,strokeWidth:1}},text:{...CJ,handle:{...AJ}},arrow:{...MJ,handle:{...AJ},text:{...IJ}},"arrow-up":{fill:vW.PALETTE_UP_FILL,handle:{...AJ,stroke:vW.DEFAULT_ANNOTATION_COLOR}},"arrow-down":{fill:vW.PALETTE_DOWN_FILL,handle:{...AJ,stroke:vW.DEFAULT_ANNOTATION_COLOR}},"date-range":{...NJ},"price-range":{...NJ},"date-price-range":{...NJ},"quick-date-price-range":{up:{...MJ,fill:vW.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2,handle:{...AJ},statistics:{...DJ,color:"#fff",fill:vW.DEFAULT_ANNOTATION_BACKGROUND_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...MJ,stroke:vW.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE,fill:vW.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,fillOpacity:.2,handle:{...AJ,stroke:vW.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE},statistics:{...DJ,color:"#fff",fill:vW.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}}}}},{BaseProperties:OJ,ObserveChanges:LJ,ProxyProperty:TJ,Validate:RJ,NUMBER:PJ,POSITIVE_NUMBER:zJ,RATIO:jJ,createElement:BJ,calculatePlacement:$J}=MW,FJ=class extends OJ{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),this.onLoad?.())},this.imageElement=BJ("img"),this.imageElement.onload=this.onImageLoad,this.node=new rW.Image(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(e,t){this.containerWidth=e,this.containerHeight=t;const i={x:0,y:0,width:e,height:t},n=$J(this.imageElement.width,this.imageElement.height,i,this);return this.node.setProperties(this.complete?{visible:!0,opacity:this.opacity,...n}:{visible:!1}),n}};GW([RJ(PJ,{optional:!0})],FJ.prototype,"top",2),GW([RJ(PJ,{optional:!0})],FJ.prototype,"right",2),GW([RJ(PJ,{optional:!0})],FJ.prototype,"bottom",2),GW([RJ(PJ,{optional:!0})],FJ.prototype,"left",2),GW([RJ(zJ,{optional:!0})],FJ.prototype,"width",2),GW([RJ(zJ,{optional:!0})],FJ.prototype,"height",2),GW([RJ(jJ)],FJ.prototype,"opacity",2),GW([TJ("imageElement.src"),LJ((e=>e.loadedSynchronously=e.complete))],FJ.prototype,"url",2);var{ActionOnSet:_J,OBJECT:HJ,Validate:WJ}=MW,GJ=class extends MW.Background{constructor(){super(...arguments),this.image=new FJ}onLayoutComplete(e){if(super.onLayoutComplete(e),this.image){const{width:t,height:i}=e.chart;this.image.performLayout(t,i)}}onImageLoad(){this.ctx.updateService.update(MW.ChartUpdateType.SCENE_RENDER)}};GW([WJ(HJ,{optional:!0}),_J({newValue(e){this.node.appendChild(e.node),e.onLoad=()=>this.onImageLoad()},oldValue(e){this.node.removeChild(e.node),e.onLoad=void 0}})],GJ.prototype,"image",2);var VJ={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new GJ(e)},{ActionOnSet:UJ,Validate:KJ,BOOLEAN:YJ}=MW,XJ=[{label:"toolbarSeriesTypeOHLC",icon:"ohlc-series",value:"ohlc"},{label:"toolbarSeriesTypeCandles",icon:"candlestick-series",value:"candlestick"},{label:"toolbarSeriesTypeHollowCandles",icon:"hollow-candlestick-series",value:"hollow-candlestick"},{label:"toolbarSeriesTypeLine",icon:"line-series",value:"line"},{label:"toolbarSeriesTypeStepLine",icon:"step-line-series",value:"step-line"},{label:"toolbarSeriesTypeHLC",icon:"hlc-series",value:"hlc"},{label:"toolbarSeriesTypeHighLow",icon:"high-low-series",value:"high-low"}],ZJ="seriesType",qJ="type",QJ=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.menu=new EU(this.ctx,"chart-toolbar"),this.destroyFns.push(e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.toolbarManager.addListener("button-moved",this.onToolbarButtonMoved.bind(this)),e.toolbarManager.addListener("button-pressed",this.onToolbarButtonPressed.bind(this)))}onEnableChanged(e){this.ctx.toolbarManager.toggleGroup("chart-toolbar",ZJ,{visible:e})}onLayoutComplete(){if(!this.enabled)return;const e=this.getChartType(),t=XJ.find((t=>t.value===e))?.icon;null!=t&&this.ctx.toolbarManager.updateButton(ZJ,qJ,{icon:t})}setAnchor(e){this.menu.setAnchor({x:e.x+e.width+6,y:e.y})}onToolbarButtonMoved(e){e.group===ZJ&&this.setAnchor(e.rect)}onToolbarButtonPressed(e){e.group===ZJ&&(this.setAnchor(e.rect),this.menu.show({items:XJ,menuItemRole:"menuitemradio",ariaLabel:this.ctx.localeManager.t("toolbarSeriesTypeDropdown"),value:this.getChartType(),sourceEvent:e.sourceEvent,onPress:e=>{this.setChartType(e.value),this.hidePopover()},onHide:()=>{this.ctx.toolbarManager.toggleButton(ZJ,qJ,{active:!1})}}),this.ctx.toolbarManager.toggleButton(ZJ,qJ,{active:!0}))}hidePopover(){this.ctx.toolbarManager.toggleButton(ZJ,qJ,{active:!1}),this.menu.hide()}setChartType(e){const t={chartType:e};this.ctx.chartService.publicApi?.updateDelta(t)}getChartType(){const e=this.ctx.chartService.publicApi?.getOptions()?.chartType;return null!=e&&XJ.some((t=>t.value===e))?e:"candlestick"}};GW([KJ(YJ),UJ({changeValue:function(e){this.onEnableChanged(e)}})],QJ.prototype,"enabled",2);var JJ={type:"root",optionsKey:"chartToolbar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new QJ(e)},e0="ag-chart-context-menu",t0="ag-charts-dark-context-menu",{BOOLEAN:i0,Validate:n0,createElement:o0,initMenuKeyNav:a0,makeAccessibleClickListener:r0,ContextMenuRegistry:s0}=MW,{Logger:l0}=SW,c0="context-menu";var d0=class extends MW.BaseModuleInstance{constructor(e){if(super(),this.ctx=e,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.extraLegendItemActions=[],this.x=0,this.y=0,this.interactionManager=e.interactionManager,this.registry=e.contextMenuRegistry,this.groups={default:[],extra:[],extraSeries:[],extraNode:[],extraLegendItem:[]},this.element=e.domManager.addChild("canvas-overlay",c0),this.element.classList.add(e0),this.element.addEventListener("contextmenu",(e=>e.preventDefault())),this.destroyFns.push((()=>this.element.parentNode?.removeChild(this.element))),this.doClose(),this.destroyFns.push(e.domManager.addListener("hidden",(()=>this.hide()))),"undefined"!==typeof MutationObserver){const e=new MutationObserver((()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()}));e.observe(this.element,{childList:!0}),this.mutationObserver=e,this.destroyFns.push((()=>e.disconnect()))}this.destroyFns.push(this.registry.registerDefaultAction({id:"download",type:"all",label:"contextMenuDownload",action:()=>{const t=e.chartService.title;let i="image";t?.enabled&&void 0!==t?.text&&(i=t.text.replace(/\.+/,"")),this.ctx.chartService.publicApi?.download({fileName:i}).catch((e=>{l0.error("Unable to download chart",e)}))}})),this.destroyFns.push(this.registry.addListener((e=>this.onContext(e))))}onContext(e){if(!this.enabled)return;e.preventDefault(),this.showEvent=e.sourceEvent,this.x=e.x,this.y=e.y,this.groups.default=this.registry.filterActions(e.type),this.pickedNode=void 0,this.pickedLegendItem=void 0,this.groups.extra=this.extraActions.map((e=>{let{label:t,action:i}=e;return{type:"all",label:t,action:i}})),s0.check("series",e)&&(this.pickedNode=e.context.pickedNode,this.pickedNode&&(this.groups.extraNode=this.extraNodeActions.map((e=>{let{label:t,action:i}=e;return{type:"node",label:t,action:i}})))),s0.check("legend",e)&&(this.pickedLegendItem=e.context.legendItem,this.pickedLegendItem&&(this.groups.extraLegendItem=this.extraLegendItemActions.map((e=>{let{label:t,action:i}=e;return{type:"legend",label:t,action:i}}))));const{default:t,extra:i,extraNode:n,extraLegendItem:o}=this.groups;0!==[t,i,n,o].reduce(((e,t)=>t.length+e),0)&&this.show(e.sourceEvent)}show(e){this.interactionManager.pushState(MW.InteractionState.ContextMenu),this.element.classList.toggle(t0,this.darkTheme);const t=this.renderMenu();this.menuCloser?.close(),this.menuElement?this.element.replaceChild(t,this.menuElement):this.element.appendChild(t),this.menuElement=t,this.element.style.display="block";const i=function(e,t){const{children:i}=e??{};if(!i)return[];const n=[];for(let o=0;o<i.length;o++){const e=i[o];e instanceof t&&n.push(e)}return n}(t,HTMLButtonElement);this.menuCloser=a0({menu:t,buttons:i,orientation:"vertical",sourceEvent:e,autoCloseOnBlur:!0,closeCallback:()=>this.doClose()})}hide(){this.menuCloser?.close()}doClose(){this.interactionManager.popState(MW.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0,this.menuCloser=void 0),this.element.style.display="none"}renderMenu(){const e=o0("div");return e.classList.add(`${e0}__menu`),e.classList.toggle(t0,this.darkTheme),e.role="menu",this.appendMenuGroup(e,this.groups.default,!1),this.appendMenuGroup(e,this.groups.extra),this.pickedNode&&this.appendMenuGroup(e,this.groups.extraNode),this.pickedLegendItem&&this.appendMenuGroup(e,this.groups.extraLegendItem),e}appendMenuGroup(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];0!==t.length&&(i&&e.appendChild(this.createDividerElement()),t.forEach((t=>{const i=this.renderItem(t);i&&e.appendChild(i)})))}renderItem(e){if(e&&"object"===typeof e&&e.constructor===Object)return this.createActionElement(e)}createDividerElement(){const e=o0("div");return e.classList.add(`${e0}__divider`),e.classList.toggle(t0,this.darkTheme),e.role="separator",e}createActionElement(e){let{id:t,label:i,type:n,action:o}=e;const a=!(!t||!this.registry.isDisabled(t));return this.createButtonElement(n,i,o,a)}createButtonOnClick(e,t){return s0.checkCallback("legend",e,t)?e=>{if(this.pickedLegendItem){const{seriesId:i,itemId:n,enabled:o}=this.pickedLegendItem;t({type:"contextmenu",seriesId:i,itemId:n,enabled:o,event:e}),this.hide()}}:s0.checkCallback("node",e,t)?()=>{const{pickedNode:e,showEvent:i}=this,n=e?.series.createNodeContextMenuActionEvent(i,e);n?t(n):SW.Logger.error("series node not found"),this.hide()}:()=>{t({type:"contextMenuEvent",event:this.showEvent}),this.hide()}}createButtonElement(e,t,i,n){const o=o0("button");return o.classList.add(`${e0}__item`),o.classList.toggle(t0,this.darkTheme),o.ariaDisabled=n.toString(),o.textContent=this.ctx.localeManager.t(t),o.role="menuitem",o.onclick=r0(o,this.createButtonOnClick(e,i)),o.addEventListener("mouseover",(()=>o.focus())),o}reposition(){let{x:e,y:t}=this;this.element.style.top="unset",this.element.style.bottom="unset";const i=this.ctx.domManager.getBoundingClientRect(),{offsetWidth:n,offsetHeight:o}=this.element;e=MW.clamp(0,e,i.width-n),t=MW.clamp(0,t,i.height-o),this.element.style.left=`${e}px`,this.element.style.top=`calc(${t}px - 0.5em)`}destroy(){super.destroy(),this.mutationObserver?.disconnect(),this.ctx.domManager.removeStyles(c0),this.ctx.domManager.removeChild("canvas-overlay",c0)}};GW([n0(i0)],d0.prototype,"enabled",2),GW([n0(i0)],d0.prototype,"darkTheme",2);var u0={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsKey:"contextMenu",moduleFactory:e=>new d0(e),themeTemplate:{contextMenu:{enabled:!0,darkTheme:vW.IS_DARK_THEME}}},{ActionOnSet:h0,BaseProperties:p0,BOOLEAN:g0,FUNCTION:f0,NUMBER:m0,STRING:y0,Validate:v0}=MW,{setAttribute:b0}=SW,x0=class extends rW.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};GW([v0(g0)],x0.prototype,"enabled",2),GW([v0(y0,{optional:!0})],x0.prototype,"className",2),GW([v0(m0)],x0.prototype,"xOffset",2),GW([v0(m0)],x0.prototype,"yOffset",2),GW([v0(y0,{optional:!0})],x0.prototype,"format",2),GW([v0(f0,{optional:!0})],x0.prototype,"renderer",2);var S0=class extends p0{constructor(e,t,i){super(),this.domManager=e,this.id=SW.createId(this),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=e.addChild("canvas-overlay",`crosshair-label-${this.id}`),this.element.classList.add("ag-crosshair-label"),b0(this.element,"aria-hidden",!0),this.element.setAttribute("data-key",t),this.element.setAttribute("data-axis-id",i)}show(e){const{element:t}=this,i=e.x+this.xOffset,n=e.y+this.yOffset;t.style.top=`${Math.round(n)}px`,t.style.left=`${Math.round(i)}px`,this.toggle(!0)}setLabelHtml(e){void 0!==e&&(this.element.innerHTML=e)}getBBox(){const{element:e}=this;return new rW.BBox(e.clientLeft,e.clientTop,e.clientWidth,e.clientHeight)}toggle(e){this.element.classList.toggle("ag-crosshair-label-hidden",!e)}destroy(){this.domManager.removeChild("canvas-overlay",`crosshair-label-${this.id}`)}toLabelHtml(e,t){if("string"===typeof e)return e;t=t??{};const{text:i=t.text??"",color:n=t.color,backgroundColor:o=t.backgroundColor,opacity:a=t.opacity??1}=e;return`<div class="ag-crosshair-label-content" style="${`opacity: ${a}; background-color: ${o?.toLowerCase()}; color: ${n}`}">\n                    <span>${i}</span>\n                </div>`}};GW([v0(g0)],S0.prototype,"enabled",2),GW([v0(y0,{optional:!0}),h0({changeValue(e,t){e!==t&&(t&&this.element.classList.remove(t),e&&this.element.classList.add(e))}})],S0.prototype,"className",2),GW([v0(m0)],S0.prototype,"xOffset",2),GW([v0(m0)],S0.prototype,"yOffset",2),GW([v0(y0,{optional:!0})],S0.prototype,"format",2),GW([v0(f0,{optional:!0})],S0.prototype,"renderer",2);var{Group:M0,TranslatableLayer:A0,Line:k0,BBox:w0}=rW,{createId:C0}=SW,{POSITIVE_NUMBER:I0,RATIO:D0,BOOLEAN:N0,COLOR_STRING:E0,LINE_DASH:O0,OBJECT:L0,InteractionState:T0,Validate:R0,ZIndexMap:P0}=MW,z0=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.id=C0(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new x0,this.seriesRect=new w0(0,0,0,0),this.hoverRect=new w0(0,0,0,0),this.bounds=new w0(0,0,0,0),this.crosshairGroup=new A0({name:"crosshairs",zIndex:P0.SERIES_CROSSHAIR}),this.lineGroup=this.crosshairGroup.appendChild(new M0({name:`${this.id}-crosshair-lines`,zIndex:P0.SERIES_CROSSHAIR})),this.lineGroupSelection=rW.Selection.select(this.lineGroup,k0,!1),this.activeHighlight=void 0,this.axisCtx=e.parent,this.labels={};const t=e.regionManager.getRegion("series"),i=T0.Default|T0.Annotations|T0.AnnotationsSelected;this.hideCrosshairs(),this.destroyFns.push(e.scene.attachNode(this.crosshairGroup),t.addListener("hover",(e=>this.onMouseMove(e)),i),t.addListener("drag",(e=>this.onMouseMove(e)),T0.Annotations|T0.AnnotationsSelected),t.addListener("leave",(()=>this.onMouseOut()),i),e.keyNavManager.addListener("nav-hori",(()=>this.onKeyPress())),e.keyNavManager.addListener("nav-vert",(()=>this.onKeyPress())),e.zoomManager.addListener("zoom-pan-start",(()=>this.onMouseOut())),e.zoomManager.addListener("zoom-change",(()=>this.onMouseOut())),e.highlightManager.addListener("highlight-change",(e=>this.onHighlightChange(e))),e.layoutManager.addListener("layout:complete",(e=>this.layout(e))),(()=>Object.entries(this.labels).forEach((e=>{let[t,i]=e;return i.destroy()}))))}layout(e){let{series:{rect:t,paddedRect:i,visible:n},axes:o}=e;if(!(n&&o&&this.enabled))return;this.seriesRect=t,this.hoverRect=i;const{position:a="left",axisId:r}=this.axisCtx,s=o.find((e=>e.id===r));if(!s)return;this.axisLayout=s;const l=s.gridPadding+s.seriesAreaPadding;this.bounds=LU(t,a,l);const{crosshairGroup:c,bounds:d}=this;c.translationX=Math.round(d.x),c.translationY=Math.round(d.y);const u=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(u),this.updateLines(),this.updateLabels(u)}updateSelections(e){this.lineGroupSelection.update(e,(e=>e.append(new k0)),(e=>e))}updateLabels(e){const{labels:t,ctx:i}=this;e.forEach((e=>{t[e]??(t[e]=new S0(i.domManager,e,this.axisCtx.axisId)),this.updateLabel(t[e])})),this.labelFormatter=this.axisCtx.scaleValueFormatter(this.label.format)}updateLabel(e){const{enabled:t,className:i,xOffset:n,yOffset:o,format:a,renderer:r}=this.label;e.enabled=t,e.className=i,e.xOffset=n,e.yOffset=o,e.format=a,e.renderer=r}updateLines(){const{lineGroupSelection:e,bounds:t,stroke:i,strokeWidth:n,strokeOpacity:o,lineDash:a,lineDashOffset:r,axisLayout:s}=this;if(!s)return;const l=this.isVertical();e.each((e=>{e.stroke=i,e.strokeWidth=n,e.strokeOpacity=o,e.lineDash=a,e.lineDashOffset=r,e.y1=0,e.y2=l?t.height:0,e.x1=0,e.x2=l?0:t.width}))}isVertical(){return"x"===this.axisCtx.direction}formatValue(e){const{labelFormatter:t,axisLayout:i,ctx:{callbackCache:n}}=this;if(t){const i=n.call(t,e);if(void 0!==i)return i}const o=e%1===0,a=(i?.label.fractionDigits??0)+(o?0:1);return"number"===typeof e?e.toFixed(a):String(e)}onMouseMove(e){if(!this.enabled||this.snap)return;const{crosshairGroup:t,hoverRect:i}=this,{offsetX:n,offsetY:o}=e;if(i.containsPoint(n,o)){const i=this.getData(e);this.updatePositions(i),t.visible=!0}else this.hideCrosshairs();this.ctx.updateService.update(MW.ChartUpdateType.SCENE_RENDER)}onMouseOut(){this.hideCrosshairs(),this.ctx.updateService.update(MW.ChartUpdateType.SCENE_RENDER)}onKeyPress(){this.enabled&&!this.snap&&this.hideCrosshairs()}onHighlightChange(e){if(!this.enabled)return;const{crosshairGroup:t,axisCtx:i}=this,{datum:n,series:o}=e.currentHighlight??{},a=n&&(o?.axes.x?.id===i.axisId||o?.axes.y?.id===i.axisId);if(this.activeHighlight=a?e.currentHighlight:void 0,this.activeHighlight){if(this.snap){const e=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(e),t.visible=!0}}else this.hideCrosshairs()}isInRange(e){return this.axisCtx.inRange(e)}updatePositions(e){const{seriesRect:t,lineGroupSelection:i}=this;i.each(((i,n)=>{const o=e[n];if(!o)return void(i.visible=!1);i.visible=!0;const{value:a,position:r}=o;let s=0,l=0;this.isVertical()?(s=r,i.x=Math.round(s)):(l=r,i.y=Math.round(l)),this.label.enabled?this.showLabel(s+t.x,l+t.y,a,n):this.hideLabel(n)}))}getData(e){const{axisCtx:t}=this,i="pointer",{datum:n,xKey:o="",yKey:a=""}=this.activeHighlight??{},{regionOffsetX:r,regionOffsetY:s}=e,l=this.isVertical(),c=l?r:s;return{[i]:{position:c,value:t.continuous?t.scaleInvert(c):n?.[l?o:a]??""}}}getActiveHighlightData(e){const{axisCtx:t}=this,{datum:i,series:n,xKey:o="",aggregatedValue:a,cumulativeValue:r,midPoint:s}=e,l=n.getKeyProperties(t.direction),c=t.scaleBandwidth()/2,d=n.axes[t.direction]?.id===t.axisId,u=l.indexOf("yKey")>-1&&d,h=l.indexOf("xKey")>-1&&d,p=a??r;if(u&&void 0!==p){const e=t.scaleConvert(p)+c;return this.isInRange(e)?{yKey:{value:p,position:e}}:{}}if(h){const e=(this.isVertical()?s?.x:s?.y)??0,n=t.continuous?t.scaleInvert(e):i[o];return this.isInRange(e)?{xKey:{value:n,position:e}}:{}}const g={};return l.forEach((e=>{const o=n.properties[e],a=i[o],r=t.scaleConvert(a)+c;this.isInRange(r)&&(g[e]={value:a,position:r})})),g}getLabelHtml(e,t){const{label:{renderer:i},axisLayout:{label:{fractionDigits:n=0}={}}={}}=this,o={text:this.formatValue(e)};if(i){const a={value:e,fractionDigits:n};return t.toLabelHtml(i(a),o)}return t.toLabelHtml(o)}showLabel(e,t,i,n){const{axisCtx:{position:o,direction:a},bounds:r,axisLayout:s}=this;if(!s)return;const{label:{padding:l},tickSize:c}=s,d=l+c,u=this.labels[n],h=this.getLabelHtml(i,u);u.setLabelHtml(h);const p=function(e){let t,{x:i,y:n,labelBBox:o,bounds:a,axisPosition:r,axisDirection:s,padding:l}=e;if(s===OU.X){const e=4,n=-o.width/2,s="bottom"===r?-e:-o.height+e;t={x:i+n,y:("bottom"===r?a.y+a.height+l:a.y-l)+s}}else{const e=8,i=-o.height/2,s="right"===r?-e:-o.width+e;t={x:("right"===r?a.x+a.width+l:a.x-l)+s,y:n+i}}return t}({x:e,y:t,labelBBox:u.getBBox(),bounds:r,axisPosition:o,axisDirection:a,padding:d});u.show(p)}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const e in this.labels)this.hideLabel(e)}hideLabel(e){this.labels[e].toggle(!1)}};GW([R0(N0)],z0.prototype,"enabled",2),GW([R0(E0,{optional:!0})],z0.prototype,"stroke",2),GW([R0(O0,{optional:!0})],z0.prototype,"lineDash",2),GW([R0(I0)],z0.prototype,"lineDashOffset",2),GW([R0(I0)],z0.prototype,"strokeWidth",2),GW([R0(D0)],z0.prototype,"strokeOpacity",2),GW([R0(N0)],z0.prototype,"snap",2),GW([R0(L0)],z0.prototype,"label",2);var j0={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],moduleFactory:e=>new z0(e),themeTemplate:{crosshair:{snap:!0,stroke:vW.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},{BOOLEAN:B0,FUNCTION:$0,ActionOnSet:F0,Validate:_0}=MW,H0=class extends MW.BaseModuleInstance{constructor(e){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=e.dataService}updateCallback(e,t){this.dataService&&(e&&null!=t?this.dataService.updateCallback(t):this.dataService.clearCallback())}};GW([F0({newValue(e){this.updateCallback(e,this.getData)}}),_0(B0)],H0.prototype,"enabled",2),GW([F0({newValue(e){this.updateCallback(this.enabled,e)}}),_0($0)],H0.prototype,"getData",2),GW([F0({newValue(e){this.dataService.requestThrottle=e}})],H0.prototype,"requestThrottle",2),GW([F0({newValue(e){this.dataService.dispatchThrottle=e}})],H0.prototype,"updateThrottle",2),GW([F0({newValue(e){this.dataService.dispatchOnlyLatest=!e}})],H0.prototype,"updateDuringInteraction",2);var W0={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new H0(e),themeTemplate:{dataSource:{enabled:!1}}},{nearestSquaredInContainer:G0,partialAssign:V0,mergeDefaults:U0}=MW,{BBox:K0}=rW,Y0=class{constructor(e){this.components=e,this.union=K0.merge(e)}containsPoint(e,t){if(!this.union.containsPoint(e,t))return!1;for(const i of this.components)if(i.containsPoint(e,t))return!0;return!1}},X0=class extends rW.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new rW.Path,this.capsPath=new rW.Path,this.bboxes=new Y0([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(e){this._datum=e}calculateCapLength(e,t){const{lengthRatio:i=1,length:n}=e,{lengthRatioMultiplier:o,lengthMax:a}=t,r=n??i*o;return Math.min(r,a)}getItemStylerParams(e,t,i){const{datum:n}=this;if(null==n||null==e.itemStyler)return;const{xLowerKey:o,xUpperKey:a,yLowerKey:r,yUpperKey:s}=e;return{...t,datum:n.datum,seriesId:n.datum.seriesId,xKey:n.xKey,yKey:n.yKey,xLowerKey:o,xUpperKey:a,yLowerKey:r,yUpperKey:s,highlighted:i}}formatStyles(e,t,i){let{cap:n,...o}=e;const a=this.getItemStylerParams(t,e,i);if(null!=a&&null!=t.itemStyler){const e=t.itemStyler(a);o=U0(e,o),n=U0(e?.cap,e,n)}return{whiskerStyle:o,capsStyle:n}}applyStyling(e,t){V0(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],e,t)}update(e,t,i){if(void 0===this.datum)return;const{whiskerStyle:n,capsStyle:o}=this.formatStyles(e,t,i),{xBar:a,yBar:r,capDefaults:s}=this.datum,l=this.whiskerPath;this.applyStyling(l,n),l.path.clear(!0),void 0!==r&&(l.path.moveTo(r.lowerPoint.x,r.lowerPoint.y),l.path.lineTo(r.upperPoint.x,r.upperPoint.y)),void 0!==a&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),this.capLength=this.calculateCapLength(o??{},s);const c=this.capLength/2,d=this.capsPath;this.applyStyling(d,o),d.path.clear(!0),void 0!==r&&(d.path.moveTo(r.lowerPoint.x-c,r.lowerPoint.y),d.path.lineTo(r.lowerPoint.x+c,r.lowerPoint.y),d.path.moveTo(r.upperPoint.x-c,r.upperPoint.y),d.path.lineTo(r.upperPoint.x+c,r.upperPoint.y)),void 0!==a&&(d.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),d.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),d.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),d.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),d.path.closePath()}updateBBoxes(){const{capLength:e,whiskerPath:t,capsPath:i}=this,{yBar:n,xBar:o}=this.datum??{},a=e/2,r=[];if(void 0!==n){const o=n.lowerPoint.y-n.upperPoint.y;r.push(new K0(n.lowerPoint.x,n.upperPoint.y,t.strokeWidth,o),new K0(n.lowerPoint.x-a,n.lowerPoint.y,e,i.strokeWidth),new K0(n.upperPoint.x-a,n.upperPoint.y,e,i.strokeWidth))}if(void 0!==o){const n=o.upperPoint.x-o.lowerPoint.x;r.push(new K0(o.lowerPoint.x,o.upperPoint.y,n,t.strokeWidth),new K0(o.lowerPoint.x,o.lowerPoint.y-a,i.strokeWidth,e),new K0(o.upperPoint.x,o.upperPoint.y-a,i.strokeWidth,e))}this.bboxes.components=r,this.bboxes.union=K0.merge(r)}containsPoint(e,t){return this.bboxes.containsPoint(e,t)}pickNode(e,t){return this.containsPoint(e,t)?this:void 0}nearestSquared(e,t,i){const{bboxes:n}=this;if(n.union.distanceSquared(e,t)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:o}=K0.nearestBox(e,t,n.components);return{nearest:this,distanceSquared:o}}},Z0=class extends rW.Group{nearestSquared(e,t){const{nearest:i,distanceSquared:n}=G0(e,t,{children:this.children()});if(void 0!==i&&!isNaN(n))return{datum:i.datum,distanceSquared:n}}},{BaseProperties:q0,Validate:Q0,BOOLEAN:J0,COLOR_STRING:e1,FUNCTION:t1,LINE_DASH:i1,NUMBER:n1,OBJECT:o1,POSITIVE_NUMBER:a1,RATIO:r1,STRING:s1}=MW,l1=class extends q0{};GW([Q0(J0,{optional:!0})],l1.prototype,"visible",2),GW([Q0(e1,{optional:!0})],l1.prototype,"stroke",2),GW([Q0(a1,{optional:!0})],l1.prototype,"strokeWidth",2),GW([Q0(r1,{optional:!0})],l1.prototype,"strokeOpacity",2),GW([Q0(i1,{optional:!0})],l1.prototype,"lineDash",2),GW([Q0(a1,{optional:!0})],l1.prototype,"lineDashOffset",2),GW([Q0(n1,{optional:!0})],l1.prototype,"length",2),GW([Q0(r1,{optional:!0})],l1.prototype,"lengthRatio",2);var c1=class extends q0{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new l1}};GW([Q0(s1,{optional:!0})],c1.prototype,"yLowerKey",2),GW([Q0(s1,{optional:!0})],c1.prototype,"yLowerName",2),GW([Q0(s1,{optional:!0})],c1.prototype,"yUpperKey",2),GW([Q0(s1,{optional:!0})],c1.prototype,"yUpperName",2),GW([Q0(s1,{optional:!0})],c1.prototype,"xLowerKey",2),GW([Q0(s1,{optional:!0})],c1.prototype,"xLowerName",2),GW([Q0(s1,{optional:!0})],c1.prototype,"xUpperKey",2),GW([Q0(s1,{optional:!0})],c1.prototype,"xUpperName",2),GW([Q0(J0,{optional:!0})],c1.prototype,"visible",2),GW([Q0(e1,{optional:!0})],c1.prototype,"stroke",2),GW([Q0(a1,{optional:!0})],c1.prototype,"strokeWidth",2),GW([Q0(r1,{optional:!0})],c1.prototype,"strokeOpacity",2),GW([Q0(i1,{optional:!0})],c1.prototype,"lineDash",2),GW([Q0(a1,{optional:!0})],c1.prototype,"lineDashOffset",2),GW([Q0(t1,{optional:!0})],c1.prototype,"itemStyler",2),GW([Q0(o1)],c1.prototype,"cap",2);var{fixNumericExtent:d1,groupAccumulativeValueProperty:u1,isDefined:h1,mergeDefaults:p1,valueProperty:g1,ChartAxisDirection:f1}=MW;var m1=class e extends MW.BaseModuleInstance{constructor(e){super(),this.properties=new c1;const t=function(e){for(const t of fA)if(t===e.series.type)return e.series;throw new Error(`AG Charts - unsupported series type '${e.series.type}', error bars supported series types: ${fA.join(", ")}`)}(e),{annotationGroup:i,annotationSelections:n}=t;this.cartesianSeries=t,this.groupNode=new Z0({name:`${i.id}-errorBars`,zIndex:MW.ZIndexMap.SERIES_LAYER,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}),i.appendChild(this.groupNode),this.selection=rW.Selection.select(this.groupNode,(()=>this.errorBarFactory())),n.add(this.selection),this.destroyFns.push(t.addListener("data-processed",(e=>this.onDataProcessed(e))),t.addListener("data-update",(e=>this.onDataUpdate(e))),t.addListener("visibility-changed",(e=>this.onToggleSeriesItem(e))),e.highlightManager.addListener("highlight-change",(e=>this.onHighlightChange(e))),(()=>i.removeChild(this.groupNode)),(()=>n.delete(this.selection)))}hasErrorBars(){const{xLowerKey:e,xUpperKey:t,yLowerKey:i,yUpperKey:n}=this.properties;return h1(e)&&h1(t)||h1(i)&&h1(n)}isStacked(){const e=this.cartesianSeries.seriesGrouping?.stackCount;return null!=e&&e>0}getUnstackPropertyDefinition(e){const t=[],{xLowerKey:i,xUpperKey:n,yLowerKey:o,yUpperKey:a,xErrorsID:r,yErrorsID:s}=this.getMaybeFlippedKeys(),{xScaleType:l,yScaleType:c}=e;return null!=o&&null!=a&&t.push(g1(o,c,{id:`${s}-lower`}),g1(a,c,{id:`${s}-upper`})),null!=i&&null!=n&&t.push(g1(i,l,{id:`${r}-lower`}),g1(n,l,{id:`${r}-upper`})),t}getStackPropertyDefinition(e){const t=[],{cartesianSeries:i}=this,{xLowerKey:n,xUpperKey:o,yLowerKey:a,yUpperKey:r,xErrorsID:s,yErrorsID:l}=this.getMaybeFlippedKeys(),{xScaleType:c,yScaleType:d}=e,u=i.seriesGrouping?.groupIndex??i.id,h={invalidValue:null,missingValue:0,separateNegative:!0,...i.visible?{}:{forceValue:0}},p=(e,t,i,n)=>u1(e,"normal","current",{id:`${t}-${i}`,groupId:`errorGroup-${u}-${i}`,...h},n),g=(e,i,n,o)=>{t.push(...p(e,n,"lower",o),...p(i,n,"upper",o))};return null!=a&&null!=r&&g(a,r,l,d),null!=n&&null!=o&&g(n,o,s,c),t}getPropertyDefinitions(e){return this.isStacked()?this.getStackPropertyDefinition(e):this.getUnstackPropertyDefinition(e)}onDataProcessed(e){this.dataModel=e.dataModel,this.processedData=e.processedData}getDomain(e){const{xLowerKey:t,xUpperKey:i,xErrorsID:n,yLowerKey:o,yUpperKey:a,yErrorsID:r}=this.getMaybeFlippedKeys();if(e===f1.X?h1(t)&&h1(i):h1(o)&&h1(a)){const{dataModel:t,processedData:i,cartesianSeries:o}=this;if(null!=t&&null!=i){const a={x:n,y:r}[e],s=t.getDomain(o,`${a}-lower`,"value",i),l=t.getDomain(o,`${a}-upper`,"value",i),c=[Math.min(...s,...l),Math.max(...s,...l)];return d1(c)}}return[]}onDataUpdate(e){this.dataModel=e.dataModel,this.processedData=e.processedData,h1(e.dataModel)&&h1(e.processedData)&&(this.createNodeData(),this.update())}getNodeData(){return this.cartesianSeries.contextNodeData?.nodeData}createNodeData(){const e=this.getNodeData(),t=this.cartesianSeries.axes[f1.X]?.scale,i=this.cartesianSeries.axes[f1.Y]?.scale;if(this.hasErrorBars()&&t&&i&&e)for(let n=0;n<e.length;n++){const{midPoint:o,xLower:a,xUpper:r,yLower:s,yUpper:l}=this.getDatum(e,n);if(null!=o){let c,d;h1(a)&&h1(r)&&(c={lowerPoint:{x:this.convert(t,a),y:o.y},upperPoint:{x:this.convert(t,r),y:o.y}}),h1(s)&&h1(l)&&(d={lowerPoint:{x:o.x,y:this.convert(i,s)},upperPoint:{x:o.x,y:this.convert(i,l)}}),e[n].xBar=c,e[n].yBar=d}}}getMaybeFlippedKeys(){let{xLowerKey:e,xUpperKey:t,yLowerKey:i,yUpperKey:n}=this.properties,[o,a]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([e,i]=[i,e],[t,n]=[n,t],[o,a]=[a,o]),{xLowerKey:e,xUpperKey:t,xErrorsID:o,yLowerKey:i,yUpperKey:n,yErrorsID:a}}static getDatumKey(e,t,i){if(null==t)return;const n=e.datum[t];if(null!=n){if("number"===typeof n)return n+i;SW.Logger.warnOnce(`Found [${t}] error value of type ${typeof n}. Expected number type`)}}getDatum(t,i){const{xLowerKey:n,xUpperKey:o,yLowerKey:a,yUpperKey:r}=this.getMaybeFlippedKeys(),s=t[i],l=null!=s.cumulativeValue&&this.isStacked()?s.cumulativeValue-s.yValue:0,[c,d]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:s.midPoint,xLower:e.getDatumKey(s,n,c),xUpper:e.getDatumKey(s,o,c),yLower:e.getDatumKey(s,a,d),yUpper:e.getDatumKey(s,r,d)}}convert(e,t){const i=(e.bandwidth??0)/2;return e.convert(t)+i}update(){const e=this.getNodeData();null!=e&&(this.selection.update(e),this.selection.each(((e,t,i)=>this.updateNode(e,t,i))))}updateNode(e,t,i){e.datum=t,e.update(this.getDefaultStyle(),this.properties,!1),e.updateBBoxes()}pickNodeExact(e){const{x:t,y:i}=e,n=this.groupNode.pickNode(t,i);if(null!=n)return{datum:n.datum,distanceSquared:0}}pickNodeNearest(e){return this.groupNode.nearestSquared(e.x,e.y)}pickNodeMainAxisFirst(e){return this.groupNode.nearestSquared(e.x,e.y)}getTooltipParams(){const{xLowerKey:e,xUpperKey:t,yLowerKey:i,yUpperKey:n,xLowerName:o=e,xUpperName:a=t,yLowerName:r=i,yUpperName:s=n}=this.properties;return{xLowerKey:e,xLowerName:o,xUpperKey:t,xUpperName:a,yLowerKey:i,yLowerName:r,yUpperKey:n,yUpperName:s}}onToggleSeriesItem(e){this.groupNode.visible=e.enabled}makeStyle(e){return{visible:e.visible,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,cap:p1(this.properties.cap,e)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(e,t,i){const n=this.getNodeData();if(null!=n)for(let o=0;o<n.length;o++)if(e===n[o]){this.selection.at(o)?.update(t,this.properties,i);break}}onHighlightChange(e){const{previousHighlight:t,currentHighlight:i}=e;i?.series===this.cartesianSeries&&this.restyleHighlightChange(i,this.getHighlightStyle(),!0),t?.series===this.cartesianSeries&&this.restyleHighlightChange(t,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new X0}getWhiskerProperties(){const{stroke:e,strokeWidth:t,visible:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}=this.properties;return{stroke:e,strokeWidth:t,visible:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}}},y1={series:{errorBar:{visible:!0,stroke:vW.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},v1={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:fA,moduleFactory:e=>new m1(e),themeTemplate:y1},{ZIndexMap:b1,ActionOnSet:x1,Validate:S1,ProxyPropertyOnWrite:M1,OBJECT:A1,RATIO:k1,COLOR_STRING:w1}=MW,C1=class extends MW.Background{constructor(){super(...arguments),this.image=new FJ,this.fill="transparent",this.fillOpacity=void 0}createNode(){return new rW.Layer({name:"foreground",zIndex:b1.FOREGROUND})}onLayoutComplete(e){super.onLayoutComplete(e);const{width:t,height:i}=e.chart;let n={x:0,y:0,width:t,height:i};this.image&&(n=this.image.performLayout(t,i)),this.text&&this.updateTextNode(n)}onImageLoad(){this.ctx.updateService.update(MW.ChartUpdateType.SCENE_RENDER)}updateTextNode(e){const{textNode:t}=this;t.fontWeight="bold",t.fontFamily="Impact, sans-serif",t.fontSize=19,t.opacity=.7,t.fill="#9b9b9b",t.textBaseline="top";const i=this.textNode.getBBox();t.x=e.x+e.width/2-i.width/2,t.y=e.y+e.height+10}};GW([S1(A1,{optional:!0}),x1({newValue(e){this.node.appendChild(e.node),e.onLoad=()=>this.onImageLoad()},oldValue(e){this.node.removeChild(e.node),e.onLoad=void 0}})],C1.prototype,"image",2),GW([S1(w1,{optional:!0}),M1("rectNode","fill")],C1.prototype,"fill",2),GW([S1(k1,{optional:!0}),M1("rectNode","fillOpacity")],C1.prototype,"fillOpacity",2);var I1={type:"root",optionsKey:"foreground",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new C1(e)},{Validate:D1,BOOLEAN:N1,POSITIVE_NUMBER:E1,ZIndexMap:O1,ActionOnSet:L1,CategoryAxis:T1,GroupedCategoryAxis:R1,TextUtils:P1}=MW,{Padding:z1,Logger:j1}=SW,{Group:B1,BBox:$1,TranslatableLayer:F1,Layer:_1}=rW,H1=class{constructor(){this.top=0,this.bottom=0}};GW([D1(E1)],H1.prototype,"top",2),GW([D1(E1)],H1.prototype,"bottom",2);var W1=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.padding=new H1,this.root=new B1({name:"root"}),this.seriesRoot=this.root.appendChild(new F1({name:"Series-root",zIndex:O1.SERIES_LAYER})),this.axisGridGroup=this.root.appendChild(new _1({name:"Axes-Grids",zIndex:O1.AXIS_GRID})),this.axisGroup=this.root.appendChild(new _1({name:"Axes-Grids",zIndex:O1.AXIS_GRID})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach((e=>e.destroy())),this.axes=[],this._destroyed=!0)}onSeriesChange(e,t){const i=t?.filter((t=>!e.includes(t)))??[];this.destroySeries(i);for(const n of e){if(t?.includes(n))continue;n.rootGroup.isRoot()&&this.seriesRoot.appendChild(n.rootGroup);const e=this;n.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return e.seriesRect},placeLabels:()=>new Map},n.resetAnimation("initial"===this.miniChartAnimationPhase?"initial":"disabled")}}destroySeries(e){e?.forEach((e=>{e.destroy(),e.rootGroup?.remove(),e.chart=void 0}))}assignSeriesToAxes(){this.axes.forEach((e=>{e.boundSeries=this.series.filter((t=>t.axes[e.direction]===e))}))}assignAxesToSeries(){const e={};this.axes.forEach((t=>{const i=t.direction;(e[i]??(e[i]=[])).push(t)})),this.series.forEach((t=>{t.directions.forEach((i=>{const n=e[i];if(!n)return void j1.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);const o=t.getKeys(i),a=this.findMatchingAxis(n,o);a?t.axes[i]=a:j1.warnOnce(`no matching axis for direction [${i}] and keys [${o}]; check series and axes configuration.`)}))}))}findMatchingAxis(e,t){for(const i of e){if(!i.keys.length)return i;if(t)for(const e of t)if(i.keys.includes(e))return i}}updateData(e){this.series.forEach((t=>t.setChartData(e))),"initial"===this.miniChartAnimationPhase&&this.ctx.animationManager.onBatchStop((()=>{this.miniChartAnimationPhase="ready",this.series.forEach((e=>e.resetAnimation("disabled")))}))}async processData(e){this.series.some((e=>e.canHaveAxes))&&(this.assignAxesToSeries(),this.assignSeriesToAxes()),await Promise.all(this.series.map((t=>t.processData(e))))}computeAxisPadding(){const e=new z1;return this.enabled?(this.axes.forEach((t=>{let i,{position:n,thickness:o=0,line:a,label:r}=t;if(null!=n){if(o>0)i=o;else{const e=5;i=(a.enabled?a.width:0)+(r.enabled?P1.getLineHeight(r.fontSize??0)+r.padding+e:0)}e[n]=Math.ceil(i)}})),e):e}async layout(e,t){const{padding:i}=this,n=null!=this.seriesRect,o=new $1(0,0,e,t-(i.top+i.bottom));this.seriesRect=o,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectCanvasSpace(new $1(0,-i.top,e,t)),this.axes.forEach((i=>{const{position:a="left"}=i;switch(a){case"top":case"bottom":i.range=[0,o.width],i.gridLength=o.height;break;case"right":case"left":{const e=i instanceof T1||i instanceof R1;i.range=e?[0,o.height]:[o.height,0],i.gridLength=o.width;break}}i.gridPadding=0,i.translation.x=0,i.translation.y=0,"right"===a?i.translation.x=e:"bottom"===a&&(i.translation.y=t),i.calculateLayout(),i.updatePosition(),i.update(n)})),await Promise.all(this.series.map((e=>e.update({seriesRect:o}))))}};GW([D1(N1)],W1.prototype,"enabled",2),GW([L1({changeValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const i of t)e.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of e)t?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup)}})],W1.prototype,"axes",2),GW([L1({changeValue(e,t){this.onSeriesChange(e,t)}})],W1.prototype,"series",2);var{ObserveChanges:G1}=MW,V1=class extends MW.Navigator{constructor(e){super(e),this.miniChart=new W1(e)}updateData(e){return this.miniChart.updateData(e)}processData(e){return this.miniChart.processData(e)}onLayoutStart(e){if(super.onLayoutStart(e),this.enabled){const{top:t,bottom:i}=this.miniChart.computeAxisPadding();e.layoutBox.shrink(t+i,"bottom"),this.y-=i}}async onLayoutComplete(e){super.onLayoutComplete(e),await this.miniChart.layout(this.width,this.height)}};GW([G1(((e,t,i)=>{e.updateBackground(i?.root,t?.root)}))],V1.prototype,"miniChart",2);var U1={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new V1(e),themeTemplate:{...MW.NavigatorModule.themeTemplate,navigator:{...MW.NavigatorModule.themeTemplate.navigator,miniChart:{enabled:!1,label:{color:vW.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:vW.DEFAULT_FONT_FAMILY,formatter:void 0,padding:0},padding:{top:0,bottom:0}}}}},{CachedTextMeasurerPool:K1,ZIndexMap:Y1,LayoutElement:X1,Validate:Z1,BaseProperties:q1,OBJECT:Q1,BOOLEAN:J1,STRING:e2,COLOR_STRING:t2,RATIO:i2,valueProperty:n2,TextUtils:o2}=MW,{Label:a2,Rect:r2,Text:s2}=rW,l2={ohlc:62,candlestick:62,"hollow-candlestick":62,line:96,"step-line":96,"range-area":30,hlc:184,"high-low":800},c2={up:"positive",down:"negative"},d2={hlc:"altNeutral"},u2=class extends q1{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};GW([Z1(t2)],u2.prototype,"fill",2),GW([Z1(i2)],u2.prototype,"fillOpacity",2);var h2=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.openKey=void 0,this.highKey=void 0,this.lowKey=void 0,this.closeKey=void 0,this.volumeKey=void 0,this.title=new a2,this.positive=new a2,this.negative=new a2,this.neutral=new a2,this.altNeutral=new a2,this.background=new u2,this.layoutStyle="block",this.id="status-bar",this.data=void 0,this.labelGroup=new rW.TranslatableLayer({name:"StatusBar",zIndex:Y1.STATUS_BAR}),this.backgroundNode=this.labelGroup.appendChild(new r2),this.labels=[{label:"O",configuration:2,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),id:"openValue",key:"openKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:16,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:256,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),style:"neutral",id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:8,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:512,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),style:"neutral",id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:4,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:128,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),id:"closeValue",key:"closeKey",style:"neutral",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"",configuration:64,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),style:"neutral",id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})},{label:"Vol",configuration:32,title:this.labelGroup.appendChild(new s2),value:this.labelGroup.appendChild(new s2),id:"volumeValue",key:"volumeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}],this.highlightManager=e.highlightManager,this.labelGroup.visible=!1,this.destroyFns.push(e.scene.attachNode(this.labelGroup),e.layoutManager.registerElement(X1.Overlay,(e=>this.startPerformLayout(e))),e.layoutManager.addListener("layout:complete",(e=>this.onLayoutComplete(e))),e.highlightManager.addListener("highlight-change",(()=>this.updateHighlight())))}async processData(e){if(!this.enabled||null==this.data)return;const t=[];for(const o of this.labels){const{id:e,key:i}=o,n=this[i];null==n?o.domain=void 0:t.push(n2(n,"number",{id:e}))}if(0===t.length)return;const{processedData:i,dataModel:n}=await e.request(this.id,this.data,{props:t});for(const o of this.labels){const{id:e,key:t}=o;null!=this[t]&&(o.domain=n.getDomain(this,e,"value",i))}}startPerformLayout(e){if(this.labelGroup.translationX=0,this.labelGroup.translationY=0,!this.enabled)return;const{layoutBox:t}=e;this.labelGroup.translationY=t.y+0;const i=Math.max(this.title.fontSize,this.positive.fontSize,this.negative.fontSize),n=o2.getLineHeight(i),o=l2[this.getChartType()]??0;let a,r=0,s="alphabetic";if("block"===this.layoutStyle)t.shrink(0+n+8,"top"),a=i+(n-i)/2;else{const{title:e}=this.ctx.chartService;if(s="top",a=0+e.padding,e.enabled){const t=e.node.getBBox();r=t.x+t.width+12}else r=e.padding}for(const{label:l,configuration:c,title:d,value:u,domain:h,formatter:p}of this.labels){if(null==h||0===(o&c)){d.visible=!1,u.visible=!1;continue}const e=Math.max(K1.measureText(p.format(h[0]),{font:this.positive.getFont(),textBaseline:s,textAlign:"left"}).width,K1.measureText(p.format(h[1]),{font:this.positive.getFont(),textBaseline:s,textAlign:"left"}).width,K1.measureText(p.format(h[0]),{font:this.negative.getFont(),textBaseline:s,textAlign:"left"}).width,K1.measureText(p.format(h[1]),{font:this.negative.getFont(),textBaseline:s,textAlign:"left"}).width);d.visible=!0,u.visible=!0;const t=K1.measureText(l,{font:this.title.getFont(),textBaseline:s,textAlign:"left"});d.setFont(this.title),d.fill=this.title.color,d.text=l,d.textBaseline=s,d.y=a,d.x=r,r+=t.width+4,u.textBaseline=s,u.y=a,u.x=r,r+=e+12}this.backgroundNode.x=0,this.backgroundNode.y=0,this.backgroundNode.width=r-12,this.backgroundNode.height=n+0+8,this.backgroundNode.fill=this.background.fill,this.backgroundNode.fillOpacity=this.background.fillOpacity}onLayoutComplete(e){this.labelGroup.translationX=e.series.rect.x,this.updateHighlight()}updateHighlight(){if(!this.enabled)return;const e=this.highlightManager.getActiveHighlight(),t=e?.datum??this.data?.at(-1);if(null==t)return void(this.labelGroup.visible=!1);this.labelGroup.visible=!0;const i=e?.itemId;let n=null!=i?c2[i]:void 0;null==n&&null!=this.openKey&&null!=this.closeKey&&(n=t[this.openKey]<t[this.closeKey]?"positive":"negative");for(const{domain:o,value:a,key:r,formatter:s,style:l}of this.labels){if(null==o)continue;let e=l??n??"neutral";"neutral"===e&&(e=d2[this.getChartType()]??e);const i=this[r],c=null!=i?t?.[i]:void 0;a.setFont(this[e]),a.fill=this[e].color,a.text="number"===typeof c?s.format(c):""}}getChartType(){let e=this.ctx.chartService.publicApi?.getOptions()?.chartType;return null!=e&&null!=l2[e]||(e="candlestick"),e}};GW([Z1(J1)],h2.prototype,"enabled",2),GW([Z1(e2,{optional:!0})],h2.prototype,"openKey",2),GW([Z1(e2,{optional:!0})],h2.prototype,"highKey",2),GW([Z1(e2,{optional:!0})],h2.prototype,"lowKey",2),GW([Z1(e2,{optional:!0})],h2.prototype,"closeKey",2),GW([Z1(e2,{optional:!0})],h2.prototype,"volumeKey",2),GW([Z1(Q1)],h2.prototype,"title",2),GW([Z1(Q1)],h2.prototype,"positive",2),GW([Z1(Q1)],h2.prototype,"negative",2),GW([Z1(Q1)],h2.prototype,"neutral",2),GW([Z1(Q1)],h2.prototype,"altNeutral",2),GW([Z1(Q1)],h2.prototype,"background",2),GW([Z1(e2)],h2.prototype,"layoutStyle",2);var p2={type:"root",identifier:"status-bar",optionsKey:"statusBar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new h2(e),themeTemplate:{statusBar:{enabled:!1,layoutStyle:vW.DEFAULT_CAPTION_LAYOUT_STYLE,title:{color:vW.DEFAULT_LABEL_COLOUR},positive:{color:vW.PALETTE_UP_STROKE},negative:{color:vW.PALETTE_DOWN_STROKE},neutral:{color:vW.PALETTE_NEUTRAL_STROKE},background:{fill:vW.DEFAULT_BACKGROUND_COLOUR,fillOpacity:.5},altNeutral:{color:"gray"}}}},{BOOLEAN:g2,STRING:f2,UNION:m2,BaseProperties:y2,CartesianAxis:v2,ChartUpdateType:b2,isDate:x2,isDefined:S2,isFiniteNumber:M2,unique:A2,ObserveChanges:k2,TooltipManager:w2,Validate:C2}=MW,{Logger:I2}=SW,D2=class extends y2{constructor(e){super(),this.moduleContext=e,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateSiblings(e){const{syncManager:t}=this.moduleContext;for(const i of t.getGroupSiblings(e??this.groupId))this.updateChart(i)}updateChart(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b2.UPDATE_DATA;e.ctx.updateService.update(t,{skipSync:!0})}enabledZoomSync(){const{syncManager:e,zoomManager:t}=this.moduleContext;this.disableZoomSync=t.addListener("zoom-change",(()=>{for(const t of e.getGroupSiblings(this.groupId))t.modulesManager.getModule("sync")?.zoom&&t.ctx.zoomManager.updateZoom("sync",this.mergeZoom(t))}))}enabledNodeInteractionSync(){const{highlightManager:e,syncManager:t}=this.moduleContext;this.disableNodeInteractionSync=e.addListener("highlight-change",(e=>{for(const i of t.getGroupSiblings(this.groupId))if(i.modulesManager.getModule("sync")?.nodeInteraction)if(e.currentHighlight?.datum)for(const t of i.axes){const n="xy"===this.axes?"x":this.axes;if(!v2.is(t)||t.direction!==n)continue;const o=i.series.map((i=>{const n=i.getKeys(t.direction);if(t.keys.length&&!t.keys.some((e=>n.includes(e))))return;const{nodeData:o}=i.contextNodeData;if(!o?.length)return;const a=o[0][`${t.direction}Key`];let r=e.currentHighlight.datum[a];const s=x2(r);s&&(r=r.getTime());const l=o.find((e=>{const t=e.datum[a];return s?t.getTime()===r:t===r}));return l?{series:i,nodeDatum:l}:null})).filter(S2);if(o.length<2&&o[0]?.nodeDatum!==i.ctx.highlightManager.getActiveHighlight()){const{series:e,nodeDatum:t}=o[0]??{};if(i.ctx.highlightManager.updateHighlight(i.id,t),t){const n=t.midPoint?.x??t.point?.x??0,o=t.midPoint?.y??t.point?.y??0,a=w2.makeTooltipMeta({type:"hover",offsetX:n,offsetY:o},t);delete a.lastPointerEvent,i.ctx.tooltipManager.updateTooltip(i.id,a,e.getTooltipHtml(t))}else i.ctx.tooltipManager.removeTooltip(i.id);this.updateChart(i,b2.SERIES_UPDATE)}}else i.ctx.highlightManager.updateHighlight(i.id),i.ctx.tooltipManager.removeTooltip(i.id)}))}getSyncedDomain(e){if(!v2.is(e)||"xy"!==this.axes&&this.axes!==e.direction)return;const{syncManager:t}=this.moduleContext,i=t.getGroup(this.groupId),[{axes:n}]=i,{direction:o,min:a,max:r,nice:s,reverse:l}=e;for(const c of n)if(o===c.direction&&(s!==c.nice||l!==c.reverse||a!==c.min&&(M2(a)||M2(c.min))||r!==c.max&&(M2(r)||M2(c.max))))return I2.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),void(this.enabled=!1);return A2(i.flatMap((e=>e.series)).filter((t=>{if(t.visible){const i=t.getKeys(e.direction);return!e.keys.length||e.keys.some((e=>i.includes(e)))}})).flatMap((t=>t.getDomain(e.direction))))}mergeZoom(e){const{zoomManager:t}=this.moduleContext;if("xy"===this.axes)return t.getZoom();const i=e.ctx.zoomManager.getZoom()??{};return i[this.axes]=t.getZoom()?.[this.axes],i}onEnabledChange(){const{syncManager:e}=this.moduleContext;this.enabled?e.subscribe(this.groupId):e.unsubscribe(this.groupId),this.updateSiblings(),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(e,t){if(!this.enabled||e===t)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(t),i.subscribe(e),this.updateSiblings(t),this.updateSiblings(e)}onAxesChange(){if(!this.enabled)return;const{syncManager:e}=this.moduleContext;this.updateChart(e.getChart())}onNodeInteractionChange(){this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():this.disableNodeInteractionSync?.()}onZoomChange(){this.enabled&&this.zoom?this.enabledZoomSync():this.disableZoomSync?.()}destroy(){const{syncManager:e}=this.moduleContext;e.unsubscribe(this.groupId),this.updateSiblings(),this.disableZoomSync?.()}};D2.className="Sync",GW([C2(g2),k2((e=>e.onEnabledChange()))],D2.prototype,"enabled",2),GW([C2(f2,{optional:!0}),k2(((e,t,i)=>e.onGroupIdChange(t,i)))],D2.prototype,"groupId",2),GW([C2(m2(["x","y","xy"],"an axis")),k2((e=>e.onAxesChange()))],D2.prototype,"axes",2),GW([C2(g2),k2((e=>e.onNodeInteractionChange()))],D2.prototype,"nodeInteraction",2),GW([C2(g2),k2((e=>e.onZoomChange()))],D2.prototype,"zoom",2);var N2={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new D2(e),themeTemplate:{sync:{enabled:!1}}},{COLOR_STRING:E2,RATIO:O2,Validate:L2}=MW,T2=class extends rW.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};T2.className="ZoomRect",GW([L2(E2)],T2.prototype,"fill",2),GW([L2(O2)],T2.prototype,"fillOpacity",2);var{clamp:R2,isEqual:P2,round:z2}=MW,j2={min:0,max:1},B2="end",$2="middle",F2=function(e){return R2(arguments.length>1&&void 0!==arguments[1]?arguments[1]:j2.min,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:j2.max)};function _2(){return{x:{...j2},y:{...j2}}}function H2(e){return e.x.max-e.x.min}function W2(e){return e.y.max-e.y.min}function G2(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return P2(e.min,t.min,i)&&P2(e.max,t.max,i)}function V2(e,t,i){return G2(e.x,t.x,i)&&G2(e.y,t.y,i)}function U2(e,t,i){const n=z2(H2(e),10)<=t,o=z2(W2(e),10)<=i;return n||o}function K2(e){return{x:{min:e?.x?.min??j2.min,max:e?.x?.max??j2.max},y:{min:e?.y?.min??j2.min,max:e?.y?.max??j2.max}}}function Y2(e,t,i){if(!e)return{x:0,y:0};const n=F2(t-e.x,0,e.x+e.width),o=F2(i-e.y,0,e.y+e.height),a=1/e.width*n,r=1-1/e.height*o;return{x:F2(a),y:F2(r)}}function X2(e,t,i){return{x:{min:e.x.min+t,max:e.x.max+t},y:{min:e.y.min+i,max:e.y.max+i}}}function Z2(e,t,i){return{x:{min:e.x.min,max:e.x.min+H2(e)*t},y:{min:e.y.min,max:e.y.min+W2(e)*i}}}function q2(e,t,i){const n=H2(e),o=W2(e),a=e.x.min+n/2,r=e.y.min+o/2;return{x:{min:a-n*t/2,max:a+n*t/2},y:{min:r-o*i/2,max:r+o*i/2}}}function Q2(e,t,i,n){const{min:o,max:a}=t,r=o+(a-o)/2,s=e.max-e.min;switch(i){case"start":return{min:o,max:t.min+s};case"end":return{min:t.max-s,max:a};case"middle":return{min:r-s/2,max:r+s/2};case"pointer":return J2(e,t,n??r);default:return{min:o,max:a}}}function J2(e,t,i){const n=e.max-e.min,o=i-i*(1-(t.max-t.min-n));return{min:e.min+o,max:e.max+o}}function e4(e){const t=_2();return t.x=t4(e.x),t.y=t4(e.y),t}function t4(e){const t=e.max-e.min;let i=e.max>j2.max?j2.max-t:e.min,n=e.min<j2.min?t:e.max;return i=Math.max(j2.min,i),n=Math.min(j2.max,n),{min:i,max:n}}function i4(e,t,i){let{min:n,max:o}=e;if(o===t.max)n=o-i;else if(n===t.min)o=n+i;else{const e=t.min+(t.max-t.min)/2;n=e-i/2,o=e+i/2}return{min:n,max:o}}var n4=class{update(e,t,i,n,o,a){return this.oldZoom??(this.oldZoom=K2(t===MW.ChartAxisDirection.X?{...o,x:a}:{...o,y:a})),this.updateCoords(e.offsetX,e.offsetY),this.updateZoom(t,i,n)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(e,t){this.coords?(this.coords.x2=e,this.coords.y2=t):this.coords={x1:e,y1:t,x2:e,y2:t}}updateZoom(e,t,i){const{coords:n,oldZoom:o}=this;let a=K2(o);if(!n||!o)return e===MW.ChartAxisDirection.X?a.x:a.y;const r=Y2(i,n.x1,n.y1),s=Y2(i,n.x2,n.y2);if(e===MW.ChartAxisDirection.X){const e=(s.x-r.x)*H2(o);return a.x.max+=e,a.x=Q2(a.x,o.x,t,r.x),a=e4(a),a.x}const l=(s.y-r.y)*W2(o);return a.y.max-=l,a.y=Q2(a.y,o.y,t,r.y),a=e4(a),a.y}},o4="zoom-action",a4="pan-action",r4=class{constructor(e,t,i,n,o){this.contextMenuRegistry=e,this.zoomManager=t,this.getModuleProperties=i,this.getRect=n,this.updateZoom=o}registerActions(e,t){if(!e)return;const{contextMenuRegistry:i}=this,n=i.registerDefaultAction({id:o4,type:"series",label:"contextMenuZoomToCursor",action:this.onZoomToHere.bind(this)}),o=i.registerDefaultAction({id:a4,type:"series",label:"contextMenuPanToCursor",action:this.onPanToHere.bind(this)});return this.toggleActions(t),()=>{n(),o()}}toggleActions(e){const{contextMenuRegistry:t}=this,{minRatioX:i,minRatioY:n}=this.getModuleProperties();U2(e,i,n)?t.disableAction(o4):t.enableAction(o4),V2(e,_2())?t.disableAction(a4):t.enableAction(a4)}onZoomToHere(e){let{event:t}=e;const i=this.getRect(),{enabled:n,isScalingX:o,isScalingY:a,minRatioX:r,minRatioY:s}=this.getModuleProperties();if(!n||!i||!t||!t.target||!(t instanceof MouseEvent))return;const l=K2(this.zoomManager.getZoom()),c=Y2(i,t.offsetX,t.offsetX),d=c.x*H2(l),u=c.y*W2(l),h=j2.max-j2.min,p=h/2;let g={x:{min:c.x-p,max:c.x+p},y:{min:c.y-p,max:c.y+p}};g=q2(g,o?r:h,a?s:h),g=X2(g,l.x.min-c.x+d,l.y.min-c.y+u),this.updateZoom(e4(g))}onPanToHere(e){let{event:t}=e;const i=this.getRect(),{enabled:n}=this.getModuleProperties();if(!n||!i||!t||!t.target||!(t instanceof MouseEvent))return;const o=K2(this.zoomManager.getZoom()),a=Y2(i,t.offsetX,t.offsetY),r=H2(o),s=W2(o),l=a.x*r,c=a.y*s,d=(j2.max-j2.min)/2;let u={x:{min:a.x-d,max:a.x+d},y:{min:a.y-d,max:a.y+d}};u=q2(u,r,s),u=X2(u,o.x.min-a.x+l,o.y.min-a.y+c),this.updateZoom(e4(u))}},s4={off:1,short:.01,long:.002},l4=class{constructor(){this.deceleration=1,this.zoomCoordsHistoryIndex=0,this.coordsHistory=[]}get decelerationValue(){const{deceleration:e}=this;return Math.max("number"===typeof e?e:s4[e]??1,1e-4)}addListener(e,t){return this.onUpdate=t,()=>{this.onUpdate=void 0}}stopInteractions(){null!=this.inertiaHandle&&(cancelAnimationFrame(this.inertiaHandle),this.inertiaHandle=void 0)}update(e){this.updateCoords(e.offsetX,e.offsetY);const{x1:t=0,y1:i=0,x2:n=0,y2:o=0}=this.coords??{};this.onUpdate?.({type:"update",deltaX:t-n,deltaY:i-o})}start(){this.coordsMonitorTimeout=setInterval(this.recordCurrentZoomCoords.bind(this),16)}stop(){const{coordsHistory:e}=this;let t=0,i=0,n=0;if(e.length>0){const o=this.zoomCoordsHistoryIndex%16;let a=o-1;a<0&&(a=e.length-1);let r=o;r>=e.length&&(r=0);const s=e[a],l=e[r];t=s.x-l.x,i=s.y-l.y,n=s.t-l.t}if(this.coords=void 0,clearInterval(this.coordsMonitorTimeout),this.coordsMonitorTimeout=void 0,this.zoomCoordsHistoryIndex=0,this.coordsHistory.length=0,n>0&&this.decelerationValue<1){const e=t/n,o=i/n,a=Math.hypot(e,o),r=Math.atan2(o,e),s=performance.now();this.inertiaHandle=MW.getWindow().requestAnimationFrame((e=>{this.animateInertia(e,e,s,a,r)}))}}recordCurrentZoomCoords(){const{coords:e,coordsHistory:t,zoomCoordsHistoryIndex:i}=this;if(!e)return;const{x2:n,y2:o}=e,a=Date.now();t[i%16]={x:n,y:o,t:a},this.zoomCoordsHistoryIndex+=1}animateInertia(e,t,i,n,o){const a=1-this.decelerationValue,r=-n/Math.log(a),s=n*(a**(t-i)-1)/Math.log(a),l=n*(a**(e-i)-1)/Math.log(a);this.onUpdate?.({type:"update",deltaX:-Math.cos(o)*(l-s),deltaY:-Math.sin(o)*(l-s)}),l>=r-1||(this.inertiaHandle=requestAnimationFrame((t=>{this.animateInertia(t,e,i,n,o)})))}updateCoords(e,t){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:e,y2:t}:this.coords={x1:e,y1:t,x2:e,y2:t}}translateZooms(e,t,i,n){const o=Y2(e,e.x+Math.abs(i),e.y+e.height-Math.abs(n)),a=Math.sign(i)*o.x,r=-Math.sign(n)*o.y,s={};for(const[l,{direction:c,zoom:d}]of Object.entries(t)){if(d&&d.min===j2.min&&d.max===j2.max)continue;let e=K2({[c]:d});e=e4(X2(e,a*H2(e),r*W2(e))),s[l]={direction:c,zoom:e[c]}}return s}},{AND:c4,DATE:d4,NUMBER:u4,OR:h4,ObserveChanges:p4,Validate:g4}=MW,f4=class{constructor(e){this.onChange=e}getRange(){return this.getRangeWithValues(this.start,this.end)}getInitialRange(){return this.getRangeWithValues(this.initialStart,this.initialEnd)}updateDomain(e){this.domain=e}restore(e,t){this.initialStart=e,this.initialEnd=t,this.start=e,this.end=t,this.onChange(this.getRange())}extendToEnd(e){return this.extendWith((t=>Number(t)-e))}extendWith(e){if(!this.domain)return;const[,t]=this.domain;if(null==t)return;const i=e(t),n=this.start!==i||this.end!==t;return this.end=t,this.start=i,n||this.onChange?.(this.getRange()),{start:i,end:t}}updateWith(e){if(!this.domain)return;let[t,i]=this.domain;[t,i]=e(t,i);const n=this.start!==t||this.end!==i;return this.end=i,this.start=t,n||this.onChange?.(this.getRange()),{start:t,end:i}}extendAll(){if(!this.domain)return;const[e,t]=this.domain,i=this.start!==e||this.end!==t;this.start=e,this.end=t,i||this.onChange?.(this.getRange())}getRangeWithValues(e,t){let[i,n]=this.domain??[];if(null==e&&null==t||null==i||null==n)return;i=Number(i),n=Number(n);let o=0,a=1;return null!=e&&(o=(Number(e)-i)/(n-i)),null!=t&&(a=(Number(t)-i)/(n-i)),{min:o,max:a}}};GW([p4(((e,t)=>{e.initialStart??(e.initialStart=t);const i=e.getRangeWithValues(t,e.end);i&&e.onChange?.(i)})),g4(c4(h4(d4,u4)),{optional:!0})],f4.prototype,"start",2),GW([p4(((e,t)=>{e.initialEnd??(e.initialEnd=t);const i=e.getRangeWithValues(e.start,t);i&&e.onChange?.(i)})),g4(c4(h4(d4,u4)),{optional:!0})],f4.prototype,"end",2);var{AND:m4,GREATER_THAN:y4,LESS_THAN:v4,RATIO:b4,ObserveChanges:x4,Validate:S4}=MW,{Logger:M4}=SW,A4=class{constructor(e){this.onChange=e,this.hasRestored=!1}getRatio(){return this.getRatioWithValues(this.start,this.end)}getInitialRatio(){return this.getRatioWithValues(this.initialStart,this.initialEnd)}restore(e,t){this.hasRestored=!0,this.initialStart=e,this.initialEnd=t,this.start=e,this.end=t,this.onChange(this.getRatio())}getRatioWithValues(e,t){if(null!=e||null!=t)return{min:e??j2.min,max:t??j2.max}}};GW([x4(((e,t)=>{null!=e.initialStart||e.hasRestored||M4.warnOnce("Property [zoom.ratioX] is deprecated. Use [initialState.zoom.ratioX] instead."),e.initialStart??(e.initialStart=t);const i=e.getRatioWithValues(t,e.end);i&&e.onChange?.(i)})),S4(m4(b4,v4("end")),{optional:!0})],A4.prototype,"start",2),GW([x4(((e,t)=>{null!=e.initialEnd||e.hasRestored||M4.warnOnce("Property [zoom.ratioY] is deprecated. Use [initialState.zoom.ratioY] instead."),e.initialEnd??(e.initialEnd=t);const i=e.getRatioWithValues(e.start,t);i&&e.onChange?.(i)})),S4(m4(b4,y4("start")),{optional:!0})],A4.prototype,"end",2);var k4=class{update(e,t,i,n){const o=e.deltaX*t*200;return this.translateZooms(i,n,o)}translateZooms(e,t,i){const n={},o=Y2(e,e.x+Math.abs(i),0),a=i<0?-o.x:o.x;for(const[r,{direction:s,zoom:l}]of Object.entries(t)){if(s!==MW.ChartAxisDirection.X)continue;let e=K2({x:l});e=e4(X2(e,a*H2(e),0)),n[r]={direction:s,zoom:e.x}}return n}},w4=class{updateAxes(e,t,i,n){const o=e.sourceEvent,a={},{anchorPointX:r,anchorPointY:s,isScalingX:l,isScalingY:c,scrollingStep:d}=t,u=Y2(i,o.offsetX??o.clientX,o.offsetY??o.clientY);for(const[h,{direction:p,zoom:g}]of Object.entries(n)){if(null==g)continue;let t={...g};const i=d*e.deltaY*(g.max-g.min);if(p===MW.ChartAxisDirection.X&&l)t.max+=i,t=Q2(t,g,r,u.x);else{if(p!==MW.ChartAxisDirection.Y||!c)continue;t.max+=i,t=Q2(t,g,s,u.y)}a[h]={direction:p,zoom:t4(t)}}return a}update(e,t,i,n){const o=e.sourceEvent,{anchorPointX:a,anchorPointY:r,isScalingX:s,isScalingY:l,scrollingStep:c}=t,d=Y2(i,o.offsetX??o.clientX,o.offsetY??o.clientY),u=e.deltaY;let h=K2(n);return h.x.max+=s?c*u*H2(n):0,h.y.max+=l?c*u*W2(n):0,s&&(h.x=Q2(h.x,n.x,a,d.x)),l&&(h.y=Q2(h.y,n.y,r,d.y)),h=e4(h),h}updateDelta(e,t,i){const{anchorPointX:n,anchorPointY:o,isScalingX:a,isScalingY:r,scrollingStep:s}=t;let l=K2(i);return l.x.max+=a?s*-e*H2(i):0,l.y.max+=r?s*-e*W2(i):0,a&&(l.x=Q2(l.x,i.x,n)),r&&(l.y=Q2(l.y,i.y,o)),l=e4(l),l}},C4=class{constructor(e){this.rect=e,this.rect.visible=!1}update(e,t,i,n){this.rect.visible=!0,this.updateCoords(e.offsetX,e.offsetY,t,i,n),this.updateRect(i)}stop(e,t,i){let n=K2();if(!e||!t)return n;this.coords&&(n=this.createZoomFromCoords(t,i));return n=e4(function(e,t,i){return{x:{min:e.x.min*t,max:e.x.max*t},y:{min:e.y.min*i,max:e.y.max*i}}}(n,t.width/e.width,t.height/e.height)),this.reset(),n}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible}updateCoords(e,t,i,n,o){if(!this.coords)return void(this.coords={x1:e,y1:t,x2:e,y2:t});if(this.coords.x2=e,this.coords.y2=t,!n)return;const{isScalingX:a,isScalingY:r,minRatioX:s,minRatioY:l}=i,c=K2(o),d=this.getNormalisedDimensions(),u=n.width/n.height,h=s/(c.x.max-c.x.min),p=l/(c.y.max-c.y.min);d.width/n.width<h&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-n.width*h:this.coords.x2=this.coords.x1+n.width*h),r&&!a?d.height/n.height<p&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-n.width*h:this.coords.y2=this.coords.y1+n.height*p):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-d.width/u,this.coords.y1-n.height*p):this.coords.y2=Math.max(this.coords.y1+d.width/u,this.coords.y1+n.height*p),a||(this.coords.x1=n.x,this.coords.x2=n.x+n.width),r||(this.coords.y1=n.y,this.coords.y2=n.y+n.height)}updateRect(e){if(!e)return;const{rect:t}=this,i=this.getNormalisedDimensions(),{width:n,height:o}=i;let{x:a,y:r}=i;a=Math.max(a,e.x),a-=Math.max(0,a+n-(e.x+e.width)),r=Math.max(r,e.y),r-=Math.max(0,r+o-(e.y+e.height)),t.x=a,t.y=r,t.width=n,t.height=o}createZoomFromCoords(e,t){const i=K2(t),n=this.getNormalisedDimensions(),o=Y2(e,n.x,n.y+n.height);let a=Z2(i,n.width/e.width,n.height/e.height);return a=X2(a,o.x*(i.x.max-i.x.min),o.y*(i.y.max-i.y.min)),a=e4(a),a}getNormalisedDimensions(){const{x1:e=0,y1:t=0,x2:i=0,y2:n=0}=this.coords??{};return{x:e<=i?e:i,y:t<=n?t:n,width:e<=i?i-e:e-i,height:t<=n?n-t:t-n}}},{ChartAxisDirection:I4,ToolbarManager:D4}=MW,N4=class{constructor(e,t,i,n,o){this.toolbarManager=e,this.zoomManager=t,this.getResetZoom=i,this.updateZoom=n,this.updateAxisZoom=o,this.selectedZoom=void 0,this.destroyFns=[],this.destroyFns.push(t.addListener("zoom-change",this.onZoomChanged.bind(this)))}destroy(){for(const e of this.destroyFns)e()}toggle(e,t,i){this.toggleGroups(e),e&&this.toggleButtons(t,i)}toggleButtons(e,t){const{toolbarManager:i}=this,n=V2(e,_2()),o=U2(e,t.minRatioX,t.minRatioY),a=V2(e,this.getResetZoom());i.toggleButton("zoom","pan-start",{enabled:e.x.min>j2.min}),i.toggleButton("zoom","pan-end",{enabled:e.x.max<j2.max}),i.toggleButton("zoom","pan-left",{enabled:e.x.min>j2.min}),i.toggleButton("zoom","pan-right",{enabled:e.x.max<j2.max}),i.toggleButton("zoom","zoom-out",{enabled:!n}),i.toggleButton("zoom","zoom-in",{enabled:!o}),i.toggleButton("zoom","reset",{enabled:!a})}onButtonPress(e,t){this.onButtonPressRanges(e,t),this.onButtonPressZoom(e,t)}toggleGroups(e){this.toolbarManager?.toggleGroup("zoom","ranges",{visible:Boolean(e)}),this.toolbarManager?.toggleGroup("zoom","zoom",{visible:Boolean(e)})}onButtonPressRanges(e,t){if(!D4.isGroup("ranges",e))return;const{id:i}=e,{rangeX:n}=t,o=e.value;"number"===typeof o?n.extendToEnd(o):Array.isArray(o)?n.updateWith((()=>o)):"function"===typeof o&&n.updateWith(o);const a=n.getRange();this.selectedZoom=null!=a?{id:i,range:a}:void 0,this.toolbarManager.toggleGroup("zoom-toolbar","ranges",{active:!1}),this.toolbarManager.toggleButton("ranges",i,{active:!0})}onZoomChanged(e){const{selectedZoom:t}=this,{x:i}=e;this.toolbarManager.toggleGroup("zoom-toolbar","ranges",{active:!1}),null!=t&&null!=i&&G2(t.range,i)?this.toolbarManager.toggleButton("ranges",t.id,{active:!0}):this.selectedZoom=void 0}onButtonPressZoom(e,t){if(D4.isGroup("zoom",e))if(t.independentAxes&&"reset"!==e.value){const i=this.zoomManager.getAxisZooms();for(const[n,{direction:o,zoom:a}]of Object.entries(i))null!=a&&this.onButtonPressZoomAxis(e,t,n,o,a)}else this.onButtonPressZoomUnified(e,t)}onButtonPressZoomAxis(e,t,i,n,o){if(!D4.isGroup("zoom",e))return;const{anchorPointX:a,anchorPointY:r,isScalingX:s,isScalingY:l,scrollingStep:c}=t;let d={...o};const u=o.max-o.min;switch(e.value){case"pan-start":d.max=u,d.min=0;break;case"pan-end":d.min=d.max-u,d.max=j2.max;break;case"pan-left":d.min-=u*c,d.max-=u*c;break;case"pan-right":d.min+=u*c,d.max+=u*c;break;case"zoom-in":case"zoom-out":{const t=n===I4.X,i=t&&s||!t&&l;let u="zoom-in"===e.value?1-c:1+c;i||(u=1);const h=t?"pointer"===a?B2:a:"pointer"===r?$2:r;d.max=d.min+(d.max-d.min)*u,d=Q2(d,o,h);break}}this.updateAxisZoom(i,n,t4(d))}onButtonPressZoomUnified(e,t){if(!D4.isGroup("zoom",e))return;const{anchorPointX:i,anchorPointY:n,isScalingX:o,isScalingY:a,scrollingStep:r}=t,s=K2(this.zoomManager.getZoom());let l=K2(s);switch(e.value){case"reset":l=this.getResetZoom();break;case"pan-start":l.x.max=H2(l),l.x.min=0;break;case"pan-end":l.x.min=j2.max-H2(l),l.x.max=j2.max;break;case"pan-left":l=X2(l,-H2(l)*r,0);break;case"pan-right":l=X2(l,H2(l)*r,0);break;case"zoom-in":case"zoom-out":{const t="zoom-in"===e.value?1-r:1+r,c="pointer"===i?B2:i,d="pointer"===n?$2:n;l=Z2(l,o?t:1,a?t:1),l.x=Q2(l.x,s.x,c),l.y=Q2(l.y,s.y,d);break}}this.updateZoom(e4(l))}},{ARRAY:E4,BOOLEAN:O4,NUMBER:L4,RATIO:T4,REGIONS:R4,STRING:P4,UNION:z4,OR:j4,ActionOnSet:B4,ChartAxisDirection:$4,ChartUpdateType:F4,Validate:_4,ProxyProperty:H4,arraysEqual:W4,round:G4}=MW,V4=e=>G4(e,10),U4=z4(["pointer","start","middle","end"],"an anchor cord"),K4="zoom-cursor",Y4="zoom-tooltip",X4=class extends MW.BaseProperties{constructor(e){super(),this.onChange=e,this.enabled=!1,this.position="floating-bottom",this.size="small",this.align="center"}};GW([MW.ObserveChanges((e=>{e.onChange()})),_4(O4)],X4.prototype,"enabled",2),GW([MW.ObserveChanges((e=>{e.onChange()})),_4(E4,{optional:!0})],X4.prototype,"buttons",2),GW([_4(P4)],X4.prototype,"position",2),GW([_4(P4)],X4.prototype,"size",2),GW([_4(P4)],X4.prototype,"align",2);var Z4=class extends MW.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.enableAxisDragging=!0,this.buttons=new X4((()=>this.onZoomButtonsChange(this.enabled))),this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=(j2.max-j2.min)/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX=B2,this.anchorPointY=$2,this.rangeX=new f4(this.onRangeChange.bind(this,$4.X)),this.rangeY=new f4(this.onRangeChange.bind(this,$4.Y)),this.ratioX=new A4(this.onRangeChange.bind(this,$4.X)),this.ratioY=new A4(this.onRangeChange.bind(this,$4.Y)),this.axisDragger=new n4,this.panner=new l4,this.scroller=new w4,this.scrollPanner=new k4,this.deceleration="short",this.dragState=0,this.axisIds={},this.axisDomains={},this.minRatioX=0,this.minRatioY=0,this.hasPerformedLayout=!1,this._destroyContextMenuActions=void 0;const t=new T2;this.selector=new C4(t),this.contextMenu=new r4(e.contextMenuRegistry,e.zoomManager,this.getModuleProperties.bind(this),(()=>this.paddedRect),this.updateZoom.bind(this)),this.toolbar=new N4(e.toolbarManager,e.zoomManager,this.getResetZoom.bind(this),this.updateUnifiedZoom.bind(this),this.updateAxisZoom.bind(this));const{Default:i,ZoomDrag:n,Animation:o,Annotations:a,AnnotationsSelected:r}=MW.InteractionState,s=i|o|n,l=i|o,c=s|a|r,d=e.regionManager.getRegion(R4.SERIES),u=e.regionManager.getRegion(R4.HORIZONTAL_AXES),h=e.regionManager.getRegion(R4.VERTICAL_AXES),p="drag-start";this.destroyFns.push(e.scene.attachNode(t),e.regionManager.listenAll("dblclick",(e=>this.onDoubleClick(e)),l),e.keyNavManager.addListener("nav-zoom",(e=>this.onNavZoom(e))),d.addListener("drag",(e=>this.onDrag(e)),s),d.addListener(p,(e=>this.onDragStart(e)),s),d.addListener("drag-end",(e=>this.onDragEnd(e)),s),h.addListener("drag",(e=>this.onDrag(e)),s),h.addListener(p,(e=>this.onDragStart(e)),s),h.addListener("drag-end",(e=>this.onDragEnd(e)),s),h.addListener("leave",(()=>this.onAxisLeave()),l),h.addListener("hover",(e=>this.onAxisHover(e,$4.Y))),u.addListener("drag",(e=>this.onDrag(e)),s),u.addListener(p,(e=>this.onDragStart(e)),s),u.addListener("drag-end",(e=>this.onDragEnd(e)),s),u.addListener("leave",(()=>this.onAxisLeave()),l),u.addListener("hover",(e=>this.onAxisHover(e,$4.X))),d.addListener("wheel",(e=>this.onWheel(e)),c),e.gestureDetector.addListener("pinch-move",(e=>this.onPinchMove(e))),e.toolbarManager.addListener("button-pressed",(e=>this.toolbar.onButtonPress(e,this.getModuleProperties()))),e.layoutManager.addListener("layout:complete",(e=>this.onLayoutComplete(e))),e.updateService.addListener("update-complete",(e=>this.onUpdateComplete(e))),e.zoomManager.addListener("zoom-change",(e=>this.onZoomChange(e))),e.zoomManager.addListener("zoom-pan-start",(e=>this.onZoomPanStart(e))),e.zoomManager.addListener("restore-zoom",(e=>this.onRestoreZoom(e))),this.panner.addListener("update",(e=>this.onPanUpdate(e))),(()=>this.toolbar.destroy()))}destroy(){super.destroy(),this._destroyContextMenuActions?.()}onEnabledChange(e){if(!this.contextMenu||!this.toolbar)return;const t=this.getZoom(),i=this.getModuleProperties({enabled:e});this._destroyContextMenuActions?.(),this._destroyContextMenuActions=this.contextMenu.registerActions(e,t),this.onZoomButtonsChange(e),this.toolbar.toggle(e,t,i)}onZoomButtonsChange(e){if(!this.buttons)return;const t=this.buttons.toJson();t.enabled&&(t.enabled=e),this.ctx.toolbarManager.proxyGroupOptions("zoom","zoom",t)}onRangeChange(e,t){const i=this.axisIds[e];i&&t&&this.updateAxisZoom(i,e,t)}onDoubleClick(e){const{enabled:t,enableDoubleClickToReset:i,hoveredAxis:n}=this;if(!t||!i)return;const o=this.getResetZoom();if(n){const{id:e,direction:t}=n;this.updateAxisZoom(e,t,o[t])}else e.preventZoomDblClick||this.updateZoom(o)}onDragStart(e){const{enabled:t,enableAxisDragging:i,enablePanning:n,enableSelecting:o,hoveredAxis:a,ctx:{cursorManager:r,zoomManager:s}}=this;if(!t||0!==e.button)return;this.panner.stopInteractions();let l=0;if(i&&a)l=1;else{const t=this.isPanningKeyPressed(e.sourceEvent);if(!n||o&&!t){if(o){this.isMinZoom(this.getZoom())||t||(l=3)}}else r.updateCursor(K4,"grabbing"),l=2,this.panner.start()}0!==(this.dragState=l)&&s.fireZoomPanStartEvent("zoom")}onDrag(e){const{anchorPointX:t,anchorPointY:i,axisDragger:n,dragState:o,enabled:a,paddedRect:r,panner:s,selector:l,seriesRect:c,hoveredAxis:d,ctx:{interactionManager:u,tooltipManager:h,updateService:p,zoomManager:g}}=this;if(!a||!r||!c)return;u.pushState(MW.InteractionState.ZoomDrag);const f=this.getZoom();switch(o){case 1:{if(!d)break;const{id:o,direction:a}=d,r=a===MW.ChartAxisDirection.X?t:i,s=g.getAxisZoom(o),l=n.update(e,a,r,c,f,s);this.updateAxisZoom(o,a,l);break}case 2:s.update(e);break;case 3:l.update(e,this.getModuleProperties(),r,f);break;case 0:return}h.updateTooltip(Y4),p.update(F4.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(e){const{axisDragger:t,dragState:i,enabled:n,panner:o,selector:a,ctx:{cursorManager:r,interactionManager:s,tooltipManager:l}}=this;if(s.popState(MW.InteractionState.ZoomDrag),n&&0!==i){switch(i){case 1:t.stop();break;case 2:o.stop();break;case 3:{if(!a.didUpdate())break;const e=this.getZoom();if(this.isMinZoom(e))break;const t=a.stop(this.seriesRect,this.paddedRect,e);this.updateZoom(t);break}}this.dragState=0,r.updateCursor(K4),l.removeTooltip(Y4)}}onNavZoom(e){const{enabled:t,enableScrolling:i,scroller:n}=this;t&&i&&(e.preventDefault(),this.updateZoom(n.updateDelta(e.delta,this.getModuleProperties(),this.getZoom())))}onWheel(e){const{enabled:t,enablePanning:i,enableScrolling:n,paddedRect:o}=this;if(!t||!n||!o)return;const a=e.sourceEvent,{deltaX:r,deltaY:s}=a,l=null!=r&&null!=s&&Math.abs(r)>Math.abs(s);i&&l?this.onWheelPanning(e):this.onWheelScrolling(e)}onWheelPanning(e){const{scrollingStep:t,scrollPanner:i,seriesRect:n,ctx:{zoomManager:o}}=this;if(!n)return;e.preventDefault();const a=i.update(e,t,n,o.getAxisZooms());for(const[r,{direction:s,zoom:l}]of Object.entries(a))this.updateAxisZoom(r,s,l)}onWheelScrolling(e){const{enableAxisDragging:t,enableIndependentAxes:i,hoveredAxis:n,scroller:o,seriesRect:a,ctx:{zoomManager:r}}=this;if(!a)return;e.preventDefault();const s=t&&null!=n;let l=this.isScalingX(),c=this.isScalingY();s&&(l=n.direction===MW.ChartAxisDirection.X,c=!l);const d=this.getModuleProperties({isScalingX:l,isScalingY:c});if(!0===i){const t=o.updateAxes(e,d,a,r.getAxisZooms());for(const[e,{direction:i,zoom:o}]of Object.entries(t))s&&n.id!==e||this.updateAxisZoom(e,i,o)}else{const t=o.update(e,d,a,this.getZoom());this.updateUnifiedZoom(t)}}onAxisLeave(){const{enabled:e,ctx:{cursorManager:t}}=this;e&&(this.hoveredAxis=void 0,t.updateCursor(K4))}onAxisHover(e,t){const{enabled:i,enableAxisDragging:n,ctx:{cursorManager:o}}=this;i&&(this.hoveredAxis={id:e.bboxProviderId??"unknown",direction:t},n&&o.updateCursor(K4,t===$4.X?"ew-resize":"ns-resize"))}onPinchMove(e){const{enabled:t,enableScrolling:i,paddedRect:n,seriesRect:o}=this;if(!t||!i||!n||!o)return;const a=this.getZoom(),r=K2(a),s=-.01*e.deltaDistance,l=Y2(o,e.origin.x,e.origin.y);this.isScalingX()&&(r.x.max+=s*H2(a),r.x=J2(r.x,a.x,l.x)),this.isScalingY()&&(r.y.max+=s*(a.y.max-a.y.min),r.y=J2(r.y,a.y,l.y)),this.updateZoom(e4(r)),e.preventDefault()}onLayoutComplete(e){const{enabled:t,rangeX:i,rangeY:n,ratioX:o,ratioY:a}=this;if(!t)return;const{series:{rect:r,paddedRect:s,shouldFlipXY:l},axes:c}=e;this.seriesRect=r,this.paddedRect=s,this.shouldFlipXY=l,this.restoreEvent&&(this.restoreZoom(this.restoreEvent),this.restoreEvent=void 0),this.hasPerformedLayout=!0;if(!this.updateAxes(c))return;i.updateDomain(this.axisDomains[$4.X]),n.updateDomain(this.axisDomains[$4.Y]);const d={x:i.getRange()??o.getRatio(),y:n.getRange()??a.getRatio()};null==d.x&&null==d.y||this.updateZoom(e4(K2(d)))}onUpdateComplete(e){const{minRect:t,minVisibleRect:i}=e,{enabled:n,minVisibleItemsX:o,minVisibleItemsY:a,paddedRect:r,shouldFlipXY:s}=this;if(!n||!r||!t||!i)return;const l=this.getZoom(),c=s?a:o,d=s?o:a,u=i.width*c/r.width,h=i.height*d/r.height,p=V4(u*H2(l)),g=V4(h*W2(l));this.isScalingX()&&(this.minRatioX=Math.min(1,p)),this.isScalingY()&&(this.minRatioY=Math.min(1,g)),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onZoomChange(e){"zoom"!==e.callerId&&this.panner.stopInteractions();const t=this.getZoom(),i=this.getModuleProperties();this.contextMenu.toggleActions(t),this.toolbar.toggleButtons(t,i)}onRestoreZoom(e){this.hasPerformedLayout?this.restoreZoom(e):this.restoreEvent=e}onZoomPanStart(e){"zoom"===e.callerId&&this.panner.stopInteractions()}onPanUpdate(e){const{panner:t,seriesRect:i,ctx:{tooltipManager:n,zoomManager:o}}=this;if(!i)return;const a=t.translateZooms(i,o.getAxisZooms(),e.deltaX,e.deltaY);for(const[r,{direction:s,zoom:l}]of Object.entries(a))this.updateAxisZoom(r,s,l);n.updateTooltip(Y4)}updateAxes(e){if(!e)return;const t=this.getPrimaryAxis(e,$4.X),i=this.getPrimaryAxis(e,$4.Y);return t&&i?(this.axisIds={[$4.X]:t.axisId,[$4.Y]:i.axisId},this.axisDomains={[$4.X]:t.domain,[$4.Y]:i.domain},t.changed||i.changed):void 0}getPrimaryAxis(e,t){const i=e.find((e=>e.direction===t));if(!i)return;let n=[i.domain[0],i.domain.at(-1)];n[0]instanceof Date&&n[1]instanceof Date&&(n=[n[0].getTime(),n[1].getTime()]);const o=this.axisDomains[t],a=null==o||!W4(o,n);return{axisId:i.id,changed:a,domain:n}}isPanningKeyPressed(e){switch(this.panKey){case"alt":return e.altKey;case"ctrl":return e.ctrlKey;case"shift":return e.shiftKey;case"meta":return e.metaKey}}isScalingX(){return"xy"===this.axes||(this.shouldFlipXY?"y"===this.axes:"x"===this.axes)}isScalingY(){return"xy"===this.axes||(this.shouldFlipXY?"x"===this.axes:"y"===this.axes)}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(e){return U2(e,this.minRatioX,this.minRatioY)}updateZoom(e){this.enableIndependentAxes?this.updatePrimaryAxisZooms(e):this.updateUnifiedZoom(e)}updatePrimaryAxisZooms(e){const t=this.axisIds[$4.X],i=this.axisIds[$4.Y];t&&this.updateAxisZoom(t,$4.X,e.x),i&&this.updateAxisZoom(i,$4.Y,e.y)}updateUnifiedZoom(e){const{minRatioX:t,minRatioY:i,ctx:{zoomManager:n}}=this,o=H2(e),a=W2(e),r=this.getZoom(),s=o<=H2(r)&&o<t,l=a<=W2(r)&&a<i;s&&(e.x=i4(e.x,r.x,t)),l&&(e.y=i4(e.y,r.y,i)),n.updateZoom("zoom",e)}updateAxisZoom(e,t,i){const{enableIndependentAxes:n,minRatioX:o,minRatioY:a,ctx:{zoomManager:r}}=this;if(!i)return;const s=this.getZoom();if(!0!==n)return s[t]=i,void this.updateUnifiedZoom(s);const l=i.max-i.min,c=s[t].max-s[t].min,d=t===$4.X?o:a;l<=c&&l<d||r.updateAxisZoom("zoom",e,i)}restoreZoom(e){const{rangeX:t,rangeY:i,ratioX:n,ratioY:o}=e;t&&this.rangeX.restore(t.start,t.end),i&&this.rangeY.restore(i.start,i.end),n&&!t&&this.ratioX.restore(n.start,n.end),o&&!i&&this.ratioY.restore(o.start,o.end)}getZoom(){return K2(this.ctx.zoomManager.getZoom())}getResetZoom(){return{x:this.rangeX.getInitialRange()??this.ratioX.getInitialRatio()??j2,y:this.rangeY.getInitialRange()??this.ratioY.getInitialRatio()??j2}}getModuleProperties(e){return{anchorPointX:e?.anchorPointX??this.getAnchorPointX(),anchorPointY:e?.anchorPointY??this.getAnchorPointY(),enabled:e?.enabled??this.enabled,independentAxes:e?.independentAxes??!0===this.enableIndependentAxes,isScalingX:e?.isScalingX??this.isScalingX(),isScalingY:e?.isScalingY??this.isScalingY(),minRatioX:e?.minRatioX??this.minRatioX,minRatioY:e?.minRatioY??this.minRatioY,rangeX:e?.rangeX??this.rangeX,scrollingStep:e?.scrollingStep??this.scrollingStep}}};GW([B4({newValue(e){this.onEnabledChange(e)}}),_4(O4)],Z4.prototype,"enabled",2),GW([_4(O4)],Z4.prototype,"enableAxisDragging",2),GW([_4(O4)],Z4.prototype,"enableDoubleClickToReset",2),GW([_4(O4,{optional:!0})],Z4.prototype,"enableIndependentAxes",2),GW([_4(O4)],Z4.prototype,"enablePanning",2),GW([_4(O4)],Z4.prototype,"enableScrolling",2),GW([_4(O4)],Z4.prototype,"enableSelecting",2),GW([_4(z4(["alt","ctrl","meta","shift"],"a pan key"))],Z4.prototype,"panKey",2),GW([_4(z4(["x","y","xy"],"an axis"))],Z4.prototype,"axes",2),GW([_4(T4)],Z4.prototype,"scrollingStep",2),GW([_4(L4.restrict({min:1}))],Z4.prototype,"minVisibleItemsX",2),GW([_4(L4.restrict({min:1}))],Z4.prototype,"minVisibleItemsY",2),GW([_4(U4)],Z4.prototype,"anchorPointX",2),GW([_4(U4)],Z4.prototype,"anchorPointY",2),GW([H4("panner.deceleration"),_4(j4(T4,z4(["off","short","long"],"a deceleration")))],Z4.prototype,"deceleration",2);var q4={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian","topology"],dependencies:["toolbar"],moduleFactory:e=>new Z4(e),themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",buttons:{enabled:!0,buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out",section:"scale"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in",section:"scale"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left",section:"pan"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right",section:"pan"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset",section:"reset"}]},enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,deceleration:"short",minVisibleItemsX:2,minVisibleItemsY:2,panKey:"alt",scrollingStep:.1}}},{BOOLEAN:Q4,OBJECT:J4,POSITION:e3,POSITIVE_NUMBER:t3,BaseProperties:i3,AxisTicks:n3,ZIndexMap:o3,ProxyProperty:a3,Validate:r3,LayoutElement:s3}=MW,{Group:l3,Rect:c3,Triangle:d3,TranslatableLayer:u3,LinearGradient:h3}=rW,{createId:p3}=SW,g3=class extends i3{constructor(){super(...arguments),this.thickness=16,this.preferredLength=100}};GW([r3(t3)],g3.prototype,"thickness",2),GW([r3(t3)],g3.prototype,"preferredLength",2);var f3=class{constructor(e){this.axisTicks=e}};GW([a3("axisTicks.label")],f3.prototype,"label",2),GW([a3("axisTicks.interval")],f3.prototype,"interval",2),GW([a3("axisTicks.padding")],f3.prototype,"padding",2);var m3=class{constructor(e){this.ctx=e,this.id=p3(this),this.legendGroup=new u3({name:"legend",zIndex:o3.LEGEND}),this.gradientRect=new c3,this.arrow=new d3,this.ticksGroup=new l3({name:"legend-axis-group"}),this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=!1,this.gradient=new g3,this.spacing=20,this.data=[],this.highlightManager=e.highlightManager,this.axisTicks=new n3,this.axisTicks.attachAxis(this.ticksGroup),this.scale=new f3(this.axisTicks),this.legendGroup.append([this.gradientRect,this.arrow,this.ticksGroup]),this.destroyFns.push(e.highlightManager.addListener("highlight-change",(()=>this.onChartHoverChange())),e.layoutManager.registerElement(s3.Legend,(e=>this.onStartLayout(e))),(()=>this.legendGroup.remove()))}isVertical(){return"right"===this.position||"left"===this.position}destroy(){this.destroyFns.forEach((e=>e()))}attachLegend(e){e.appendChild(this.legendGroup)}onStartLayout(e){const[t]=this.data;if(!this.enabled||!t?.enabled)return void(this.legendGroup.visible=!1);const{colorRange:i}=this.normalizeColorArrays(t);this.updateGradientRect(e.layoutBox,i);const n=this.updateAxis(t),{left:o,top:a}=this.getMeasurements(e.layoutBox,n);this.updateArrow(),this.legendGroup.visible=!0,this.legendGroup.translationX=o,this.legendGroup.translationY=a}normalizeColorArrays(e){let t=e.colorDomain.slice();const i=e.colorRange.slice();if(t.length===i.length)return{colorDomain:t,colorRange:i};t.length>i.length&&i.splice(t.length);const[n,o]=t,a=i.length;return t=i.map(((e,t)=>0===t?n:t===a-1?o:n+(o-n)*t/(a-1))),{colorDomain:t,colorRange:i}}updateGradientRect(e,t){const{gradientRect:i}=this,{preferredLength:n,thickness:o}=this.gradient;let a;this.isVertical()?(a=0,i.width=o,i.height=Math.min(e.height,n)):(a=90,i.width=Math.min(e.width,n),i.height=o);const r=new h3("oklch",t.map(((e,i)=>({offset:i/(t.length-1),color:e}))),a);i.fill=r}updateAxis(e){const{axisTicks:t}=this,i=this.isVertical(),n=this.reverseOrder!==i;return t.position=this.position,t.translationX=i?this.gradient.thickness:0,t.translationY=i?0:this.gradient.thickness,t.scale.domain=n?e.colorDomain.slice().reverse():e.colorDomain,t.scale.range=i?[0,this.gradientRect.height]:[0,this.gradientRect.width],t.calculateLayout()}updateArrow(){const e=this.highlightManager.getActiveHighlight(),{arrow:t}=this;if(null==e?.colorValue)return void(t.visible=!1);const{scale:i,label:n}=this.axisTicks,o=n.fontSize??0,a=i.convert(e.colorValue);let{x:r,y:s}=this.gradientRect,l=Math.PI;this.isVertical()?(r-=o/2,s+=a,l/=2):(r+=a,s-=o/2),t.visible=!0,t.fill=n.color,t.rotation=l,t.size=o,t.translationX=r,t.translationY=s}getMeasurements(e,t){let{x:i,y:n}=e,{width:o,height:a}=this.gradientRect;switch(this.isVertical()?o+=t.width+5:a+=t.height+5,this.position){case"left":n+=e.height/2-a/2,e.shrink(o+this.spacing,"left");break;case"right":i+=e.width-o,n+=e.height/2-a/2,e.shrink(o+this.spacing,"right");break;case"top":i+=e.width/2-o/2,e.shrink(a+this.spacing,"top");break;case"bottom":i+=e.width/2-o/2,n+=e.height-a,e.shrink(a+this.spacing,"bottom")}return{top:n,left:i}}onChartHoverChange(){this.enabled&&this.updateArrow()}};m3.className="GradientLegend",GW([r3(Q4)],m3.prototype,"enabled",2),GW([r3(e3)],m3.prototype,"position",2),GW([r3(Q4)],m3.prototype,"reverseOrder",2),GW([r3(J4)],m3.prototype,"gradient",2),GW([r3(t3)],m3.prototype,"spacing",2);var y3={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient",moduleFactory:e=>new m3(e),themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:13,label:{color:vW.DEFAULT_LABEL_COLOUR,fontSize:vW.FONT_SIZE.SMALL,fontFamily:vW.DEFAULT_FONT_FAMILY},interval:{minSpacing:1}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1}},v3=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")}md5cycle(e,t){let i=e[0],n=e[1],o=e[2],a=e[3];i=this.ff(i,n,o,a,t[0],7,-680876936),a=this.ff(a,i,n,o,t[1],12,-389564586),o=this.ff(o,a,i,n,t[2],17,606105819),n=this.ff(n,o,a,i,t[3],22,-1044525330),i=this.ff(i,n,o,a,t[4],7,-176418897),a=this.ff(a,i,n,o,t[5],12,1200080426),o=this.ff(o,a,i,n,t[6],17,-1473231341),n=this.ff(n,o,a,i,t[7],22,-45705983),i=this.ff(i,n,o,a,t[8],7,1770035416),a=this.ff(a,i,n,o,t[9],12,-1958414417),o=this.ff(o,a,i,n,t[10],17,-42063),n=this.ff(n,o,a,i,t[11],22,-1990404162),i=this.ff(i,n,o,a,t[12],7,1804603682),a=this.ff(a,i,n,o,t[13],12,-40341101),o=this.ff(o,a,i,n,t[14],17,-1502002290),n=this.ff(n,o,a,i,t[15],22,1236535329),i=this.gg(i,n,o,a,t[1],5,-165796510),a=this.gg(a,i,n,o,t[6],9,-1069501632),o=this.gg(o,a,i,n,t[11],14,643717713),n=this.gg(n,o,a,i,t[0],20,-373897302),i=this.gg(i,n,o,a,t[5],5,-701558691),a=this.gg(a,i,n,o,t[10],9,38016083),o=this.gg(o,a,i,n,t[15],14,-660478335),n=this.gg(n,o,a,i,t[4],20,-405537848),i=this.gg(i,n,o,a,t[9],5,568446438),a=this.gg(a,i,n,o,t[14],9,-1019803690),o=this.gg(o,a,i,n,t[3],14,-187363961),n=this.gg(n,o,a,i,t[8],20,1163531501),i=this.gg(i,n,o,a,t[13],5,-1444681467),a=this.gg(a,i,n,o,t[2],9,-51403784),o=this.gg(o,a,i,n,t[7],14,1735328473),n=this.gg(n,o,a,i,t[12],20,-1926607734),i=this.hh(i,n,o,a,t[5],4,-378558),a=this.hh(a,i,n,o,t[8],11,-2022574463),o=this.hh(o,a,i,n,t[11],16,1839030562),n=this.hh(n,o,a,i,t[14],23,-35309556),i=this.hh(i,n,o,a,t[1],4,-1530992060),a=this.hh(a,i,n,o,t[4],11,1272893353),o=this.hh(o,a,i,n,t[7],16,-155497632),n=this.hh(n,o,a,i,t[10],23,-1094730640),i=this.hh(i,n,o,a,t[13],4,681279174),a=this.hh(a,i,n,o,t[0],11,-358537222),o=this.hh(o,a,i,n,t[3],16,-722521979),n=this.hh(n,o,a,i,t[6],23,76029189),i=this.hh(i,n,o,a,t[9],4,-640364487),a=this.hh(a,i,n,o,t[12],11,-421815835),o=this.hh(o,a,i,n,t[15],16,530742520),n=this.hh(n,o,a,i,t[2],23,-995338651),i=this.ii(i,n,o,a,t[0],6,-198630844),a=this.ii(a,i,n,o,t[7],10,1126891415),o=this.ii(o,a,i,n,t[14],15,-1416354905),n=this.ii(n,o,a,i,t[5],21,-57434055),i=this.ii(i,n,o,a,t[12],6,1700485571),a=this.ii(a,i,n,o,t[3],10,-1894986606),o=this.ii(o,a,i,n,t[10],15,-1051523),n=this.ii(n,o,a,i,t[1],21,-2054922799),i=this.ii(i,n,o,a,t[8],6,1873313359),a=this.ii(a,i,n,o,t[15],10,-30611744),o=this.ii(o,a,i,n,t[6],15,-1560198380),n=this.ii(n,o,a,i,t[13],21,1309151649),i=this.ii(i,n,o,a,t[4],6,-145523070),a=this.ii(a,i,n,o,t[11],10,-1120210379),o=this.ii(o,a,i,n,t[2],15,718787259),n=this.ii(n,o,a,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(n,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(a,e[3])}cmn(e,t,i,n,o,a){return t=this.add32(this.add32(t,e),this.add32(n,a)),this.add32(t<<o|t>>>32-o,i)}ff(e,t,i,n,o,a,r){return this.cmn(t&i|~t&n,e,t,o,a,r)}gg(e,t,i,n,o,a,r){return this.cmn(t&n|i&~n,e,t,o,a,r)}hh(e,t,i,n,o,a,r){return this.cmn(t^i^n,e,t,o,a,r)}ii(e,t,i,n,o,a,r){return this.cmn(i^(t|~n),e,t,o,a,r)}md51(e){const t=e.length,i=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)this.md5cycle(i,this.md5blk(e.substring(n-64,n)));e=e.substring(n-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)o[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(this.md5cycle(i,o),n=0;n<16;n++)o[n]=0;return o[14]=8*t,this.md5cycle(i,o),i}md5blk(e){const t=[];for(let i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let i="",n=0;for(;n<4;n++)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}};function b3(e){return null==e||0===e.length}var x3={"01":"GRID","02":"CHARTS","0102":"BOTH"},S3="https://ag-grid.com/charts/licensing/",M3=class e{constructor(e){this.gridContext=!1,this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new v3,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(this.licenseKey,this.gridContext),i=`AG ${"BOTH"===t.currentLicenseType?"Grid and ":""}Charts Enterprise`,n=void 0===t.suppliedLicenseType?"":`AG ${"BOTH"===t.suppliedLicenseType?"Grid and AG Charts":"GRID"===t.suppliedLicenseType?"Grid":"Charts"} Enterprise`;if(t.missing)this.isWebsiteUrl()&&!this.isForceWatermark()||this.outputMissingLicenseKey(i);else if(t.expired){const i=e.getChartsReleaseDate(),o=e.formatDate(i);this.outputExpiredKey(t.expiry,o,n)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,i,n):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,i,n)}static extractExpiry(t){const i=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(e.decode(i),10))}static extractLicenseComponents(t){let i=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const n=i.length-32,o=i.substring(n),a=i.substring(0,n),[r,s,l]=e.extractBracketedInformation(i);return{md5:o,license:a,version:r,isTrial:s,type:l}}getLicenseDetails(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="CHARTS";if(b3(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:n};const o=e.getChartsReleaseDate(),{md5:a,license:r,version:s,isTrial:l,type:c}=e.extractLicenseComponents(t);let d,u,h,p=a===this.md5.md5(r)&&-1===t.indexOf("For_Trialing_ag-Grid_Only"),g=null,f=!1;if(p&&(g=e.extractExpiry(r),p=!isNaN(g.getTime()),p))switch(u=o>g,s){case"legacy":case"2":p=!1;break;case"3":b3(c)?p=!1:(h=c,c!==x3["02"]&&c!==x3["0102"]?(p=!1,f=!0):l&&(d=g<new Date,u=void 0))}return p?{licenseKey:t,valid:p,expiry:e.formatDate(g),expired:u,version:s,isTrial:l,trialExpired:d,invalidLicenseTypeForCombo:i?"BOTH"!==h:void 0,incorrectLicenseType:f,currentLicenseType:n,suppliedLicenseType:h}:{licenseKey:t,valid:p,incorrectLicenseType:f,currentLicenseType:n,suppliedLicenseType:h}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!b3(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage??""}getHostname(){if(!this.document)return"localhost";const e=this.document.defaultView??window;if(!e)return"localhost";const t=e.location,{hostname:i=""}=t;return i}isForceWatermark(){if(!this.document)return!1;const e=this.document?.defaultView??"undefined"!=typeof window?window:void 0;if(!e)return!1;const{pathname:t}=e.location;return!!t&&-1!==t.indexOf("forceWatermark")}isWebsiteUrl(){return null!==this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)}isLocalhost(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)}static formatDate(e){const t=e.getDate(),i=e.getMonth(),n=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][i]+" "+n}static getChartsReleaseDate(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))}static decode(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,o,a,r,s,l,c,d="",u=0;const h=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;u<h.length;)r=i.indexOf(h.charAt(u++)),s=i.indexOf(h.charAt(u++)),l=i.indexOf(h.charAt(u++)),c=i.indexOf(h.charAt(u++)),n=r<<2|s>>4,o=(15&s)<<4|l>>2,a=(3&l)<<6|c,d+=String.fromCharCode(n),64!=l&&(d+=String.fromCharCode(o)),64!=c&&(d+=String.fromCharCode(a));return d=e.utf8_decode(d),d}static utf8_decode(e){e=e.replace(/rn/g,"n");let t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}setLicenseKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.gridContext=t,this.licenseKey=e}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const t=e.match(/\[(.*?)\]/g).map((e=>e.replace("[","").replace("]","")));if(!t||0===t.length)return["legacy",!1,void 0];const i=1===t.filter((e=>"TRIAL"===e)).length,n=t.filter((e=>0===e.indexOf("v")))[0];return[n?n.replace("v",""):"legacy",i,x3[t.filter((e=>x3[e]))[0]]]}centerPadAndOutput(e){const t=this.totalMessageLength-e.length;console.error(e.padStart(t/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.error(e.padEnd(this.totalMessageLength-i.length,t)+i)}outputInvalidLicenseKey(e,t,i){this.gridContext||(e?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${i} only and does not cover you for ${t}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${S3}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${S3}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,t,i){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${i} expired on ${e}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${e} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${e} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,t,i){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${i} released before ${e}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${t}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};M3.RELEASE_INFORMATION="MTczMTQ5NDc0NzMyNw==";var A3=M3,{createElement:k3}=MW;function w3(e,t){const i=e.addChild("canvas-overlay","watermark"),n=k3("span");n.innerText=t,i.addEventListener("animationend",(()=>{e.removeChild("canvas-overlay","watermark"),e.removeStyles("watermark")})),i.classList.add("ag-watermark"),i.appendChild(n)}var{ScalableGroup:C3,Rect:I3,Line:D3,BBox:N3,Selection:E3}=rW,{Logger:O3}=SW,L3=class extends C3{constructor(){super(),this.append([new I3({tag:0}),new I3({tag:0}),new I3({tag:2}),new I3({tag:1}),new D3({tag:3}),new D3({tag:3}),new D3({tag:4}),new D3({tag:4})])}updateDatumStyles(e,t,i,n){const{bandwidth:o,scaledValues:{xValue:a,medianValue:r}}=e;let{minValue:s,q1Value:l,q3Value:c,maxValue:d}=e.scaledValues;(i&&!n||!i&&n)&&([d,c,l,s]=[s,l,c,d]);const u=(e,t,n,o)=>i?{y:e,x:t,width:o,height:n}:{x:e,y:t,width:n,height:o},h=(e,t,n)=>i?{y1:e,y2:t,x:n}:{x1:e,x2:t,y:n},p=(e,t,n)=>i?{x1:t,x2:n,y:e}:{x:e,y1:t,y2:n},g=(e,t,i,n)=>(({x:e,y:t,width:i,height:n}=u(e,t,i,n)),new N3(e,t,i,n)),{fill:f,fillOpacity:m,stroke:y,strokeWidth:v,strokeOpacity:b,lineDash:x,lineDashOffset:S,cornerRadius:M,cap:A,whisker:k}=t,w=E3.select(this,I3),C=w.selectByTag(0),[I]=w.selectByTag(2),[D]=w.selectByTag(1),N=w.selectByTag(3),E=w.selectByTag(4);k.strokeWidth>o&&(k.strokeWidth=o);const O=u(l,a,c-l,o);I.setProperties(O),C[0].setProperties(O),C[0].setProperties({cornerRadius:M,clipBBox:g(l,a,Math.round(r-l+v/2),o)}),C[1].setProperties(O),C[1].setProperties({cornerRadius:M,clipBBox:g(Math.round(r-v/2),a,Math.floor(c-r+v/2),o)});const L=Math.max(Math.round(r-v/2),l+v),T=Math.min(Math.round(r+v/2),c-v);D.setProperties(O),D.setProperties({visible:L<T,cornerRadius:M,clipBBox:g(L,a+v,T-L,Math.max(0,o-2*v))});const R=Math.floor(a+o*(1-A.lengthRatio)/2),P=Math.ceil(a+o*(1+A.lengthRatio)/2);E[0].setProperties(p(s,R,P)),E[1].setProperties(p(d,R,P)),N[0].setProperties(h(Math.round(s+k.strokeWidth/2),l,Math.floor(a+o/2))),N[1].setProperties(h(c,Math.round(d-k.strokeWidth/2),Math.floor(a+o/2)));for(const z of C)z.setProperties({fill:f,fillOpacity:m,strokeWidth:2*v,strokeOpacity:0});D.setProperties({fill:y,fillOpacity:b,strokeWidth:0});for(const z of[...N,...E])z.setProperties(k);I.setProperties({stroke:y,strokeWidth:v,strokeOpacity:b,lineDash:x,lineDashOffset:S,cornerRadius:M,fillOpacity:0})}distanceSquared(e,t){const i=E3.selectByClass(this,I3,D3);return MW.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return void 0===e.midPoint?(O3.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}},{BaseProperties:T3,AbstractBarSeriesProperties:R3,SeriesTooltip:P3,Validate:z3,COLOR_STRING:j3,FUNCTION:B3,LINE_DASH:$3,OBJECT:F3,POSITIVE_NUMBER:_3,RATIO:H3,STRING:W3,mergeDefaults:G3}=MW,V3=class extends T3{constructor(){super(...arguments),this.lengthRatio=.5}};GW([z3(H3)],V3.prototype,"lengthRatio",2);var U3=class extends T3{};GW([z3(j3,{optional:!0})],U3.prototype,"stroke",2),GW([z3(_3)],U3.prototype,"strokeWidth",2),GW([z3(H3)],U3.prototype,"strokeOpacity",2),GW([z3($3,{optional:!0})],U3.prototype,"lineDash",2),GW([z3(_3)],U3.prototype,"lineDashOffset",2);var K3=class extends R3{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new V3,this.whisker=new U3,this.tooltip=new P3,this.backgroundFill="white"}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:n,lineDashOffset:o}=this,a=super.toJson();return a.whisker=G3(a.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:n,lineDashOffset:o}),a}};GW([z3(W3)],K3.prototype,"xKey",2),GW([z3(W3)],K3.prototype,"minKey",2),GW([z3(W3)],K3.prototype,"q1Key",2),GW([z3(W3)],K3.prototype,"medianKey",2),GW([z3(W3)],K3.prototype,"q3Key",2),GW([z3(W3)],K3.prototype,"maxKey",2),GW([z3(W3,{optional:!0})],K3.prototype,"xName",2),GW([z3(W3,{optional:!0})],K3.prototype,"yName",2),GW([z3(W3,{optional:!0})],K3.prototype,"minName",2),GW([z3(W3,{optional:!0})],K3.prototype,"q1Name",2),GW([z3(W3,{optional:!0})],K3.prototype,"medianName",2),GW([z3(W3,{optional:!0})],K3.prototype,"q3Name",2),GW([z3(W3,{optional:!0})],K3.prototype,"maxName",2),GW([z3(j3,{optional:!0})],K3.prototype,"fill",2),GW([z3(H3)],K3.prototype,"fillOpacity",2),GW([z3(j3)],K3.prototype,"stroke",2),GW([z3(_3)],K3.prototype,"strokeWidth",2),GW([z3(H3)],K3.prototype,"strokeOpacity",2),GW([z3($3)],K3.prototype,"lineDash",2),GW([z3(_3)],K3.prototype,"lineDashOffset",2),GW([z3(_3)],K3.prototype,"cornerRadius",2),GW([z3(B3,{optional:!0})],K3.prototype,"itemStyler",2),GW([z3(F3)],K3.prototype,"cap",2),GW([z3(F3)],K3.prototype,"whisker",2),GW([z3(F3)],K3.prototype,"tooltip",2),GW([z3(j3)],K3.prototype,"backgroundFill",2);var{extractDecoratedProperties:Y3,fixNumericExtent:X3,keyProperty:Z3,mergeDefaults:q3,SeriesNodePickMode:Q3,SMALLEST_KEY_INTERVAL:J3,valueProperty:e5,diff:t5,animationValidation:i5,convertValuesToScaleByDefs:n5,computeBarFocusBounds:o5}=MW,{motion:a5}=rW,{ContinuousScale:r5}=xW,{Color:s5}=SW,l5=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.minKey=n.properties.minKey,this.q1Key=n.properties.q1Key,this.medianKey=n.properties.medianKey,this.q3Key=n.properties.q3Key,this.maxKey=n.properties.maxKey}},c5=class extends MW.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[Q3.NEAREST_NODE,Q3.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:[],hasHighlightedLabels:!0}),this.properties=new K3,this.NodeEvent=l5}async processData(e){if(!this.properties.isValid()||!this.visible)return;const{xKey:t,minKey:i,q1Key:n,medianKey:o,q3Key:a,maxKey:r}=this.properties,s=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:d,xScaleType:u,yScaleType:h}=this.getScaleInformation({xScale:l,yScale:c}),p=[];s&&this.processedData&&p.push(t5(this.processedData)),s&&p.push(i5());const{processedData:g}=await this.requestDataModel(e,this.data,{props:[Z3(t,u,{id:"xValue"}),e5(i,h,{id:"minValue"}),e5(n,h,{id:"q1Value"}),e5(o,h,{id:"medianValue"}),e5(a,h,{id:"q3Value"}),e5(r,h,{id:"maxValue"}),...d?[J3]:[],...p]});this.smallestDataInterval=g.reduced?.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];if(e===this.getBarDirection()){const e=i.getDomain(this,"minValue","value",t),n=i.getDomain(this,"maxValue","value",t);return X3([Math.min(...e),Math.max(...n)])}const{index:n,def:o}=i.resolveProcessedDataDefById(this,"xValue"),a=t.domain.keys[n];return"key"===o.type&&"category"===o.valueType?a:this.padBandExtent(a)}async createNodeData(){const{visible:e,dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!(t&&i&&n))return;const{xKey:o,fill:a,fillOpacity:r,stroke:s,strokeWidth:l,strokeOpacity:c,lineDash:d,lineDashOffset:u,cap:h,whisker:p}=this.properties,g=[],f=t.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]),{barWidth:m,groupIndex:y}=this.updateGroupScale(i),v=r5.is(i.scale)?-.5*m:0,{groupScale:b,processedData:x}=this,S=this.isVertical(),M={itemId:o,nodeData:g,labelData:[],scales:this.calculateScaling(),visible:this.visible};return e?(x?.data.forEach((e=>{let{datum:x,keys:M,values:A}=e;const{xValue:k,minValue:w,q1Value:C,medianValue:I,q3Value:D,maxValue:N}=t.resolveProcessedDataDefsValues(f,{keys:M,values:A});if([w,C,I,D,N].some((e=>"number"!==typeof e))||w>C||C>I||I>D||D>N)return;const E=n5({defs:f,values:{xValue:k,minValue:w,q1Value:C,medianValue:I,q3Value:D,maxValue:N},xAxis:i,yAxis:n});E.xValue+=Math.round(b.convert(String(y)))+v;const O=Math.round(m),L=Math.abs(E.q3Value-E.q1Value),T=E.xValue+O/2,R=Math.min(E.q3Value,E.q1Value)+L/2,P={x:S?T:R,y:S?R:T};let z;z=S?{x:P.x-O/2,y:E.minValue,width:O,height:E.maxValue-E.minValue}:{x:E.minValue,y:P.y-O/2,width:E.maxValue-E.minValue,height:O},g.push({series:this,itemId:k,datum:x,xKey:o,bandwidth:O,scaledValues:E,cap:h,whisker:p,fill:a,fillOpacity:r,stroke:s,strokeWidth:l,strokeOpacity:c,lineDash:d,lineDashOffset:u,midPoint:P,focusRect:z})})),M):M}getLegendData(e){const{id:t,data:i}=this,{xKey:n,yName:o,fill:a,fillOpacity:r,stroke:s,strokeWidth:l,strokeOpacity:c,showInLegend:d,legendItemName:u,visible:h}=this.properties;return d&&i?.length&&n&&"category"===e?[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:h,label:{text:u??o??t},symbols:[{marker:{fill:a,fillOpacity:r,stroke:s,strokeOpacity:c,strokeWidth:l}}],legendItemName:u}]:[]}getTooltipHtml(e){const{xKey:t,minKey:i,q1Key:n,medianKey:o,q3Key:a,maxKey:r,xName:s,yName:l,minName:c,q1Name:d,medianName:u,q3Name:h,maxName:p,tooltip:g,fill:f}=this.properties,{datum:m,itemId:y}=e,v=this.getCategoryAxis(),b=this.getValueAxis();if(!v||!b||!this.properties.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const x=SW.sanitizeHtml(l),S=[[t,s,v],[i,c,b],[n,d,b],[o,u,b],[a,h,b],[r,p,b]].map((e=>{let[t,i,n]=e;return SW.sanitizeHtml(`${i??t}: ${n.formatDatum(m[t])}`)})).join(x?"<br/>":", "),{fill:M}=this.getFormattedStyles(e);return g.toTooltipHtml({title:x,content:S,backgroundColor:f},{seriesId:this.id,itemId:y,datum:m,fill:f,xKey:t,minKey:i,q1Key:n,medianKey:o,q3Key:a,maxKey:r,xName:s,minName:c,q1Name:d,medianName:u,q3Name:h,maxName:p,yName:l,title:x,color:f??M})}animateEmptyUpdateReady(e){let{datumSelection:t}=e;const i=this.isVertical(),{from:n,to:o}=function(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}(i);a5.resetMotion([t],function(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}(i)),a5.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[t],n,o,{phase:"initial"})}isLabelEnabled(){return!1}async updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}async updateDatumNodes(e){let{datumSelection:t,isHighlight:i}=e;const n=this.isVertical(),o=this.getValueAxis()?.isReversed();t.each(((e,t)=>{let a=this.getFormattedStyles(t,i);i&&(a=q3(this.properties.highlightStyle.item,a));const{stroke:r,strokeWidth:s,strokeOpacity:l,lineDash:c,lineDashOffset:d}=a;a.whisker=q3(a.whisker,{stroke:r,strokeWidth:s,strokeOpacity:l,lineDash:c,lineDashOffset:d}),e.updateDatumStyles(t,a,n,o)}))}async updateLabelNodes(e){}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}nodeFactory(){return new L3}getFormattedStyles(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{id:i,ctx:{callbackCache:n},properties:o}=this,{xKey:a,minKey:r,q1Key:s,medianKey:l,q3Key:c,maxKey:d,itemStyler:u,backgroundFill:h,cornerRadius:p}=o,{datum:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:b,cap:x,whisker:S}=e;let M,A;M=e.fill,A=o.fillOpacity;const k={fill:M,fillOpacity:A,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:b,cornerRadius:p,cap:Y3(x),whisker:Y3(S)};if(u){const e=n.call(u,{datum:g,seriesId:i,highlighted:t,...k,xKey:a,minKey:r,q1Key:s,medianKey:l,q3Key:c,maxKey:d});if(e)return q3(e,k)}return k}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return o5(this.contextNodeData?.nodeData[t].focusRect,this.contentGroup,i)}};c5.className="BoxPlotSeries",c5.type="box-plot";var d5={series:{direction:"vertical",strokeWidth:2},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[vW.CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},{Color:u5}=SW,h5={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:e=>new c5(e),tooltipDefaults:{range:"exact"},defaultAxes:vW.swapAxisCondition([{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.BOTTOM}],(e=>"horizontal"===e?.direction)),themeTemplate:d5,groupable:!0,paletteFactory:e=>{let{takeColors:t,themeTemplateParameters:i}=e;const n=i.get(vW.DEFAULT_BACKGROUND_COLOUR),o=(Array.isArray(n)?n[0]:n)??"white",{fills:[a],strokes:[r]}=t(1);let s;try{s=u5.mix(u5.fromString(o),u5.fromString(a),.3).toString()}catch{s=a}return{fill:s,stroke:r,backgroundFill:o}}},{AbstractBarSeriesProperties:p5,BaseProperties:g5,PropertiesArray:f5,SeriesTooltip:m5,Validate:y5,ARRAY:v5,COLOR_STRING:b5,LINE_DASH:x5,OBJECT:S5,POSITIVE_NUMBER:M5,RATIO:A5,STRING:k5}=MW,w5=class extends g5{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};GW([y5(b5)],w5.prototype,"fill",2),GW([y5(A5)],w5.prototype,"fillOpacity",2),GW([y5(b5)],w5.prototype,"stroke",2),GW([y5(M5)],w5.prototype,"strokeWidth",2),GW([y5(A5)],w5.prototype,"strokeOpacity",2),GW([y5(x5)],w5.prototype,"lineDash",2),GW([y5(M5)],w5.prototype,"lineDashOffset",2),GW([y5(A5)],w5.prototype,"lengthRatio",2);var C5=class extends g5{};GW([y5(M5,{optional:!0})],C5.prototype,"max",2);var I5=class extends g5{constructor(){super(...arguments),this.color="lightgrey"}};GW([y5(b5)],I5.prototype,"color",2),GW([y5(M5,{optional:!0})],I5.prototype,"stop",2);var D5=class extends p5{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new f5(I5),this.target=new w5,this.scale=new C5,this.tooltip=new m5,this.backgroundFill="white"}};GW([y5(k5)],D5.prototype,"valueKey",2),GW([y5(k5,{optional:!0})],D5.prototype,"valueName",2),GW([y5(k5,{optional:!0})],D5.prototype,"targetKey",2),GW([y5(k5,{optional:!0})],D5.prototype,"targetName",2),GW([y5(b5)],D5.prototype,"fill",2),GW([y5(A5)],D5.prototype,"fillOpacity",2),GW([y5(b5)],D5.prototype,"stroke",2),GW([y5(M5)],D5.prototype,"strokeWidth",2),GW([y5(A5)],D5.prototype,"strokeOpacity",2),GW([y5(x5)],D5.prototype,"lineDash",2),GW([y5(M5)],D5.prototype,"lineDashOffset",2),GW([y5(A5)],D5.prototype,"widthRatio",2),GW([y5(v5.restrict({minLength:0}))],D5.prototype,"colorRanges",2),GW([y5(S5)],D5.prototype,"target",2),GW([y5(S5)],D5.prototype,"scale",2),GW([y5(S5)],D5.prototype,"tooltip",2),GW([y5(b5)],D5.prototype,"backgroundFill",2);var{animationValidation:N5,collapsedStartingBarPosition:E5,diff:O5,keyProperty:L5,partialAssign:T5,prepareBarAnimationFunctions:R5,resetBarSelectionsFn:P5,seriesLabelFadeInAnimation:z5,valueProperty:j5,createDatumId:B5,computeBarFocusBounds:$5}=MW,{fromToMotion:F5}=rW.motion,{sanitizeHtml:_5,Color:H5}=SW,W5=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],G5=class extends MW.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:{y:["targetKey","valueKey"]},directionNames:{y:["targetName","valueName"]},pickModes:[MW.SeriesNodePickMode.NEAREST_NODE,MW.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:P5}}),this.properties=new D5,this.normalizedColorRanges=[],this.colorRangesGroup=new rW.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=rW.Selection.select(this.colorRangesGroup,rW.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=rW.Selection.select(this.annotationGroup,rW.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}async processData(e){if(!this.properties.isValid()||!this.data||!this.visible)return;const{valueKey:t,targetKey:i}=this.properties,n=this.getCategoryAxis()?.scale,o=this.getValueAxis()?.scale,{xScaleType:a,yScaleType:r}=this.getScaleInformation({xScale:n,yScale:o}),s=[];void 0!==i&&s.push(j5(i,r,{id:"target"})),this.ctx.animationManager.isSkipped()||(void 0!==this.processedData&&s.push(O5(this.processedData)),s.push(N5())),await this.requestDataModel(e,this.data.slice(0,1),{props:[L5(t,a,{id:"xValue"}),j5(t,r,{id:"value"}),...s],groupByKeys:!0}),this.animationState.transition("updateData")}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){return Math.max(...this.getValueAxis()?.dataDomain.domain??[0])}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!t||!i)return[];const{valueKey:n,targetKey:o,valueName:a,scale:r}=this.properties;if(e===this.getCategoryDirection())return[a??n];if(e==this.getValueAxis()?.direction){const e=t.getDomain(this,"value","value",i),n=void 0===o?[]:t.getDomain(this,"target","value",i);return[0,r.max??Math.max(...e,...n)]}throw new Error(`unknown direction ${e}`)}getKeys(e){return e===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(e)}async createNodeData(){const{dataModel:e,processedData:t}=this,{valueKey:i,targetKey:n,widthRatio:o,target:{lengthRatio:a}}=this.properties,r=this.getCategoryAxis()?.scale,s=this.getValueAxis()?.scale;if(!i||!e||!t||!r||!s)return;if(void 0===o||void 0===a)return;const l=r.bandwidth??NaN,c=this.getMaxValue(),d=e.resolveProcessedDataIndexById(this,"value"),u=void 0===n?NaN:e.resolveProcessedDataIndexById(this,"target"),h={itemId:i,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return h;for(const{datum:f,values:m}of t.data){if(!Array.isArray(f)||f.length<1)continue;m[0][d]<0&&SW.Logger.warnOnce("negative values are not supported, clipping to 0.");const e=this.properties.valueName??this.properties.valueKey,t=Math.min(c,Math.max(0,m[0][d])),n=s.convert(t),r=o*l,p=s.convert(0),g=this.getBarDirection()===MW.ChartAxisDirection.X,y={x:l*(1-o)/2,y:Math.min(n,p),width:r,height:Math.abs(p-n)};let v;if(g&&([y.x,y.y,y.width,y.height]=[y.y,y.x,y.height,y.width]),m[0][u]<0&&SW.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&m[0][u]>=0){const e=a*l,t=Math.min(c,m[0][u]);if(!isNaN(t)&&void 0!==t){const i=s.convert(t);let n=l*(1-a)/2,o=n+e,[r,c]=[i,i];g&&([n,o,r,c]=[r,c,n,o]),v={value:t,x1:n,x2:o,y1:r,y2:c}}}const b={series:this,datum:f[0],xKey:i,xValue:e,yKey:i,yValue:t,cumulativeValue:t,target:v,...y,midPoint:{x:y.x+y.width/2,y:y.y+y.height/2},opacity:1};h.nodeData.push(b)}const p=[...this.getColorRanges()].sort(((e,t)=>(e.stop??c)-(t.stop??c)));let g=0;return this.normalizedColorRanges=p.map((e=>{const t=Math.min(c,e.stop??1/0),i={color:e.color,start:g,stop:t};return g=t,i})),h}getColorRanges(){const{colorRanges:e,fill:t,backgroundFill:i}=this.properties;if(void 0!==e&&e.length>0)return e;const n=new I5;try{n.color=H5.mix(H5.fromString(t),H5.fromString(i),.7).toString()}catch{n.color=t}return[n]}getLegendData(e){return[]}getTooltipHtml(e){const{valueKey:t,valueName:i,targetKey:n,targetName:o}=this.properties,a=this.getValueAxis(),{yValue:r,target:{value:s}={value:void 0},datum:l,itemId:c}=e;if(void 0===t||void 0===r||void 0===a)return MW.EMPTY_TOOLTIP_CONTENT;const d=(e,t,i)=>`<b>${_5(t??e)}</b>: ${_5(a.formatDatum(i))}`,u=void 0,h=void 0===n||void 0===s?d(t,i,r):`${d(t,i,r)}<br/>${d(n,o,s)}`;return this.properties.tooltip.toTooltipHtml({title:u,content:h,backgroundColor:this.properties.fill},{datum:l,itemId:c,title:u,seriesId:this.id,valueKey:t,valueName:i,targetKey:n,targetName:o,color:void 0})}isLabelEnabled(){return!1}nodeFactory(){return new rW.Rect}async updateDatumSelection(e){return this.targetLinesSelection.update(e.nodeData,void 0,void 0),e.datumSelection.update(e.nodeData,void 0,void 0)}async updateDatumNodes(e){for(const{node:t}of e.datumSelection){const e=this.properties;T5(W5,t,e)}for(const{node:t,datum:i}of this.targetLinesSelection)if(void 0===i.target)t.visible=!1;else{const e=this.properties.target;T5(["x1","x2","y1","y2"],t,i.target),T5(W5,t,e)}}async updateColorRanges(){const e=this.getValueAxis(),t=this.getCategoryAxis();if(!e||!t)return;const[i,n]=[0,Math.max(...t.scale.range)],o=this.getBarDirection()===MW.ChartAxisDirection.Y?(t,o)=>{t.x=i,t.y=e.scale.convert(o.stop),t.height=e.scale.convert(o.start)-t.y,t.width=n}:(t,o)=>{t.x=e.scale.convert(o.start),t.y=i,t.height=n,t.width=e.scale.convert(o.stop)-t.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:a,datum:r}of this.colorRangesSelection)o(a,r),a.fill=r.color}async updateNodes(e,t,i){await super.updateNodes(e,t,i),await this.updateColorRanges()}async updateLabelSelection(e){return e.labelSelection}async updateLabelNodes(e){}animateEmptyUpdateReady(e){const{datumSelection:t,annotationSelections:i}=e,n=R5(E5(this.isVertical(),this.axes,"normal"));F5(this.id,"nodes",this.ctx.animationManager,[t],n),z5(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){const{datumSelection:t,annotationSelections:i}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const n=this.processedData?.reduced?.diff,o=R5(E5(this.isVertical(),this.axes,"normal"));F5(this.id,"nodes",this.ctx.animationManager,[t],o,((e,t)=>B5(t.xValue)),n);(n?.changed??!0)&&z5(this,"annotations",this.ctx.animationManager,...i)}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return $5(this.contextNodeData?.nodeData[t],this.contentGroup,i)}},V5={series:{direction:"vertical",strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,crosshair:{enabled:!1}}}},U5={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,moduleFactory:e=>new G5(e),tooltipDefaults:{range:"exact"},defaultAxes:vW.swapAxisCondition([{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.BOTTOM}],(e=>"horizontal"===e?.direction)),themeTemplate:V5,paletteFactory:e=>{let{takeColors:t,colorsCount:i,themeTemplateParameters:n}=e;const{fills:[o],strokes:[a]}=t(i),r=n.get(vW.DEFAULT_BACKGROUND_COLOUR),s=(Array.isArray(r)?r[0]:r)??"white";return{fill:o,stroke:a,target:{stroke:n.get(vW.DEFAULT_CROSS_LINES_COLOUR)},backgroundFill:s}}},{computeBarFocusBounds:K5,NODE_UPDATE_STATE_TO_PHASE_MAPPING:Y5}=MW;function X5(e,t){return q5(t)}function Z5(e){return{toFn:(e,t,i)=>{if("removed"===i){const{x:e,yLow:i,yHigh:n,width:o}=q5(t),a="up"===t.itemId?i:n;return{x:e,y:a,yBottom:a,yHigh:a,yLow:a,width:o,height:0}}return q5(t)},fromFn:(t,i,n)=>{const o=e?"initial":Y5[n];if("unknown"===n||"added"===n&&null!=i){const{x:e,y:t,yLow:a,yHigh:r,width:s,height:l}=q5(i);let c="up"===i.itemId?a:r;return"unknown"===n&&(c=t+l/2),{x:e,y:c,yBottom:c,yHigh:c,yLow:c,width:s,height:0,phase:o}}return{x:t.x,y:t.y,yBottom:t.yBottom,yHigh:t.yHigh,yLow:t.yLow,width:t.width,height:t.height,phase:o}}}}function q5(e){const{bandwidth:t,scaledValues:{xValue:i,openValue:n,closeValue:o,highValue:a,lowValue:r}}=e,s=Math.min(n,o),l=isNaN(n)?o:Math.max(n,o);return{x:i,y:s,yBottom:l,yHigh:Math.min(a,r),yLow:Math.max(a,r),width:t,height:Math.max(l-s,.001)}}function Q5(e,t){const i=e.getNodeData()?.at(t.datumIndex),n=i?{x:i.scaledValues.xValue,y:i.scaledValues.highValue,width:i.bandwidth,height:i.scaledValues.lowValue-i.scaledValues.highValue}:void 0;return K5(n,e.contentGroup,t.seriesRect)}var{motion:J5}=rW,{fixNumericExtent:e6,keyProperty:t6,SeriesNodePickMode:i6,SMALLEST_KEY_INTERVAL:n6,valueProperty:o6,diff:a6,animationValidation:r6,convertValuesToScaleByDefs:s6}=MW,{sanitizeHtml:l6,Logger:c6}=SW,{ContinuousScale:d6}=xW,u6=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.openKey=n.properties.openKey,this.closeKey=n.properties.closeKey,this.highKey=n.properties.highKey,this.lowKey=n.properties.lowKey}},h6=class extends MW.AbstractBarSeries{constructor(e,t){super({moduleCtx:e,pickModes:[i6.AXIS_ALIGNED,i6.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:t}}),this.NodeEvent=u6}animateEmptyUpdateReady(e){let{datumSelection:t}=e;const i=Z5(!0);J5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],i)}animateWaitingUpdateReady(e){let{datumSelection:t}=e;const{processedData:i}=this,n=i?.reduced?.diff,o=Z5(!1);J5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],o,((e,t)=>String(t.xValue)),n)}async processData(e){if(!this.properties.isValid()||!this.visible)return;const{xKey:t,openKey:i,closeKey:n,highKey:o,lowKey:a}=this.properties,r=!this.ctx.animationManager.isSkipped(),s=this.getCategoryAxis()?.scale,l=this.getValueAxis()?.scale,{isContinuousX:c,xScaleType:d,yScaleType:u}=this.getScaleInformation({xScale:s,yScale:l}),h=[];r&&(this.processedData&&h.push(a6(this.processedData)),h.push(r6())),i&&h.push(o6(i,u,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{processedData:p}=await this.requestDataModel(e,this.data,{props:[t6(t,d,{id:"xValue"}),o6(n,u,{id:"closeValue"}),o6(o,u,{id:"highValue"}),o6(a,u,{id:"lowValue"}),...c?[n6]:[],...h]});this.smallestDataInterval=p.reduced?.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{openKey:n}=this.properties;if(e===this.getBarDirection()){const e=i.getDomain(this,"lowValue","value",t),o=i.getDomain(this,"highValue","value",t),a=n?i.getDomain(this,"openValue","value",t):[],r=i.getDomain(this,"closeValue","value",t);return e6([Math.min(...e,...o,...a,...r),Math.max(...o,...e,...a,...r)])}const{index:o,def:a}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[o];return"key"===a.type&&"category"===a.valueType?r:this.padBandExtent(r)}createBaseNodeData(){const{visible:e,dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!(t&&i&&n))return;const o=[],{xKey:a,highKey:r,lowKey:s}=this.properties,l=t.resolveProcessedDataDefsByIds(this,["xValue","openValue","closeValue","highValue","lowValue"]),{barWidth:c,groupIndex:d}=this.updateGroupScale(i),u=d6.is(i.scale)?-.5*c:0,{groupScale:h,processedData:p}=this,g={itemId:a,nodeData:o,labelData:[],scales:this.calculateScaling(),visible:this.visible};return e?(p?.data.forEach((e=>{let{datum:p,keys:g,values:f}=e;const{xValue:m,openValue:y,closeValue:v,highValue:b,lowValue:x}=t.resolveProcessedDataDefsValues(l,{keys:g,values:f}),S=null!=b&&b>=y&&b>=v;if(!(null!=x&&x<=y&&x<=v))return void c6.warnOnce(`invalid low value for key [${s}] in data element, low value cannot be higher than datum open or close values`);if(!S)return void c6.warnOnce(`invalid high value for key [${r}] in data element, high value cannot be lower than datum open or close values.`);const M=s6({defs:l,values:{xValue:m,openValue:y,closeValue:v,highValue:b,lowValue:x},xAxis:i,yAxis:n});M.xValue+=Math.round(h.convert(String(d)))+u;const A=v>y,k=this.getSeriesItemType(A),[w,C]=A?[M.openValue,M.closeValue]:[M.closeValue,M.openValue],I=C-w,D={x:M.xValue+Math.round(c)/2,y:w+I/2};o.push({series:this,itemId:k,datum:p,xKey:a,xValue:m,openValue:y,closeValue:v,highValue:b,lowValue:x,bandwidth:c>=1?c:h.rawBandwidth,scaledValues:M,midPoint:D,aggregatedValue:v})})),g):g}getSeriesItemType(e){return e?"up":"down"}getItemConfig(e){return this.properties.item[e]}getLegendData(e){const{id:t,data:i}=this,{xKey:n,yName:o,item:{up:a,down:r},showInLegend:s,legendItemName:l,visible:c}=this.properties;return s&&i?.length&&n&&"category"===e?[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:c,label:{text:l??o??t},symbols:[{marker:{fill:a.fill??a.stroke,fillOpacity:a.fillOpacity??1,stroke:a.stroke,strokeWidth:a.strokeWidth??1,strokeOpacity:a.strokeOpacity??1,padding:0}},{marker:{fill:r.fill??r.stroke,fillOpacity:r.fillOpacity??1,stroke:r.stroke,strokeWidth:r.strokeWidth??1,strokeOpacity:r.strokeOpacity??1}}],legendItemName:l}]:[]}getTooltipHtml(e){const{xKey:t,openKey:i,closeKey:n,highKey:o,lowKey:a,xName:r,yName:s,openName:l,closeName:c,highName:d,lowName:u,tooltip:h}=this.properties,{datum:p,itemId:g}=e,f=this.getCategoryAxis(),m=this.getValueAxis();if(!f||!m||!this.properties.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const y=l6(s),v=[[t,r,f],[i,l,m],[o,d,m],[a,u,m],[n,c,m]].map((e=>{let[t,i,n]=e;return l6(`${i??(o=t,o.charAt(0).toUpperCase()+o.substring(1))}: ${n.formatDatum(p[t])}`);var o})).join("<br/>"),b=this.getFormattedStyles(e);return h.toTooltipHtml({title:y,content:v,backgroundColor:b.stroke},{seriesId:this.id,highlighted:!1,datum:p,...b,xKey:t,openKey:i,closeKey:n,highKey:o,lowKey:a,xName:r,yName:s,openName:l,closeName:c,highName:d,lowName:u,title:y,color:b.fill,fill:b.fill,itemId:g})}isVertical(){return!0}isLabelEnabled(){return!1}async updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}async updateDatumNodes(e){let{datumSelection:t,isHighlight:i}=e;t.each(((e,t)=>{const n=this.getActiveStyles(t,i);e.updateDatumStyles(t,n)}))}async updateLabelNodes(e){}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}},{SceneChangeDetection:p6,BBox:g6,RedrawType:f6}=rW,m6=class extends rW.Group{constructor(){super(...arguments),this.x=0,this.y=0,this.yBottom=0,this.yHigh=0,this.yLow=0,this.width=0,this.height=0}distanceSquared(e,t){const i=rW.Selection.selectByClass(this,rW.Rect,rW.Line);return MW.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return void 0===e.midPoint?(SW.Logger.error("CandlestickBaseGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}preRender(){return this.updateCoordinates(),super.preRender()}};GW([p6({redraw:f6.MAJOR})],m6.prototype,"x",2),GW([p6({redraw:f6.MAJOR})],m6.prototype,"y",2),GW([p6({redraw:f6.MAJOR})],m6.prototype,"yBottom",2),GW([p6({redraw:f6.MAJOR})],m6.prototype,"yHigh",2),GW([p6({redraw:f6.MAJOR})],m6.prototype,"yLow",2),GW([p6({redraw:f6.MAJOR})],m6.prototype,"width",2),GW([p6({redraw:f6.MAJOR})],m6.prototype,"height",2);var y6=class extends m6{constructor(){super(),this.append([new rW.Rect({tag:0}),new rW.Line({tag:1}),new rW.Line({tag:2})])}updateCoordinates(){const{x:e,y:t,yBottom:i,yHigh:n,yLow:o,width:a,height:r}=this,s=rW.Selection.select(this,rW.Rect),[l]=s.selectByTag(0),[c]=s.selectByTag(1),[d]=s.selectByTag(2);if(0===a||0===r)return l.visible=!1,c.visible=!1,void(d.visible=!1);l.visible=!0,c.visible=!0,d.visible=!0,l.setProperties({x:e,y:t,width:a,height:r,crisp:!0,clipBBox:new g6(e,t,a,r)});const u=a/2;c.setProperties({y1:Math.round(o+c.strokeWidth/2),y2:i,x:e+u}),d.setProperties({y1:Math.round(n+d.strokeWidth/2),y2:t,x:e+u})}updateDatumStyles(e,t){const{bandwidth:i}=e,{fill:n,fillOpacity:o,stroke:a,strokeWidth:r,strokeOpacity:s,lineDash:l,lineDashOffset:c,wick:d={},cornerRadius:u}=t;d.strokeWidth??(d.strokeWidth=1);const h=rW.Selection.select(this,rW.Rect),[p]=h.selectByTag(0),[g]=h.selectByTag(1),[f]=h.selectByTag(2);d.strokeWidth>i&&(d.strokeWidth=i),p.setProperties({fill:n,fillOpacity:o,strokeWidth:r,strokeOpacity:s,stroke:a,lineDash:l,lineDashOffset:c,cornerRadius:u}),g.setProperties(d),f.setProperties(d)}},{BaseProperties:v6,AbstractBarSeriesProperties:b6,SeriesTooltip:x6,Validate:S6,COLOR_STRING:M6,FUNCTION:A6,LINE_DASH:k6,OBJECT:w6,POSITIVE_NUMBER:C6,RATIO:I6,STRING:D6}=MW,N6=class extends v6{};GW([S6(M6,{optional:!0})],N6.prototype,"stroke",2),GW([S6(C6)],N6.prototype,"strokeWidth",2),GW([S6(I6)],N6.prototype,"strokeOpacity",2),GW([S6(k6,{optional:!0})],N6.prototype,"lineDash",2),GW([S6(C6)],N6.prototype,"lineDashOffset",2);var E6=class extends v6{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new N6}};GW([S6(M6,{optional:!0})],E6.prototype,"fill",2),GW([S6(I6)],E6.prototype,"fillOpacity",2),GW([S6(M6)],E6.prototype,"stroke",2),GW([S6(C6)],E6.prototype,"strokeWidth",2),GW([S6(I6)],E6.prototype,"strokeOpacity",2),GW([S6(k6)],E6.prototype,"lineDash",2),GW([S6(C6)],E6.prototype,"lineDashOffset",2),GW([S6(C6)],E6.prototype,"cornerRadius",2),GW([S6(w6)],E6.prototype,"wick",2);var O6=class extends v6{constructor(){super(...arguments),this.up=new E6,this.down=new E6}};GW([S6(w6)],O6.prototype,"up",2),GW([S6(w6)],O6.prototype,"down",2);var L6=class extends b6{constructor(){super(...arguments),this.tooltip=new x6,this.item=new O6}};GW([S6(D6)],L6.prototype,"xKey",2),GW([S6(D6)],L6.prototype,"openKey",2),GW([S6(D6)],L6.prototype,"closeKey",2),GW([S6(D6)],L6.prototype,"highKey",2),GW([S6(D6)],L6.prototype,"lowKey",2),GW([S6(D6,{optional:!0})],L6.prototype,"xName",2),GW([S6(D6,{optional:!0})],L6.prototype,"yName",2),GW([S6(D6,{optional:!0})],L6.prototype,"openName",2),GW([S6(D6,{optional:!0})],L6.prototype,"closeName",2),GW([S6(D6,{optional:!0})],L6.prototype,"highName",2),GW([S6(D6,{optional:!0})],L6.prototype,"lowName",2),GW([S6(w6)],L6.prototype,"tooltip",2),GW([S6(w6)],L6.prototype,"item",2),GW([S6(A6,{optional:!0})],L6.prototype,"itemStyler",2);var{extractDecoratedProperties:T6,mergeDefaults:R6}=MW,P6=class extends h6{constructor(e){super(e,X5),this.properties=new L6}async createNodeData(){const e=this.createBaseNodeData();if(!e)return;const t=e.nodeData.map((e=>{const{fill:t,fillOpacity:i,stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:s,wick:l,cornerRadius:c}=this.getItemConfig(e.itemId);return{...e,fill:t,fillOpacity:i,stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:s,wick:l,cornerRadius:c}}));return{...e,nodeData:t}}getFormattedStyles(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{id:i,ctx:{callbackCache:n}}=this,{xKey:o,openKey:a,closeKey:r,highKey:s,lowKey:l,itemStyler:c}=this.properties,{fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:g,lineDash:f,lineDashOffset:m}=this.getItemConfig(e.itemId);if(c){const y=n.call(c,{datum:e.datum,itemId:e.itemId,seriesId:i,highlighted:t,xKey:o,openKey:a,closeKey:r,highKey:s,lowKey:l,fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:g,lineDash:f,lineDashOffset:m});if(y)return R6(y,this.getSeriesStyles(e))}return this.getSeriesStyles(e)}nodeFactory(){return new y6}getSeriesStyles(e){const{fill:t,fillOpacity:i,stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:s,wick:l,cornerRadius:c}=e;return{fill:t,fillOpacity:i,stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:s,wick:T6(l),cornerRadius:c}}getActiveStyles(e,t){let i=this.getFormattedStyles(e,t);t&&(i=R6(this.properties.highlightStyle.item,i));const{stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:s}=i;return i.wick=R6(i.wick,{stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:s}),i}computeFocusBounds(e){return Q5(this,e)}};P6.className="CandleStickSeries",P6.type="candlestick";var z6={series:{highlightStyle:{item:{strokeWidth:3}}},animation:{enabled:!1},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[vW.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},j6={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:e=>new P6(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:vW.CARTESIAN_POSITION.BOTTOM}],themeTemplate:z6,groupable:!1,paletteFactory:e=>{let{takeColors:t,colorsCount:i,userPalette:n,palette:o}=e;if("user-indexed"===n){const{fills:e,strokes:n}=t(i);return{item:{up:{fill:"transparent",stroke:n[0]},down:{fill:e[0],stroke:n[0]}}}}return{item:{up:o.up,down:o.down}}}},{Logger:B6}=SW;function $6(e,t,i){i||(t=function(e){const t=new Set;for(const i of e)F6(e,i,t,[]);0!==t.size&&B6.warnOnce("Some links formed circular references. These will be removed from the output.");return 0===t.size?e:e.filter((e=>!t.has(e)))}(t));const n=new Map;for(const a of e)n.set(a.id,{datum:a,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let o=0;return n.forEach(((e,i)=>{o=Math.max(o,_6(n,t,e,i,-1,[])+_6(n,t,e,i,1,[])+1)})),{links:t,nodeGraph:n,maxPathLength:o}}function F6(e,t,i,n){const o=n.indexOf(t);if(-1!==o){for(let e=o;e<n.length;e+=1)i.add(n[e]);return}n.push(t);const{toNode:a}=t;for(const r of e)r.fromNode===a&&F6(e,r,i,n);n.pop()}function _6(e,t,i,n,o,a){if(a.includes(n))return 1/0;let r=-1===o?i.maxPathLengthBefore:i.maxPathLengthAfter;if(-1===r){r=0;const s=-1===o?i.linksBefore:i.linksAfter;for(const i of t){const{fromNode:l,toNode:c}=i,d=-1===o?c.id:l.id,u=-1===o?l.id:c.id,h=n===d?e.get(u):void 0;null!=h&&(s.push({node:h,link:i}),a?.push(n),r=Math.max(r,_6(e,t,h,u,o,a)+1),a?.pop())}-1===o?i.maxPathLengthBefore=r:i.maxPathLengthAfter=r}return r}var{DataModelSeries:H6,DataController:W6,Validate:G6,ARRAY:V6,keyProperty:U6,valueProperty:K6}=MW,{Selection:Y6,Group:X6,TransformableText:Z6}=rW,q6=class extends H6{constructor(){super(...arguments),this._chartNodes=void 0,this.nodeCount=0,this.linkCount=0,this.nodesDataController=new W6("standalone"),this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new X6({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new X6({name:"nodeGroup"})),this.focusLinkGroup=this.highlightNode.appendChild(new X6({name:"linkGroup"})),this.focusNodeGroup=this.highlightNode.appendChild(new X6({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightNode.appendChild(new X6({name:"linkGroup"})),this.highlightNodeGroup=this.highlightNode.appendChild(new X6({name:"nodeGroup"})),this.labelSelection=Y6.select(this.labelGroup,Z6),this.linkSelection=Y6.select(this.linkGroup,(()=>this.linkFactory())),this.nodeSelection=Y6.select(this.nodeGroup,(()=>this.nodeFactory())),this.focusLinkSelection=Y6.select(this.focusLinkGroup,(()=>this.linkFactory())),this.focusNodeSelection=Y6.select(this.focusNodeGroup,(()=>this.nodeFactory())),this.highlightLinkSelection=Y6.select(this.highlightLinkGroup,(()=>this.linkFactory())),this.highlightNodeSelection=Y6.select(this.highlightNodeGroup,(()=>this.nodeFactory()))}get nodes(){return this.properties.nodes??this._chartNodes}setChartNodes(e){this._chartNodes=e,this.nodes===e&&(this.nodeDataRefresh=!0)}getNodeData(){return this.contextNodeData?.nodeData}async processData(e){const{nodesDataController:t,data:i,nodes:n}=this;if(null==i||!this.properties.isValid())return;const{fromKey:o,toKey:a,sizeKey:r,idKey:s,labelKey:l}=this.properties,c=null!=n?t.request(this.id,n,{props:[U6(s,void 0,{id:"idValue",includeProperty:!1}),...null!=l?[K6(l,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,d=this.requestDataModel(e,i,{props:[K6(o,void 0,{id:"fromValue",includeProperty:!1}),K6(a,void 0,{id:"toValue",includeProperty:!1}),...null!=r?[K6(r,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});null!=n&&t.execute();const[u,h]=await Promise.all([c,d]);this.nodesDataModel=u?.dataModel,this.nodesProcessedData=u?.processedData;const{fills:p,strokes:g}=this.properties,f=new Map;if(null==u){const e=h.dataModel.resolveProcessedDataIndexById(this,"fromValue"),t=h.dataModel.resolveProcessedDataIndexById(this,"toValue"),i=e=>{const t=f.size;return{series:this,itemId:void 0,datum:{},type:1,index:t,id:e,label:e,fill:p[t%p.length],stroke:g[t%g.length]}};h.processedData.data.forEach((n=>{let{values:o}=n;const a=o[e],r=o[t];null!=a&&null!=r&&(f.has(a)||f.set(a,i(a)),f.has(r)||f.set(r,i(r)))}))}else{const e=u.dataModel.resolveProcessedDataIndexById(this,"idValue"),t=null!=l?u.dataModel.resolveProcessedDataIndexById(this,"labelValue"):void 0;u.processedData.data.forEach(((i,n)=>{let{datum:o,keys:a,values:r}=i;const s=r[0],l=a[e],c=null!=t?s[t]:void 0,d=p[n%p.length],u=g[n%g.length];f.set(l,{series:this,itemId:void 0,datum:o,type:1,index:n,id:l,label:c,fill:d,stroke:u})}))}this.processedNodes=f}getNodeGraph(e,t,i){let{includeCircularReferences:n}=i;const{dataModel:o,processedData:a}=this;if(null==o||null==a){const{links:e,nodeGraph:t,maxPathLength:i}=$6((new Map).values(),[],n);return this.nodeCount=0,this.linkCount=0,{nodeGraph:t,links:e,maxPathLength:i}}const{sizeKey:r}=this.properties,s=o.resolveProcessedDataIndexById(this,"fromValue"),l=o.resolveProcessedDataIndexById(this,"toValue"),c=null!=r?o.resolveProcessedDataIndexById(this,"sizeValue"):void 0,d=new Map;this.processedNodes.forEach((t=>{const i=e(t);d.set(t.id,i)}));const u=[];a.data.forEach(((e,i)=>{let{datum:n,values:o}=e;const a=o[s],r=o[l],h=null!=c?o[c]:1,p=d.get(a),g=d.get(r);if(h<=0||null==p||null==g)return;const f=t({series:this,itemId:void 0,datum:n,type:0,index:i,fromNode:p,toNode:g,size:h});u.push(f)}));const{links:h,nodeGraph:p,maxPathLength:g}=$6(d.values(),u,n);return this.nodeCount=p.size,this.linkCount=h.length,{nodeGraph:p,links:h,maxPathLength:g}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(e){const{seriesRect:t}=e,i={seriesRectWidth:t?.width??0,seriesRectHeight:t?.height??0};null!=this._nodeDataDependencies&&this._nodeDataDependencies.seriesRectWidth===i.seriesRectWidth&&this._nodeDataDependencies.seriesRectHeight===i.seriesRectHeight||(this._nodeDataDependencies=i),await this.updateSelections();const n=this.contextNodeData?.nodeData??[],o=this.contextNodeData?.labelData??[];let a,r,s,l,c=this.ctx.highlightManager?.getActiveHighlight();if(c?.series===this&&null==c.type){const{itemId:e}=c;c=null!=e?n.find((t=>1===t.type&&t.id===e)):void 0}else c?.series!==this&&(c=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=null!=c?this.properties.highlightStyle.series.dimOpacity??1:1,this.labelSelection=await this.updateLabelSelection({labelData:o,labelSelection:this.labelSelection}),await this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=await this.updateLinkSelection({nodeData:n.filter((e=>0===e.type)),datumSelection:this.linkSelection}),await this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=await this.updateNodeSelection({nodeData:n.filter((e=>1===e.type)),datumSelection:this.nodeSelection}),await this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1}),1===c?.type?(a=n.filter((e=>0===e.type&&(e.toNode===c||e.fromNode===c))),r=a.map((e=>e.fromNode===c?e.toNode:e.fromNode)),r.push(c),s=[],l=[c]):0===c?.type?(a=[c],r=[c.fromNode,c.toNode],s=[c],l=[]):(a=[],r=[],s=[],l=[]),this.focusLinkSelection=await this.updateLinkSelection({nodeData:a,datumSelection:this.focusLinkSelection}),await this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=await this.updateNodeSelection({nodeData:r,datumSelection:this.focusNodeSelection}),await this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=await this.updateLinkSelection({nodeData:s,datumSelection:this.highlightLinkSelection}),await this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=await this.updateNodeSelection({nodeData:l,datumSelection:this.highlightNodeSelection}),await this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(e){}getSeriesDomain(e){return[]}getLegendData(e){return"category"!==e?[]:Array.from(this.processedNodes.values(),(e=>{let{id:t,label:i,fill:n,stroke:o}=e;return{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:!0,label:{text:i??t},symbols:[{marker:{fill:n,fillOpacity:1,stroke:o,strokeWidth:0,strokeOpacity:1}}]}}))}pickNodeClosestDatum(e){let t,{x:i,y:n}=e,o=1/0;return this.linkSelection.each(((e,a)=>{const r=e.containsPoint(i,n)?0:1/0;r<o&&(o=r,t=a)})),this.nodeSelection.each(((e,a)=>{const r=e.distanceSquared(i,n);r<o&&(o=r,t=a)})),null!=t?{datum:t,distance:Math.sqrt(o)}:void 0}getDatumAriaText(e,t){return 0===e.type?this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:e.index+1,count:this.linkCount,from:e.fromNode.id,to:e.toNode.id,size:e.size,sizeName:this.properties.sizeName??this.properties.sizeKey}):1===e.type?this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:e.index+1,count:this.nodeCount,description:t}):void 0}};GW([G6(V6,{optional:!0,property:"nodes"})],q6.prototype,"_chartNodes",2);var{BBox:Q6,Path:J6,ScenePathChangeDetection:e8}=rW;function t8(e){let{radius:t,startAngle:i,endAngle:n,tension:o}=e;const a=t*Math.cos(i),r=t*Math.sin(i),s=t*Math.cos(n),l=t*Math.sin(n);return{x:[a,a*o,s*o,s],y:[r,r*o,l*o,l]}}var i8=class extends J6{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}computeBBox(){const{centerX:e,centerY:t,radius:i,startAngle1:n,endAngle1:o,startAngle2:a,endAngle2:r,tension:s}=this,l=t8({radius:i,startAngle:n,endAngle:r,tension:s}),c=t8({radius:i,startAngle:a,endAngle:o,tension:s}),d=Math.min(...l.x,...c.x),u=Math.max(...l.x,...c.x)-d,h=Math.min(...l.y,...c.y),p=Math.max(...l.y,...c.y)-h;return new Q6(e+d,t+h,u,p)}tensionedCurveTo(e,t,i,n,o,a,r,s){const{path:l,tension:c}=this,d=1-c;l.cubicCurveTo((i-e)*d+e,(n-t)*d+t,(o-r)*d+r,(a-s)*d+s,r,s)}updatePath(){const{path:e,centerX:t,centerY:i,radius:n}=this;let{startAngle1:o,endAngle1:a,startAngle2:r,endAngle2:s}=this;o>r&&([o,r]=[r,o],[a,s]=[s,a]),e.clear();const l=t+n*Math.cos(o),c=i+n*Math.sin(o);e.moveTo(l,c),this.tensionedCurveTo(l,c,t,i,t,i,t+n*Math.cos(s),i+n*Math.sin(s)),e.arc(t,i,n,s,r,!0),this.tensionedCurveTo(t+n*Math.cos(r),i+n*Math.sin(r),t,i,t,i,t+n*Math.cos(a),i+n*Math.sin(a)),e.arc(t,i,n,a,o,!0),e.closePath()}};GW([e8()],i8.prototype,"centerX",2),GW([e8()],i8.prototype,"centerY",2),GW([e8()],i8.prototype,"radius",2),GW([e8()],i8.prototype,"startAngle1",2),GW([e8()],i8.prototype,"endAngle1",2),GW([e8()],i8.prototype,"startAngle2",2),GW([e8()],i8.prototype,"endAngle2",2),GW([e8()],i8.prototype,"tension",2);var{BaseProperties:n8,SeriesTooltip:o8,SeriesProperties:a8,ARRAY:r8,COLOR_STRING:s8,COLOR_STRING_ARRAY:l8,FUNCTION:c8,LINE_DASH:d8,OBJECT:u8,POSITIVE_NUMBER:h8,RATIO:p8,STRING:g8,Validate:f8}=MW,{Label:m8}=rW,y8=class extends m8{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};GW([f8(h8)],y8.prototype,"spacing",2),GW([f8(h8)],y8.prototype,"maxWidth",2);var v8=class extends n8{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}};GW([f8(s8,{optional:!0})],v8.prototype,"fill",2),GW([f8(p8)],v8.prototype,"fillOpacity",2),GW([f8(s8,{optional:!0})],v8.prototype,"stroke",2),GW([f8(p8)],v8.prototype,"strokeOpacity",2),GW([f8(h8)],v8.prototype,"strokeWidth",2),GW([f8(d8)],v8.prototype,"lineDash",2),GW([f8(h8)],v8.prototype,"lineDashOffset",2),GW([f8(p8)],v8.prototype,"tension",2),GW([f8(c8,{optional:!0})],v8.prototype,"itemStyler",2);var b8=class extends n8{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};GW([f8(h8)],b8.prototype,"spacing",2),GW([f8(h8)],b8.prototype,"width",2),GW([f8(s8,{optional:!0})],b8.prototype,"fill",2),GW([f8(p8)],b8.prototype,"fillOpacity",2),GW([f8(s8,{optional:!0})],b8.prototype,"stroke",2),GW([f8(p8)],b8.prototype,"strokeOpacity",2),GW([f8(h8)],b8.prototype,"strokeWidth",2),GW([f8(d8)],b8.prototype,"lineDash",2),GW([f8(h8)],b8.prototype,"lineDashOffset",2),GW([f8(c8,{optional:!0})],b8.prototype,"itemStyler",2);var x8=class extends a8{constructor(){super(...arguments),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fills=[],this.strokes=[],this.label=new y8,this.link=new v8,this.node=new b8,this.tooltip=new o8}};GW([f8(g8)],x8.prototype,"fromKey",2),GW([f8(g8)],x8.prototype,"toKey",2),GW([f8(g8)],x8.prototype,"idKey",2),GW([f8(g8,{optional:!0})],x8.prototype,"idName",2),GW([f8(g8,{optional:!0})],x8.prototype,"labelKey",2),GW([f8(g8,{optional:!0})],x8.prototype,"labelName",2),GW([f8(g8,{optional:!0})],x8.prototype,"sizeKey",2),GW([f8(g8,{optional:!0})],x8.prototype,"sizeName",2),GW([f8(r8,{optional:!0})],x8.prototype,"nodes",2),GW([f8(l8)],x8.prototype,"fills",2),GW([f8(l8)],x8.prototype,"strokes",2),GW([f8(u8)],x8.prototype,"label",2),GW([f8(u8)],x8.prototype,"link",2),GW([f8(u8)],x8.prototype,"node",2),GW([f8(u8)],x8.prototype,"tooltip",2);var{SeriesNodePickMode:S8,CachedTextMeasurerPool:M8,TextWrapper:A8,TextUtils:k8,createDatumId:w8,EMPTY_TOOLTIP_CONTENT:C8}=MW,{angleBetween:I8,normalizeAngle360:D8,isBetweenAngles:N8,sanitizeHtml:E8,Logger:O8}=SW,{Sector:L8,evaluateBezier:T8}=rW,R8=e=>e.startAngle+I8(e.startAngle,e.endAngle)/2,P8=class extends q6{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,pickModes:[S8.NEAREST_NODE,S8.EXACT_SHAPE_MATCH]}),this.properties=new x8}isLabelEnabled(){return(null!=this.properties.labelKey||null==this.nodes)&&this.properties.label.enabled}linkFactory(){return new i8}nodeFactory(){return new L8}async createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:o,sizeKey:a,label:{spacing:r,maxWidth:s,fontSize:l},node:{width:c,spacing:d}}=this.properties,u=t/2,h=i/2;let p=[];const{nodeGraph:g,links:f}=this.getNodeGraph((e=>({...e,size:0,centerX:u,centerY:h,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN})),(e=>({...e,centerX:u,centerY:h,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN})),{includeCircularReferences:!0}),m=e=>String(e);let y=0;g.forEach(((e,t)=>{let{datum:i,linksBefore:r,linksAfter:s}=e;const l=r.reduce(((e,t)=>{let{link:i}=t;return e+i.size}),0)+s.reduce(((e,t)=>{let{link:i}=t;return e+i.size}),0);if(0===l)g.delete(t);else{i.size=l,y+=i.size;const e=this.getLabelText(this.properties.label,{datum:i.datum,value:i.label,fromKey:n,toKey:o,sizeKey:a,size:i.size},m);i.label=String(e)}}));let v=0;if(this.isLabelEnabled()){const e=this.properties.label.getFont();let t=0;g.forEach((i=>{let{datum:n}=i;const{id:o,label:a}=n;if(null==a)return;const r=A8.wrapText(a,{maxWidth:s,font:this.properties.label,textWrap:"never"}),{width:l}=M8.measureText(r,{font:e,textAlign:"left",textBaseline:"middle"});t=Math.max(l,t),p.push({id:o,text:r,centerX:u,centerY:h,angle:NaN,radius:NaN})})),v=t+r}const b=g.size;let x=Math.min(t,i)/2-c-v,S=d/x;if(0!==v&&(b*S>=1.5*Math.PI||x<=0)&&(p=[],x=Math.min(t,i)/2-c,S=d/x),b*S>=2*Math.PI||x<=0)return void O8.warnOnce("There was insufficient space to display the Chord Series.");const M=x,A=x+c,k=Math.max((2*Math.PI-b*S)/y,0);let w=0;g.forEach((e=>{let{datum:t}=e;t.innerRadius=M,t.outerRadius=A,t.startAngle=w,t.endAngle=w+t.size*k,w=t.endAngle+S;const i=(t.innerRadius+t.outerRadius)/2,n=R8(t);t.midPoint={x:t.centerX+i*Math.cos(n),y:t.centerY+i*Math.sin(n)}}));const C=[];g.forEach((e=>{let{datum:t,linksBefore:i,linksAfter:n}=e;const o=R8(t),a=[...i.map((e=>({link:e.link,distance:I8(R8(e.node.datum),o),after:!1}))),...n.map((e=>({link:e.link,distance:I8(R8(e.node.datum),o),after:!0})))];let r=t.startAngle;a.sort(((e,t)=>e.distance-t.distance)).forEach((e=>{let{link:t,after:i}=e;const n=t.size*k;i?(t.startAngle1=r,t.endAngle1=r+n):(t.startAngle2=r,t.endAngle2=r+n),r+=t.size*k})),C.push(t)}));const{tension:I}=this.properties.link;f.forEach((e=>{e.radius=x;const t=t8({radius:x,startAngle:e.startAngle1,endAngle:e.endAngle2,tension:I}),i=t8({radius:x,startAngle:e.startAngle2,endAngle:e.endAngle1,tension:I}),n=T8(...t.x,.5),o=T8(...t.y,.5),a=T8(...i.x,.5),r=T8(...i.y,.5);e.midPoint={x:e.centerX+(n+a)/2,y:e.centerY+(o+r)/2},C.push(e)})),p.forEach((e=>{const t=g.get(e.id)?.datum;null!=t&&(e.radius=A+r,e.angle=D8(t.startAngle+I8(t.startAngle,t.endAngle)/2))})),p.sort(((e,t)=>e.angle-t.angle));let D=1/0,N=-1/0;return p=p.filter((e=>{const t=k8.getLineHeight(l),i=Math.atan2(t/2,e.radius),n=e.angle-i,o=e.angle+i;return!N8(D,n,o)&&(!N8(N,n,o)&&(D=Math.min(n,D),N=Math.max(o,N),!0))})),{itemId:e,nodeData:C,labelData:p}}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:r}=this.properties.label;t.each(((e,t)=>{let{text:s,centerX:l,centerY:c,radius:d,angle:u}=t;e.visible=!0,e.translationX=l+d*Math.cos(u),e.translationY=c+d*Math.sin(u),e.text=s,e.fill=i,e.fontStyle=n,e.fontWeight=o,e.fontSize=a,e.fontFamily=r,e.textBaseline="middle",Math.cos(u)>=0?(e.textAlign="left",e.rotation=u):(e.textAlign="right",e.rotation=u-Math.PI)}))}async updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>w8([e.type,e.id])))}async updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:o,ctx:{callbackCache:a}}=this,{fromKey:r,toKey:s,sizeKey:l}=this.properties,{fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,itemStyler:f}=o.node,m=i?o.highlightStyle.item:void 0,y=this.getStrokeWidth(o.node.strokeWidth);t.each(((e,t)=>{const o=c??t.fill,v=u??t.stroke;let b;if(null!=f){const{label:e,size:c}=t;b=a.call(f,{seriesId:n,datum:t.datum,label:e,size:c,fromKey:r,toKey:s,sizeKey:l,fill:o,fillOpacity:d,strokeOpacity:h,stroke:v,strokeWidth:y,lineDash:p,lineDashOffset:g,highlighted:i})}e.centerX=t.centerX,e.centerY=t.centerY,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.fill=m?.fill??b?.fill??o,e.fillOpacity=m?.fillOpacity??b?.fillOpacity??d,e.stroke=m?.stroke??b?.stroke??v,e.strokeOpacity=m?.strokeOpacity??b?.strokeOpacity??h,e.strokeWidth=m?.strokeWidth??b?.strokeWidth??y,e.lineDash=m?.lineDash??b?.lineDash??p,e.lineDashOffset=m?.lineDashOffset??b?.lineDashOffset??g,e.inset=e.strokeWidth/2}))}async updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>w8([e.type,e.index,e.fromNode.id,e.toNode.id])))}async updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:o,ctx:{callbackCache:a}}=this,{fromKey:r,toKey:s,sizeKey:l}=o,{fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,tension:f,itemStyler:m}=o.link,y=i?o.highlightStyle.item:void 0,v=this.getStrokeWidth(o.link.strokeWidth);t.each(((e,t)=>{const o=c??t.fromNode.fill,b=u??t.fromNode.stroke;let x;null!=m&&(x=a.call(m,{seriesId:n,datum:t.datum,fromKey:r,toKey:s,sizeKey:l,fill:o,fillOpacity:d,strokeOpacity:h,stroke:b,strokeWidth:v,lineDash:p,lineDashOffset:g,tension:f,highlighted:i})),e.centerX=t.centerX,e.centerY=t.centerY,e.radius=t.radius,e.startAngle1=t.startAngle1,e.endAngle1=t.endAngle1,e.startAngle2=t.startAngle2,e.endAngle2=t.endAngle2,e.fill=y?.fill??x?.fill??o,e.fillOpacity=y?.fillOpacity??x?.fillOpacity??d,e.stroke=y?.stroke??x?.stroke??b,e.strokeOpacity=y?.strokeOpacity??x?.strokeOpacity??h,e.strokeWidth=y?.strokeWidth??x?.strokeWidth??v,e.lineDash=y?.lineDash??x?.lineDash??p,e.lineDashOffset=y?.lineDashOffset??x?.lineDashOffset??g,e.tension=x?.tension??f}))}resetAnimation(e){}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:o}=this;if(!i||!o.isValid())return C8;const{fromKey:a,toKey:r,sizeKey:s,sizeName:l,tooltip:c}=o,{datum:d,itemId:u,size:h}=e;let p;const g=[];let f;if(0===e.type){const{fillOpacity:i,strokeOpacity:c,strokeWidth:u,lineDash:m,lineDashOffset:y,tension:v,itemStyler:b}=o.link,{fromNode:x,toNode:S}=e;p=`${x.label??x.id} - ${S.label??S.id}`,null!=s&&g.push(E8(`${l??s}: `+h)),f=o.link.fill??x.fill;const M=o.link.stroke??x.stroke;let A;null!=b&&(A=n.call(b,{seriesId:t,datum:d.datum,fromKey:a,toKey:r,sizeKey:s,fill:f,fillOpacity:i,strokeOpacity:c,stroke:M,strokeWidth:u,lineDash:m,lineDashOffset:y,tension:v,highlighted:!0})),f=A?.fill??f}else{const{fillOpacity:i,strokeOpacity:c,strokeWidth:u,lineDash:m,lineDashOffset:y,itemStyler:v}=o.node,{id:b,label:x}=e;p=x??b,null!=s&&g.push(E8(`${l??s}: `+h)),f=o.link.fill??e.fill;const S=o.link.stroke??e.stroke;let M;null!=v&&(M=n.call(v,{seriesId:t,datum:d.datum,label:x,size:h,fromKey:a,toKey:r,sizeKey:s,fill:f,fillOpacity:i,strokeOpacity:c,stroke:S,strokeWidth:u,lineDash:m,lineDashOffset:y,highlighted:!0})),f=M?.fill??e.fill}const m=g.join("<br>"),y=f;return c.toTooltipHtml({title:p,content:m,backgroundColor:y},{seriesId:t,datum:d,title:p,color:y,itemId:u,fromKey:a,toKey:r,sizeKey:s,sizeName:l,size:h,...this.getModuleTooltipParams()})}getLabelData(){return[]}computeFocusBounds(e){let{datumIndex:t}=e;const i=this.contextNodeData?.nodeData[t];if(1!==i?.type){if(0!==i?.type);else for(const n of this.linkSelection)if(n.datum===i)return n.node}else for(const n of this.nodeSelection)if(n.datum===i)return n.node}};P8.className="ChordSeries",P8.type="chord";var{DEFAULT_FONT_FAMILY:z8,DEFAULT_LABEL_COLOUR:j8}=vW,B8={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"chord",tooltipDefaults:{range:"exact"},moduleFactory:e=>new P8(e),themeTemplate:{series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:z8,color:j8,spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0,tension:.4}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory(e){let{takeColors:t,colorsCount:i}=e;const{fills:n,strokes:o}=t(i);return{fills:n,strokes:o}}};function $8(e){const{placement:t,...i}=e?.stageLabel??{};return"horizontal"!==e?.direction?[{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:"after"===t?vW.CARTESIAN_POSITION.RIGHT:vW.CARTESIAN_POSITION.LEFT,label:i},{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.BOTTOM}]:[{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:"before"===t?vW.CARTESIAN_POSITION.TOP:vW.CARTESIAN_POSITION.BOTTOM,label:i}]}var F8={series:{direction:"vertical",strokeWidth:0,spacingRatio:.25,label:{enabled:!0,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_INSIDE_SERIES_LABEL_COLOUR},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:0}},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter:e=>Math.abs(e.value).toFixed(e.fractionDigits??0)}},[vW.CARTESIAN_AXIS_TYPE.CATEGORY]:{line:{enabled:!1}}}},{BBox:_8,Path:H8,ScenePathChangeDetection:W8}=rW,G8=1e-6;function V8(e,t){let[i,n]=e,[o,a]=t;return Math.abs(i-o)<=G8&&Math.abs(n-a)<=G8}var U8=class extends H8{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:e,y0:t,x1:i,y1:n,x2:o,y2:a,x3:r,y3:s}=this;return{x:(e+i+o+r)/4,y:(t+n+a+s)/4}}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const{x0:i,y0:n,x1:o,y1:a,x2:r,y2:s,x3:l,y3:c}=this;return Math.min(SW.lineDistanceSquared(e,t,i,n,o,a,1/0),SW.lineDistanceSquared(e,t,o,a,r,s,1/0),SW.lineDistanceSquared(e,t,r,s,l,c,1/0),SW.lineDistanceSquared(e,t,l,c,i,n,1/0))}computeBBox(){const{x0:e,y0:t,x1:i,y1:n,x2:o,y2:a,x3:r,y3:s}=this,l=Math.min(e,i,o,r),c=Math.max(e,i,o,r)-l,d=Math.min(t,n,a,s),u=Math.max(t,n,a,s)-d;return new _8(l,d,c,u)}updatePath(){const{path:e,x0:t,y0:i,x1:n,y1:o,x2:a,y2:r,x3:s,y3:l}=this,c=[[t,i],[n,o],[a,r],[s,l]];let d,u;e.clear(),c.forEach((t=>{if(null!=d&&V8(d,t)||null!=u&&V8(u,t))return;const[i,n]=t;null==d?e.moveTo(i,n):e.lineTo(i,n),d??(d=t),u=t})),e.closePath()}};GW([W8()],U8.prototype,"x0",2),GW([W8()],U8.prototype,"y0",2),GW([W8()],U8.prototype,"x1",2),GW([W8()],U8.prototype,"y1",2),GW([W8()],U8.prototype,"x2",2),GW([W8()],U8.prototype,"y2",2),GW([W8()],U8.prototype,"x3",2),GW([W8()],U8.prototype,"y3",2);var{NODE_UPDATE_STATE_TO_PHASE_MAPPING:K8}=MW;function Y8(e,t,i,n){const{x0:o,y0:a,x1:r,y1:s,x2:l,y2:c,x3:d,y3:u,opacity:h}=e;return i?{x0:(o+d)/2,y0:(a+u)/2,x1:(r+l)/2,y1:(s+c)/2,x2:(r+l)/2,y2:(s+c)/2,x3:(o+d)/2,y3:(a+u)/2,opacity:h}:{x0:(o+r)/2,y0:(a+s)/2,x1:(o+r)/2,y1:(a+s)/2,x2:(l+d)/2,y2:(c+u)/2,x3:(l+d)/2,y3:(c+u)/2,opacity:h}}function X8(e,t){const{x0:i,y0:n,x1:o,y1:a,x2:r,y2:s,x3:l,y3:c,opacity:d}=t;return{x0:i,y0:n,x1:o,y1:a,x2:r,y2:s,x3:l,y3:c,opacity:d}}var{SeriesNodePickMode:Z8,ZIndexMap:q8,valueProperty:Q8,keyProperty:J8,ChartAxisDirection:e9,updateLabelNode:t9,SMALLEST_KEY_INTERVAL:i9,LARGEST_KEY_INTERVAL:n9,diff:o9,fixNumericExtent:a9,seriesLabelFadeInAnimation:r9,resetMotion:s9,resetLabelFn:l9,animationValidation:c9,computeBarFocusBounds:d9}=MW,{Group:u9,Selection:h9,PointerEvents:p9,motion:g9}=rW,{sanitizeHtml:f9}=SW,{ContinuousScale:m9}=xW,y9=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.stageKey,this.yKey=n.properties.valueKey}},v9=class extends MW.AbstractBarSeries{constructor(e){let{moduleCtx:t,animationResetFns:i}=e;super({moduleCtx:t,pickModes:[Z8.AXIS_ALIGNED,Z8.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["stageKey"],y:["valueKey"]},directionNames:{x:[],y:[]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:i.datum,label:l9}}),this.NodeEvent=y9,this.connectorNodeGroup=this.contentGroup.appendChild(new u9({name:`${this.id}-series-connectorNodes`,zIndex:q8.SERIES_LAYER,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.connectorSelection=h9.select(this.connectorNodeGroup,(()=>this.connectionFactory())),this.connectorNodeGroup.pointerEvents=p9.None}get pickModeAxis(){return"main-category"}isVertical(){return!super.isVertical()}connectionFactory(){return new U8}async processData(e){if(!this.properties.isValid())return;const{stageKey:t,valueKey:i}=this.properties,n=this.getCategoryAxis()?.scale,o=this.getValueAxis()?.scale,{isContinuousX:a,xScaleType:r,yScaleType:s}=this.getScaleInformation({xScale:n,yScale:o}),l=[];this.ctx.animationManager.isSkipped()||(this.processedData&&l.push(o9(this.processedData)),l.push(c9()));const c=this.visible?{}:{forceValue:0},{processedData:d}=await this.requestDataModel(e,this.data,{props:[J8(t,r,{id:"xValue"}),Q8(i,s,{id:"yValue",...c}),...a?[i9,n9]:[],...l],groupByKeys:!0});this.smallestDataInterval=d.reduced?.smallestKeyInterval,this.largestDataInterval=d.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[n],values:o}=t.domain;if(e===this.getCategoryDirection()){const e=i.resolveProcessedDataDefById(this,"xValue");return"key"===e?.def.type&&"category"===e?.def.valueType?n:this.padBandExtent(n)}{const e=o[i.resolveProcessedDataIndexById(this,"yValue")][1];return a9([-e,e])}}async createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:n,properties:{visible:o}}=this,a=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&a&&r&&t))return;const s=a.scale,l=r.scale,c=this.getBarDirection()===e9.X,{stageKey:d,valueKey:u,fills:h,strokes:p}=this.properties,{strokeWidth:g}=this.barStyle(),f=`${u}`,m={itemId:f,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),visible:this.visible};if(!o)return m;const y=t.resolveProcessedDataIndexById(this,"xValue"),v=t.resolveProcessedDataIndexById(this,"yValue"),{barWidth:b,groupIndex:x}=this.updateGroupScale(a),S=m9.is(s)?-.5*b:0;let M;return n?.data.forEach(((e,t)=>{let{keys:n,datum:o,values:a}=e;a.forEach(((e,a)=>{const r=n[y],A=Math.round(s.convert(r))+i.convert(String(x))+S,k=e[v],w=Math.round(l.convert(-k)),C=Math.round(l.convert(k)),I=Math.max(g,Math.abs(C-w)),D={x:c?Math.min(C,w):A,y:c?A:Math.min(C,w),width:c?I:b,height:c?b:I},N={x:D.x+D.width/2,y:D.y+D.height/2},E=this.createLabelData({rect:D,barAlongX:c,yDatum:k,datum:o[a]}),O=h[t%h.length]??"black",L=p[t%p.length]??"black",T={index:t,valueIndex:a,series:this,itemId:f,datum:o[a],xValue:r,yValue:k,xKey:u,yKey:d,x:D.x,y:D.y,width:D.width,height:D.height,midPoint:N,fill:O,stroke:L,strokeWidth:g,opacity:1,label:E};if(m.nodeData.push(T),null!=E&&m.labelData.push(E),null!=M){const e=M.rect;c?m.connectorData.push({datum:T,x0:e.x,y0:e.y+e.height,x1:e.x+e.width,y1:e.y+e.height,x2:D.x+D.width,y2:D.y,x3:D.x,y3:D.y,fill:M.fill,stroke:M.stroke,opacity:1}):m.connectorData.push({datum:T,x0:e.x+e.width,y0:e.y,x1:D.x,y1:D.y,x2:D.x,y2:D.y+D.height,x3:e.x+e.width,y3:e.y+e.height,fill:M.fill,stroke:M.stroke,opacity:1})}M={itemId:f,rect:D,fill:O,stroke:L}}))})),m}async updateNodes(e,t,i){await super.updateNodes(e,t,i);const{connectorSelection:n}=this,o=this.contextNodeData?.connectorData??[];this.connectorSelection=await this.updateConnectorSelection({connectorSelection:n,connectorData:o}),await this.updateConnectorNodes({connectorSelection:n})}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n,void 0,(e=>this.getDatumId(e)))}async updateConnectorSelection(e){const{connectorData:t,connectorSelection:i}=e;return i.update(this.connectorEnabled()?t:[],void 0,(e=>this.getDatumId(e.datum)))}async updateConnectorNodes(e){const{fill:t,fillOpacity:i,stroke:n,strokeOpacity:o,strokeWidth:a,lineDash:r,lineDashOffset:s}=this.connectorStyle();e.connectorSelection.each(((e,l)=>{e.setProperties(X8(0,l)),e.fill=t??l.fill,e.fillOpacity=i,e.stroke=n??l.stroke,e.strokeOpacity=o,e.strokeWidth=a,e.lineDash=r,e.lineDashOffset=s}))}getHighlightLabelData(e,t){const i=e.filter((e=>e.datum===t.datum));return i.length>0?i:void 0}async updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,(e=>{e.pointerEvents=p9.None}))}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{t9(e,this.properties.label,t)}))}getTooltipHtml(e){const{id:t,ctx:{callbackCache:i}}=this,n=this.getCategoryAxis(),o=this.getValueAxis();if(!this.properties.isValid()||!n||!o)return MW.EMPTY_TOOLTIP_CONTENT;const{stageKey:a,valueKey:r,itemStyler:s,tooltip:l}=this.properties,{strokeWidth:c,fillOpacity:d,strokeOpacity:u,lineDash:h,lineDashOffset:p}=this.barStyle(),{datum:g,xValue:f,yValue:m,fill:y,stroke:v}=e;let b;s&&(b=i.call(s,{highlighted:!1,seriesId:t,datum:g,stageKey:a,valueKey:r,fill:y,fillOpacity:d,stroke:v,strokeWidth:c,strokeOpacity:u,lineDash:h,lineDashOffset:p}));const x=b?.fill??y??"gray",S=f9(n.formatDatum(f)),M={title:S,content:f9(o.formatDatum(m)),backgroundColor:x};return l.toTooltipHtml(M,{itemId:void 0,datum:g,stageKey:a,valueKey:r,color:x,seriesId:t,title:S})}getLegendData(e){const{id:t,visible:i}=this;if("category"!==e)return[];const{fills:[n],strokes:[o],valueKey:a}=this.properties,{strokeWidth:r,fillOpacity:s,strokeOpacity:l}=this.barStyle();return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:i,label:{text:`${a}`},symbols:[{marker:{fill:n,stroke:o,fillOpacity:s,strokeOpacity:l,strokeWidth:r}}]}]}resetConnectorAnimation(e){const{connectorSelection:t}=this;s9([t],X8)}resetAllAnimation(e){super.resetAllAnimation(e),this.resetConnectorAnimation(e)}animateEmptyUpdateReady(e){let{labelSelection:t}=e;const{connectorSelection:i}=this,n=function(e,t){const i=e=>null==e;return{fromFn:(n,o,a)=>{let r;"updated"===a&&i(o)?a="removed":"updated"===a&&i(n.previousDatum)&&(a="added"),r="added"===a&&null==n.previousDatum&&"fade"===t?{...X8(0,o),opacity:0}:"unknown"===a||"added"===a?Y8(o,n.previousDatum,e):{x0:n.x0,y0:n.y0,x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,x3:n.x3,y3:n.y3,opacity:n.opacity};const s=K8[a];return{...r,phase:s}},toFn:(n,o,a)=>{let r;return r="removed"===a&&null==n.datum&&"fade"===t?{...X8(0,o),opacity:0}:"removed"===a||i(o)?Y8(o,n.previousDatum,e):X8(0,o),r}}}(this.isVertical(),"normal");g9.fromToMotion(this.id,"connectors",this.ctx.animationManager,[i],n),r9(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const{labelSelection:t}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id),r9(this,"labels",this.ctx.animationManager,t)}getDatumId(e){return`${e.xValue}-${e.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return d9(this.contextNodeData?.nodeData[t],this.contentGroup,i)}},{Label:b9}=rW,{AbstractBarSeriesProperties:x9,SeriesTooltip:S9,AxisLabel:M9,Validate:A9,UNION:k9,COLOR_STRING_ARRAY:w9,LINE_DASH:C9,OBJECT:I9,POSITIVE_NUMBER:D9,RATIO:N9,STRING:E9}=MW,O9=class extends b9{constructor(){super(...arguments),this.spacing=0}};GW([A9(k9(["before","middle","after"],"a placement"))],O9.prototype,"placement",2),GW([A9(D9)],O9.prototype,"spacing",2);var L9=class extends M9{};GW([A9(k9(["before","after"],"a placement"))],L9.prototype,"placement",2);var T9=class extends x9{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new O9,this.stageLabel=new L9,this.tooltip=new S9}};function R9(e,t){let{x:i,y:n,width:o,height:a,opacity:r}=t;return{x1:i,y1:n,x2:i+o,y2:n+a,opacity:r}}GW([A9(E9)],T9.prototype,"stageKey",2),GW([A9(E9)],T9.prototype,"valueKey",2),GW([A9(w9)],T9.prototype,"fills",2),GW([A9(N9)],T9.prototype,"fillOpacity",2),GW([A9(w9)],T9.prototype,"strokes",2),GW([A9(D9)],T9.prototype,"strokeWidth",2),GW([A9(N9)],T9.prototype,"strokeOpacity",2),GW([A9(C9)],T9.prototype,"lineDash",2),GW([A9(D9)],T9.prototype,"lineDashOffset",2),GW([A9(I9)],T9.prototype,"label",2),GW([A9(I9)],T9.prototype,"stageLabel",2),GW([A9(I9)],T9.prototype,"tooltip",2);var{isFiniteNumber:P9}=MW,{Line:z9}=rW,j9=class extends v9{constructor(e){super({moduleCtx:e,animationResetFns:{datum:R9}}),this.properties=new T9}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fill:void 0,fillOpacity:1,stroke:void 0,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0}}connectorStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:o}=this.properties;return{fill:void 0,fillOpacity:e,stroke:void 0,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:o}}nodeFactory(){return new z9}createLabelData(e){let{rect:t,barAlongX:i,yDatum:n,datum:o}=e;const{stageKey:a,valueKey:r,label:s}=this.properties,{spacing:l,placement:c}=s;let d,u,h,p;if(i)switch(d=t.x+t.width/2,h="center",c){case"before":u=t.y-l,p="bottom";break;case"after":u=t.y+t.height+l,p="top";break;default:u=t.y+t.height/2,p="middle"}else switch(u=t.y+t.height/2,p="middle",c){case"before":d=t.x-l,h="right";break;case"after":d=t.x+t.width+l,h="left";break;default:d=t.x+t.width/2,h="center"}return{x:d,y:u,textAlign:h,textBaseline:p,text:this.getLabelText(s,{itemId:r,value:n,datum:o,stageKey:a,valueKey:r},(e=>P9(e)?e.toFixed(0):String(e))),itemId:r,datum:o,series:this}}async updateDatumNodes(e){const t=e.isHighlight?this.properties.highlightStyle.item:void 0;e.datumSelection.each(((e,i)=>{e.setProperties(R9(0,i)),e.stroke=t?.stroke,e.strokeWidth=t?.strokeWidth??0,e.strokeOpacity=t?.strokeOpacity??1,e.lineDash=t?.lineDash,e.lineDashOffset=t?.lineDashOffset??0}))}};j9.className="ConeFunnelSeries",j9.type="cone-funnel";var B9={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"cone-funnel",moduleFactory:e=>new j9(e),solo:!0,tooltipDefaults:{range:"nearest"},defaultAxes:$8,themeTemplate:{series:{direction:"vertical",strokeWidth:0,label:{enabled:!0,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR,placement:"before",spacing:4}},seriesArea:{padding:{top:20,bottom:20}},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter:e=>Math.abs(e.value).toFixed(e.fractionDigits??0)}},[vW.CARTESIAN_AXIS_TYPE.CATEGORY]:{line:{enabled:!1}}}},paletteFactory:e=>{let{userPalette:t,themeTemplateParameters:i,takeColors:n,colorsCount:o}=e;const{fills:a}=n(o),r=i.get(vW.DEFAULT_FUNNEL_SERIES_COLOR_RANGE),s="inbuilt"===t?r:[a[0],a[1]];return{fills:s,strokes:s.slice(0)}}},{Label:$9,DropShadow:F9}=rW,{AbstractBarSeriesProperties:_9,BaseProperties:H9,SeriesTooltip:W9,AxisLabel:G9,Validate:V9,UNION:U9,BOOLEAN:K9,COLOR_STRING_ARRAY:Y9,COLOR_STRING:X9,FUNCTION:Z9,LINE_DASH:q9,OBJECT:Q9,POSITIVE_NUMBER:J9,RATIO:e7,STRING:t7}=MW,i7=class extends $9{},n7=class extends G9{};GW([V9(U9(["before","after"],"a placement"))],n7.prototype,"placement",2);var o7=class extends H9{constructor(){super(...arguments),this.enabled=!0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};GW([V9(K9)],o7.prototype,"enabled",2),GW([V9(X9,{optional:!0})],o7.prototype,"fill",2),GW([V9(e7)],o7.prototype,"fillOpacity",2),GW([V9(X9,{optional:!0})],o7.prototype,"stroke",2),GW([V9(J9)],o7.prototype,"strokeWidth",2),GW([V9(e7)],o7.prototype,"strokeOpacity",2),GW([V9(q9)],o7.prototype,"lineDash",2),GW([V9(J9)],o7.prototype,"lineDashOffset",2);var a7=class extends _9{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new o7,this.shadow=(new F9).set({enabled:!1}),this.label=new i7,this.stageLabel=new n7,this.tooltip=new W9}};GW([V9(t7)],a7.prototype,"stageKey",2),GW([V9(t7)],a7.prototype,"valueKey",2),GW([V9(Y9)],a7.prototype,"fills",2),GW([V9(e7)],a7.prototype,"fillOpacity",2),GW([V9(Y9)],a7.prototype,"strokes",2),GW([V9(J9)],a7.prototype,"strokeWidth",2),GW([V9(e7)],a7.prototype,"strokeOpacity",2),GW([V9(q9)],a7.prototype,"lineDash",2),GW([V9(J9)],a7.prototype,"lineDashOffset",2),GW([V9(e7)],a7.prototype,"spacingRatio",2),GW([V9(Z9,{optional:!0})],a7.prototype,"itemStyler",2),GW([V9(Q9)],a7.prototype,"dropOff",2),GW([V9(Q9)],a7.prototype,"shadow",2),GW([V9(Q9)],a7.prototype,"label",2),GW([V9(Q9)],a7.prototype,"stageLabel",2),GW([V9(Q9)],a7.prototype,"tooltip",2);var{ChartAxisDirection:r7,getRectConfig:s7,updateRect:l7,checkCrisp:c7,resetBarSelectionsFn:d7,prepareBarAnimationFunctions:u7,midpointStartingBarPosition:h7,createDatumId:p7,isFiniteNumber:g7}=MW,{Rect:f7,motion:m7}=rW,y7=class extends v9{constructor(e){super({moduleCtx:e,animationResetFns:{datum:d7}}),this.properties=new a7}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:o}=this.properties;return{fill:void 0,fillOpacity:e,stroke:void 0,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:o}}connectorStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeOpacity:n,strokeWidth:o,lineDash:a,lineDashOffset:r}=this.properties.dropOff;return{fill:e,fillOpacity:t,stroke:i,strokeOpacity:n,strokeWidth:o,lineDash:a,lineDashOffset:r}}nodeFactory(){return new f7}createLabelData(e){let{rect:t,yDatum:i,datum:n}=e;const{valueKey:o,stageKey:a,label:r}=this.properties;return{x:t.x+t.width/2,y:t.y+t.height/2,textAlign:"center",textBaseline:"middle",text:this.getLabelText(r,{itemId:a,value:i,datum:n,valueKey:o,stageKey:a},(e=>g7(e)?e.toFixed(0):String(e))),itemId:a,datum:n,series:this}}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,ctx:o}=this,{stageKey:a,valueKey:r,highlightStyle:{item:s},fillOpacity:l,strokeOpacity:c,strokeWidth:d,lineDash:u,lineDashOffset:h,itemStyler:p,shadow:g}=this.properties,f=this.axes[r7.X],m=c7(f?.scale,f?.visibleRange,this.smallestDataInterval,this.largestDataInterval),y=this.getCategoryDirection()===r7.X;t.each(((e,t)=>{const f={fill:t.fill,stroke:t.stroke,fillOpacity:l,strokeOpacity:c,lineDash:u,lineDashOffset:h,fillShadow:g,strokeWidth:this.getStrokeWidth(d)},v=y?t.width>0:t.height>0,b=s7({datum:t,isHighlighted:i,style:f,highlightStyle:s,itemStyler:p,seriesId:n,ctx:o,stageKey:a,valueKey:r});b.crisp=m,b.visible=v,l7(e,b)}))}animateEmptyUpdateReady(e){super.animateEmptyUpdateReady(e);const{datumSelection:t}=e,i=this.isVertical(),n=u7(h7(i,"normal"));m7.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],n)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e);const{datumSelection:t}=e,{processedData:i}=this,n=i?.reduced?.diff,o=u7(h7(this.isVertical(),"fade"));m7.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],o,((e,t)=>p7(t.xValue,t.valueIndex)),n)}};y7.className="FunnelSeries",y7.type="funnel";var v7={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"funnel",moduleFactory:e=>new y7(e),solo:!0,tooltipDefaults:{range:"exact"},defaultAxes:$8,themeTemplate:F8,paletteFactory:e=>{let{takeColors:t}=e;const{fills:i,strokes:n}=t(1);return{fills:i,strokes:n}}},{CachedTextMeasurerPool:b7,TextUtils:x7,TextWrapper:S7,findMaxValue:M7}=MW,{Logger:A7}=SW;function k7(e,t){return null!=e.lineHeight&&null!=e.fontSize?e.lineHeight*t/e.fontSize:x7.getLineHeight(t)}function w7(e,t,i,n,o,a){let{padding:r}=o;const{spacing:s=0}=t,l=2*r,c=2*r+s,d=(t.minimumFontSize??t.fontSize)+(n.minimumFontSize??n.fontSize);if(d>a(d+c,!1).height-c)return;const u=function(e,t){const{fontSize:i,minimumFontSize:n=i}=e,{fontSize:o,minimumFontSize:a=o}=t,r=i-n,s=o-a;let l=e.fontSize,c=t.fontSize;const d=[{labelFontSize:i,secondaryLabelFontSize:o}];for(;l>n||c>a;)(r>0?(l-n)/r:-1)>(s>0?(c-a)/s:-1)?l--:c--,d.push({labelFontSize:l,secondaryLabelFontSize:c});return d.reverse(),d}(t,n),h={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},p={fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let g,f;return M7(0,u.length-1,(o=>{const{labelFontSize:r,secondaryLabelFontSize:d}=u[o],m=0===o,y=k7(t,r),v=k7(n,d),b=a(y+v+c,m),x=b.width-l,S=b.height-c;if(y+v>S)return;if(null!=g&&g.fontSize===r||(h.fontSize=r,g=N7(t,e,x,S,h,t.wrapping,m?t.overflowStrategy:"hide")),null==g||g.width>x||g.height>S)return;if(null!=f&&f.fontSize===d||(p.fontSize=d,f=N7(n,i,x,S,p,n.wrapping,m?n.overflowStrategy:"hide")),null==f)return;const M=g.height+f.height;return f.width>x||M>S?void 0:{width:Math.max(g.width,f.width),height:M+s,meta:b.meta,label:g,secondaryLabel:f}}))}function C7(e,t,i,n){let{padding:o}=i;const a=2*o,r=Math.min(t.minimumFontSize??t.fontSize,t.fontSize),s={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return M7(r,t.fontSize,(i=>{const o=k7(t,i),l=i===r,c=n(o+a,l),d=c.width-a,u=c.height-a;if(o>u)return;s.fontSize=i;const h=S7.wrapLines(e,{maxWidth:d,maxHeight:u,font:s,textWrap:t.wrapping,overflow:(l?t.overflowStrategy:void 0)??"hide"});if(!h.length)return;const p=function(e,t){let{font:i,lineHeight:n=x7.defaultLineHeight,maxWidth:o,maxHeight:a=1/0}=t,r=n*e.length;for(;r>a;){if(1===e.length)return;e.pop(),e[e.length-1]=S7.appendEllipsis(e.at(-1)),r=n*e.length}const s=b7.measureLines(e,{font:i});let l,c;if(s.width>o){const e=[];c=0;for(const t of s.lineMetrics){if(t.width>o){if(!e.length)return;break}e.push(t.text),c=Math.max(c,t.width)}l=S7.appendEllipsis(e.join("\n"))}else l=e.join("\n"),c=s.width;return{text:l,width:c,height:r}}(h,{lineHeight:o,font:s,maxWidth:d,maxHeight:u});return p?[{fontSize:i,lineHeight:o,...p},c.meta]:void 0}))}function I7(e){return null!=e?.minimumFontSize&&e?.fontSize&&e?.minimumFontSize>e?.fontSize}function D7(e,t,i,n,o,a){const r=t.enabled?e:void 0,s=n.enabled?i:void 0;let l,c,d;if((I7(t)||I7(n))&&A7.warnOnce("minimumFontSize should be set to a value less than or equal to the font size"),null!=r&&null!=s&&(l=w7(r,t,s,n,o,a)),null==l&&null!=r&&(c=C7(r,t,o,a)),null!=c){const[e,t]=c;l={width:e.width,height:e.height,meta:t,label:e,secondaryLabel:void 0}}if(null==l&&null==r&&null!=s&&(d=C7(s,n,o,a)),null!=d){const[e,t]=d;l={width:e.width,height:e.height,meta:t,label:void 0,secondaryLabel:e}}return l}function N7(e,t,i,n,o,a,r){const s=S7.wrapLines(t,{maxWidth:i,maxHeight:n,font:o,textWrap:a,overflow:r});if(!s.length)return;const l=k7(e,o.fontSize),{width:c}=b7.measureLines(s,{font:o});return{width:c,lineHeight:l,text:s.join("\n"),height:s.length*l,fontSize:o.fontSize}}var{Validate:E7,NUMBER:O7,POSITIVE_NUMBER:L7,TEXT_WRAP:T7,OVERFLOW_STRATEGY:R7}=MW,P7=class extends rW.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};GW([E7(T7)],P7.prototype,"wrapping",2),GW([E7(R7)],P7.prototype,"overflowStrategy",2),GW([E7(L7,{optional:!0})],P7.prototype,"lineHeight",2),GW([E7(L7,{optional:!0})],P7.prototype,"minimumFontSize",2);var z7=class extends P7{constructor(){super(...arguments),this.spacing=0}};GW([E7(O7)],z7.prototype,"spacing",2);var j7=class extends P7{},{CartesianSeriesProperties:B7,SeriesTooltip:$7,Validate:F7,AND:_7,ARRAY:H7,COLOR_STRING:W7,COLOR_STRING_ARRAY:G7,FUNCTION:V7,OBJECT:U7,POSITIVE_NUMBER:K7,RATIO:Y7,STRING:X7,TEXT_ALIGN:Z7,VERTICAL_ALIGN:q7}=MW,Q7=class extends B7{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new z7,this.tooltip=new $7}};GW([F7(X7,{optional:!0})],Q7.prototype,"title",2),GW([F7(X7)],Q7.prototype,"xKey",2),GW([F7(X7)],Q7.prototype,"yKey",2),GW([F7(X7,{optional:!0})],Q7.prototype,"colorKey",2),GW([F7(X7,{optional:!0})],Q7.prototype,"xName",2),GW([F7(X7,{optional:!0})],Q7.prototype,"yName",2),GW([F7(X7,{optional:!0})],Q7.prototype,"colorName",2),GW([F7(_7(G7,H7.restrict({minLength:1})))],Q7.prototype,"colorRange",2),GW([F7(W7,{optional:!0})],Q7.prototype,"stroke",2),GW([F7(Y7,{optional:!0})],Q7.prototype,"strokeOpacity",2),GW([F7(K7,{optional:!0})],Q7.prototype,"strokeWidth",2),GW([F7(Z7)],Q7.prototype,"textAlign",2),GW([F7(q7)],Q7.prototype,"verticalAlign",2),GW([F7(K7)],Q7.prototype,"itemPadding",2),GW([F7(V7,{optional:!0})],Q7.prototype,"itemStyler",2),GW([F7(U7)],Q7.prototype,"label",2),GW([F7(U7)],Q7.prototype,"tooltip",2);var{SeriesNodePickMode:J7,computeBarFocusBounds:eee,getMissCount:tee,valueProperty:iee,ChartAxisDirection:nee,DEFAULT_CARTESIAN_DIRECTION_KEYS:oee,DEFAULT_CARTESIAN_DIRECTION_NAMES:aee}=MW,{Rect:ree,PointerEvents:see}=rW,{ColorScale:lee}=xW,{sanitizeHtml:cee,Logger:dee}=SW,uee=class extends MW.CartesianSeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.colorKey=n.properties.colorKey}},hee={left:-.5,center:0,right:-.5},pee={top:-.5,middle:0,bottom:-.5},gee=class extends MW.CartesianSeries{constructor(e){super({moduleCtx:e,directionKeys:oee,directionNames:aee,pickModes:[J7.NEAREST_NODE,J7.EXACT_SHAPE_MATCH],pathsPerSeries:[],hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new Q7,this.NodeEvent=uee,this.colorScale=new lee}async processData(e){const t=this.axes[nee.X],i=this.axes[nee.Y];if(!t||!i||!this.properties.isValid()||!this.data?.length)return;const{xKey:n,yKey:o,colorRange:a,colorKey:r}=this.properties,s=this.axes[nee.X]?.scale,l=this.axes[nee.Y]?.scale,{xScaleType:c,yScaleType:d}=this.getScaleInformation({xScale:s,yScale:l}),u=this.colorScale.type,{dataModel:h,processedData:p}=await this.requestDataModel(e,this.data,{props:[iee(n,c,{id:"xValue"}),iee(o,d,{id:"yValue"}),...r?[iee(r,u,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const e=h.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=p.domain.values[e],this.colorScale.range=a,this.colorScale.update()}}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.data.length,a=tee(this,i.defs.values[n].missing);return!(0===o||o===a)}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;return t&&i?e===nee.X?t.getDomain(this,"xValue","value",i):t.getDomain(this,"yValue","value",i):[]}async createNodeData(){const{data:e,visible:t,axes:i,dataModel:n}=this,o=i[nee.X],a=i[nee.Y];if(!(e&&n&&t&&o&&a))return;if("category"!==o.type||"category"!==a.type)return void dee.warnOnce(`Heatmap series expected axes to have "category" type, but received "${o.type}" and "${a.type}" instead.`);const{xKey:r,xName:s,yKey:l,yName:c,colorKey:d,colorName:u,textAlign:h,verticalAlign:p,itemPadding:g,colorRange:f,label:m}=this.properties,y=n.resolveProcessedDataIndexById(this,"xValue"),v=n.resolveProcessedDataIndexById(this,"yValue"),b=d?n.resolveProcessedDataIndexById(this,"colorValue"):void 0,x=o.scale,S=a.scale,M=(x.bandwidth??0)/2,A=(S.bandwidth??0)/2,k=this.isColorScaleValid(),w=[],C=[],I=x.bandwidth??10,D=S.bandwidth??10,N=(I-2*g)*hee[h],E=(D-2*g)*pee[p],O=()=>({width:I,height:D,meta:null});for(const{values:L,datum:T}of this.processedData?.data??[]){const e=L[y],t=L[v],i=x.convert(e)+M,n=S.convert(t)+A,o=L[b??-1],a=k&&null!=o?this.colorScale.convert(o):f[0],R=D7(null==o?void 0:this.getLabelText(m,{value:o,datum:T,colorKey:d,colorName:u,xKey:r,yKey:l,xName:s,yName:c}),this.properties.label,void 0,this.properties.label,{padding:g},O),P={x:i,y:n,size:0};if(w.push({series:this,itemId:l,yKey:l,xKey:r,xValue:e,yValue:t,colorValue:o,datum:T,point:P,width:I,height:D,fill:a,midPoint:{x:i,y:n},missing:null==o}),null!=R?.label){const{text:e,fontSize:t,lineHeight:i,height:n}=R.label,{fontStyle:o,fontFamily:a,fontWeight:r,color:s}=this.properties.label,c=P.x+N*(I-2*g),d=P.y+E*(D-2*g)-.5*(R.height-n);C.push({series:this,itemId:l,datum:T,text:e,fontSize:t,lineHeight:i,fontStyle:o,fontFamily:a,fontWeight:r,color:s,textAlign:h,verticalAlign:p,x:c,y:d})}}return{itemId:this.properties.yKey??this.id,nodeData:w,labelData:C,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new ree}async update(e){return this.ctx.animationManager.skipCurrentBatch(),super.update(e)}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n)}async updateDatumNodes(e){const{isHighlight:t}=e,{id:i,ctx:{callbackCache:n},properties:o}=this,{xKey:a,yKey:r,colorKey:s,itemStyler:l}=o,c=t?o.highlightStyle.item:void 0,d=c?.fillOpacity??1,u=c?.stroke??o.stroke,h=c?.strokeWidth??this.getStrokeWidth(o.strokeWidth),p=c?.strokeOpacity??o.strokeOpacity??1,g=this.axes[nee.X],[f,m]=g?.visibleRange??[],y=!(0!==f||1!==m);e.datumSelection.each(((e,o)=>{const{datum:g,point:f,width:m,height:v}=o,b=c?.fill??o.fill;let x;l&&(x=n.call(l,{datum:g,fill:b,fillOpacity:d,stroke:u,strokeOpacity:p,strokeWidth:h,highlighted:t,xKey:a,yKey:r,colorKey:s,seriesId:i})),e.crisp=y,e.x=Math.floor(f.x-m/2),e.y=Math.floor(f.y-v/2),e.width=Math.ceil(m),e.height=Math.ceil(v),e.fill=x?.fill??b,e.fillOpacity=x?.fillOpacity??d,e.stroke=x?.stroke??u,e.strokeWidth=x?.strokeWidth??h,e.strokeOpacity=x?.strokeOpacity??p}))}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e,{enabled:n}=this.properties.label,o=n?t:[];return i.update(o)}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{e.text=t.text,e.fontSize=t.fontSize,e.lineHeight=t.lineHeight,e.fontStyle=t.fontStyle,e.fontFamily=t.fontFamily,e.fontWeight=t.fontWeight,e.fill=t.color,e.textAlign=t.textAlign,e.textBaseline=t.verticalAlign,e.x=t.x,e.y=t.y,e.pointerEvents=see.None}))}getTooltipHtml(e){const t=this.axes[nee.X],i=this.axes[nee.Y];if(!this.properties.isValid()||!t||!i)return MW.EMPTY_TOOLTIP_CONTENT;const{xKey:n,yKey:o,colorKey:a,xName:r,yName:s,colorName:l,stroke:c,strokeWidth:d,strokeOpacity:u=1,colorRange:h,itemStyler:p,tooltip:g}=this.properties,{colorScale:f,id:m,ctx:{callbackCache:y}}=this,{datum:v,xValue:b,yValue:x,colorValue:S,itemId:M}=e,A=this.isColorScaleValid()?f.convert(S):h[0];let k;p&&(k=y.call(p,{datum:v,xKey:n,yKey:o,colorKey:a,fill:A,fillOpacity:1,stroke:c,strokeWidth:d,strokeOpacity:u,highlighted:!1,seriesId:m}));const w=k?.fill??A??"gray",C=this.properties.title??s,I=cee(t.formatDatum(b)),D=cee(i.formatDatum(x));let N=`<b>${cee(r??n)}</b>: ${I}<br><b>${cee(s??o)}</b>: ${D}`;return a&&(N=`<b>${cee(l??a)}</b>: ${cee(S)}<br>`+N),g.toTooltipHtml({title:C,content:N,backgroundColor:w},{seriesId:m,datum:v,xKey:n,yKey:o,xName:r,yName:s,title:C,color:w,colorKey:a,colorName:l,itemId:M})}getLegendData(e){return"gradient"===e&&this.data?.length&&this.properties.isValid()&&this.isColorScaleValid()&&this.dataModel?[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]:[]}isLabelEnabled(){return this.properties.label.enabled&&Boolean(this.properties.colorKey)}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;const n=this.contextNodeData?.nodeData[t];if(void 0===n)return;const{width:o,height:a,midPoint:r}=n,s={x:r.x-o/2,y:r.y-a/2,width:o,height:a};return eee(s,this.contentGroup,i)}};gee.className="HeatmapSeries",gee.type="heatmap";var fee={series:{label:{enabled:!1,color:vW.DEFAULT_LABEL_COLOUR,fontSize:vW.FONT_SIZE.SMALL,fontFamily:vW.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},mee={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:e=>new gee(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.BOTTOM}],themeTemplate:fee,paletteFactory:e=>{let{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:o}=e;const a=o.get(vW.DEFAULT_DIVERGING_SERIES_COLOR_RANGE),r=o.get(vW.DEFAULT_BACKGROUND_COLOUR),s=(Array.isArray(r)?r[0]:r)??"white",{fills:l,strokes:c}=t(i);return{stroke:"inbuilt"===n?s:c[0],colorRange:"inbuilt"===n?a:[l[0],l[1]]}}},{ColorScale:yee}=xW;function vee(e){if(null==e)return[];const t=new yee;t.domain=[0,1],t.range=e;return Array.from({length:5},((e,i)=>t.convert(i/4)))}var bee={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function xee(e,t){if(null==e)return"";if(null==t)return String(e);const[i,n]=t.scale.domain,o=0!==i?Math.ceil(Math.log10(Math.abs(i))):0,a=0!==n?Math.ceil(Math.log10(Math.abs(n))):0,r=Math.max(2-Math.max(o,a),0);return e.toFixed(r)}function See(e,t,i){if(null!=t.text)return t.text;const n=i??t.value,o=t?.formatter?.({seriesId:e.id,datum:void 0,value:n});return null!=o?String(o):void 0}var Mee=class extends XR{updatePath(){const{x:e,y:t,path:i,size:n}=this;i.clear(),i.moveTo(e,t-n/2),i.lineTo(e,t+n/2)}};Mee.className="LineMarker";var{BaseProperties:Aee,Validate:kee,COLOR_STRING:wee,NUMBER:Cee}=MW,{ColorScale:Iee}=xW,{Logger:Dee}=SW,Nee=class extends Aee{constructor(){super(...arguments),this.color="black"}};function Eee(e){return e.flatMap(((t,i)=>{const{offset:n}=t,o=e.at(i+1)?.color;return null!=o?[t,{offset:n,color:o}]:[t]}))}function Oee(e,t,i,n){if(0===e.length)return function(e,t){const i="discrete"===t?1:0,n=e.map(((e,t,n)=>{let{length:o}=n;return{offset:(t+i)/(o-1+i),color:e}}));return"discrete"===t?Eee(n):n}(t,n);if(!function(e){let t;for(const{stop:i}of e)if(null!=i){if(null!=t&&i<t)return!1;t=i}return!0}(e))return Dee.warnOnce("[fills] must have the stops defined in ascending order"),[];const o=Math.min(...i),a=Math.max(...i),r="discrete"===n,s=new Float64Array(e.length);let l=0,c=-1;for(let p=0;p<e.length;p+=1){const t=e[p];if(p>=c){c=e.length-1;for(let t=p+1;t<e.length;t+=1)if(null!=e[t].stop){c=t;break}}let{stop:i}=t;if(null==i){const t=e[l].stop,n=t??o,s=r&&null==t?1:0;i=n+((e[c].stop??a)-n)*(p-l+s)/(c-l+s)}else l=p;const n=(i-o)/(a-o);s[p]=n}let d,u=e.find((e=>null!=e.color))?.color;const h=e.map(((e,i)=>{let{color:n}=e;const o=s[i];return null!=n?u=n:null!=u?n=u:(null==d&&(d=new Iee,d.domain=[0,1],d.range=t),n=d.convert(o)),{offset:o,color:n}}));return"discrete"===n?Eee(h):h}GW([kee(Cee,{optional:!0})],Nee.prototype,"stop",2),GW([kee(wee,{optional:!0})],Nee.prototype,"color",2);var{MARKER_SHAPE:Lee,UNION:Tee,OR:Ree}=MW,Pee=Tee(["continuous","discrete"],"a fill mode"),zee=Ree(Lee,Tee(["line"],"a marker shape")),jee=Tee(["container","item"],"a corner mode"),{BaseProperties:Bee,Validate:$ee,OBJECT:Fee,BOOLEAN:_ee,NUMBER:Hee,NUMBER_ARRAY:Wee}=MW,{Logger:Gee}=SW,Vee=class extends Bee{getSegments(e,t){const{values:i,step:n,count:o}=this,a=Math.min(...e.domain),r=Math.max(...e.domain);let s;if(null!=i){const e=i.filter((e=>e>a&&e<r)).sort(((e,t)=>e-t));s=[a,...e,r]}else if(null!=n){const e=[];for(let t=a;t<r;t+=n)e.push(t);e.push(r),s=e}else if(null!=o){const e=o+1;s=Array.from({length:e+1},((t,i)=>i/e*(r-a)+a))}else s=e.ticks?.();return null!=s&&s.length>t&&(Gee.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),s=void 0),s??(s=[a,r]),s}};GW([$ee(Wee,{optional:!0})],Vee.prototype,"values",2),GW([$ee(Hee,{optional:!0})],Vee.prototype,"step",2),GW([$ee(Hee,{optional:!0})],Vee.prototype,"count",2);var Uee=class extends Bee{constructor(){super(...arguments),this.enabled=!1,this.interval=new Vee,this.spacing=0}};GW([$ee(_ee)],Uee.prototype,"enabled",2),GW([$ee(Fee)],Uee.prototype,"interval",2),GW([$ee(Hee)],Uee.prototype,"spacing",2);var{BaseProperties:Kee,SeriesTooltip:Yee,SeriesProperties:Xee,PropertiesArray:Zee,Validate:qee,BOOLEAN:Qee,COLOR_STRING:Jee,COLOR_STRING_ARRAY:ete,FUNCTION:tte,LINE_DASH:ite,NUMBER:nte,OBJECT_ARRAY:ote,OBJECT:ate,POSITIVE_NUMBER:rte,RATIO:ste,STRING:lte,UNION:cte}=MW,{Label:dte}=rW,ute=cte(["before","after","middle"],"a placement"),hte=cte(["inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end"],"an placement"),pte=cte(["horizontal","vertical"],"an orientation"),gte=class extends dte{};GW([qee(nte,{optional:!0})],gte.prototype,"spacing",2);var fte=class extends Kee{constructor(){super(...arguments),this.value=0,this.label=new gte}};GW([qee(lte,{optional:!0})],fte.prototype,"text",2),GW([qee(nte)],fte.prototype,"value",2),GW([qee(zee,{optional:!0})],fte.prototype,"shape",2),GW([qee(ute,{optional:!0})],fte.prototype,"placement",2),GW([qee(nte,{optional:!0})],fte.prototype,"spacing",2),GW([qee(rte,{optional:!0})],fte.prototype,"size",2),GW([qee(nte,{optional:!0})],fte.prototype,"rotation",2),GW([qee(Jee,{optional:!0})],fte.prototype,"fill",2),GW([qee(ste,{optional:!0})],fte.prototype,"fillOpacity",2),GW([qee(Jee,{optional:!0})],fte.prototype,"stroke",2),GW([qee(rte,{optional:!0})],fte.prototype,"strokeWidth",2),GW([qee(ste,{optional:!0})],fte.prototype,"strokeOpacity",2),GW([qee(ite,{optional:!0})],fte.prototype,"lineDash",2),GW([qee(rte,{optional:!0})],fte.prototype,"lineDashOffset",2),GW([qee(ate)],fte.prototype,"label",2);var mte=class extends Kee{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new Zee(Nee),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};GW([qee(Qee)],mte.prototype,"enabled",2),GW([qee(rte,{optional:!0})],mte.prototype,"thickness",2),GW([qee(ste)],mte.prototype,"thicknessRatio",2),GW([qee(ote)],mte.prototype,"fills",2),GW([qee(Pee)],mte.prototype,"fillMode",2),GW([qee(Jee,{optional:!0})],mte.prototype,"fill",2),GW([qee(ste)],mte.prototype,"fillOpacity",2),GW([qee(Jee)],mte.prototype,"stroke",2),GW([qee(rte)],mte.prototype,"strokeWidth",2),GW([qee(ste)],mte.prototype,"strokeOpacity",2),GW([qee(ite)],mte.prototype,"lineDash",2),GW([qee(rte)],mte.prototype,"lineDashOffset",2);var yte=class extends Kee{constructor(){super(...arguments),this.fills=new Zee(Nee),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};GW([qee(ote)],yte.prototype,"fills",2),GW([qee(Pee)],yte.prototype,"fillMode",2),GW([qee(Jee,{optional:!0})],yte.prototype,"fill",2),GW([qee(ste)],yte.prototype,"fillOpacity",2),GW([qee(Jee)],yte.prototype,"stroke",2),GW([qee(rte)],yte.prototype,"strokeWidth",2),GW([qee(ste)],yte.prototype,"strokeOpacity",2),GW([qee(ite)],yte.prototype,"lineDash",2),GW([qee(rte)],yte.prototype,"lineDashOffset",2),GW([qee(Jee)],yte.prototype,"defaultFill",2);var vte=class extends z7{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};GW([qee(lte,{optional:!0})],vte.prototype,"text",2),GW([qee(hte)],vte.prototype,"placement",2),GW([qee(Qee)],vte.prototype,"avoidCollisions",2);var bte=class extends Xee{constructor(){super(...arguments),this.value=0,this.segmentation=new Uee,this.defaultColorRange=[],this.targets=new Zee(fte),this.defaultTarget=new fte,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new yte,this.bar=new mte,this.label=new vte,this.tooltip=new Yee}};GW([qee(nte)],bte.prototype,"value",2),GW([qee(ate)],bte.prototype,"segmentation",2),GW([qee(ete)],bte.prototype,"defaultColorRange",2),GW([qee(ote)],bte.prototype,"targets",2),GW([qee(ate)],bte.prototype,"defaultTarget",2),GW([qee(pte)],bte.prototype,"direction",2),GW([qee(rte)],bte.prototype,"thickness",2),GW([qee(rte)],bte.prototype,"cornerRadius",2),GW([qee(jee)],bte.prototype,"cornerMode",2),GW([qee(nte)],bte.prototype,"margin",2),GW([qee(ate)],bte.prototype,"scale",2),GW([qee(ate)],bte.prototype,"bar",2),GW([qee(tte,{optional:!0})],bte.prototype,"itemStyler",2),GW([qee(ate)],bte.prototype,"label",2),GW([qee(ate)],bte.prototype,"tooltip",2);var{CachedTextMeasurerPool:xte}=MW,{BBox:Ste}=rW;function Mte(e){const{x0:t,y0:i,x1:n,y1:o,horizontalInset:a,verticalInset:r}=e;return{x:Math.min(t,n)+a,y:Math.min(i,o)+r,width:Math.max(Math.abs(n-t)-2*a,0),height:Math.max(Math.abs(o-i)-2*r,0)}}function Ate(e){const{clipX0:t,clipX1:i,clipY0:n,clipY1:o}=e;return null!=t&&null!=i||null!=n&&null!=o}function kte(e,t){const i=e?"initial":"update";return{node:{fromFn(n,o){const a=n.previousDatum;let{x0:r,y0:s,x1:l,y1:c,clipX0:d,clipY0:u,clipX1:h,clipY1:p}=a??o;const{horizontalInset:g,verticalInset:f}=o,m=null!=a&&Ate(a),y=Ate(o);return m&&y||(!m&&y?(({x0:r,y0:s,x1:l,y1:c,clipX0:d,clipY0:u,clipX1:h,clipY1:p}=o),e&&(t?h=o.clipX0:p=o.clipY0)):m&&!y?(({x0:r,y0:s,x1:l,y1:c}=o),d=void 0,u=void 0,h=void 0,p=void 0):e&&(t?l=r:c=s)),{x0:r,y0:s,x1:l,y1:c,clipX0:d,clipY0:u,clipX1:h,clipY1:p,horizontalInset:g,verticalInset:f,phase:i}},toFn(e,t){const{x0:i,y0:n,x1:o,y1:a,clipX0:r,clipY0:s,clipX1:l,clipY1:c,horizontalInset:d,verticalInset:u}=t;return{x0:i,y0:n,x1:o,y1:a,clipX0:r,clipY0:s,clipX1:l,clipY1:c,horizontalInset:d,verticalInset:u}},applyFn(e,t){e.setProperties(wte(e,t))}}}}function wte(e,t){const{x:i,y:n,width:o,height:a}=Mte(t),r=function(e){if(!Ate(e))return;const{x0:t,y0:i,x1:n,y1:o}=e,{x:a,y:r,width:s,height:l}=Mte(e);let{clipX0:c,clipX1:d,clipY0:u,clipY1:h}=e;null!=c&&null!=d||(c=t,d=n),null!=u&&null!=h||(u=i,h=o);const p=Math.min(c,d),g=Math.min(u,h),f=Math.abs(d-c),m=Math.abs(h-u);return c=Math.max(a,p),u=Math.max(r,g),d=Math.min(a+s,p+f),h=Math.min(r+l,g+m),new Ste(Math.min(c,d),Math.min(u,h),Math.abs(d-c),Math.abs(h-u))}(t),s=function(e,t){if(null==t)return!0;const i=Mte(e),n=1e-6,o=i.x+n,a=i.y+n,r=i.x+i.width-n,s=i.y+i.height-n,l=t.x,c=t.x+t.width,d=t.y,u=t.y+t.height;return Math.max(o,l)<=Math.min(r,c)&&Math.max(a,d)<=Math.min(s,u)}(t,r);return{x:i,y:n,width:o,height:a,clipBBox:r,visible:s}}var Cte={Before:"right",Center:"center",After:"left"},Ite={Before:"top",Center:"middle",After:"bottom"},Dte={Before:-1,Center:-.5,After:0},Nte={Before:0,Center:-.5,After:-1};var{fromToMotion:Ete,resetMotion:Ote,SeriesNodePickMode:Lte,StateMachine:Tte,createDatumId:Rte,ChartAxisDirection:Pte,CachedTextMeasurerPool:zte,EMPTY_TOOLTIP_CONTENT:jte}=MW,{BBox:Bte,Group:$te,PointerEvents:Fte,Selection:_te,Rect:Hte,Text:Wte,LinearGradient:Gte,getMarker:Vte,easing:Ute}=rW,{toRadians:Kte}=SW,Yte={before:180,middle:0,after:0},Xte={before:90,middle:0,after:-90},Zte=class extends MW.Series{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[Lte.EXACT_SHAPE_MATCH,Lte.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new bte,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new $te({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new $te({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new $te({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new $te({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new $te({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new $te({name:"itemTargetLabelGroup"})),this.scaleSelection=_te.select(this.scaleGroup,(()=>this.nodeFactory())),this.datumSelection=_te.select(this.itemGroup,(()=>this.nodeFactory())),this.targetSelection=_te.select(this.itemTargetGroup,(e=>this.markerFactory(e))),this.targetLabelSelection=_te.select(this.itemTargetLabelGroup,Wte),this.labelSelection=_te.select(this.itemLabelGroup,Wte),this.highlightTargetSelection=_te.select(this.highlightTargetGroup,(e=>this.markerFactory(e))),this.nodeDatum={series:this,datum:{}},this.animationState=new Tte("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.itemGroup.pointerEvents=Fte.None,this.itemTargetLabelGroup.pointerEvents=Fte.None,this.itemLabelGroup.pointerEvents=Fte.None}get horizontal(){return"horizontal"===this.properties.direction}get thickness(){return this.properties.thickness}computeInset(e,t){const{label:i}=this.properties;let n;switch(i.placement){case"outside-start":n=1;break;case"outside-end":n=-1;break;default:return 0}const o=i.text?.split("\n");let a;if(e===Pte.Y)a=k7(i,i.fontSize)*(o?.length??1);else{const e=i.getFont();a=(o??t.map((e=>See(this,this.labelDatum(i,e))??""))).reduce(((t,i)=>{const{width:n}=zte.measureText(i,{font:e});return Math.max(t,n)}),0)}return n*(i.spacing+a)}get hasData(){return!0}nodeFactory(){const e=new Hte;return e.crisp=!0,e}markerFactory(e){let{shape:t}=e;const i=new("line"!==t?Vte(t):Mee);return i.size=1,i}async processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){const{axes:t,horizontal:i}=this;return xee(e,i?t[Pte.X]:t[Pte.Y])}createLinearGradient(e,t){const{properties:i,originX:n,originY:o,horizontal:a,axes:r}=this,{thickness:s,defaultColorRange:l}=i,c=a?r[Pte.X]:r[Pte.Y],{domain:d,range:u}=c.scale,h=u[1]-u[0],p=Oee(e,l,d,t);return new Gte("oklch",p,a?90:0,new Bte(n,o,a?h:s,a?s:h))}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map((e=>{const{text:i=t.text,value:n=t.value??0,shape:o=t.shape??"triangle",rotation:a=t.rotation??0,strokeWidth:r=t.strokeWidth??0,placement:s=t.placement??"middle",spacing:l=t.spacing??0,size:c=t.size??0,fill:d=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:h=t.stroke??"black",strokeOpacity:p=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:f=t.lineDashOffset??0}=e,{enabled:m=t.label.enabled,color:y=t.label.color??"black",fontStyle:v=t.label.fontStyle??"normal",fontWeight:b=t.label.fontWeight??"normal",fontSize:x=t.label.fontSize,fontFamily:S=t.label.fontFamily,spacing:M=t.label.spacing??0}=e.label;return{text:i,value:n,shape:o,placement:s,spacing:l,size:c,rotation:a,fill:d,fillOpacity:u,stroke:h,strokeWidth:r,strokeOpacity:p,lineDash:g,lineDashOffset:f,label:{enabled:m,color:y,fontStyle:v,fontWeight:b,fontSize:x,fontFamily:S,spacing:M}}}))}getTargetPoint(e){const t=this.axes[Pte.X],i=this.axes[Pte.Y];if(null==t||null==i)return{x:0,y:0};const{properties:n,originX:o,originY:a,horizontal:r}=this,{thickness:s}=n,{value:l,placement:c,spacing:d,size:u}=e,h=r?t:i,p=h.scale.convert(l)-h.scale.range[0];let g;switch(c){case"before":g=-(d+u/2);break;case"after":g=s+d+u/2;break;default:g=s/2}return{x:o+t.range[0]+(r?p:g),y:a+i.range[0]+(r?g:p)}}getTargetLabel(e){const{size:t,placement:i,label:n}=e,{spacing:o,color:a,fontStyle:r,fontWeight:s,fontSize:l,fontFamily:c}=n,d=t/2+o;let u,h,p=0,g=0;return this.horizontal?(u="center","after"===i?(h="top",g=d):(h="bottom",g=-d)):(h="middle","before"===i?(u="right",p=-d):(u="left",p=d)),{offsetX:p,offsetY:g,fill:a,textAlign:u,textBaseline:h,fontStyle:r,fontWeight:s,fontSize:l,fontFamily:c,lineHeight:void 0}}labelDatum(e,t){const{placement:i,avoidCollisions:n,spacing:o,text:a,color:r,fontSize:s,minimumFontSize:l,fontStyle:c,fontWeight:d,fontFamily:u,lineHeight:h,wrapping:p,overflowStrategy:g,formatter:f=e=>this.formatLabel(e.value)}=e;return{placement:i,avoidCollisions:n,spacing:o,text:a,value:t,fill:r,fontSize:s,minimumFontSize:l,fontStyle:c,fontWeight:d,fontFamily:u,lineHeight:h,wrapping:p,overflowStrategy:g,formatter:f}}async createNodeData(){const{id:e,properties:t,originX:i,originY:n,horizontal:o}=this;if(!t.isValid())return;const{value:a,segmentation:r,thickness:s,cornerRadius:l,cornerMode:c,bar:d,scale:u,label:h}=t,p=this.getTargets(),g=this.axes[Pte.X],f=this.axes[Pte.Y];if(null==g||null==f)return;const m=o?g:f,y=g.scale,v=f.scale,b=m.scale;let{domain:x}=m.scale;m.isReversed()&&(x=x.slice().reverse());const S=[],M=[],A=[],k=[],[w,C]=b.range,I=Math.abs(C-w);let[D,N]=g.range;g.isReversed()&&([N,D]=[D,N]);let[E,O]=f.range;f.isReversed()&&([O,E]=[E,O]);const L=o?y.convert(a):N,T=o?O:v.convert(a),R=r.enabled?r.spacing/2:0,P=o?R:0,z=o?0:R,j=Math.min(d.thickness??Math.round(d.thicknessRatio*s),s),B=-(s-j)/2,$=o?0:B,F=o?B:0,_="item"===c,H=Math.ceil(I);let W=r.enabled?r.interval.getSegments(b,H):void 0;const G=d.fill??this.createLinearGradient(d.fills,d.fillMode),V=u.fill??(d.enabled&&0===u.fills.length?u.defaultFill:void 0)??this.createLinearGradient(u.fills,u.fillMode);if(null==W&&_){const e={value:a,segmentStart:Math.min(...x),segmentEnd:Math.max(...x)};if(d.enabled){const t=Math.min(l,j/2,I/2)*(m.isReversed()?-1:1),a=o?t:0,r=o?0:t;S.push({series:this,itemId:"value",datum:e,type:0,x0:i+D-a-$,y0:n+E-r-F,x1:i+L+a+$,y1:n+T+r+F,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:G,horizontalInset:P,verticalInset:z})}const t=Math.min(l,s/2,I/2)*(m.isReversed()?-1:1),r=o?t:0,c=o?0:t;k.push({series:this,itemId:"scale",datum:e,type:0,x0:i+D-r,y0:n+E-c,x1:i+N+r,y1:n+O+c,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:V,horizontalInset:P,verticalInset:z})}else{W??(W=x);const e=i+D-$,t=n+E-F,r=i+L+$,s=n+T+F;for(let c=0;c<W.length-1;c+=1){const u=W[c+0],h=W[c+1],p={value:a,segmentStart:u,segmentEnd:h},g=0===c,f=c===W.length-2,m=b.convert(u),y=b.convert(h),v=_||g?l:0,x=_||f?l:0,M=o?v:x,A=x,w=o?x:v,C=v;d.enabled&&S.push({series:this,itemId:`value-${c}`,datum:p,type:0,x0:i+(o?m:D),y0:n+(o?E:m),x1:i+(o?y:N),y1:n+(o?O:y),clipX0:e,clipY0:t,clipX1:r,clipY1:s,topLeftCornerRadius:M,topRightCornerRadius:A,bottomRightCornerRadius:w,bottomLeftCornerRadius:C,fill:G,horizontalInset:P,verticalInset:z}),k.push({series:this,itemId:`scale-${c}`,datum:p,type:0,x0:i+(o?m:D),y0:n+(o?E:m),x1:i+(o?y:N),y1:n+(o?O:y),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:M,topRightCornerRadius:A,bottomRightCornerRadius:w,bottomLeftCornerRadius:C,fill:V,horizontalInset:P,verticalInset:z})}}h.enabled&&A.push(this.labelDatum(h,a));const U=o?Yte:Xte;for(let K=0;K<p.length;K+=1){const e=p[K],{value:t,text:i,shape:n,size:o,fill:a,fillOpacity:r,stroke:s,strokeWidth:l,strokeOpacity:c,lineDash:d,lineDashOffset:u}=e,h=this.getTargetPoint(e),g=Kte(e.rotation+U[e.placement]);M.push({series:this,itemId:`target-${K}`,midPoint:h,datum:{value:t},type:1,value:t,text:i,x:h.x,y:h.y,shape:n,size:o,rotation:g,fill:a,fillOpacity:r,stroke:s,strokeOpacity:c,strokeWidth:l,lineDash:d,lineDashOffset:u,label:this.getTargetLabel(e)})}return{itemId:e,nodeData:S,targetData:M,labelData:A,scaleData:k}}async updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(null!=e&&e.series===this&&1===e.type)return e}async update(e){let{seriesRect:t}=e;const{datumSelection:i,labelSelection:n,targetSelection:o,targetLabelSelection:a,scaleSelection:r,highlightTargetSelection:s}=this,l=this.checkResize(t);await this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=this.contextNodeData?.nodeData??[],d=this.contextNodeData?.labelData??[],u=this.contextNodeData?.targetData??[],h=this.contextNodeData?.scaleData??[],p=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=await this.updateScaleSelection({scaleData:h,scaleSelection:r}),await this.updateScaleNodes({scaleSelection:r}),this.targetSelection=await this.updateTargetSelection({targetData:u,targetSelection:o}),await this.updateTargetNodes({targetSelection:o,isHighlight:!1}),this.targetLabelSelection=await this.updateTargetLabelSelection({targetData:u,targetLabelSelection:a}),await this.updateTargetLabelNodes({targetLabelSelection:a}),this.datumSelection=await this.updateDatumSelection({nodeData:c,datumSelection:i}),await this.updateDatumNodes({datumSelection:i}),this.labelSelection=await this.updateLabelSelection({labelData:d,labelSelection:n}),await this.updateLabelNodes({labelSelection:n}),this.highlightTargetSelection=await this.updateTargetSelection({targetData:null!=p?[p]:[],targetSelection:s}),await this.updateTargetNodes({targetSelection:s,isHighlight:!0}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(t=>Rte(e.nodeData.length,t.itemId)))}async updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:n}=this,{bar:o}=n,{fillOpacity:a,stroke:r,strokeOpacity:s,lineDash:l,lineDashOffset:c}=o,d=this.getStrokeWidth(o.strokeWidth),u=i.animationManager.isSkipped();t.each(((e,t)=>{const{topLeftCornerRadius:i,topRightCornerRadius:n,bottomRightCornerRadius:o,bottomLeftCornerRadius:h,fill:p}=t;e.fill=p,e.fillOpacity=a,e.stroke=r,e.strokeOpacity=s,e.strokeWidth=d,e.lineDash=l,e.lineDashOffset=c,e.topLeftCornerRadius=i,e.topRightCornerRadius=n,e.bottomRightCornerRadius=o,e.bottomLeftCornerRadius=h,(u||null==e.previousDatum)&&e.setProperties(wte(0,t))}))}async updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,(t=>Rte(e.scaleData.length,t.itemId)))}async updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i}=this.properties,{fillOpacity:n,stroke:o,strokeOpacity:a,strokeWidth:r,lineDash:s,lineDashOffset:l}=i;t.each(((e,t)=>{const{topLeftCornerRadius:i,topRightCornerRadius:c,bottomRightCornerRadius:d,bottomLeftCornerRadius:u,fill:h}=t;e.fill=h,e.fillOpacity=n,e.stroke=o,e.strokeOpacity=a,e.strokeWidth=r,e.lineDash=s,e.lineDashOffset=l,e.topLeftCornerRadius=i,e.topRightCornerRadius=c,e.bottomRightCornerRadius=d,e.bottomLeftCornerRadius=u,e.setProperties(wte(0,t))}))}async updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,(e=>e.itemId))}async updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,n=i?this.properties.highlightStyle.item:void 0;t.each(((e,t)=>{const{x:i,y:o,size:a,rotation:r,fill:s,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:u,lineDash:h,lineDashOffset:p}=t;e.size=a,e.fill=n?.fill??s,e.fillOpacity=n?.fillOpacity??l,e.stroke=n?.stroke??c,e.strokeOpacity=n?.strokeOpacity??d,e.strokeWidth=n?.strokeWidth??u,e.lineDash=n?.lineDash??h,e.lineDashOffset=n?.lineDashOffset??p,e.translationX=i,e.translationY=o,e.rotation=r}))}async updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData)}async updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each(((e,t)=>{const{x:i,y:n,text:o}=t,{offsetX:a,offsetY:r,fill:s,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u,textAlign:h,textBaseline:p}=t.label;e.visible=!0,e.x=i+a,e.y=n+r,e.text=o,e.fill=s,e.fontStyle=l,e.fontWeight=c,e.fontSize=d,e.fontFamily=u,e.textAlign=h,e.textBaseline=p}))}async updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,(e=>"primary"))}async updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each(((e,t)=>{e.fill=t.fill,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontFamily=t.fontFamily})),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(null==e.text)return!1;return!0}formatLabelText(e){const{labelSelection:t,horizontal:i,axes:n}=this,o=n[Pte.X],a=n[Pte.Y];if(null==o||null==a)return;const[r,s]=o.range,[l,c]=a.range,d=this.originX+Math.min(r,s),u=this.originY+Math.min(l,c),h=Math.abs(s-r),p=Math.abs(c-l),g=e?.label??this.properties.value;let f;if(i){const e=o.scale.convert(g);f=new Bte(d,u,e-d,p)}else{const e=a.scale.convert(g);f=new Bte(d,e,h,p-e)}const m={scale:new Bte(d,u,h,p),bar:f},{margin:y}=this.properties;!function(e,t,i,n,o){const{scale:a,bar:r}=n,{padding:s,horizontal:l}=i;t.each(((t,i)=>{const n=See(e,i,o?.label),c=()=>({width:a.width,height:a.height,meta:null});let d;const u=i.avoidCollisions&&"outside-start"!==i.placement&&"outside-end"!==i.placement;if(null==n)return;if(u){const e=C7(n,i,{padding:s},c);d=e?.[0]}else{const e={fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,fontFamily:i.fontFamily,lineHeight:i.lineHeight},{width:t,height:o}=xte.measureText(n,{font:e});d={text:n,fontSize:i.fontSize,lineHeight:k7(i,i.fontSize),width:t,height:o}}if(null==d)return void(t.visible=!1);const h=l?a.x:a.y+a.height,p=l?a.x+a.width:a.y,g=l?r.x:r.y+r.height,f=l?r.x+r.width:r.y,m=i.spacing*(l?1:-1);let y,v,b,x;switch(i.placement){case"outside-start":y=-1/0,v=1/0,b=h-m,x="Before";break;case"outside-end":y=-1/0,v=1/0,b=p+m,x="After";break;case"inside-start":y=h,v=f,b=h+m,x="After";break;case"inside-end":y=f,v=p,b=p-m,x="Before";break;case"inside-center":y=h,v=p,b=(h+p)/2,x="Center";break;case"bar-inside":y=g,v=f,b=(g+f)/2,x="Center";break;case"bar-inside-end":y=g,v=f,b=f-m,x="Before";break;case"bar-outside-end":y=f,v=p,b=f+m,x="After";break;case"bar-end":y=-1/0,v=1/0,b=f,x="Center"}const S=l?b:a.x+a.width/2,M=l?a.y+a.height/2:b;let A,k;l?(A=S+Dte[x]*d.width,k=A+d.width):(A=M+Nte[x]*d.height,k=A+d.height);const w=Math.min(A,k)>=Math.min(y,v)&&Math.max(A,k)<=Math.max(y,v);!i.avoidCollisions||w?(t.visible=!0,t.text=d.text,t.fontSize=d.fontSize,t.lineHeight=d.lineHeight,t.textAlign=l?Cte[x]:"center",t.textBaseline=l?"middle":Ite[x],t.x=S,t.y=M):t.visible=!1}))}(this,t,{padding:y,horizontal:i},m,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),Ote([this.datumSelection],wte),this.formatLabelText()}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}animateLabelText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{animationManager:t}=this.ctx;let i=0,n=0;if(this.labelSelection.each(((t,o)=>{t.opacity=1,i=t.previousDatum?.value??e.from??o.value,n=o.value})),this.labelsHaveExplicitText());else if(i===n)this.formatLabelText({label:n});else{const o=`${this.id}_labels`;t.animate({id:o,groupId:"label",from:{label:i},to:{label:n},phase:e.phase??"update",ease:Ute.easeOut,onUpdate:e=>this.formatLabelText(e)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=kte(!0,this.horizontal);Ete(this.id,"node",e,[this.datumSelection],t,((e,t)=>t.itemId)),Ete(this.id,"label",e,[this.labelSelection],bee,(()=>"primary")),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=kte(!1,this.horizontal);Ete(this.id,"node",e,[this.datumSelection],t,((e,t)=>t.itemId)),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}pickNode(e,t){switch(t){case"event":case"context-menu":{const t=this.scaleGroup.pickNode(e.x,e.y);return null!=t?{pickMode:MW.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:t.datum,distance:0}:void 0}case"tooltip":case"highlight":case"highlight-tooltip":{const t=this.itemTargetGroup.pickNode(e.x,e.y);return null!=t?{pickMode:MW.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:t.datum,distance:0}:{pickMode:MW.SeriesNodePickMode.NEAREST_NODE,match:this.nodeDatum,distance:0}}}}getTooltipHtml(e){const{id:t,properties:i}=this;if(!i.isValid())return jte;const n=this.highlightDatum(e),o=n?.value??i.value,a=n?.text,{tooltip:r}=i,s=a??"",l=this.formatLabel(o),c=n?.itemId,d=n?.fill;return r.toTooltipHtml({title:s,content:l,backgroundColor:d},{seriesId:t,itemId:c,title:s,datum:void 0,color:d,value:o,...this.getModuleTooltipParams()})}pickFocus(e){const t=this.contextNodeData?.targetData;if(null==t||0===t.length)return;const i=Math.min(Math.max(e.datumIndex,0),t.length-1),n=t[i];for(const o of this.targetSelection)if(o.datum===n){return{bounds:o.node,showFocusBox:!0,datum:n,datumIndex:i}}}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),t.join(". ")}};Zte.className="LinearGaugeSeries",Zte.type="linear-gauge";var{FONT_WEIGHT:qte,DEFAULT_FONT_FAMILY:Qte,DEFAULT_HIERARCHY_FILLS:Jte,DEFAULT_LABEL_COLOUR:eie,DEFAULT_INVERTED_LABEL_COLOUR:tie,CARTESIAN_AXIS_TYPE:iie}=vW,nie={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"linear-gauge",moduleFactory:e=>new Zte(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:iie.NUMBER,line:{enabled:!1}},{type:iie.NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,series:{thickness:50,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:eie,stroke:eie,size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:qte.NORMAL,fontSize:12,fontFamily:Qte,color:eie,spacing:5}},label:{enabled:!1,placement:"inside-start",fontWeight:qte.NORMAL,fontSize:24,minimumFontSize:12,spacing:18,fontFamily:Qte,color:tie},margin:4,tooltip:{enabled:!1}},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{line:{enabled:!1},gridLine:{enabled:!1}}}},paletteFactory(e){const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:o}=e,{fills:a}=t(i),r=o.get(vW.DEFAULT_GAUGE_SERIES_COLOR_RANGE),s=o.get(Jte),l="inbuilt"===n?r:[a[0],a[1]];return{scale:{defaultFill:s?.[1],stroke:s?.[2]},defaultColorRange:vee(l)}}},oie={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer"},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}};function aie(e,t,i,n){const[o,a]=e,[r,s]=t,l=r-o,c=s-a,d=l*l+c*c;let u,h;if(Math.abs(d)<1e-9)u=o,h=a;else{let e=((i-o)*l+(n-a)*c)/d;e=Math.max(0,Math.min(1,e)),u=o+e*(r-o),h=a+e*(s-a)}const p=i-u,g=n-h;return p*p+g*g}function rie(e,t,i){let n=1/0,o=e[e.length-1];for(const a of e)n=Math.min(n,aie(o,a,t,i)),o=a;return Math.sqrt(n)}function sie(e){let[t,i]=e[0],n=0;for(let o=1;o<e.length;o+=1){const[a,r]=e[o];n+=Math.hypot(a-t,r-i),t=a,i=r}return n}function lie(e){if(0===e.length)return;const t=sie(e)/2;let[i,n]=e[0],o=0;for(let a=1;a<e.length;a+=1){const[r,s]=e[a],l=Math.hypot(r-i,s-n),c=o+l;if(c>t){const e=(t-o)/l;return{point:[i+(r-i)*e,n+(s-n)*e],angle:Math.atan2(s-n,r-i)}}o=c,i=r,n=s}}var{LonLatBBox:cie}=MW;function die(e,t,i,n,o){return null==e?e=new cie(t,i,n,o):(e.lon0=Math.min(e.lon0,t),e.lat0=Math.min(e.lat0,i),e.lon1=Math.max(e.lon1,n),e.lat1=Math.max(e.lat1,o)),e}var uie=(e,t,i)=>{let n=e,o=n;for(const a of t)if(null==n||i(n.value,a)>0)n={value:a,next:n},o=n;else{for(;null!=o.next&&i(o.next.value,a)<=0;)o=o.next;o.next={value:a,next:o.next}}return n};function hie(e,t){return e.forEach((e=>{const[i,n]=e;t=die(t,i,n,i,n)})),t}function pie(e,t,i){let n=!1,o=1/0;for(const a of e){let e=a[a.length-1],[r,s]=e;for(const l of a){const[a,c]=l;c>i!==s>i&&t<(r-a)*(i-c)/(s-c)+a&&(n=!n),o=Math.min(o,aie(e,l,t,i)),e=l,r=a,s=c}}return(n?-1:1)*Math.sqrt(o)}var{Path:gie,ExtendedPath2D:fie,BBox:mie,ScenePathChangeDetection:yie}=rW,vie=class extends gie{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new fie}computeBBox(){return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.bbox?.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=null!=e?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.renderStroke(e,this.strokePath.getPath2D())}containsPoint(e,t){const{projectedGeometry:i}=this;return null!=i&&(!!this.getBBox().containsPoint(e,t)&&this.geometryDistance(i,e,t)<=0)}distanceSquared(e,t){const{projectedGeometry:i}=this;if(null==i)return 1/0;const n=this.geometryDistance(i,e,t);return n>0?n*n:0}geometryDistance(e,t,i){const{renderMode:n,strokeWidth:o}=this,a=0!==(1&n),r=0!==(2&n),s=Math.max(o/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce(((e,n)=>Math.min(e,this.geometryDistance(n,t,i))),1/0);case"MultiPolygon":return a?e.coordinates.reduce(((e,n)=>Math.min(e,Math.max(pie(n,t,i),0))),1/0):1/0;case"Polygon":return a?Math.max(pie(e.coordinates,t,i),0):1/0;case"MultiLineString":return r?e.coordinates.reduce(((e,n)=>Math.min(e,Math.max(rie(n,t,i)-s,0))),1/0):1/0;case"LineString":return r?Math.max(rie(e.coordinates,t,i)-s,0):1/0;default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:n,strokePath:o}=this,a=0!==(1&i),r=0!==(2&i);switch(e.type){case"GeometryCollection":e.geometries.forEach((e=>{t=this.drawGeometry(e,t)}));break;case"MultiPolygon":a&&e.coordinates.forEach((e=>{t=this.drawPolygon(n,e,t)}));break;case"Polygon":a&&(t=this.drawPolygon(n,e.coordinates,t));break;case"LineString":r&&(t=this.drawLineString(o,e.coordinates,t,!1));break;case"MultiLineString":r&&e.coordinates.forEach((e=>{t=this.drawLineString(o,e,t,!1)}))}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let n=1;n<t.length;n+=1){const i=t[n];this.drawLineString(e,i,void 0,!0)}return i}drawLineString(e,t,i,n){if(t.length<2)return i;const o=n?t.length-1:t.length;for(let a=0;a<o;a+=1){const[n,o]=t[a];if(0===a?e.moveTo(n,o):e.lineTo(n,o),null==i)i=new mie(n,o,0,0);else{const{x:e,y:t}=i,a=e+i.width,r=t+i.height;i.x=Math.min(e,n),i.y=Math.min(t,o),i.width=Math.max(a,n)-i.x,i.height=Math.max(r,o)-i.y}}return n&&e.closePath(),i}};function bie(e,t){if(null!=e.bbox){const[i,n,o,a]=e.bbox;return t=die(t,i,n,o,a)}switch(e.type){case"GeometryCollection":e.geometries.forEach((e=>{t=bie(e,t)}));break;case"MultiPolygon":e.coordinates.forEach((e=>{e.length>0&&(t=hie(e[0],t))}));break;case"Polygon":e.coordinates.length>0&&(t=hie(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach((e=>{t=hie(e,t)}));break;case"LineString":t=hie(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach((e=>{const[i,n]=e;t=die(t,i,n,i,n)}));break;case"Point":{const[i,n]=e.coordinates;t=die(t,i,n,i,n);break}}return t}function xie(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach((e=>{const n=xie(e);if(null==n)return;const o=hie(n[0],void 0);if(null==o)return;const a=Math.abs(o.lat1-o.lat0)*Math.abs(o.lon1-o.lon0);(null==t||a>t)&&(t=a,i=n)})),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach((e=>{const n=hie(e[0],void 0);if(null==n)return;const o=Math.abs(n.lat1-n.lat0)*Math.abs(n.lon1-n.lon0);(null==t||o>t)&&(t=o,i=e)})),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function Sie(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach((e=>{const n=Sie(e);if(null==n)return;const o=sie(n);null!=o&&(null==t||o>t)&&(t=o,i=n)})),i}case"MultiLineString":{let t,i=0;return e.coordinates.forEach((e=>{const n=sie(e);n>i&&(i=n,t=e)})),t}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function Mie(e,t){if(null==e)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some((e=>Mie(e,t)));case"MultiPolygon":case"Polygon":return 0!==(1&t);case"MultiLineString":case"LineString":return 0!==(2&t);case"MultiPoint":case"Point":return 0!==(4&t)}}function Aie(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map((e=>Aie(e,t)))};case"Polygon":return{type:"Polygon",coordinates:wie(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:kie(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:wie(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:Cie(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:Cie(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function kie(e,t){return e.map((e=>wie(e,t)))}function wie(e,t){return e.map((e=>Cie(e,t)))}function Cie(e,t){return e.map((e=>t.convert(e)))}function Iie(e){return Array.isArray(e)&&e.length>=2&&e.every(MW.isFiniteNumber)}function Die(e){return Array.isArray(e)&&e.length>=2&&e.every(Iie)}GW([yie()],vie.prototype,"projectedGeometry",2),GW([yie()],vie.prototype,"renderMode",2);function Nie(e){return Math.abs(e[0][0]-e[e.length-1][0])<.001&&Math.abs(e[0][1]-e[e.length-1][1])<.001}function Eie(e){return Array.isArray(e)&&e.every(Die)&&e.every(Nie)}function Oie(e){if(null===e)return!0;if("object"!==typeof e||null==e.type)return!1;const{type:t,coordinates:i}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(Oie);case"MultiPolygon":return Array.isArray(i)&&i.every(Eie);case"Polygon":return Eie(i);case"MultiLineString":return Array.isArray(i)&&i.every(Die);case"LineString":case"MultiPoint":return Die(i);case"Point":return Iie(i)}}function Lie(e){return null!==e&&"object"===typeof e&&"Feature"===e.type&&Oie(e.geometry)}var Tie=MW.predicateWithMessage((function(e){return null!==e&&"object"===typeof e&&"FeatureCollection"===e.type&&Array.isArray(e.features)&&e.features.every(Lie)}),"a GeoJSON object"),{COLOR_STRING:Rie,LINE_DASH:Pie,OBJECT:zie,POSITIVE_NUMBER:jie,RATIO:Bie,Validate:$ie,SeriesProperties:Fie,SeriesTooltip:_ie}=MW,Hie=class extends Fie{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new _ie}};GW([$ie(Tie,{optional:!0})],Hie.prototype,"topology",2),GW([$ie(Rie)],Hie.prototype,"stroke",2),GW([$ie(Bie)],Hie.prototype,"strokeOpacity",2),GW([$ie(jie)],Hie.prototype,"strokeWidth",2),GW([$ie(Pie)],Hie.prototype,"lineDash",2),GW([$ie(jie)],Hie.prototype,"lineDashOffset",2),GW([$ie(zie)],Hie.prototype,"tooltip",2);var{createDatumId:Wie,DataModelSeries:Gie,SeriesNodePickMode:Vie,Validate:Uie}=MW,{Group:Kie,Selection:Yie,PointerEvents:Xie}=rW,{Logger:Zie}=SW,qie=class extends Gie{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[Vie.EXACT_SHAPE_MATCH]}),this.properties=new Hie,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Kie({name:"itemGroup"})),this.datumSelection=Yie.select(this.itemGroup,(()=>this.nodeFactory()))}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}nodeFactory(){const e=new vie;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=Xie.None,e}async processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce(((e,t)=>{const i=t.geometry;return null==i?e:bie(i,e)}),void 0),null==e&&Zie.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}async createNodeData(){const{id:e,topology:t,scale:i}=this;if(null==t)return;const n=[];return t.features.forEach(((e,t)=>{const{geometry:o}=e,a=null!=o&&null!=i?Aie(o,i):void 0;null!=a&&n.push({series:this,itemId:t,datum:e,index:t,projectedGeometry:a})})),{itemId:e,nodeData:n,labelData:[]}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){const{datumSelection:e}=this;await this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=await this.updateDatumSelection({nodeData:t,datumSelection:e}),await this.updateDatumNodes({datumSelection:e})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>Wie(e.index)))}async updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{stroke:n,strokeOpacity:o,lineDash:a,lineDashOffset:r}=t,s=this.getStrokeWidth(t.strokeWidth);i.each(((e,t)=>{const{projectedGeometry:i}=t;if(null==i)return e.visible=!1,void(e.projectedGeometry=void 0);e.visible=!0,e.projectedGeometry=i,e.stroke=n,e.strokeWidth=s,e.strokeOpacity=o,e.lineDash=a,e.lineDashOffset=r}))}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return MW.EMPTY_TOOLTIP_CONTENT}computeFocusBounds(e){}};qie.className="MapLineBackgroundSeries",qie.type="map-line-background",GW([Uie(Tie,{optional:!0,property:"topology"})],qie.prototype,"_chartTopology",2);var{DEFAULT_HIERARCHY_STROKES:Qie}=vW,Jie={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:e=>new qie(e),tooltipDefaults:{range:"exact"},themeTemplate:{...oie,series:{strokeWidth:1,lineDash:[0],lineDashOffset:0}},paletteFactory:e=>{let{themeTemplateParameters:t}=e;return{stroke:t.get(Qie)?.[1]}}};function ene(e,t){const i=e.contextNodeData?.nodeData[t.datumIndex];if(void 0!==i)for(const n of e.datumSelection.nodes())if(n.datum===i)return n}var{AND:tne,ARRAY:ine,COLOR_STRING:nne,COLOR_STRING_ARRAY:one,FUNCTION:ane,LINE_DASH:rne,NUMBER_ARRAY:sne,OBJECT:lne,POSITIVE_NUMBER:cne,RATIO:dne,STRING:une,Validate:hne,SeriesProperties:pne,SeriesTooltip:gne}=MW,{Label:fne}=rW,mne=class extends pne{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new fne,this.tooltip=new gne}};GW([hne(Tie,{optional:!0})],mne.prototype,"topology",2),GW([hne(une,{optional:!0})],mne.prototype,"title",2),GW([hne(une,{optional:!0})],mne.prototype,"legendItemName",2),GW([hne(une)],mne.prototype,"idKey",2),GW([hne(une)],mne.prototype,"topologyIdKey",2),GW([hne(une,{optional:!0})],mne.prototype,"idName",2),GW([hne(une,{optional:!0})],mne.prototype,"labelKey",2),GW([hne(une,{optional:!0})],mne.prototype,"labelName",2),GW([hne(une,{optional:!0})],mne.prototype,"sizeKey",2),GW([hne(une,{optional:!0})],mne.prototype,"sizeName",2),GW([hne(une,{optional:!0})],mne.prototype,"colorKey",2),GW([hne(une,{optional:!0})],mne.prototype,"colorName",2),GW([hne(sne,{optional:!0})],mne.prototype,"sizeDomain",2),GW([hne(tne(one,ine.restrict({minLength:1})),{optional:!0})],mne.prototype,"colorRange",2),GW([hne(cne,{optional:!0})],mne.prototype,"maxStrokeWidth",2),GW([hne(nne)],mne.prototype,"stroke",2),GW([hne(dne)],mne.prototype,"strokeOpacity",2),GW([hne(cne)],mne.prototype,"strokeWidth",2),GW([hne(rne)],mne.prototype,"lineDash",2),GW([hne(cne)],mne.prototype,"lineDashOffset",2),GW([hne(ane,{optional:!0})],mne.prototype,"itemStyler",2),GW([hne(lne)],mne.prototype,"label",2),GW([hne(lne)],mne.prototype,"tooltip",2);var{getMissCount:yne,createDatumId:vne,DataModelSeries:bne,SeriesNodePickMode:xne,valueProperty:Sne,CachedTextMeasurerPool:Mne,Validate:Ane}=MW,{ColorScale:kne,LinearScale:wne}=xW,{Selection:Cne,Text:Ine}=rW,{sanitizeHtml:Dne,Logger:Nne}=SW,Ene=class extends bne{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[xne.EXACT_SHAPE_MATCH,xne.NEAREST_NODE]}),this.properties=new mne,this._chartTopology=void 0,this.colorScale=new kne,this.sizeScale=new wne,this.datumSelection=Cne.select(this.contentGroup,(()=>this.nodeFactory())),this.labelSelection=Cne.select(this.labelGroup,Ine),this.highlightDatumSelection=Cne.select(this.highlightNode,(()=>this.nodeFactory())),this._previousDatumMidPoint=void 0}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&null!=this.topology}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(e=>{this.onLegendItemClick(e)})),this.ctx.chartEventManager.addListener("legend-item-double-click",(e=>{this.onLegendItemDoubleClick(e)})))}isLabelEnabled(){return null!=this.properties.labelKey&&this.properties.label.enabled}nodeFactory(){const e=new vie;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,topology:i,sizeScale:n,colorScale:o}=this,{topologyIdKey:a,idKey:r,sizeKey:s,colorKey:l,labelKey:c,sizeDomain:d,colorRange:u}=this.properties,h=new Map;i?.features.forEach((e=>{const t=e.properties?.[a];null!=t&&Mie(e.geometry,2)&&h.set(t,e)}));const p=this.sizeScale.type,g=this.colorScale.type,f=this.scale?.type,{dataModel:m,processedData:y}=await this.requestDataModel(e,t,{props:[Sne(r,f,{id:"idValue",includeProperty:!1}),Sne(r,f,{id:"featureValue",includeProperty:!1,processor:()=>e=>h.get(e)}),...null!=c?[Sne(c,"band",{id:"labelValue"})]:[],...null!=s?[Sne(s,p,{id:"sizeValue"})]:[],...null!=l?[Sne(l,g,{id:"colorValue"})]:[]]}),v=m.resolveProcessedDataIndexById(this,"featureValue");if(this.topologyBounds=y.data.reduce(((e,t)=>{let{values:i}=t;const n=i[v],o=n?.geometry;return null==o?e:bie(o,e)}),void 0),null!=s){const e=m.resolveProcessedDataIndexById(this,"sizeValue"),t=y.domain.values[e]??[];n.domain=d??t}if(null!=u&&this.isColorScaleValid()){const e=m.resolveProcessedDataIndexById(this,"colorValue");o.domain=y.domain.values[e],o.range=u,o.update()}null==i&&Nne.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.data.length,a=yne(this,i.defs.values[n].missing);return!(0===o||o===a)}getLabelDatum(e,t,i,n){if(null==t||null==i)return;const o=Sie(i);if(null==o)return;const{idKey:a,idName:r,sizeKey:s,sizeName:l,colorKey:c,colorName:d,labelKey:u,labelName:h,label:p}=this.properties,g=this.getLabelText(p,{value:t,datum:e,idKey:a,idName:r,sizeKey:s,sizeName:l,colorKey:c,colorName:d,labelKey:u,labelName:h});if(null==g)return;const f=Mne.measureText(String(g),{font:n}),m=lie(o);if(null==m)return;const[y,v]=m.point,{width:b,height:x}=f;return{point:{x:y,y:v,size:0},label:{width:b,height:x,text:g},marker:void 0,placement:void 0}}async createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:n,colorScale:o,properties:a,scale:r}=this,{idKey:s,sizeKey:l,colorKey:c,labelKey:d,label:u}=a;if(null==t||null==i)return;const h=this.isColorScaleValid(),p=t.resolveProcessedDataIndexById(this,"idValue"),g=t.resolveProcessedDataIndexById(this,"featureValue"),f=null!=d?t.resolveProcessedDataIndexById(this,"labelValue"):void 0,m=null!=l?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,y=null!=c?t.resolveProcessedDataIndexById(this,"colorValue"):void 0,v=a.maxStrokeWidth??a.strokeWidth;n.range=[Math.min(a.strokeWidth,v),v];const b=u.getFont(),x=new Map;i.data.forEach((e=>{let{values:t}=e;const i=t[p],n=t[g]?.geometry,o=null!=n&&null!=r?Aie(n,r):void 0;null!=i&&null!=o&&x.set(i,o)}));const S=[],M=[],A=[];i.data.forEach((e=>{let{datum:t,values:i}=e;const a=i[p],r=null!=y?i[y]:void 0,l=null!=m?i[m]:void 0,c=null!=f?i[f]:void 0,d=h&&null!=r?o.convert(r):void 0,u=null!=l?n.convert(l,{clampMode:"clamped"}):void 0,g=x.get(a);null==g&&A.push(a);const v=this.getLabelDatum(t,c,g,b);null!=v&&M.push(v),S.push({series:this,itemId:s,datum:t,stroke:d,strokeWidth:u,idValue:a,labelValue:c,colorValue:r,sizeValue:l,projectedGeometry:g})}));if(A.length>10){const e=A.length-10;A.length=10,A.push(`(+${e} more)`)}return A.length>0&&Nne.warnOnce("some data items do not have matches in the provided topology",A),{itemId:e,nodeData:S,labelData:M}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=this.ctx.highlightManager?.getActiveHighlight();null==n||n.series===this&&null!=n.datum||(n=void 0);const o=this.contextNodeData?.nodeData??[];this.datumSelection=await this.updateDatumSelection({nodeData:o,datumSelection:e}),await this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=await this.updateLabelSelection({labelSelection:t}),await this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=await this.updateDatumSelection({nodeData:null!=n?[n]:[],datumSelection:i}),await this.updateDatumNodes({datumSelection:i,isHighlight:!0})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>vne(e.idValue)))}async updateDatumNodes(e){const{id:t,properties:i,ctx:{callbackCache:n}}=this,{datumSelection:o,isHighlight:a}=e,{idKey:r,labelKey:s,sizeKey:l,colorKey:c,stroke:d,strokeOpacity:u,lineDash:h,lineDashOffset:p,itemStyler:g}=i,f=a?i.highlightStyle.item:void 0,m=this.getStrokeWidth(i.strokeWidth);o.each(((e,i)=>{const{projectedGeometry:o}=i;if(null==o)return e.visible=!1,void(e.projectedGeometry=void 0);let y;null!=g&&(y=n.call(g,{seriesId:t,datum:i.datum,idKey:r,labelKey:s,sizeKey:l,colorKey:c,strokeOpacity:u,stroke:d,strokeWidth:m,lineDash:h,lineDashOffset:p,highlighted:a})),e.visible=!0,e.projectedGeometry=o,e.stroke=f?.stroke??y?.stroke??i.stroke??d,e.strokeWidth=Math.max(f?.strokeWidth??0,y?.strokeWidth??i.strokeWidth??m),e.strokeOpacity=f?.strokeOpacity??y?.strokeOpacity??u,e.lineDash=f?.lineDash??y?.lineDash??h,e.lineDashOffset=f?.lineDashOffset??y?.lineDashOffset??p}))}async updateLabelSelection(e){const t=(this.isLabelEnabled()?this.chart?.placeLabels().get(this):void 0)??[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:r}=this.properties.label;t.each(((e,t)=>{let{x:s,y:l,width:c,height:d,text:u}=t;e.visible=!0,e.x=s+c/2,e.y=l+d/2,e.text=u,e.fill=i,e.fontStyle=n,e.fontWeight=o,e.fontSize=a,e.fontFamily=r,e.textAlign="center",e.textBaseline="middle"}))}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:o}=e,a=null!=t&&t===e.legendItemName;(o.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,{legendItemName:a}=this.properties,r=null!=a&&a===e.legendItemName;n.id===this.id||r||t&&1===o?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return this.contextNodeData?.labelData??[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(e){let t,{x:i,y:n}=e,o=1/0;return this.datumSelection.each(((e,a)=>{const r=e.distanceSquared(i,n);r<o&&(o=r,t=a)})),null!=t?{datum:t,distance:Math.sqrt(o)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,n=null!=i?Sie(i):void 0,o=null!=n?lie(n)?.point:void 0,a=null!=o?{x:o[0],y:o[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}getLegendData(e){const{processedData:t,dataModel:i}=this;if(null==t||null==i)return[];const{title:n,legendItemName:o,idKey:a,idName:r,colorKey:s,colorName:l,colorRange:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,visible:g}=this.properties;if("gradient"===e&&null!=s&&null!=c){const e=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:g,seriesId:this.id,colorName:l,colorRange:c,colorDomain:e}]}if("category"===e){return[{legendType:"category",id:this.id,itemId:o??n??r??a,seriesId:this.id,enabled:g,label:{text:o??n??r??a},symbols:[{marker:{fill:d,fillOpacity:h,stroke:void 0,strokeWidth:0,strokeOpacity:0,enabled:!1},line:{stroke:d,strokeOpacity:h,strokeWidth:u,lineDash:p}}],legendItemName:o}]}return[]}getTooltipHtml(e){const{id:t,processedData:i,properties:n,ctx:{callbackCache:o}}=this;if(!i||!n.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const{legendItemName:a,idKey:r,idName:s,colorKey:l,colorName:c,sizeKey:d,sizeName:u,labelKey:h,labelName:p,itemStyler:g,tooltip:f,strokeOpacity:m,lineDash:y,lineDashOffset:v}=n,{datum:b,stroke:x,idValue:S,colorValue:M,sizeValue:A,labelValue:k,itemId:w}=e,C=Dne(n.title??a)??"",I=[];I.push(Dne((null!=s?`${s}: `:"")+S)),null!=M&&I.push(Dne((c??l)+": "+M)),null!=A&&I.push(Dne((u??d)+": "+A)),null!=k&&h!==r&&I.push(Dne((p??h)+": "+k));const D=I.join("<br>");let N;g&&(N=o.call(g,{highlighted:!1,seriesId:t,datum:b,idKey:r,sizeKey:d,colorKey:l,labelKey:h,stroke:x,strokeWidth:this.getStrokeWidth(e.strokeWidth??n.strokeWidth),strokeOpacity:m,lineDash:y,lineDashOffset:v}));const E=N?.stroke??x??n.stroke;return f.toTooltipHtml({title:C,content:D,backgroundColor:E},{seriesId:t,datum:b,idKey:r,title:C,color:E,itemId:w,sizeKey:d,colorKey:l,colorName:c,idName:s,labelKey:h,labelName:p,sizeName:u,...this.getModuleTooltipParams()})}computeFocusBounds(e){const t=ene(this,e);return t?rW.Transformable.toCanvas(t):void 0}};Ene.className="MapLineSeries",Ene.type="map-line",GW([Ane(Tie,{optional:!0,property:"topology"})],Ene.prototype,"_chartTopology",2);var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:One,DEFAULT_FONT_FAMILY:Lne,DEFAULT_LABEL_COLOUR:Tne,singleSeriesPaletteFactory:Rne}=vW,Pne={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:e=>new Ene(e),tooltipDefaults:{range:"exact"},themeTemplate:{...oie,series:{strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Lne,color:Tne}}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:o}=e,{fill:a}=Rne(e),r=o.get(One),{fills:s}=t(i);return{colorRange:"inbuilt"===n?r:[s[0],s[1]],stroke:a}}};function zne(e,t,i){const n=hie(e[0],void 0);if(null==n)return;const o=(n.lon0+n.lon1)/2,a=(n.lat0+n.lat1)/2,r=Math.abs(n.lon1-n.lon0),s=Math.abs(n.lat1-n.lat0),l=function(e){if(0===e.length)return;let t=0,i=0,n=0,[o,a]=e[e.length-1];for(const[r,s]of e){const e=o*s-r*a;n+=e,t+=(o+r)*e,i+=(a+s)*e,o=r,a=s}return n*=3,[t/n,i/n]}(e[0]),[c,d]=l,u=-pie(e,c,d);let h;const p=(e,t)=>e-.5*Math.max(t-u,0),g=(t,n,o)=>{const{distance:a,maxDistance:r}=i(e,t,n,o),s=Math.hypot(c-t,d-n),l=Math.min(Math.max(c,t-o/2),t+o/2),u=Math.min(Math.max(d,n-o/2),n+o/2),h=Math.hypot(c-l,d-u);return{distance:a,maxDistance:r,value:p(a,s),maxValue:p(r,h),x:t,y:n,stride:o}},f=(e,t,i,n)=>{const o=g(t,i,n);o.maxDistance>=0&&e.push(o)},m=Math.min(r,s)/2;let y={value:g(o,a,m),next:null};for(;null!=y;){const e=y.value,{distance:i,value:n,maxValue:o,x:a,y:r,stride:s}=e;if(y=y.next,i>0&&(null==h||n>h.value)&&(h=e),null!=h&&o-h.value<=t)continue;const l=s/2,c=[];f(c,a-l,r-l,l),f(c,a+l,r-l,l),f(c,a-l,r+l,l),f(c,a+l,r+l,l),c.sort(jne),y=uie(y,c,jne)}if(null==h)return;const{distance:v,x:b,y:x}=h;return{x:b,y:x,distance:v}}var jne=(e,t)=>t.maxValue-e.maxValue;function Bne(e,t){const i=zne(e,t,((e,t,i,n)=>{const o=-pie(e,t,i);return{distance:o,maxDistance:o+n*Math.SQRT2}}));if(null==i)return;const{x:n,y:o}=i;return[n,o]}function $ne(e,t){let i;switch(e.type){case"GeometryCollection":return e.geometries.flatMap((e=>$ne(e,t)));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const n=xie(e);i=null!=n?Bne(n,t):void 0;break}case"Polygon":{const n=e.coordinates;i=null!=n?Bne(n,t):void 0;break}case"MultiLineString":{const t=Sie(e);i=null!=t?lie(t)?.point:void 0;break}case"LineString":{const t=e.coordinates;i=lie(t)?.point;break}}return null!=i?[i]:[]}var{AND:Fne,ARRAY:_ne,COLOR_STRING:Hne,COLOR_STRING_ARRAY:Wne,FUNCTION:Gne,NUMBER_ARRAY:Vne,OBJECT:Une,POSITIVE_NUMBER:Kne,RATIO:Yne,STRING:Xne,MARKER_SHAPE:Zne,Validate:qne,SeriesProperties:Qne,SeriesTooltip:Jne}=MW,{Label:eoe,Circle:toe}=rW,{Logger:ioe}=SW,noe=class extends eoe{constructor(){super(...arguments),this.placement="bottom"}};GW([qne(Xne)],noe.prototype,"placement",2);var ooe=class extends Qne{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape=toe,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.label=new noe,this.tooltip=new Jne}isValid(){const e=super.isValid(),t=null!=this.idKey,i=null!=this.latitudeKey&&null!=this.longitudeKey;return t||i?e:(ioe.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1)}};GW([qne(Tie,{optional:!0})],ooe.prototype,"topology",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"title",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"legendItemName",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"idKey",2),GW([qne(Xne)],ooe.prototype,"topologyIdKey",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"idName",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"latitudeKey",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"latitudeName",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"longitudeKey",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"longitudeName",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"labelKey",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"labelName",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"sizeKey",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"sizeName",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"colorKey",2),GW([qne(Xne,{optional:!0})],ooe.prototype,"colorName",2),GW([qne(Fne(Wne,_ne.restrict({minLength:1})),{optional:!0})],ooe.prototype,"colorRange",2),GW([qne(Zne)],ooe.prototype,"shape",2),GW([qne(Kne)],ooe.prototype,"size",2),GW([qne(Kne,{optional:!0})],ooe.prototype,"maxSize",2),GW([qne(Vne,{optional:!0})],ooe.prototype,"sizeDomain",2),GW([qne(Hne,{optional:!0})],ooe.prototype,"fill",2),GW([qne(Yne)],ooe.prototype,"fillOpacity",2),GW([qne(Hne,{optional:!0})],ooe.prototype,"stroke",2),GW([qne(Kne)],ooe.prototype,"strokeWidth",2),GW([qne(Yne)],ooe.prototype,"strokeOpacity",2),GW([qne(Gne,{optional:!0})],ooe.prototype,"itemStyler",2),GW([qne(Une)],ooe.prototype,"label",2),GW([qne(Une)],ooe.prototype,"tooltip",2);var{CachedTextMeasurerPool:aoe,Validate:roe,fromToMotion:soe,StateMachine:loe,getMissCount:coe,createDatumId:doe,DataModelSeries:uoe,SeriesNodePickMode:hoe,ZIndexMap:poe,valueProperty:goe,computeMarkerFocusBounds:foe}=MW,{ColorScale:moe,LinearScale:yoe}=xW,{Layer:voe,Selection:boe,Text:xoe,getMarker:Soe}=rW,{sanitizeHtml:Moe,Logger:Aoe}=SW,koe=class extends uoe{constructor(e){super({moduleCtx:e,contentGroupVirtual:!0,useLabelLayer:!0,pickModes:[hoe.EXACT_SHAPE_MATCH,hoe.NEAREST_NODE]}),this.properties=new ooe,this._chartTopology=void 0,this.colorScale=new moe,this.sizeScale=new yoe,this.markerGroup=this.contentGroup.appendChild(new voe({name:"markerGroup",zIndex:poe.SERIES_LAYER,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelSelection=boe.select(this.labelGroup,xoe,!1),this.markerSelection=boe.select(this.markerGroup,(()=>this.markerFactory()),!1),this.highlightMarkerSelection=boe.select(this.highlightNode,(()=>this.markerFactory())),this.animationState=new loe("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const e=null!=this.properties.latitudeKey&&null!=this.properties.longitudeKey;return super.hasData&&(null!=this.topology||e)}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(e=>{this.onLegendItemClick(e)})),this.ctx.chartEventManager.addListener("legend-item-double-click",(e=>{this.onLegendItemDoubleClick(e)})))}isLabelEnabled(){return null!=this.properties.labelKey&&this.properties.label.enabled}markerFactory(){const{shape:e}=this.properties;return new(Soe(e))}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,topology:i,sizeScale:n,colorScale:o}=this,{topologyIdKey:a,idKey:r,latitudeKey:s,longitudeKey:l,sizeKey:c,colorKey:d,labelKey:u,sizeDomain:h,colorRange:p}=this.properties,g=new Map;i?.features.forEach((e=>{const t=e.properties?.[a];null!=t&&g.set(t,e)}));const f=this.sizeScale.type,m=this.colorScale.type,y=this.scale?.type,v=null!=s&&null!=l,{dataModel:b,processedData:x}=await this.requestDataModel(e,t,{props:[...null!=r?[goe(r,y,{id:"idValue",includeProperty:!1}),goe(r,y,{id:"featureValue",includeProperty:!1,processor:()=>e=>g.get(e)})]:[],...v?[goe(s,y,{id:"latValue"}),goe(l,y,{id:"lonValue"})]:[],...u?[goe(u,"band",{id:"labelValue"})]:[],...c?[goe(c,f,{id:"sizeValue"})]:[],...d?[goe(d,m,{id:"colorValue"})]:[]]}),S=null!=r?b.resolveProcessedDataIndexById(this,"featureValue"):void 0,M=v?b.resolveProcessedDataIndexById(this,"latValue"):void 0,A=v?b.resolveProcessedDataIndexById(this,"lonValue"):void 0;if(this.topologyBounds=x.data.reduce(((e,t)=>{let{values:i}=t;const n=null!=S?i[S]:void 0,o=n?.geometry;if(null!=o&&(e=bie(o,e)),null!=M&&null!=A){const t=i[A],n=i[M];e=die(e,t,n,t,n)}return e}),void 0),null!=c){const e=b.resolveProcessedDataIndexById(this,"sizeValue"),t=x.domain.values[e]??[];n.domain=h??t}if(null!=p&&this.isColorScaleValid()){const e=b.resolveProcessedDataIndexById(this,"colorValue");o.domain=x.domain.values[e],o.range=p,o.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.data.length,a=coe(this,i.defs.values[n].missing);return!(0===o||o===a)}getLabelDatum(e,t,i,n,o,a){if(null==t)return;const{idKey:r,idName:s,latitudeKey:l,latitudeName:c,longitudeKey:d,longitudeName:u,sizeKey:h,sizeName:p,colorKey:g,colorName:f,labelKey:m,labelName:y,label:v}=this.properties,{placement:b}=v,x=this.getLabelText(v,{value:t,datum:e,idKey:r,idName:s,latitudeKey:l,latitudeName:c,longitudeKey:d,longitudeName:u,sizeKey:h,sizeName:p,colorKey:g,colorName:f,labelKey:m,labelName:y});if(null==x)return;const{width:S,height:M}=aoe.measureText(String(x),{font:a});return{point:{x:i,y:n,size:o},label:{width:S,height:M,text:x},marker:Soe(this.properties.shape),placement:b}}async createNodeData(){const{id:e,dataModel:t,processedData:i,colorScale:n,sizeScale:o,properties:a,scale:r}=this,{idKey:s,latitudeKey:l,longitudeKey:c,sizeKey:d,colorKey:u,labelKey:h,label:p}=a;if(null==t||null==i||null==r)return;const g=this.isColorScaleValid(),f=null!=l&&null!=c,m=null!=s?t.resolveProcessedDataIndexById(this,"idValue"):void 0,y=null!=s?t.resolveProcessedDataIndexById(this,"featureValue"):void 0,v=f?t.resolveProcessedDataIndexById(this,"latValue"):void 0,b=f?t.resolveProcessedDataIndexById(this,"lonValue"):void 0,x=null!=h?t.resolveProcessedDataIndexById(this,"labelValue"):void 0,S=null!=d?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,M=null!=u?t.resolveProcessedDataIndexById(this,"colorValue"):void 0,A=a.maxSize??a.size;o.range=[Math.min(a.size,A),A];const k=p.getFont();let w;null!=m&&null!=y&&(w=new Map,i.data.forEach((e=>{let{values:t}=e;const i=t[m],n=t[y]?.geometry,o=null!=n&&null!=r?Aie(n,r):void 0;null!=i&&null!=o&&w.set(i,o)})));const C=[],I=[],D=[];i.data.forEach((e=>{let{datum:t,values:i}=e;const s=null!=m?i[m]:void 0,c=null!=b?i[b]:void 0,d=null!=v?i[v]:void 0,u=null!=M?i[M]:void 0,h=null!=S?i[S]:void 0,p=null!=x?i[x]:void 0,f=g&&null!=u?n.convert(u):void 0,y=null!=h?o.convert(h,{clampMode:"clamped"}):a.size,A=null!=s?w?.get(s):void 0;if(null!=s&&null==Aie&&D.push(s),null!=c&&null!=d){const[e,i]=r.convert([c,d]),n=this.getLabelDatum(t,p,e,i,y,k);n&&I.push(n),C.push({series:this,itemId:l,datum:t,index:-1,fill:f,idValue:s,lonValue:c,latValue:d,labelValue:p,sizeValue:h,colorValue:u,point:{x:e,y:i,size:y},midPoint:{x:e,y:i}})}else null!=A&&$ne(A,1).forEach(((e,i)=>{let[n,o]=e;const a=this.getLabelDatum(t,p,n,o,y,k);a&&I.push(a),C.push({series:this,itemId:l,datum:t,index:i,fill:f,idValue:s,lonValue:c,latValue:d,labelValue:p,sizeValue:h,colorValue:u,point:{x:n,y:o,size:y},midPoint:{x:n,y:o}})}))}));if(D.length>10){const e=D.length-10;D.length=10,D.push(`(+${e} more)`)}return D.length>0&&Aoe.warnOnce("some data items do not have matches in the provided topology",D),{itemId:e,nodeData:C,labelData:I}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale!==this.scale&&(this.previousScale=this.scale,!0)}async update(e){let{seriesRect:t}=e;const i=this.checkResize(t),n=this.checkScaleChange(),{labelSelection:o,markerSelection:a,highlightMarkerSelection:r}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let s=this.ctx.highlightManager?.getActiveHighlight();null==s||s.series===this&&null!=s.datum||(s=void 0);const l=this.contextNodeData?.nodeData??[];this.labelSelection=await this.updateLabelSelection({labelSelection:o}),await this.updateLabelNodes({labelSelection:o}),this.markerSelection=await this.updateMarkerSelection({markerData:l,markerSelection:a}),await this.updateMarkerNodes({markerSelection:a,isHighlight:!1,highlightedDatum:s}),this.highlightMarkerSelection=await this.updateMarkerSelection({markerData:null!=s?[s]:[],markerSelection:r}),await this.updateMarkerNodes({markerSelection:r,isHighlight:!0,highlightedDatum:s}),(n||i)&&this.animationState.transition("resize"),this.animationState.transition("update")}async updateLabelSelection(e){const t=(this.isLabelEnabled()?this.chart?.placeLabels().get(this):void 0)??[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:r}=this.properties.label;t.each(((e,t)=>{let{x:s,y:l,width:c,height:d,text:u}=t;e.visible=!0,e.x=s+c/2,e.y=l+d/2,e.text=u,e.fill=i,e.fontStyle=n,e.fontWeight=o,e.fontSize=a,e.fontFamily=r,e.textAlign="center",e.textBaseline="middle"}))}async updateMarkerSelection(e){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,(e=>doe([e.index,e.idValue,e.lonValue,e.latValue])))}async updateMarkerNodes(e){const{properties:t}=this,{markerSelection:i,isHighlight:n,highlightedDatum:o}=e,{fill:a,fillOpacity:r,stroke:s,strokeOpacity:l}=t,c=n?t.highlightStyle.item:void 0,d=this.getStrokeWidth(t.strokeWidth);i.each(((e,t)=>{const{datum:i,point:u}=t,h=this.getMapMarkerStyle(t,n);e.size=h?.size??u.size,e.fill=c?.fill??h?.fill??t.fill??a,e.fillOpacity=c?.fillOpacity??h?.fillOpacity??r,e.stroke=c?.stroke??h?.stroke??s,e.strokeWidth=c?.strokeWidth??h?.strokeWidth??d,e.strokeOpacity=c?.strokeOpacity??h?.strokeOpacity??l,e.translationX=u.x,e.translationY=u.y,e.zIndex=n||null==o||i!==o.datum?0:1}))}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:o}=e,a=null!=t&&t===e.legendItemName;(o.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,{legendItemName:a}=this.properties,r=null!=a&&a===e.legendItemName;n.id===this.id||r||t&&1===o?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isProcessedDataAnimatable(){return!0}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t={fromFn:(e,t,i)=>"removed"===i?{scalingX:1,scalingY:1}:null==e.previousDatum?{scalingX:0,scalingY:0}:{scalingX:e.scalingX,scalingY:e.scalingY},toFn:(e,t,i)=>"removed"===i?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}};soe(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){return this.contextNodeData?.labelData??[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(e){const{x:t,y:i}=e;let n,o=1/0;return this.contextNodeData?.nodeData.forEach((e=>{const{x:a,y:r,size:s}=e.point,l=Math.max(Math.abs(a-t)-s,0),c=Math.max(Math.abs(r-i)-s,0),d=l*l+c*c;d<o&&(o=d,n=e)})),null!=n?{datum:n,distance:Math.sqrt(o)}:void 0}getLegendData(e){const{processedData:t,dataModel:i}=this;if(null==t||null==i)return[];const{title:n,legendItemName:o,idName:a,idKey:r,colorKey:s,colorName:l,colorRange:c,visible:d,shape:u,fill:h,stroke:p,fillOpacity:g,strokeOpacity:f,strokeWidth:m}=this.properties;if("gradient"===e&&null!=s&&null!=c){const e=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:d,seriesId:this.id,colorName:l,colorRange:c,colorDomain:e}]}if("category"===e){return[{legendType:"category",id:this.id,itemId:o??n??a??r??this.id,seriesId:this.id,enabled:d,label:{text:o??n??a??r??this.id},symbols:[{marker:{shape:u,fill:h,fillOpacity:g,stroke:p,strokeWidth:m,strokeOpacity:f}}],legendItemName:o}]}return[]}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:o}=this;if(!i||!this.properties.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const{legendItemName:a,idKey:r,idName:s,latitudeKey:l,longitudeKey:c,sizeKey:d,sizeName:u,colorKey:h,colorName:p,labelKey:g,labelName:f,itemStyler:m,tooltip:y,latitudeName:v,longitudeName:b,shape:x,size:S,fillOpacity:M,stroke:A,strokeWidth:k,strokeOpacity:w}=o,{datum:C,fill:I,idValue:D,latValue:N,lonValue:E,sizeValue:O,colorValue:L,labelValue:T,itemId:R}=e,P=Moe(o.title??a)??"",z=[];null!=D&&z.push(Moe((null!=s?`${s}: `:"")+D)),null!=L&&z.push(Moe((p??h)+": "+L)),null!=O&&z.push(Moe((u??d)+": "+O)),null==T||null!=r&&r===g||z.push(Moe((f??g)+": "+T)),null!=N&&null!=E&&z.push(Moe(`${Math.abs(N).toFixed(4)}\xb0 ${N>=0?"N":"S"}, ${Math.abs(E).toFixed(4)}\xb0 ${N>=0?"W":"E"}`));const j=z.join("<br>");let B;m&&(B=n.call(m,{highlighted:!1,seriesId:t,datum:C,idKey:r,sizeKey:d,colorKey:h,labelKey:g,latitudeKey:l,longitudeKey:c,shape:x,size:S,fill:I,fillOpacity:M,stroke:A,strokeWidth:k,strokeOpacity:w}));const $=B?.fill??I??o.fill;return y.toTooltipHtml({title:P,content:j,backgroundColor:$},{seriesId:t,datum:C,idKey:r,latitudeKey:l,longitudeKey:c,title:P,color:$,colorKey:h,colorName:p,idName:s,itemId:R,labelKey:g,labelName:f,latitudeName:v,longitudeName:b,sizeKey:d,sizeName:u,...this.getModuleTooltipParams()})}getMapMarkerStyle(e,t){const{id:i,properties:n,ctx:{callbackCache:o}}=this,{datum:a,point:r}=e,{idKey:s,latitudeKey:l,longitudeKey:c,labelKey:d,sizeKey:u,colorKey:h,fill:p,fillOpacity:g,stroke:f,strokeOpacity:m,shape:y,itemStyler:v}=n,b=this.getStrokeWidth(n.strokeWidth);if(void 0!==v)return o.call(v,{seriesId:i,datum:a,size:r.size,idKey:s,latitudeKey:l,longitudeKey:c,labelKey:d,sizeKey:u,colorKey:h,fill:p,fillOpacity:g,stroke:f,strokeWidth:b,strokeOpacity:m,shape:y,highlighted:t})}getFormattedMarkerStyle(e){const t=this.getMapMarkerStyle(e,!0);return{size:t?.size??e.point.size}}computeFocusBounds(e){return foe(this,e)}};koe.className="MapMarkerSeries",koe.type="map-marker",GW([roe(Tie,{optional:!0,property:"topology"})],koe.prototype,"_chartTopology",2);var{DEFAULT_LABEL_COLOUR:woe,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:Coe,singleSeriesPaletteFactory:Ioe}=vW,Doe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:e=>new koe(e),tooltipDefaults:{range:"exact"},themeTemplate:{...oie,series:{shape:"circle",maxSize:30,fillOpacity:.5,label:{color:woe}}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:o}=e,{fill:a,stroke:r}=Ioe(e),s=o.get(Coe),{fills:l}=t(i);return{fill:a,stroke:r,colorRange:"inbuilt"===n?s:[l[0],l[1]]}}},{COLOR_STRING:Noe,LINE_DASH:Eoe,OBJECT:Ooe,POSITIVE_NUMBER:Loe,RATIO:Toe,Validate:Roe,SeriesProperties:Poe,SeriesTooltip:zoe}=MW,joe=class extends Poe{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new zoe}};GW([Roe(Tie,{optional:!0})],joe.prototype,"topology",2),GW([Roe(Noe)],joe.prototype,"fill",2),GW([Roe(Toe)],joe.prototype,"fillOpacity",2),GW([Roe(Noe)],joe.prototype,"stroke",2),GW([Roe(Toe)],joe.prototype,"strokeOpacity",2),GW([Roe(Loe)],joe.prototype,"strokeWidth",2),GW([Roe(Eoe)],joe.prototype,"lineDash",2),GW([Roe(Loe)],joe.prototype,"lineDashOffset",2),GW([Roe(Ooe)],joe.prototype,"tooltip",2);var{createDatumId:Boe,Series:$oe,SeriesNodePickMode:Foe,Validate:_oe}=MW,{Selection:Hoe,Group:Woe,PointerEvents:Goe}=rW,{Logger:Voe}=SW,Uoe=class extends $oe{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[Foe.EXACT_SHAPE_MATCH]}),this.properties=new joe,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Woe({name:"itemGroup"})),this.datumSelection=Hoe.select(this.itemGroup,(()=>this.nodeFactory()))}get topology(){return this.properties.topology??this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}nodeFactory(){const e=new vie;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=Goe.None,e}async processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce(((e,t)=>{const i=t.geometry;return null==i?e:bie(i,e)}),void 0),null==e&&Voe.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}async createNodeData(){const{id:e,topology:t,scale:i}=this;if(null==t)return;const n=[];return t.features.forEach(((e,t)=>{const{geometry:o}=e,a=null!=o&&null!=i?Aie(o,i):void 0;null!=a&&n.push({series:this,itemId:t,datum:e,index:t,projectedGeometry:a})})),{itemId:e,nodeData:n,labelData:[]}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){const{datumSelection:e}=this;await this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=await this.updateDatumSelection({nodeData:t,datumSelection:e}),await this.updateDatumNodes({datumSelection:e})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>Boe(e.index)))}async updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{fill:n,fillOpacity:o,stroke:a,strokeOpacity:r,lineDash:s,lineDashOffset:l}=t,c=this.getStrokeWidth(t.strokeWidth);i.each(((e,t)=>{const{projectedGeometry:i}=t;if(null==i)return e.visible=!1,void(e.projectedGeometry=void 0);e.visible=!0,e.projectedGeometry=i,e.fill=n,e.fillOpacity=o,e.stroke=a,e.strokeWidth=c,e.strokeOpacity=r,e.lineDash=s,e.lineDashOffset=l}))}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return MW.EMPTY_TOOLTIP_CONTENT}pickFocus(e){}};Uoe.className="MapShapeBackgroundSeries",Uoe.type="map-shape-background",GW([_oe(Tie,{optional:!0,property:"topology"})],Uoe.prototype,"_chartTopology",2);var{DEFAULT_BACKGROUND_COLOUR:Koe,DEFAULT_HIERARCHY_FILLS:Yoe}=vW,Xoe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:e=>new Uoe(e),tooltipDefaults:{range:"exact"},themeTemplate:{...oie,series:{stroke:Koe,strokeWidth:1}},paletteFactory:e=>{let{themeTemplateParameters:t}=e;return{fill:t.get(Yoe)?.[1]}}};function Zoe(e,t){let{aspectRatio:i,precision:n}=t;const o=zne(e,n,((e,t,n,o)=>{const a=function(e,t,i,n){let o=!1,a=1/0;for(const r of e){let e=r[r.length-1],[s,l]=e;for(const c of r){const[r,d]=c;d>i!==l>i&&t<(s-r)*(i-d)/(l-d)+r&&(o=!o);const u=qoe(e,c,t,i,n);a=Math.min(a,u),e=c,s=r,l=d}}return(o?1:-1)*a}(e,t,n,i),r=a+2*o*i;return{distance:a*Math.SQRT2,maxDistance:r*Math.SQRT2}}));if(null==o)return;const{x:a,y:r,distance:s}=o;return{x:a,y:r,maxWidth:s/Math.SQRT2}}function qoe(e,t,i,n,o){const[a,r]=e,[s,l]=t,c=1/o,d=s-a,u=l-r,[h,p]=r<=l?e:t,[g,f]=a<=s?e:t,[m,y]=r<=l?t:e,[v,b]=a<=s?t:e;let x=1/0;if(0!==d){const e=u/d;for(let t=0;t<=1;t+=1){const o=0===t?c:-c,s=(e*a-r-o*i+n)/(e-o);if(s>=g&&s<=v){const e=2*Math.abs(i-s);x=Math.min(x,e)}}}else for(let C=0;C<=1;C+=1){const e=(0===C?c:-c)*(a-i)+n;if(e>=p&&e<=y){const t=2*Math.abs(n-e)*o;x=Math.min(x,t)}}const S=o,M=Math.abs((h-i)/(p-n)),A=Math.abs((m-i)/(y-n));if(y<n&&A<S){const e=2*Math.abs(n-y)*o;x=Math.min(x,e)}else if(p>n&&M<S){const e=2*Math.abs(n-p)*o;x=Math.min(x,e)}const k=Math.abs((f-n)/(g-i)),w=Math.abs((b-n)/(v-i));if(v<i&&w<c){const e=2*Math.abs(i-v);x=Math.min(x,e)}else if(g>i&&k<c){const e=2*Math.abs(i-g);x=Math.min(x,e)}return x}function Qoe(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function Joe(e,t,i,n,o,a){const r=o-a/2,s=o+a/2,[l,c]=t,[d,u]=i,h=d-l,p=u-c,[g,f]=l<=d?t:i,[m,y]=l<=d?i:t;if(0!==h){const t=p/h;for(let i=0;i<=1;i+=1){const o=((0===i?r:s)-c)/t+l;o>=g&&o<=m&&Qoe(e,n,o)}}else Math.max(r,Math.min(c,u))<=Math.min(s,Math.max(c,u))&&Qoe(e,n,l);return m<n&&y>=r&&y<=s?Qoe(e,n,m):g>n&&f>=r&&f<=s&&Qoe(e,n,g),e}var{AND:eae,ARRAY:tae,COLOR_STRING:iae,COLOR_STRING_ARRAY:nae,FUNCTION:oae,LINE_DASH:aae,OBJECT:rae,POSITIVE_NUMBER:sae,RATIO:lae,STRING:cae,Validate:dae,SeriesProperties:uae,SeriesTooltip:hae}=MW,pae=class extends uae{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new j7,this.tooltip=new hae}};GW([dae(Tie,{optional:!0})],pae.prototype,"topology",2),GW([dae(cae,{optional:!0})],pae.prototype,"title",2),GW([dae(cae,{optional:!0})],pae.prototype,"legendItemName",2),GW([dae(cae)],pae.prototype,"idKey",2),GW([dae(cae,{optional:!0})],pae.prototype,"idName",2),GW([dae(cae)],pae.prototype,"topologyIdKey",2),GW([dae(cae,{optional:!0})],pae.prototype,"labelKey",2),GW([dae(cae,{optional:!0})],pae.prototype,"labelName",2),GW([dae(cae,{optional:!0})],pae.prototype,"colorKey",2),GW([dae(cae,{optional:!0})],pae.prototype,"colorName",2),GW([dae(eae(nae,tae.restrict({minLength:1})),{optional:!0})],pae.prototype,"colorRange",2),GW([dae(iae)],pae.prototype,"fill",2),GW([dae(lae)],pae.prototype,"fillOpacity",2),GW([dae(iae)],pae.prototype,"stroke",2),GW([dae(lae)],pae.prototype,"strokeOpacity",2),GW([dae(sae)],pae.prototype,"strokeWidth",2),GW([dae(aae)],pae.prototype,"lineDash",2),GW([dae(sae)],pae.prototype,"lineDashOffset",2),GW([dae(sae)],pae.prototype,"padding",2),GW([dae(oae,{optional:!0})],pae.prototype,"itemStyler",2),GW([dae(rae)],pae.prototype,"label",2),GW([dae(rae)],pae.prototype,"tooltip",2);var{getMissCount:gae,createDatumId:fae,DataModelSeries:mae,SeriesNodePickMode:yae,valueProperty:vae,Validate:bae,CachedTextMeasurerPool:xae,TextUtils:Sae}=MW,{ColorScale:Mae}=xW,{Group:Aae,Selection:kae,Text:wae,PointerEvents:Cae}=rW,{sanitizeHtml:Iae,Logger:Dae}=SW,Nae=MW.MercatorScale.fixedScale(),Eae=class extends mae{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[yae.EXACT_SHAPE_MATCH,yae.NEAREST_NODE]}),this.properties=new pae,this._chartTopology=void 0,this.colorScale=new Mae,this.itemGroup=this.contentGroup.appendChild(new Aae({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Aae({name:"itemLabelGroup"})),this.datumSelection=kae.select(this.itemGroup,(()=>this.nodeFactory())),this.labelSelection=kae.select(this.itemLabelGroup,wae),this.highlightDatumSelection=kae.select(this.highlightNode,(()=>this.nodeFactory())),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=Cae.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&null!=this.topology}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(e=>{this.onLegendItemClick(e)})),this.ctx.chartEventManager.addListener("legend-item-double-click",(e=>{this.onLegendItemDoubleClick(e)})))}isLabelEnabled(){return null!=this.properties.labelKey&&this.properties.label.enabled}nodeFactory(){const e=new vie;return e.renderMode=1,e.lineJoin="round",e}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,topology:i,colorScale:n}=this,{topologyIdKey:o,idKey:a,colorKey:r,labelKey:s,colorRange:l}=this.properties,c=new Map;i?.features.forEach((e=>{const t=e.properties?.[o];null!=t&&Mie(e.geometry,1)&&c.set(t,e)}));const d=this.colorScale.type,u=this.scale?.type,{dataModel:h,processedData:p}=await this.requestDataModel(e,t,{props:[vae(a,u,{id:"idValue",includeProperty:!1}),vae(a,u,{id:"featureValue",includeProperty:!1,processor:()=>e=>c.get(e)}),...s?[vae(s,"band",{id:"labelValue"})]:[],...r?[vae(r,d,{id:"colorValue"})]:[]]}),g=h.resolveProcessedDataIndexById(this,"featureValue");if(this.topologyBounds=p.data.reduce(((e,t)=>{let{values:i}=t;const n=i[g],o=n?.geometry;return null==o?e:bie(o,e)}),void 0),null!=l&&this.isColorScaleValid()){const e=h.resolveProcessedDataIndexById(this,"colorValue");n.domain=p.domain.values[e],n.range=l,n.update()}null==i&&Dae.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),o=i.data.length,a=gae(this,i.defs.values[n].missing);return!(0===o||o===a)}getLabelLayout(e,t,i,n,o){if(null==t||null==n)return;const{idKey:a,idName:r,colorKey:s,colorName:l,labelKey:c,labelName:d,padding:u,label:h}=this.properties,p=this.getLabelText(h,{value:t,datum:e,idKey:a,idName:r,colorKey:s,colorName:l,labelKey:c,labelName:d});if(null==p)return;const g=xae.measureText(String(p),{font:i}),f=p.split("\n").length,m=(g.width+2*u)/(f*Sae.getLineHeight(h.fontSize)+2*u);if(o?.geometry===n&&o?.labelText===p&&o?.aspectRatio===m)return o;const y=xie(Aie(n,Nae));if(null==y)return;const v=Zoe(y,{aspectRatio:m,precision:.001});if(null==v)return;const{x:b,y:x,maxWidth:S}=v;return{geometry:n,labelText:p,aspectRatio:m,x:b,y:x,maxWidth:S,fixedPolygon:y}}getLabelDatum(e,t){const{scale:i}=this;if(null==i)return;const{padding:n,label:o}=this.properties,{labelText:a,aspectRatio:r,x:s,y:l,maxWidth:c,fixedPolygon:d}=e,u={width:Math.ceil(c*t),height:Math.ceil(c*t/r),meta:s},h=C7(a,o,{padding:n},((e,i)=>{if(!i)return u;const n=function(e,t,i,n){const o={minX:-1/0,maxX:1/0};for(const s of e){let e=s[s.length-1];for(const a of s)Joe(o,e,a,t,i,n),e=a}const{minX:a,maxX:r}=o;return Number.isFinite(a)&&Number.isFinite(r)?{x:t+(a+r)/2,width:r-a}:{x:t,width:0}}(d,s,l,e/t);return{width:n.width*t,height:e,meta:n.x}}));if(null==h)return;const[{text:p,fontSize:g,lineHeight:f,width:m},y]=h;if(p===Sae.EllipsisChar)return;const v=m<u.width?s:y,b=this.scale.convert(Nae.invert([v,l]));return{x:b[0],y:b[1],text:p,fontSize:g,lineHeight:f}}async createNodeData(){const{id:e,dataModel:t,processedData:i,colorScale:n,properties:o,scale:a,previousLabelLayouts:r}=this,{idKey:s,colorKey:l,labelKey:c,label:d,fill:u}=o;if(null==t||null==i)return;const h=null!=a?(a.range[1][0]-a.range[0][0])/a.bounds.width:NaN,p=this.isColorScaleValid(),g=t.resolveProcessedDataIndexById(this,"idValue"),f=t.resolveProcessedDataIndexById(this,"featureValue"),m=null!=c?t.resolveProcessedDataIndexById(this,"labelValue"):void 0,y=null!=l?t.resolveProcessedDataIndexById(this,"colorValue"):void 0,v=d.getFont(),b=new Map;this.previousLabelLayouts=b;const x=[],S=[],M=[];i.data.forEach((e=>{let{datum:t,values:i}=e;const o=i[g],l=null!=y?i[y]:void 0,c=null!=m?i[m]:void 0,d=i[f]?.geometry;null==d&&M.push(o);const A=p&&null!=l?n.convert(l):void 0,k=this.getLabelLayout(t,c,v,d,r?.get(o));null!=k&&b.set(o,k);const w=null!=k&&null!=a?this.getLabelDatum(k,h):void 0;null!=w&&S.push(w);const C=null!=d&&null!=a?Aie(d,a):void 0;x.push({series:this,itemId:s,datum:t,idValue:o,colorValue:l,labelValue:c,fill:A??u,projectedGeometry:C})}));if(M.length>10){const e=M.length-10;M.length=10,M.push(`(+${e} more)`)}return M.length>0&&Dae.warnOnce("some data items do not have matches in the provided topology",M),{itemId:e,nodeData:x,labelData:S}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=this.ctx.highlightManager?.getActiveHighlight();null==n||n.series===this&&null!=n.datum||(n=void 0);const o=this.contextNodeData?.nodeData??[],a=this.contextNodeData?.labelData??[];this.datumSelection=await this.updateDatumSelection({nodeData:o,datumSelection:e}),await this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=await this.updateLabelSelection({labelData:a,labelSelection:t}),await this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=await this.updateDatumSelection({nodeData:null!=n?[n]:[],datumSelection:i}),await this.updateDatumNodes({datumSelection:i,isHighlight:!0})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>fae(e.idValue)))}async updateDatumNodes(e){const{id:t,properties:i,ctx:{callbackCache:n}}=this,{datumSelection:o,isHighlight:a}=e,{idKey:r,colorKey:s,labelKey:l,fillOpacity:c,stroke:d,strokeOpacity:u,lineDash:h,lineDashOffset:p,itemStyler:g}=i,f=a?i.highlightStyle.item:void 0,m=this.getStrokeWidth(i.strokeWidth);o.each(((e,i)=>{const{projectedGeometry:o}=i;if(null==o)return e.visible=!1,void(e.projectedGeometry=void 0);let y;null!=g&&(y=n.call(g,{seriesId:t,datum:i.datum,idKey:r,colorKey:s,labelKey:l,fill:i.fill,fillOpacity:c,strokeOpacity:u,stroke:d,strokeWidth:m,lineDash:h,lineDashOffset:p,highlighted:a})),e.visible=!0,e.projectedGeometry=o,e.fill=f?.fill??y?.fill??i.fill,e.fillOpacity=f?.fillOpacity??y?.fillOpacity??c,e.stroke=f?.stroke??y?.stroke??d,e.strokeWidth=f?.strokeWidth??y?.strokeWidth??m,e.strokeOpacity=f?.strokeOpacity??y?.strokeOpacity??u,e.lineDash=f?.lineDash??y?.lineDash??h,e.lineDashOffset=f?.lineDashOffset??y?.lineDashOffset??p}))}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:o,fontFamily:a}=this.properties.label;t.each(((e,t)=>{let{x:r,y:s,text:l,fontSize:c,lineHeight:d}=t;e.visible=!0,e.x=r,e.y=s,e.text=l,e.fill=i,e.fontStyle=n,e.fontWeight=o,e.fontSize=c,e.lineHeight=d,e.fontFamily=a,e.textAlign="center",e.textBaseline="middle"}))}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:o}=e,a=null!=t&&t===e.legendItemName;(o.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,{legendItemName:a}=this.properties,r=null!=a&&a===e.legendItemName;n.id===this.id||r||t&&1===o?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(e){let t,{x:i,y:n}=e,o=1/0;return this.datumSelection.each(((e,a)=>{const r=e.distanceSquared(i,n);r<o&&(o=r,t=a)})),null!=t?{datum:t,distance:Math.sqrt(o)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,n=null!=i?xie(i):void 0,o=null!=n?Bne(n,2):void 0,a=null!=o?{x:o[0],y:o[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}getLegendData(e){const{processedData:t,dataModel:i}=this;if(null==t||null==i)return[];const{title:n,legendItemName:o,idKey:a,idName:r,fill:s,fillOpacity:l,stroke:c,strokeWidth:d,strokeOpacity:u,colorKey:h,colorName:p,colorRange:g,visible:f}=this.properties;if("gradient"===e&&null!=h&&null!=g){const e=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:f,seriesId:this.id,colorName:p,colorRange:g,colorDomain:e}]}if("category"===e){return[{legendType:"category",id:this.id,itemId:o??n??r??a,seriesId:this.id,enabled:f,label:{text:o??n??r??a},symbols:[{marker:{fill:s,fillOpacity:l,stroke:c,strokeWidth:d,strokeOpacity:u}}],legendItemName:o}]}return[]}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:o}=this;if(!i||!o.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const{legendItemName:a,idKey:r,idName:s,colorKey:l,colorName:c,labelKey:d,labelName:u,stroke:h,strokeWidth:p,strokeOpacity:g,fillOpacity:f,lineDash:m,lineDashOffset:y,itemStyler:v,tooltip:b}=o,{datum:x,fill:S,idValue:M,colorValue:A,labelValue:k,itemId:w}=e,C=Iae(o.title??a)??"",I=[];I.push(Iae((null!=s?`${s}: `:"")+M)),null!=A&&I.push(Iae((c??l)+": "+A)),null!=k&&d!==r&&I.push(Iae((u??d)+": "+k));const D=I.join("<br>");let N;v&&(N=n.call(v,{seriesId:t,datum:x,idKey:r,colorKey:l,labelKey:d,fill:S,stroke:h,strokeWidth:this.getStrokeWidth(p),highlighted:!1,fillOpacity:f,strokeOpacity:g,lineDash:m,lineDashOffset:y}));const E=N?.fill??S;return b.toTooltipHtml({title:C,content:D,backgroundColor:E},{seriesId:t,datum:x,idKey:r,title:C,color:E,colorKey:l,colorName:c,idName:s,itemId:w,labelKey:d,labelName:u,...this.getModuleTooltipParams()})}computeFocusBounds(e){return ene(this,e)}};Eae.className="MapShapeSeries",Eae.type="map-shape",GW([bae(Tie,{optional:!0,property:"topology"})],Eae.prototype,"_chartTopology",2);var{DEFAULT_INVERTED_LABEL_COLOUR:Oae,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:Lae,DEFAULT_BACKGROUND_COLOUR:Tae,singleSeriesPaletteFactory:Rae}=vW,Pae={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:e=>new Eae(e),tooltipDefaults:{range:"exact"},themeTemplate:{...oie,series:{fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:Oae,fontWeight:"bold",overflowStrategy:"hide"}}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:o}=e,{fill:a}=Rae(e),r=o.get(Lae),{fills:s}=t(i);return{fill:a,stroke:o.get(Tae),colorRange:"inbuilt"===n?r:[s[0],s[1]]}}},{isDefined:zae,ChartAxisDirection:jae,PolarAxis:Bae,diff:$ae,fixNumericExtent:Fae,groupAccumulativeValueProperty:_ae,keyProperty:Hae,mergeDefaults:Wae,normaliseGroupTo:Gae,resetLabelFn:Vae,seriesLabelFadeInAnimation:Uae,seriesLabelFadeOutAnimation:Kae,valueProperty:Yae,animationValidation:Xae,formatValue:Zae,SeriesNodePickMode:qae}=MW,{BandScale:Qae}=xW,{motion:Jae}=rW,{isNumber:ere,normalizeAngle360:tre,sanitizeHtml:ire}=SW,nre=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},ore=class extends MW.PolarSeries{constructor(e,t){let{animationResetFns:i}=t;super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,pickModes:[qae.NEAREST_NODE,qae.EXACT_SHAPE_MATCH],animationResetFns:{...i,label:Vae}}),this.NodeEvent=nre,this.groupScale=new Qae,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))),this.ctx.chartEventManager?.addListener("legend-item-double-click",(e=>this.onLegendItemDoubleClick(e))))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===jae.X)return t.getDomain(this,"angleValue","key",i);{const e=t.getDomain(this,"radiusValue-end","value",i),n=[e[0]>0?0:e[0],e[1]<0?0:e[1]];return Fae(n)}}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:n,visible:o}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid()||!o&&!a)return;const r=this.getStackId(),s=`${r}-trailing`,l=[];zae(n)&&l.push(Gae([r,s],Math.abs(n),"range")),a&&this.processedData&&l.push($ae(this.processedData)),a&&l.push(Xae());const c=o||!a?{}:{forceValue:0},d=this.axes[jae.Y]?.scale.type,u=this.axes[jae.X]?.scale.type;await this.requestDataModel(e,this.data,{props:[Hae(t,u,{id:"angleValue"}),Yae(i,d,{id:"radiusValue-raw",invalidValue:null,...c}),..._ae(i,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:r,separateNegative:!0,...c},d),..._ae(i,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:s,separateNegative:!0,...c},d),...l]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,n=this.circleCache;return(e!==n.r||t!==n.cx||i!==n.cy)&&(this.circleCache={r:e,cx:t,cy:i},!0)}isRadiusAxisReversed(){return this.axes[jae.Y]?.isReversed()}async maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=await this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[jae.Y];return e instanceof Bae?this.radius*e.innerRadiusRatio:0}async createNodeData(){const{processedData:e,dataModel:t,groupScale:i}=this;if(!e||!t||!this.properties.isValid())return;const n=this.axes[jae.X],o=this.axes[jae.Y],a=n?.scale,r=o?.scale;if(!a||!r)return;const s=t.resolveProcessedDataIndexById(this,"radiusValue-start"),l=t.resolveProcessedDataIndexById(this,"radiusValue-end"),c=t.resolveProcessedDataIndexById(this,"radiusValue-range"),d=t.resolveProcessedDataIndexById(this,"radiusValue-raw");let u=0,h=0;n instanceof JG&&(u=n.groupPaddingInner,h=n.paddingInner);const p=(a.bandwidth??0)*(1-h),{index:g,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:f}).map(((e,t)=>String(t))),i.range=[-p/2,p/2],i.paddingInner=f>1?u:0;const m=this.isRadiusAxisReversed(),y=m?this.radius:this.getAxisInnerRadius(),v=m?this.getAxisInnerRadius():this.radius,b=v+y,{angleKey:x,radiusKey:S,angleName:M,radiusName:A,label:k}=this.properties,w=(e,t,i,n)=>{const o=this.getLabelText(k,{value:t,datum:e,angleKey:x,radiusKey:S,angleName:M,radiusName:A},Zae);if(o)return{x:i,y:n,text:o,textAlign:"center",textBaseline:"middle"}},C=[],I={itemId:S,nodeData:C,labelData:C};return this.visible?(e.data.forEach(((e,t,n)=>{const{datum:o,keys:u,values:h,aggValues:p}=e,f=u[0],x=h[d],S=x>=0&&!Object.is(x,-0),M=h[s],A=h[l],k=p?.[c][S?1:0]??0,I=S===m;if(void 0===M||void 0===A)return;let D,N;if(1===n.length)D=-.5*Math.PI,N=1.5*Math.PI;else{const e=a.convert(f);D=tre(e+i.convert(String(g))),N=tre(D+i.bandwidth)}const E=D+i.bandwidth/2,O=b-r.convert(M),L=b-r.convert(A),T=(O+L)/2,R=b-r.convert(0),P=b-r.convert(k),z=Math.cos(E)*T,j=Math.sin(E)*T,B=this.properties.label.enabled?w(o,x,z,j):void 0,$=this.getColumnWidth(D,N);C.push({series:this,datum:o,point:{x:z,y:j,size:0},midPoint:{x:z,y:j},label:B,angleValue:f,radiusValue:x,negative:I,innerRadius:O,outerRadius:L,stackInnerRadius:R,stackOuterRadius:P,startAngle:D,endAngle:N,axisInnerRadius:y,axisOuterRadius:v,columnWidth:$,index:t})})),{itemId:S,nodeData:C,labelData:C}):I}getColumnWidth(e,t){return NaN}async update(e){let{seriesRect:t}=e;const i=this.checkResize(t);await this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")}updateSectorSelection(e,t){let i=[];if(t){const e=this.ctx.highlightManager?.getActiveHighlight();e?.datum&&e.series===this&&(i=[e])}else i=this.nodeData;const{fill:n,fillOpacity:o,stroke:a,strokeOpacity:r,strokeWidth:s,lineDash:l,lineDashOffset:c,cornerRadius:d,angleKey:u,radiusKey:h}=Wae(t?this.properties.highlightStyle.item:null,this.properties);e.update(i,void 0,(e=>e.angleValue)).each(((e,i)=>{const p=this.properties.itemStyler?this.ctx.callbackCache.call(this.properties.itemStyler,{datum:i.datum,fill:n,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:r,lineDash:l,lineDashOffset:c,cornerRadius:d,highlighted:t,angleKey:u,radiusKey:h,seriesId:this.id}):void 0;this.updateItemPath(e,i,t,p),e.fill=p?.fill??n,e.fillOpacity=p?.fillOpacity??o,e.stroke=p?.stroke??a,e.strokeWidth=p?.strokeWidth??s,e.strokeOpacity=p?.strokeOpacity??r,e.lineDash=p?.lineDash??l,e.lineDashOffset=p?.lineDashOffset??c,e.cornerRadius=p?.cornerRadius??d,e.lineJoin="round"}))}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each(((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1}))}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();Jae.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),Uae(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();Jae.fromToMotion(this.id,"datums",t,[e],i),Kae(this,"labels",t,this.labelSelection)}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{angleKey:o,radiusKey:a,angleName:r,radiusName:s,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,cornerRadius:f,itemStyler:m,tooltip:y}=this.properties,{angleValue:v,radiusValue:b,datum:x,itemId:S}=e,M=i[jae.X],A=i[jae.Y];if(!this.properties.isValid()||!(M&&A&&ere(b))||!n)return MW.EMPTY_TOOLTIP_CONTENT;const k=M.formatDatum(v),w=A.formatDatum(b),C=ire(s),I=ire(`${k}: ${w}`),{fill:D}=(m&&this.ctx.callbackCache.call(m,{highlighted:!1,seriesId:t,datum:x,angleKey:o,radiusKey:a,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,cornerRadius:f}))??{fill:l};return y.toTooltipHtml({title:C,backgroundColor:l,content:I},{seriesId:t,datum:x,color:D,title:C,angleKey:o,radiusKey:a,angleName:r,radiusName:s,angleValue:v,itemId:S,radiusValue:b})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||"category"!==e)return[];const{radiusKey:t,radiusName:i,fill:n,stroke:o,fillOpacity:a,strokeOpacity:r,strokeWidth:s,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:a??1,strokeOpacity:r??1,strokeWidth:s}}]}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:n}=e;n.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,a=n.id===this.id||t&&1===o;this.toggleSeriesItem(i,a)}computeLabelsBBox(){return null}},{Label:are}=rW,{SeriesProperties:rre,SeriesTooltip:sre,Validate:lre,COLOR_STRING:cre,DEGREE:dre,FUNCTION:ure,LINE_DASH:hre,NUMBER:pre,OBJECT:gre,POSITIVE_NUMBER:fre,RATIO:mre,STRING:yre}=MW,vre=class extends rre{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new are,this.tooltip=new sre}};GW([lre(yre)],vre.prototype,"angleKey",2),GW([lre(yre,{optional:!0})],vre.prototype,"angleName",2),GW([lre(yre)],vre.prototype,"radiusKey",2),GW([lre(yre,{optional:!0})],vre.prototype,"radiusName",2),GW([lre(cre)],vre.prototype,"fill",2),GW([lre(mre)],vre.prototype,"fillOpacity",2),GW([lre(cre)],vre.prototype,"stroke",2),GW([lre(fre)],vre.prototype,"strokeWidth",2),GW([lre(mre)],vre.prototype,"strokeOpacity",2),GW([lre(hre)],vre.prototype,"lineDash",2),GW([lre(fre)],vre.prototype,"lineDashOffset",2),GW([lre(fre)],vre.prototype,"cornerRadius",2),GW([lre(ure,{optional:!0})],vre.prototype,"itemStyler",2),GW([lre(dre)],vre.prototype,"rotation",2),GW([lre(yre,{optional:!0})],vre.prototype,"stackGroup",2),GW([lre(pre,{optional:!0})],vre.prototype,"normalizedTo",2),GW([lre(gre)],vre.prototype,"label",2),GW([lre(gre)],vre.prototype,"tooltip",2);var{motion:bre}=rW;function xre(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(t,i)=>({startAngle:e.startAngle.get(t)[i],endAngle:e.endAngle.get(t)[i]});return{calculate:(i,n,o)=>{t.forEach((t=>{const a=e[t];let r=("removed"===o||"updated"===o?i:n)[t],s=("removed"===o?i:n)[t];isNaN(s)&&(s=i.previousDatum?.[t]??NaN);const l=r-s;Math.abs(l)>Math.PI&&(r-=2*Math.sign(l)*Math.PI),a.set(n,{from:r,to:s})}))},from:e=>i(e,"from"),to:e=>i(e,"to")}}function Sre(e,t,i){if("updated"===i){if(null==e.previousDatum||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return"added"===i&&null!=e.previousDatum?"updated":i}function Mre(e,t){let{innerRadius:i,outerRadius:n,columnWidth:o,axisInnerRadius:a,axisOuterRadius:r,startAngle:s,endAngle:l}=t;return{innerRadius:i,outerRadius:n,columnWidth:o,axisInnerRadius:a,axisOuterRadius:r,startAngle:s,endAngle:l}}var{SectorBox:Are,motion:kre}=rW;function wre(e){const{negative:t,innerRadius:i,outerRadius:n,stackInnerRadius:o,stackOuterRadius:a}=e;return{innerRadius:t?a:o,outerRadius:t?o:a,clipInnerRadius:t?n:i,clipOuterRadius:t?i:n}}function Cre(e,t){const{startAngle:i,endAngle:n}=t,{innerRadius:o,outerRadius:a,clipInnerRadius:r,clipOuterRadius:s}=wre(t);return{innerRadius:o,outerRadius:a,startAngle:i,endAngle:n,clipSector:new Are(i,n,r,s)}}var{Sector:Ire,SectorBox:Dre}=rW,Nre=class extends ore{constructor(e){super(e,{animationResetFns:{item:Cre}}),this.properties=new vre}getStackId(){return`nightingale-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new Ire}updateItemPath(e,t,i,n){const{negative:o}=t;if(e.centerX=0,e.centerY=0,e.startOuterCornerRadius=o?0:this.properties.cornerRadius,e.endOuterCornerRadius=o?0:this.properties.cornerRadius,e.startInnerCornerRadius=o?this.properties.cornerRadius:0,e.endInnerCornerRadius=o?this.properties.cornerRadius:0,i){const{startAngle:i,endAngle:n}=t,{innerRadius:o,outerRadius:a,clipInnerRadius:r,clipOuterRadius:s}=wre(t);e.innerRadius=o,e.outerRadius=a,e.startAngle=i,e.endAngle=n,e.clipSector=new Dre(i,n,r,s)}}getColumnTransitionFunctions(){return function(e){const t=xre();return{toFn:(i,n,o)=>{const{startAngle:a,endAngle:r}=t.to(n);let s,l,c;if("removed"===o)s=e,l=e,c=new Are(a,r,s,l);else{let t,i;({innerRadius:s,outerRadius:l,clipInnerRadius:t,clipOuterRadius:i}=wre(n)),isNaN(s)&&(s=e),isNaN(l)&&(l=e),isNaN(t)&&(t=e),isNaN(i)&&(i=e),c=new Are(a,r,t,i)}return{innerRadius:s,outerRadius:l,startAngle:a,endAngle:r,clipSector:c}},fromFn:(i,n,o)=>{o=Sre(i,n,o),t.calculate(i,n,o);const{startAngle:a,endAngle:r}=t.from(n);let s,l,c;return"removed"===o||"updated"===o?(s=i.innerRadius,l=i.outerRadius,c=i.clipSector):(s=e,l=e),c??(c=new Are(a,r,s,l)),{innerRadius:s,outerRadius:l,startAngle:a,endAngle:r,clipSector:c,phase:kre.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o]}}}}(this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius())}};Nre.className="NightingaleSeries",Nre.type="nightingale";var Ere={series:{strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR}},axes:{[vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:vW.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[vW.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:vW.POLAR_AXIS_SHAPE.CIRCLE}}},Ore={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:e=>new Nre(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:vW.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:Ere,paletteFactory(e){let{takeColors:t,userPalette:i}=e;const{fills:[n],strokes:[o]}=t(1);return{fill:n,stroke:"inbuilt"!==i?o:vW.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0},Lre=class extends m6{constructor(){super(),this.append([new rW.Line({tag:0}),new rW.Line({tag:1}),new rW.Line({tag:2})])}updateCoordinates(){const{x:e,y:t,yBottom:i,yHigh:n,yLow:o,width:a,height:r,datum:{itemId:s}}=this,l=rW.Selection.select(this,rW.Rect),[c]=l.selectByTag(0),[d]=l.selectByTag(1),[u]=l.selectByTag(2);if(0===a||0===r)return c.visible=!1,d.visible=!1,void(u.visible=!1);c.visible=!0,d.visible=!0,u.visible=!0;const h=a/2;c.setProperties({x1:Math.floor(e+h),x2:Math.floor(e+h),y1:n,y2:o});const p="up"===s,g=p?i:t,f=p?t:i;d.setProperties({x1:Math.floor(e),x2:Math.floor(e+h),y:Math.round(g)}),u.setProperties({x1:Math.floor(e+h),x2:Math.floor(e+a),y:Math.round(f)})}updateDatumStyles(e,t){const i=rW.Selection.select(this,rW.Rect),[n]=i.selectByTag(0),[o]=i.selectByTag(1),[a]=i.selectByTag(2);n.setProperties(t),o.setProperties(t),a.setProperties(t)}},{BaseProperties:Tre,Validate:Rre,COLOR_STRING:Pre,FUNCTION:zre,LINE_DASH:jre,OBJECT:Bre,POSITIVE_NUMBER:$re,RATIO:Fre}=MW,_re=class extends Tre{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};GW([Rre(Pre)],_re.prototype,"stroke",2),GW([Rre($re)],_re.prototype,"strokeWidth",2),GW([Rre(Fre)],_re.prototype,"strokeOpacity",2),GW([Rre(jre)],_re.prototype,"lineDash",2),GW([Rre($re)],_re.prototype,"lineDashOffset",2),GW([Rre(zre,{optional:!0})],_re.prototype,"itemStyler",2);var Hre=class extends Tre{constructor(){super(...arguments),this.up=new _re,this.down=new _re}};GW([Rre(Bre)],Hre.prototype,"up",2),GW([Rre(Bre)],Hre.prototype,"down",2);var Wre=class extends L6{constructor(){super(...arguments),this.item=new Hre}};GW([Rre(Bre)],Wre.prototype,"item",2),GW([Rre(zre,{optional:!0})],Wre.prototype,"itemStyler",2);var{mergeDefaults:Gre}=MW,Vre=class extends h6{constructor(e){super(e,X5),this.properties=new Wre}async createNodeData(){const e=this.createBaseNodeData();if(!e)return;const t=e.nodeData.map((e=>{const{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}=this.getItemConfig(e.itemId);return{...e,stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}}));return{...e,nodeData:t}}getFormattedStyles(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{id:i,ctx:{callbackCache:n}}=this,{xKey:o,openKey:a,closeKey:r,highKey:s,lowKey:l,itemStyler:c}=this.properties,{stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,lineDashOffset:g}=this.getItemConfig(e.itemId);if(c){const f=n.call(c,{datum:e.datum,itemId:e.itemId,seriesId:i,highlighted:t,xKey:o,openKey:a,closeKey:r,highKey:s,lowKey:l,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,lineDashOffset:g});if(f)return Gre(f,this.getSeriesStyles(e))}return this.getSeriesStyles(e)}nodeFactory(){return new Lre}getSeriesStyles(e){const{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}=e;return{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}}getActiveStyles(e,t){const i=this.getFormattedStyles(e,t);return t?Gre(this.properties.highlightStyle.item,i):i}computeFocusBounds(e){return Q5(this,e)}};Vre.className="ohlc",Vre.type="ohlc";var Ure={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:e=>new Vre(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:vW.CARTESIAN_POSITION.BOTTOM}],themeTemplate:{animation:{enabled:!1},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[vW.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1,paletteFactory:e=>{let{takeColors:t,colorsCount:i,userPalette:n,palette:o}=e;if("user-indexed"===n){const{strokes:[e]}=t(i);return{item:{up:{stroke:e},down:{stroke:e}}}}return{item:{up:{stroke:o.up.stroke},down:{stroke:o.down.stroke}}}}},{Label:Kre,DropShadow:Yre}=rW,{SeriesProperties:Xre,SeriesTooltip:Zre,Validate:qre,UNION:Qre,COLOR_STRING_ARRAY:Jre,FUNCTION:ese,DIRECTION:tse,BOOLEAN:ise,LINE_DASH:nse,OBJECT:ose,NUMBER:ase,POSITIVE_NUMBER:rse,RATIO:sse,STRING:lse}=MW,cse=class extends Kre{},dse=class extends Kre{constructor(){super(...arguments),this.spacing=0}};GW([qre(ase)],dse.prototype,"spacing",2),GW([qre(Qre(["before","after"],"a placement"))],dse.prototype,"placement",2);var use=class extends Xre{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=(new Yre).set({enabled:!1}),this.label=new cse,this.stageLabel=new dse,this.tooltip=new Zre}};GW([qre(lse)],use.prototype,"stageKey",2),GW([qre(lse)],use.prototype,"valueKey",2),GW([qre(Jre)],use.prototype,"fills",2),GW([qre(sse)],use.prototype,"fillOpacity",2),GW([qre(Jre)],use.prototype,"strokes",2),GW([qre(rse)],use.prototype,"strokeWidth",2),GW([qre(sse)],use.prototype,"strokeOpacity",2),GW([qre(nse)],use.prototype,"lineDash",2),GW([qre(rse)],use.prototype,"lineDashOffset",2),GW([qre(tse)],use.prototype,"direction",2),GW([qre(ise,{optional:!0})],use.prototype,"reverse",2),GW([qre(rse)],use.prototype,"spacing",2),GW([qre(rse,{optional:!0})],use.prototype,"aspectRatio",2),GW([qre(ese,{optional:!0})],use.prototype,"itemStyler",2),GW([qre(ose)],use.prototype,"shadow",2),GW([qre(ose)],use.prototype,"label",2),GW([qre(ose)],use.prototype,"stageLabel",2),GW([qre(ose)],use.prototype,"tooltip",2);var{valueProperty:hse,SeriesNodePickMode:pse,CachedTextMeasurerPool:gse,TextUtils:fse}=MW,{BBox:mse,Group:yse,Selection:vse,Text:bse,PointerEvents:xse}=rW,{sanitizeHtml:Sse}=SW,Mse=class extends MW.DataModelSeries{constructor(e){super({moduleCtx:e,pickModes:[pse.EXACT_SHAPE_MATCH,pse.NEAREST_NODE]}),this.properties=new use,this.itemGroup=this.contentGroup.appendChild(new yse({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new yse({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new yse({name:"stageLabelGroup"})),this.datumSelection=vse.select(this.itemGroup,(()=>this.nodeFactory())),this.labelSelection=vse.select(this.itemLabelGroup,bse),this.stageLabelSelection=vse.select(this.stageLabelGroup,bse),this.highlightDatumSelection=vse.select(this.highlightNode,(()=>this.nodeFactory())),this.itemLabelGroup.pointerEvents=xse.None,this.stageLabelGroup.pointerEvents=xse.None}nodeFactory(){return new U8}getNodeData(){return this.contextNodeData?.nodeData}async processData(e){if(null==this.data||!this.properties.isValid())return;const{stageKey:t,valueKey:i}=this.properties,n=this.visible?{}:{forceValue:0};await this.requestDataModel(e,this.data,{props:[hse(t,"band",{id:"xValue"}),hse(i,"number",{id:"yValue",...n})]})}async createNodeData(){const{id:e,dataModel:t,processedData:i,properties:n}=this,{stageKey:o,valueKey:a,fills:r,strokes:s,direction:l,reverse:c="horizontal"===l,spacing:d,aspectRatio:u,label:h,stageLabel:p}=n;if(null==t||null==i)return;const g="horizontal"===l,f=t.resolveProcessedDataIndexById(this,"xValue"),m=t.resolveProcessedDataIndexById(this,"yValue"),y=gse.getMeasurer({font:p.getFont()});let v,b;g?(v="center",b="before"===p.placement?"bottom":"top"):(v="after"===p.placement?"left":"right",b="middle");const x=p.enabled?[]:void 0;let S=0,M=0,A=0;i.data.forEach((e=>{let{datum:t,values:i}=e;const n=i[f],r=Number(i[m]);if(A+=r,null==x)return;const s=this.getLabelText(this.properties.stageLabel,{datum:t,value:n,stageKey:o,valueKey:a}),{width:l}=y.measureText(s),c=s.split("\n").length*fse.getLineHeight(h.fontSize);S=Math.max(S,l),M=Math.max(M,c),x.push({x:NaN,y:NaN,text:s,textAlign:v,textBaseline:b})}));const k=this._nodeDataDependencies?.seriesRectWidth??0,w=this._nodeDataDependencies?.seriesRectHeight??0,C=d*(i.data.length-1);let I,D,N;if(g){const e=M+p.spacing;I=new mse(0,"before"===p.placement?e:0,k,w-e)}else{const e=S+p.spacing;I=new mse("after"===p.placement?0:e,0,k-e,w)}if(null!=u&&0!==u){const e="horizontal"===l?1/u:u,t=Math.min(I.width,I.height*e),i=t/e;I=new mse(I.x+(I.width-t)/2,I.y+(I.height-i)/2,t,i)}g?N="before"===p.placement?I.y-p.spacing:I.y+I.height+p.spacing:D="after"===p.placement?I.x+I.width+p.spacing:I.x-p.spacing;const E=I.width-(g?C:0),O=I.height-(g?0:C);if(E<0||O<0)return;const L=[],T=[];let R=0;return i.data.forEach(((e,t)=>{let{datum:i,values:n}=e;const l=n[f],u=Number(n[m]),p=R+u,y=(R+p)/(2*A),v=(p-R)/A,b=g?E*y+d*t:.5*E,S=g?.5*O:O*y+d*t,M=I.x+b,k=I.y+S;if(null!=x){const e=x[t];e.x=D??M,e.y=N??k}let w,C,P,z;if(g){const e=E*v;w=e,P=e;const t=(b+e/2)*(O/I.width),i=(b-e/2)*(O/I.width);C=c?I.height-t:t,z=c?I.height-i:i}else{const e=O*v;C=e,z=e;const t=(S-e/2)*(E/I.height),i=(S+e/2)*(E/I.height);w=c?I.width-t:t,P=c?I.width-i:i}const j={x:M,y:k,text:this.getLabelText(h,{datum:i,value:u,stageKey:o,valueKey:a}),textAlign:"center",textBaseline:"middle"};T.push(j);const B=r[t%r.length]??"black",$=s[t%s.length]??"black";L.push({series:this,itemId:a,datum:i,index:t,xValue:l,yValue:u,x:M,y:k,fill:B,stroke:$,top:w,right:C,bottom:P,left:z,label:j}),R=p})),{itemId:e,nodeData:L,labelData:T,stageLabelData:x}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(e){let{seriesRect:t}=e;this.checkResize(t);const{datumSelection:i,labelSelection:n,stageLabelSelection:o,highlightDatumSelection:a}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let r=this.ctx.highlightManager?.getActiveHighlight();null==r||r.series===this&&null!=r.datum||(r=void 0);const s=this.contextNodeData?.nodeData??[],l=this.contextNodeData?.labelData??[],c=this.contextNodeData?.stageLabelData??[];this.datumSelection=await this.updateDatumSelection({nodeData:s,datumSelection:i}),await this.updateDatumNodes({datumSelection:i,isHighlight:!1}),this.labelSelection=await this.updateLabelSelection({labelData:l,labelSelection:n}),await this.updateLabelNodes({labelSelection:n}),this.stageLabelSelection=await this.updateStageLabelSelection({stageLabelData:c,stageLabelSelection:o}),await this.updateStageLabelNodes({stageLabelSelection:o}),this.highlightDatumSelection=await this.updateDatumSelection({nodeData:null!=r?[r]:[],datumSelection:a}),await this.updateDatumNodes({datumSelection:a,isHighlight:!0})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData)}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{properties:n}=this,{stageKey:o,valueKey:a,shadow:r,itemStyler:s}=this.properties,l=i?this.properties.highlightStyle.item:void 0;t.each(((e,t)=>{const{x:c,y:d,top:u,right:h,bottom:p,left:g}=t;e.x0=c-u/2,e.x1=c+u/2,e.x2=c+p/2,e.x3=c-p/2,e.y0=d-g/2,e.y1=d-h/2,e.y2=d+h/2,e.y3=d+g/2;const f=l?.fill??t.fill,m=l?.fillOpacity??n.fillOpacity,y=l?.stroke??t.stroke,v=l?.strokeOpacity??n.strokeOpacity,b=l?.strokeWidth??n.strokeWidth,x=l?.lineDash??n.lineDash,S=l?.lineDashOffset??n.lineDashOffset;let M;null!=s&&(M=s({datum:t.datum,seriesId:this.id,highlighted:i,stageKey:o,valueKey:a,fill:f,fillOpacity:m,stroke:y,strokeOpacity:v,strokeWidth:b,lineDash:x,lineDashOffset:S})),e.fill=M?.fill??f,e.fillOpacity=M?.fillOpacity??m,e.stroke=M?.stroke??y,e.strokeOpacity=M?.strokeOpacity??v,e.strokeWidth=M?.strokeWidth??b,e.lineDash=M?.lineDash??x,e.lineDashOffset=M?.lineDashOffset??S,e.fillShadow=r}))}async updateLabelSelection(e){return e.labelSelection.update(this.properties.label.enabled?e.labelData:[])}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontSize:n,fontStyle:o,fontWeight:a,fontFamily:r}=this.properties.label;t.each(((e,t)=>{let{x:s,y:l,text:c,textAlign:d,textBaseline:u}=t;e.visible=!0,e.x=s,e.y=l,e.text=c,e.fill=i,e.fontStyle=o,e.fontWeight=a,e.fontSize=n,e.fontFamily=r,e.textAlign=d,e.textBaseline=u}))}async updateStageLabelSelection(e){return e.stageLabelSelection.update(e.stageLabelData)}async updateStageLabelNodes(e){const{stageLabelSelection:t}=e,{color:i,fontSize:n,fontStyle:o,fontWeight:a,fontFamily:r}=this.properties.stageLabel;t.each(((e,t)=>{let{x:s,y:l,text:c,textAlign:d,textBaseline:u}=t;e.visible=!0,e.x=s,e.y=l,e.text=c,e.fill=i,e.fontStyle=o,e.fontWeight=a,e.fontSize=n,e.fontFamily=r,e.textAlign=d,e.textBaseline=u}))}resetAnimation(e){}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(void 0!==t)for(const i of this.datumSelection)if(i.datum===t)return i.node}getTooltipHtml(e){const{id:t,ctx:{callbackCache:i}}=this;if(!this.properties.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const{stageKey:n,valueKey:o,itemStyler:a,tooltip:r}=this.properties,{strokeWidth:s,fillOpacity:l,strokeOpacity:c,lineDash:d,lineDashOffset:u}=this.properties,{datum:h,xValue:p,yValue:g,fill:f,stroke:m}=e;let y;a&&(y=i.call(a,{highlighted:!1,seriesId:t,datum:h,stageKey:n,valueKey:o,fill:f,fillOpacity:l,stroke:m,strokeWidth:s,strokeOpacity:c,lineDash:d,lineDashOffset:u}));const v=y?.fill??f??"gray",b=Sse(String(p)),x={title:b,content:Sse(String(g)),backgroundColor:v};return r.toTooltipHtml(x,{itemId:void 0,datum:h,stageKey:n,valueKey:o,color:v,seriesId:t,title:b})}getLabelData(){return[]}getSeriesDomain(e){return[NaN,NaN]}pickNodeClosestDatum(e){let t,{x:i,y:n}=e,o=1/0;return this.datumSelection.each(((e,a)=>{const r=e.distanceSquared(i,n);r<o&&(o=r,t=a)})),null!=t?{datum:t,distance:Math.sqrt(o)}:void 0}getLegendData(e){return[]}},Ase={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"pyramid",moduleFactory:e=>new Mse(e),solo:!0,tooltipDefaults:{range:"exact"},themeTemplate:{series:{direction:"vertical",strokeWidth:0,spacing:2,label:{enabled:!0,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_INSIDE_SERIES_LABEL_COLOUR},stageLabel:{enabled:!0,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR,spacing:12}}},paletteFactory:e=>{let{takeColors:t,colorsCount:i}=e;const{fills:n,strokes:o}=t(i);return{fills:n,strokes:o}}},kse={series:{label:{enabled:!1,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{label:{padding:10}}}},wse=MW.mergeDefaults({series:{strokeWidth:2}},kse),Cse=MW.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},kse),{Label:Ise}=rW,{SeriesMarker:Dse,SeriesProperties:Nse,SeriesTooltip:Ese,Validate:Ose,BOOLEAN:Lse,COLOR_STRING:Tse,DEGREE:Rse,LINE_DASH:Pse,OBJECT:zse,POSITIVE_NUMBER:jse,RATIO:Bse,STRING:$se}=MW,Fse=class extends Nse{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new Dse,this.label=new Ise,this.tooltip=new Ese,this.connectMissingData=!1}};GW([Ose($se)],Fse.prototype,"angleKey",2),GW([Ose($se)],Fse.prototype,"radiusKey",2),GW([Ose($se,{optional:!0})],Fse.prototype,"angleName",2),GW([Ose($se,{optional:!0})],Fse.prototype,"radiusName",2),GW([Ose(Tse)],Fse.prototype,"stroke",2),GW([Ose(jse)],Fse.prototype,"strokeWidth",2),GW([Ose(Bse)],Fse.prototype,"strokeOpacity",2),GW([Ose(Pse)],Fse.prototype,"lineDash",2),GW([Ose(jse)],Fse.prototype,"lineDashOffset",2),GW([Ose(Rse)],Fse.prototype,"rotation",2),GW([Ose(zse)],Fse.prototype,"marker",2),GW([Ose(zse)],Fse.prototype,"label",2),GW([Ose(zse)],Fse.prototype,"tooltip",2),GW([Ose(Lse)],Fse.prototype,"connectMissingData",2);var{ChartAxisDirection:_se,PolarAxis:Hse,SeriesNodePickMode:Wse,valueProperty:Gse,fixNumericExtent:Vse,seriesLabelFadeInAnimation:Use,markerFadeInAnimation:Kse,resetMarkerFn:Yse,animationValidation:Xse,formatValue:Zse,computeMarkerFocusBounds:qse}=MW,{BBox:Qse,Group:Jse,Path:ele,PointerEvents:tle,Selection:ile,Text:nle,getMarker:ole}=rW,{extent:ale,isNumberEqual:rle,sanitizeHtml:sle,toFixed:lle}=SW,cle=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},dle=class extends MW.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[Wse.NEAREST_NODE,Wse.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:Yse}}),this.properties=new Fse,this.NodeEvent=cle,this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0};const t=new Jse;this.contentGroup.append(t),this.lineSelection=ile.select(t,ele),t.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:e}=this.properties.marker;return new(ole(e))}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))),this.ctx.chartEventManager?.addListener("legend-item-double-click",(e=>this.onLegendItemDoubleClick(e))))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===_se.X)return t.getDomain(this,"angleValue","value",i);{const e=t.getDomain(this,"radiusValue","value",i),n=ale(0===e.length?e:[0].concat(e));return Vse(n)}}async processData(e){if(!this.properties.isValid())return;const{angleKey:t,radiusKey:i}=this.properties,n=[];this.ctx.animationManager.isSkipped()||n.push(Xse());const o=this.axes[_se.Y]?.scale.type,a=this.axes[_se.X]?.scale.type;await this.requestDataModel(e,this.data,{props:[Gse(t,a,{id:"angleValue"}),Gse(i,o,{id:"radiusValue",invalidValue:void 0}),...n]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,n=this.circleCache;return(e!==n.r||t!==n.cx||i!==n.cy)&&(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[_se.Y];return e instanceof Hse?this.radius*e.innerRadiusRatio:0}async maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=await this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}async createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t||!this.properties.isValid())return;const{angleKey:i,radiusKey:n,angleName:o,radiusName:a,marker:r,label:s}=this.properties,l=this.axes[_se.X]?.scale,c=this.axes[_se.Y]?.scale;if(!l||!c)return;const d=t.resolveProcessedDataIndexById(this,"angleValue"),u=t.resolveProcessedDataIndexById(this,"radiusValue"),h=this.getAxisInnerRadius(),p=e.data.map((e=>{const{datum:t,values:p}=e,g=p[d],f=p[u],m=l.convert(g),y=this.radius+h-c.convert(f),v=Math.cos(m),b=Math.sin(m),x=v*y,S=b*y;let M;if(s.enabled){const e=this.getLabelText(s,{value:f,datum:t,angleKey:i,radiusKey:n,angleName:o,radiusName:a},Zse);if(e){let t="right";rle(v,0)?t="center":v>0&&(t="left");let i="bottom";rle(b,0)?i="middle":b>0&&(i="top"),M={x:x+v*r.size,y:S+b*r.size,text:e,textAlign:t,textBaseline:i}}}return{series:this,datum:t,point:{x:x,y:S,size:r.size},midPoint:{x:x,y:S},label:M,angleValue:g,radiusValue:f,missing:!SW.isNumber(m)||!SW.isNumber(y)}}));return{itemId:n,nodeData:p,labelData:p}}async update(e){let{seriesRect:t}=e;const i=this.checkResize(t),n=!this.ctx.animationManager.isSkipped(),{series:o}=this.ctx.highlightManager?.getActiveHighlight()??{};this.highlightGroup.visible=(n||this.visible)&&o===this,await this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=ile.select(this.itemGroup,(()=>this.nodeFactory()),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(e){return e?.fill??this.properties.marker.fill}updateMarkers(e,t){const{angleKey:i,radiusKey:n,marker:o,visible:a}=this.properties;let r=[];if(a&&o.shape&&o.enabled)if(t){const e=this.ctx.highlightManager?.getActiveHighlight();e?.datum&&(r=[e])}else r=this.nodeData;const s=t?this.properties.highlightStyle.item:void 0;e.update(r).each(((e,r)=>{const l=this.getMarkerFill(s),c=s?.fillOpacity??this.properties.marker.fillOpacity,d=s?.stroke??o.stroke??this.properties.stroke,u=s?.strokeWidth??o.strokeWidth??this.properties.strokeWidth??1,h=s?.strokeOpacity??this.properties.marker.strokeOpacity,p=o.itemStyler?this.ctx.callbackCache.call(o.itemStyler,{datum:r.datum,angleKey:i,radiusKey:n,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,shape:o.shape,size:o.size,highlighted:t,seriesId:this.id}):void 0;e.fill=p?.fill??l,e.stroke=p?.stroke??d,e.strokeWidth=p?.strokeWidth??u,e.fillOpacity=s?.fillOpacity??o.fillOpacity??1,e.strokeOpacity=o.strokeOpacity??this.properties.strokeOpacity??1,e.size=p?.size??o.size;const{x:g,y:f}=r.point;e.x=g,e.y=f,e.visible=a&&e.size>0&&!isNaN(g)&&!isNaN(f)}))}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each(((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1}))}getTooltipHtml(e){if(!this.properties.isValid())return MW.EMPTY_TOOLTIP_CONTENT;const{id:t}=this,{angleKey:i,radiusKey:n,angleName:o,radiusName:a,marker:r,tooltip:s}=this.properties,{datum:l,angleValue:c,radiusValue:d,itemId:u}=e,h="number"===typeof c?lle(c):String(c),p="number"===typeof d?lle(d):String(d),g=sle(a),f=sle(`${h}: ${p}`),{itemStyler:m,fill:y,fillOpacity:v,stroke:b,strokeWidth:x=this.properties.strokeWidth,strokeOpacity:S,shape:M,size:A}=r,{fill:k}=(m&&this.ctx.callbackCache.call(m,{datum:l,angleKey:i,radiusKey:n,fill:y,fillOpacity:v,stroke:b,strokeWidth:x,strokeOpacity:S,shape:M,size:A,highlighted:!1,seriesId:t}))??{fill:y};return s.toTooltipHtml({title:g,content:f,backgroundColor:k},{datum:l,angleKey:i,angleName:o,radiusKey:n,radiusName:a,title:g,color:k,seriesId:t,itemId:u})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||"category"!==e)return[];const{radiusKey:t,radiusName:i,stroke:n,strokeWidth:o,strokeOpacity:a,lineDash:r,visible:s,marker:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:s,label:{text:i??t},symbols:[{marker:{shape:l.shape,fill:this.getMarkerFill()??l.stroke??n??"rgba(0, 0, 0, 0)",stroke:l.stroke??n??"rgba(0, 0, 0, 0)",fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??a??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled||o<=0},line:{stroke:n,strokeOpacity:a,strokeWidth:o,lineDash:r}}]}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:n}=e;n.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,a=n.id===this.id||t&&1===o;this.toggleSeriesItem(i,a)}pickNodeClosestDatum(e){const{nodeData:t,centerX:i,centerY:n}=this,{x:o,y:a}=e,r=this.radius;if(Math.sqrt((o-i)**2+(a-n)**2)>r+this.properties.marker.size)return;let s,l=1/0;for(const c of t){const{point:{x:t=NaN,y:o=NaN}={}}=c;if(isNaN(t)||isNaN(o))continue;const a=Math.sqrt((e.x-t-i)**2+(e.y-o-n)**2);a<l&&(l=a,s=c)}if(s){return{datum:s,distance:Math.max(l-(s.point?.size??0),0)}}}async computeLabelsBBox(){const{label:e}=this.properties;await this.maybeRefreshNodeData();const t=[],i=new nle;return this.nodeData.forEach((n=>{if(!e.enabled||!n.label)return;i.text=n.label.text,i.x=n.label.x,i.y=n.label.y,i.setFont(e),i.setAlign(n.label);const o=i.getBBox();t.push(o)})),0===t.length?null:Qse.merge(t)}getLineNode(){return this.lineSelection?.at(0)}beforePathAnimation(){const e=this.getLineNode();e.fill=void 0,e.lineJoin="round",e.lineCap="round",e.pointerEvents=tle.None,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(0===e.length)return[];const n=this.axes[_se.Y],o=this.axes[_se.X],a=o?.isReversed(),r=n?.isReversed(),s=r&&!a?[...e].reverse():e,l=[];let c,d=!1;return s.forEach(((e,n)=>{let{x:o,y:a}=e.point;const r=isNaN(o)||isNaN(a);r||(c??(c=e)),r&&!i&&(o=0,a=0);const s=0===n||!t&&!i&&(r||d);l.push({x:o,y:a,moveTo:s}),d=r})),void 0!==c&&l.push({x:c.point.x,y:c.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:n}=e;n.clear(!0);const o=this.getAxisInnerRadius(),a=this.axes[_se.Y],r=a?.isReversed(),s=r?this.radius+o-a?.scale.convert(0):o;t.forEach((e=>{const{x:t,y:o,arc:a,radius:r=0,startAngle:l=0,endAngle:c=0,moveTo:d}=e,u=Math.atan2(o,t),h=s*Math.cos(u),p=s*Math.sin(u),g=h*(1-i)+t*i,f=p*(1-i)+o*i;a?n.arc(t,o,r,l,c):d?n.moveTo(g,f):n.lineTo(g,f)})),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints();this.animateSinglePath(this.getLineNode(),t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:e=>this.animatePaths(e),onStop:()=>this.animatePaths(1)}),Kse(this,i,"added",e),Use(this,"labels",i,t)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear(!0),i.forEach((e=>{let{x:i,y:n,moveTo:o}=e;o?t.moveTo(i,n):t.lineTo(i,n)})),e.checkPathDirty()}}getFormattedMarkerStyle(e){const{angleKey:t,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,angleKey:t,radiusKey:i,highlighted:!0})}computeFocusBounds(e){return qse(this,e)}};dle.className="RadarSeries";var{RATIO:ule,COLOR_STRING:hle,Validate:ple}=MW,gle=class extends Fse{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};GW([ple(hle)],gle.prototype,"fill",2),GW([ple(ule)],gle.prototype,"fillOpacity",2);var{Group:fle,Path:mle,PointerEvents:yle,Selection:vle}=rW,{ChartAxisDirection:ble}=MW,xle=class extends dle{constructor(e){super(e),this.properties=new gle,this.resetInvalidToZero=!0;const t=new fle;t.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(t),this.areaSelection=vle.select(t,mle)}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(e){return e?.fill??this.properties.marker.fill??this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const e=this.getAreaNode();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.pointerEvents=yle.None,e.stroke=void 0}animatePaths(e){super.animatePaths(e),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),e)}getAreaPoints(){const e=this.getLinePoints(),t=e=>{const t=this.axes[e];return t instanceof MW.PolarAxis?t:void 0},i=t(ble.Y),n=t(ble.X),o=i?.isReversed();if(!o)return e;const a=n?.getAxisLinePoints()?.points??[];return e.concat(...a)}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.stroke=void 0,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,e.lineJoin=e.lineCap="round",t.clear(!0),i.forEach((e=>{let{x:i,y:n,moveTo:o,arc:a,radius:r=0,startAngle:s=0,endAngle:l=0}=e;a?t.arc(i,n,r,s,l):o?t.moveTo(i,n):t.lineTo(i,n)})),t.closePath(),e.checkPathDirty()}}};xle.className="RadarAreaSeries",xle.type="radar-area";var{markerPaletteFactory:Sle}=MW,Mle={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:e=>new xle(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:vW.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:Cse,paletteFactory:e=>{const{marker:t}=Sle(e);return{stroke:t.stroke,fill:t.fill,marker:t}}},Ale=class extends dle{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};Ale.className="RadarLineSeries",Ale.type="radar-line";var kle={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:e=>new Ale(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:vW.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:wse,paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{stroke:i,marker:{fill:i,stroke:n}}}},{Label:wle}=rW,{SeriesProperties:Cle,SeriesTooltip:Ile,Validate:Dle,COLOR_STRING:Nle,DEGREE:Ele,FUNCTION:Ole,LINE_DASH:Lle,NUMBER:Tle,OBJECT:Rle,POSITIVE_NUMBER:Ple,RATIO:zle,STRING:jle}=MW,Ble=class extends Cle{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new wle,this.tooltip=new Ile}};GW([Dle(jle)],Ble.prototype,"angleKey",2),GW([Dle(jle)],Ble.prototype,"radiusKey",2),GW([Dle(jle,{optional:!0})],Ble.prototype,"angleName",2),GW([Dle(jle,{optional:!0})],Ble.prototype,"radiusName",2),GW([Dle(Nle)],Ble.prototype,"fill",2),GW([Dle(zle)],Ble.prototype,"fillOpacity",2),GW([Dle(Nle)],Ble.prototype,"stroke",2),GW([Dle(Ple)],Ble.prototype,"strokeWidth",2),GW([Dle(zle)],Ble.prototype,"strokeOpacity",2),GW([Dle(Lle)],Ble.prototype,"lineDash",2),GW([Dle(Ple)],Ble.prototype,"lineDashOffset",2),GW([Dle(Ple)],Ble.prototype,"cornerRadius",2),GW([Dle(Ole,{optional:!0})],Ble.prototype,"itemStyler",2),GW([Dle(Ele)],Ble.prototype,"rotation",2),GW([Dle(jle,{optional:!0})],Ble.prototype,"stackGroup",2),GW([Dle(Tle,{optional:!0})],Ble.prototype,"normalizedTo",2),GW([Dle(Rle)],Ble.prototype,"label",2),GW([Dle(Rle)],Ble.prototype,"tooltip",2);var{SectorBox:$le,motion:Fle}=rW;function _le(e){return{toFn:(t,i,n)=>{let o,a,r,s,l;return"removed"===n?(o=e,a=e,r=i.innerRadius,s=i.outerRadius,l=new $le(o,a,r,s)):(o=i.startAngle,a=i.endAngle,r=isNaN(i.innerRadius)?t.innerRadius:i.innerRadius,s=isNaN(i.outerRadius)?t.outerRadius:i.outerRadius,l=i.clipSector),{startAngle:o,endAngle:a,innerRadius:r,outerRadius:s,clipSector:l}},fromFn:(t,i,n)=>{let o,a,r,s,l;n=function(e,t,i){if("updated"===i){if(null==e.previousDatum||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return"added"===i&&null!=e.previousDatum?"updated":i}(t,i,n),"removed"===n||"updated"===n?(o=t.startAngle,a=t.endAngle,r=t.innerRadius,s=t.outerRadius,l=t.clipSector):(o=e,a=e,r=i.innerRadius,s=i.outerRadius),l??(l=new $le(o,a,r,s));return{startAngle:o,endAngle:a,innerRadius:r,outerRadius:s,clipSector:l,phase:Fle.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n]}}}}function Hle(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle,clipSector:t.clipSector}}var{ChartAxisDirection:Wle,PolarAxis:Gle,diff:Vle,isDefined:Ule,groupAccumulativeValueProperty:Kle,keyProperty:Yle,mergeDefaults:Xle,normaliseGroupTo:Zle,valueProperty:qle,fixNumericExtent:Qle,resetLabelFn:Jle,seriesLabelFadeInAnimation:ece,seriesLabelFadeOutAnimation:tce,animationValidation:ice,formatValue:nce}=MW,{BandScale:oce}=xW,{Sector:ace,SectorBox:rce,motion:sce}=rW,{angleBetween:lce,isNumber:cce,sanitizeHtml:dce}=SW,uce=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},hce=class extends MW.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:Hle,label:Jle}}),this.properties=new Ble,this.NodeEvent=uce,this.groupScale=new oce,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new ace}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))),this.ctx.chartEventManager?.addListener("legend-item-double-click",(e=>this.onLegendItemDoubleClick(e))))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===Wle.X){const e=t.getDomain(this,"angleValue-end","value",i),n=[e[0]>0?0:e[0],e[1]<0?0:e[1]];return Qle(n)}return t.getDomain(this,"radiusValue","key",i)}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:n,visible:o}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid()||!o&&!a)return;const r=this.getStackId(),s=`${r}-trailing`,l=[];Ule(n)&&l.push(Zle([r,s],Math.abs(n),"range")),a&&(this.processedData&&l.push(Vle(this.processedData)),l.push(ice()));const c=this.visible||!a?{}:{forceValue:0},d=this.axes[Wle.Y]?.scale.type,u=this.axes[Wle.X]?.scale.type;await this.requestDataModel(e,this.data,{props:[Yle(i,d,{id:"radiusValue"}),qle(t,u,{id:"angleValue-raw",invalidValue:null,...c}),...Kle(t,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:r,separateNegative:!0,...c},u),...Kle(t,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:s,separateNegative:!0,...c},u),...l]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,n=this.circleCache;return(e!==n.r||t!==n.cx||i!==n.cy)&&(this.circleCache={r:e,cx:t,cy:i},!0)}async maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=await this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[Wle.Y];return e instanceof Gle?this.radius*e.innerRadiusRatio:0}async createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t||!this.properties.isValid())return;const i=this.axes[Wle.X],n=this.axes[Wle.Y],o=i?.scale,a=n?.scale;if(!o||!a)return;const r=t.resolveProcessedDataIndexById(this,"angleValue-start"),s=t.resolveProcessedDataIndexById(this,"angleValue-end"),l=t.resolveProcessedDataIndexById(this,"angleValue-range"),c=t.resolveProcessedDataIndexById(this,"angleValue-raw");let d=0;n instanceof iU&&(d=n.groupPaddingInner);const{groupScale:u}=this,{index:h,visibleGroupCount:p}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);u.domain=Array.from({length:p}).map(((e,t)=>String(t))),u.range=[0,Math.abs(a.bandwidth??0)],u.paddingInner=p>1?d:0;const g=u.bandwidth>=1?u.bandwidth:u.rawBandwidth,f=i.isReversed(),m=n.isReversed(),y=m?this.radius:this.getAxisInnerRadius(),v=(m?this.getAxisInnerRadius():this.radius)+y,{angleKey:b,radiusKey:x,angleName:S,radiusName:M,label:A}=this.properties,k=(e,t,i,n)=>{const o=this.getLabelText(A,{value:t,datum:e,angleKey:b,radiusKey:x,angleName:S,radiusName:M},nce);if(o)return{x:i,y:n,text:o,textAlign:"center",textBaseline:"middle"}},w=[],C={itemId:x,nodeData:w,labelData:w};return this.visible?(e.data.forEach(((e,t)=>{const{datum:i,keys:n,values:d,aggValues:p}=e,m=n[0],y=d[c],b=y>=0&&!Object.is(y,-0),x=d[r],S=d[s],M=p?.[l][b?1:0]??0,A=b===f;let C=o.convert(x,{clampMode:"clamped"}),I=o.convert(S,{clampMode:"clamped"}),D=o.convert(0,{clampMode:"clamped"}),N=o.convert(M,{clampMode:"clamped"});A&&([D,N]=[N,D],[C,I]=[I,C]);const E=v-a.convert(m)+u.convert(String(h)),O=E+g,L=(E+O)/2,T=C+lce(C,I)/2,R=Math.cos(T)*L,P=Math.sin(T)*L,z=this.properties.label.enabled?k(i,y,R,P):void 0,j=new rce(C,I,E,O);w.push({series:this,datum:i,point:{x:R,y:P,size:0},midPoint:{x:R,y:P},label:z,angleValue:y,radiusValue:m,innerRadius:E,outerRadius:O,startAngle:D,endAngle:N,clipSector:j,reversed:A,index:t})})),C):C}async update(e){let{seriesRect:t}=e;const i=this.checkResize(t);await this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")}updateSectorSelection(e,t){let i=[];if(t){const e=this.ctx.highlightManager?.getActiveHighlight();e?.datum&&e.series===this&&(i=[e])}else i=this.nodeData;const{fill:n,fillOpacity:o,stroke:a,strokeOpacity:r,strokeWidth:s,lineDash:l,lineDashOffset:c,cornerRadius:d,angleKey:u,radiusKey:h}=Xle(t?this.properties.highlightStyle.item:null,this.properties);e.update(i,void 0,(e=>e.radiusValue)).each(((e,i)=>{const p=this.properties.itemStyler?this.ctx.callbackCache.call(this.properties.itemStyler,{seriesId:this.id,datum:i.datum,highlighted:t,angleKey:u,radiusKey:h,fill:n,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:r,lineDash:l,lineDashOffset:c,cornerRadius:d}):void 0;e.fill=p?.fill??n,e.fillOpacity=p?.fillOpacity??o,e.stroke=p?.stroke??a,e.strokeWidth=p?.strokeWidth??s,e.strokeOpacity=p?.strokeOpacity??r,e.lineDash=p?.lineDash??l,e.lineDashOffset=p?.lineDashOffset??c,e.lineJoin="round",e.inset=null!=a?(p?.strokeWidth??s)/2:0,e.startInnerCornerRadius=i.reversed?p?.cornerRadius??d:0,e.startOuterCornerRadius=i.reversed?p?.cornerRadius??d:0,e.endInnerCornerRadius=i.reversed?0:p?.cornerRadius??d,e.endOuterCornerRadius=i.reversed?0:p?.cornerRadius??d,t&&(e.startAngle=i.startAngle,e.endAngle=i.endAngle,e.clipSector=i.clipSector,e.innerRadius=i.innerRadius,e.outerRadius=i.outerRadius)}))}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each(((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1}))}getBarTransitionFunctions(){const e=this.axes[Wle.X]?.scale;let t=0;if(!e)return _le(t);const i=Math.min(e.domain[0],e.domain[1]),n=Math.max(e.domain[0],e.domain[1]);return i<=0&&n>=0&&(t=e.convert(0)),_le(t)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();sce.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),ece(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();sce.fromToMotion(this.id,"datums",t,[e],i),tce(this,"labels",t,this.labelSelection)}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{angleKey:o,angleName:a,radiusKey:r,radiusName:s,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,cornerRadius:f,itemStyler:m,tooltip:y}=this.properties,{angleValue:v,radiusValue:b,datum:x,itemId:S}=e,M=i[Wle.X],A=i[Wle.Y];if(!this.properties.isValid()||!(M&&A&&cce(v))||!n)return MW.EMPTY_TOOLTIP_CONTENT;const k=M.formatDatum(v),w=A.formatDatum(b),C=dce(a),I=dce(`${w}: ${k}`),{fill:D}=(m&&this.ctx.callbackCache.call(m,{highlighted:!1,seriesId:t,datum:x,angleKey:o,radiusKey:r,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,cornerRadius:f}))??{fill:l};return y.toTooltipHtml({title:C,backgroundColor:l,content:I},{seriesId:t,datum:x,color:D,title:C,angleKey:o,radiusKey:r,angleName:a,radiusName:s,angleValue:v,itemId:S,radiusValue:b})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||"category"!==e)return[];const{angleKey:t,angleName:i,fill:n,stroke:o,fillOpacity:a,strokeOpacity:r,strokeWidth:s,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:a??1,strokeOpacity:r??1,strokeWidth:s}}]}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:n}=e;n.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:o}=e,a=n.id===this.id||t&&1===o;this.toggleSeriesItem(i,a)}computeLabelsBBox(){return null}getStackId(){return`radialBar-stack-${this.seriesGrouping?.groupIndex??this.id}-xValues`}};hce.className="RadialBarSeries",hce.type="radial-bar";var pce={series:{strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_INVERTED_LABEL_COLOUR}},axes:{[vW.POLAR_AXIS_TYPE.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},gce={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:e=>new hce(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:vW.POLAR_AXIS_TYPE.ANGLE_NUMBER},{type:vW.POLAR_AXIS_TYPE.RADIUS_CATEGORY}],themeTemplate:pce,paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}},stackable:!0,groupable:!0},{Validate:fce,RATIO:mce}=MW,yce=class extends vre{};GW([fce(mce,{optional:!0})],yce.prototype,"columnWidthRatio",2),GW([fce(mce,{optional:!0})],yce.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:vce,PolarAxis:bce}=MW,{RadialColumnShape:xce,getRadialColumnWidth:Sce}=rW,Mce=class extends ore{constructor(e){super(e,{animationResetFns:{item:Mre}}),this.properties=new yce}getStackId(){return`radarColumn-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new xce}getColumnTransitionFunctions(){return function(e){const t=xre();return{toFn:(i,n,o)=>{const{startAngle:a,endAngle:r}=t.to(n);let s,l,c,d,u;return"removed"===o?(s=i.innerRadius,l=i.innerRadius,c=i.columnWidth,d=i.axisInnerRadius,u=i.axisOuterRadius):(s=isNaN(n.innerRadius)?e:n.innerRadius,l=isNaN(n.outerRadius)?e:n.outerRadius,c=isNaN(n.columnWidth)?i.columnWidth:n.columnWidth,d=n.axisInnerRadius,u=n.axisOuterRadius),{innerRadius:s,outerRadius:l,columnWidth:c,axisInnerRadius:d,axisOuterRadius:u,startAngle:a,endAngle:r}},fromFn:(i,n,o)=>{o=Sre(i,n,o),t.calculate(i,n,o);const{startAngle:a,endAngle:r}=t.from(n);let s,l,c,d,u;return"removed"===o||"updated"===o?(s=i.innerRadius,l=i.outerRadius,c=i.columnWidth,d=i.axisInnerRadius,u=i.axisOuterRadius):(s=e,l=e,c=n.columnWidth,d=n.axisInnerRadius,u=n.axisOuterRadius),{innerRadius:s,outerRadius:l,columnWidth:c,axisInnerRadius:d,axisOuterRadius:u,startAngle:a,endAngle:r,phase:bre.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o]}}}}(this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius())}isRadiusAxisCircle(){const e=this.axes[vce.Y];return e instanceof bce&&"circle"===e.shape}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:n=.5}=this.properties;return Sce(e,t,this.radius,i,n)}};Mce.className="RadialColumnSeries",Mce.type="radial-column";var Ace={series:{columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR}},axes:{[vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:vW.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[vW.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:vW.POLAR_AXIS_SHAPE.CIRCLE,innerRadiusRatio:.5}}},kce={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:e=>new Mce(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:vW.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:vW.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:Ace,paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}},stackable:!0,groupable:!0},{SvgPath:wce,Rotatable:Cce,Translatable:Ice,Scalable:Dce}=rW,Nce=class extends(Cce(Dce(Ice(wce)))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};Nce.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var{BaseProperties:Ece,SeriesTooltip:Oce,SeriesProperties:Lce,PropertiesArray:Tce,Validate:Rce,BOOLEAN:Pce,COLOR_STRING:zce,COLOR_STRING_ARRAY:jce,FUNCTION:Bce,LINE_DASH:$ce,NUMBER:Fce,OBJECT_ARRAY:_ce,OBJECT:Hce,POSITIVE_NUMBER:Wce,RATIO:Gce,STRING:Vce,UNION:Uce}=MW,{Label:Kce}=rW,{Logger:Yce}=SW,Xce=Uce(["inside","outside","middle"],"a placement"),Zce=class extends Kce{};GW([Rce(Fce,{optional:!0})],Zce.prototype,"spacing",2);var qce=class extends Ece{constructor(){super(...arguments),this.label=new Zce}};GW([Rce(Vce,{optional:!0})],qce.prototype,"text",2),GW([Rce(Fce,{optional:!0})],qce.prototype,"value",2),GW([Rce(zee,{optional:!0})],qce.prototype,"shape",2),GW([Rce(Xce,{optional:!0})],qce.prototype,"placement",2),GW([Rce(Fce,{optional:!0})],qce.prototype,"spacing",2),GW([Rce(Wce,{optional:!0})],qce.prototype,"size",2),GW([Rce(Fce,{optional:!0})],qce.prototype,"rotation",2),GW([Rce(zce,{optional:!0})],qce.prototype,"fill",2),GW([Rce(Gce,{optional:!0})],qce.prototype,"fillOpacity",2),GW([Rce(zce,{optional:!0})],qce.prototype,"stroke",2),GW([Rce(Wce,{optional:!0})],qce.prototype,"strokeWidth",2),GW([Rce(Gce,{optional:!0})],qce.prototype,"strokeOpacity",2),GW([Rce($ce,{optional:!0})],qce.prototype,"lineDash",2),GW([Rce(Wce,{optional:!0})],qce.prototype,"lineDashOffset",2),GW([Rce(Hce)],qce.prototype,"label",2);var Qce=class extends Ece{constructor(){super(...arguments),this.enabled=!0,this.fills=new Tce(Nee),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};GW([Rce(Pce)],Qce.prototype,"enabled",2),GW([Rce(_ce)],Qce.prototype,"fills",2),GW([Rce(Pee)],Qce.prototype,"fillMode",2),GW([Rce(zce,{optional:!0})],Qce.prototype,"fill",2),GW([Rce(Gce)],Qce.prototype,"fillOpacity",2),GW([Rce(zce,{optional:!0})],Qce.prototype,"stroke",2),GW([Rce(Wce,{optional:!0})],Qce.prototype,"strokeWidth",2),GW([Rce(Gce)],Qce.prototype,"strokeOpacity",2),GW([Rce($ce)],Qce.prototype,"lineDash",2),GW([Rce(Wce)],Qce.prototype,"lineDashOffset",2);var Jce=class extends Ece{constructor(){super(...arguments),this.fills=new Tce(Nee),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};GW([Rce(_ce)],Jce.prototype,"fills",2),GW([Rce(Pee)],Jce.prototype,"fillMode",2),GW([Rce(zce,{optional:!0})],Jce.prototype,"fill",2),GW([Rce(Gce)],Jce.prototype,"fillOpacity",2),GW([Rce(zce)],Jce.prototype,"stroke",2),GW([Rce(Wce)],Jce.prototype,"strokeWidth",2),GW([Rce(Gce)],Jce.prototype,"strokeOpacity",2),GW([Rce($ce)],Jce.prototype,"lineDash",2),GW([Rce(Wce)],Jce.prototype,"lineDashOffset",2),GW([Rce(zce)],Jce.prototype,"defaultFill",2);var ede=class extends Ece{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};GW([Rce(Pce)],ede.prototype,"enabled",2),GW([Rce(Gce,{optional:!0})],ede.prototype,"radiusRatio",2),GW([Rce(Fce)],ede.prototype,"spacing",2),GW([Rce(zce)],ede.prototype,"fill",2),GW([Rce(Gce)],ede.prototype,"fillOpacity",2),GW([Rce(zce)],ede.prototype,"stroke",2),GW([Rce(Wce)],ede.prototype,"strokeWidth",2),GW([Rce(Gce)],ede.prototype,"strokeOpacity",2),GW([Rce($ce)],ede.prototype,"lineDash",2),GW([Rce(Wce)],ede.prototype,"lineDashOffset",2);var tde=class extends z7{};GW([Rce(Vce,{optional:!0})],tde.prototype,"text",2);var ide=class extends j7{};GW([Rce(Vce,{optional:!0})],ide.prototype,"text",2);var nde=class extends Lce{constructor(){super(...arguments),this.segmentation=new Uee,this.defaultColorRange=[],this.targets=new Tce(qce),this.defaultTarget=new qce,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new Jce,this.bar=new Qce,this.needle=new ede,this.label=new tde,this.secondaryLabel=new ide,this.tooltip=new Oce}isValid(e){if(!super.isValid(e))return!1;const{outerRadius:t,innerRadius:i}=this;return null==t===(null==i)||(Yce.warnOnce("Either [innerRadius] and [outerRadius] must both be set, or neither can be set."),!1)}};GW([Rce(Fce)],nde.prototype,"value",2),GW([Rce(Hce)],nde.prototype,"segmentation",2),GW([Rce(jce)],nde.prototype,"defaultColorRange",2),GW([Rce(_ce)],nde.prototype,"targets",2),GW([Rce(Hce)],nde.prototype,"defaultTarget",2),GW([Rce(Gce)],nde.prototype,"outerRadiusRatio",2),GW([Rce(Gce)],nde.prototype,"innerRadiusRatio",2),GW([Rce(Wce,{optional:!0})],nde.prototype,"outerRadius",2),GW([Rce(Wce,{optional:!0})],nde.prototype,"innerRadius",2),GW([Rce(Wce)],nde.prototype,"cornerRadius",2),GW([Rce(jee)],nde.prototype,"cornerMode",2),GW([Rce(Fce)],nde.prototype,"spacing",2),GW([Rce(Hce)],nde.prototype,"scale",2),GW([Rce(Hce)],nde.prototype,"bar",2),GW([Rce(Hce)],nde.prototype,"needle",2),GW([Rce(Bce,{optional:!0})],nde.prototype,"itemStyler",2),GW([Rce(Hce)],nde.prototype,"label",2),GW([Rce(Hce)],nde.prototype,"secondaryLabel",2),GW([Rce(Hce)],nde.prototype,"tooltip",2);var{SectorBox:ode}=rW;function ade(e,t,i){return Math.max(e,i.startAngle)<=Math.min(t,i.endAngle)}function rde(e){return null!=e.clipStartAngle&&null!=e.clipEndAngle}function sde(e,t){const{clipStartAngle:i,clipEndAngle:n,innerRadius:o,outerRadius:a}=e;return new ode(i,t?i:n,o,a)}function lde(e,t){const i=e?"initial":"update";return{node:{fromFn(t,n){const o=t.previousDatum;let{startAngle:a,endAngle:r}=o??n;const s=null!=o&&rde(o)?sde(o,e):void 0,l=rde(n)?sde(n,e):void 0;let c;return null!=s&&null!=l?c=s:null==s&&null!=l?(c=l,a=n.startAngle,r=n.endAngle):null!=s&&null==l?(c=void 0,a=n.startAngle,r=n.endAngle):e&&(r=a),{startAngle:a,endAngle:r,clipSector:c,phase:i}},toFn(e,t){const{startAngle:i,endAngle:n}=t;let o;return rde(t)&&(o=sde(t,!1)),{startAngle:i,endAngle:n,clipSector:o}},applyFn(e,t){const{startAngle:i,endAngle:n}=t;let{clipSector:o}=t;null!=o&&(o=new ode(Math.max(i,o.startAngle),Math.min(n,o.endAngle),o.innerRadius,o.outerRadius));const a=null==o||ade(i,n,o);e.startAngle=i,e.endAngle=n,e.clipSector=o,e.visible=a}},needle:{fromFn(n){let{angle:o}=n.previousDatum??n.datum;return e&&(o=t),{rotation:o,phase:i}},toFn(e,t){const{angle:i}=t;return{rotation:i}}}}}function cde(e,t){const{startAngle:i,endAngle:n}=t,o=function(e){const{startAngle:t,endAngle:i,clipStartAngle:n,clipEndAngle:o,innerRadius:a,outerRadius:r}=e;if(null!=n&&null!=o)return new ode(Math.max(n,t),Math.min(o,i),a,r)}(t);return{startAngle:i,endAngle:n,clipSector:o,visible:null==o||ade(i,n,o)}}function dde(e,t){const{angle:i}=t;return{rotation:i}}var ude={top:0,middle:.5,bottom:1};var{fromToMotion:hde,resetMotion:pde,SeriesNodePickMode:gde,StateMachine:fde,createDatumId:mde,ChartAxisDirection:yde,EMPTY_TOOLTIP_CONTENT:vde}=MW,{BBox:bde,Group:xde,PointerEvents:Sde,Selection:Mde,Sector:Ade,Text:kde,ConicGradient:wde,getMarker:Cde}=rW,{normalizeAngle360:Ide,normalizeAngle360Inclusive:Dde,toDegrees:Nde,toRadians:Ede}=SW,Ode={inside:90,middle:0,outside:-90},Lde=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],Tde=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],Rde=class extends MW.Series{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[gde.EXACT_SHAPE_MATCH,gde.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new nde,this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.scaleGroup=this.contentGroup.appendChild(new xde({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new xde({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new xde({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new xde({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new xde({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new xde({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new xde({name:"itemTargetLabelGroup"})),this.scaleSelection=Mde.select(this.scaleGroup,(()=>this.nodeFactory())),this.datumSelection=Mde.select(this.itemGroup,(()=>this.nodeFactory())),this.needleSelection=Mde.select(this.itemNeedleGroup,Nce),this.targetSelection=Mde.select(this.itemTargetGroup,(e=>this.markerFactory(e))),this.targetLabelSelection=Mde.select(this.itemTargetLabelGroup,kde),this.labelSelection=Mde.select(this.itemLabelGroup,kde),this.highlightTargetSelection=Mde.select(this.highlightTargetGroup,(e=>this.markerFactory(e))),this.nodeDatum={series:this,datum:{}},this.animationState=new fde("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.itemGroup.pointerEvents=Sde.None,this.itemTargetLabelGroup.pointerEvents=Sde.None,this.itemLabelGroup.pointerEvents=Sde.None}get maximumRadius(){return this.properties.outerRadius}get minimumRadius(){return this.properties.outerRadius}get hasData(){return null!=this.properties.value}nodeFactory(){return new Ade}markerFactory(e){let{shape:t}=e;const i=new("line"!==t?Cde(t):Mee);return i.size=1,i}async processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){return xee(e,this.axes[yde.X])}createConicGradient(e,t){const{centerX:i,centerY:n,radius:o}=this,{domain:a,range:r}=this.axes[yde.X].scale,[s,l]=r,{defaultColorRange:c}=this.properties,d=Ide((s+l)/2+Math.PI),u=Dde(l-s),h=Oee(e,c,a,t).map((e=>{let{color:t,offset:i}=e;i=Math.min(Math.max(i,0),1);return i=(s+u*i-d)/(2*Math.PI),i=(i%1+1)%1,{offset:i,color:t}}));return new wde("oklch",h,Nde(d)-90,new bde(i-o,n-o,2*o,2*o))}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map((e=>{const{text:i=t.text,value:n=t.value??0,shape:o=t.shape??"triangle",rotation:a=t.rotation??0,strokeWidth:r=t.strokeWidth??0,placement:s=t.placement??"middle",spacing:l=t.spacing??0,size:c=t.size??0,fill:d=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:h=t.stroke??"black",strokeOpacity:p=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:f=t.lineDashOffset??0}=e,{enabled:m=t.label.enabled,color:y=t.label.color??"black",fontStyle:v=t.label.fontStyle??"normal",fontWeight:b=t.label.fontWeight??"normal",fontSize:x=t.label.fontSize,fontFamily:S=t.label.fontFamily,spacing:M=t.label.spacing??0}=e.label;return{text:i,value:n,shape:o,placement:s,spacing:l,size:c,rotation:a,fill:d,fillOpacity:u,stroke:h,strokeWidth:r,strokeOpacity:p,lineDash:g,lineDashOffset:f,label:{enabled:m,color:y,fontStyle:v,fontWeight:b,fontSize:x,fontFamily:S,spacing:M}}}))}getTargetRadius(e){const{radius:t,properties:i}=this,{innerRadiusRatio:n,outerRadiusRatio:o}=i,{placement:a,spacing:r,size:s}=e,l=t*o,c=t*n;switch(a){case"inside":return Math.max(c-r-s/2,0);case"outside":return l+r+s/2;default:return(c+l)/2}}getTargetLabel(e){const t=this.axes[yde.X].scale,{value:i,size:n,placement:o,label:a}=e,{spacing:r,color:s,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u}=a,h=t.convert(i),p=Ide(h)/(Math.PI/2)|0,g=n/2+r;let f,m,y,v;switch(o){case"outside":({textAlign:f,textBaseline:m}=Lde[p]),y=g*Math.cos(h),v=g*Math.sin(h);break;case"inside":({textAlign:f,textBaseline:m}=Tde[p]),y=-g*Math.cos(h),v=-g*Math.sin(h);break;default:f="center",m="bottom",y=0,v=-g}return{offsetX:y,offsetY:v,fill:s,textAlign:f,textBaseline:m,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u,lineHeight:void 0}}async createNodeData(){const{id:e,properties:t,radius:i,centerX:n,centerY:o}=this;if(!t.isValid())return;const a=this.axes[yde.X];if(null==a)return;const{value:r,innerRadiusRatio:s,outerRadiusRatio:l,segmentation:c,cornerRadius:d,cornerMode:u,needle:h,bar:p,scale:g,label:f,secondaryLabel:m}=t,{outerRadius:y=i*l,innerRadius:v=i*s}=t,b=this.getTargets(),{domain:x}=a.scale,S=[],M=[],A=[],k=[],w=[],[C,I]=a.range,D=a.scale,N="item"===u,E=D.convert(x[0]),O=D.convert(r),L=Math.ceil(Dde(O-E)*i);let T=c.enabled?c.interval.getSegments(a.scale,L):void 0;const R=p.fill??this.createConicGradient(p.fills,p.fillMode),P=g.fill??(p.enabled&&0===g.fills.length?g.defaultFill:void 0)??this.createConicGradient(g.fills,g.fillMode);if(null==T&&N){const[e,t]=x,i={value:r,segmentStart:e,segmentEnd:t},a=Math.min(d,(y-v)/2)/((v+y)/2);p.enabled&&S.push({series:this,itemId:"value",datum:i,type:0,centerX:n,centerY:o,outerRadius:y,innerRadius:v,startAngle:E-a,endAngle:O+a,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:d,endCornerRadius:d,fill:R}),w.push({series:this,itemId:"scale",datum:i,type:0,centerX:n,centerY:o,outerRadius:y,innerRadius:v,startAngle:C-a,endAngle:I+a,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:d,endCornerRadius:d,fill:P})}else{T??(T=x);for(let e=0;e<T.length-1;e+=1){const t=T[e+0],i=T[e+1],a={value:r,segmentStart:t,segmentEnd:i},s=0===e,l=e===T.length-2,c=D.convert(t),u=D.convert(i);p.enabled&&S.push({series:this,itemId:`value-${e}`,datum:a,type:0,centerX:n,centerY:o,outerRadius:y,innerRadius:v,startAngle:c,endAngle:u,clipStartAngle:E,clipEndAngle:O,startCornerRadius:N||s?d:0,endCornerRadius:N||l?d:0,fill:R}),w.push({series:this,itemId:`scale-${e}`,datum:a,type:0,centerX:n,centerY:o,outerRadius:y,innerRadius:v,startAngle:c,endAngle:u,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:N||s?d:0,endCornerRadius:N||l?d:0,fill:P})}}if(!h.enabled&&f.enabled){const{text:e,color:t,fontSize:i,minimumFontSize:a,fontStyle:s,fontWeight:l,fontFamily:c,lineHeight:d,formatter:u=e=>this.formatLabel(e.value)}=f;k.push({label:"primary",centerX:n,centerY:o,text:e,value:r,fill:t,fontSize:i,minimumFontSize:a,fontStyle:s,fontWeight:l,fontFamily:c,lineHeight:d,formatter:u})}if(!h.enabled&&m.enabled){const{text:e,color:t,fontSize:i,minimumFontSize:a,fontStyle:s,fontWeight:l,fontFamily:c,lineHeight:d,formatter:u}=m;k.push({label:"secondary",centerX:n,centerY:o,text:e,value:r,fill:t,fontSize:i,minimumFontSize:a,fontStyle:s,fontWeight:l,fontFamily:c,lineHeight:d,formatter:u})}if(h.enabled){let e=null!=h.radiusRatio?i*h.radiusRatio:v;e=Math.max(e-h.spacing,0);const t=D.convert(r);A.push({centerX:n,centerY:o,radius:e,angle:t})}for(let z=0;z<b.length;z+=1){const e=b[z],{value:t,text:i,size:a,shape:r,fill:s,fillOpacity:l,stroke:c,strokeWidth:d,strokeOpacity:u,lineDash:h,lineDashOffset:p}=e;if(t<Math.min(...x)||t>Math.max(...x))continue;const g=this.getTargetRadius(e),f=D.convert(t),m=Ede(e.rotation+Ode[e.placement]);M.push({series:this,itemId:`target-${z}`,midPoint:{x:g*Math.cos(f)+n,y:g*Math.sin(f)+o},datum:{value:t},type:1,value:t,text:i,centerX:n,centerY:o,shape:r,radius:g,angle:f,rotation:m,size:a,fill:s,fillOpacity:l,stroke:c,strokeOpacity:u,strokeWidth:d,lineDash:h,lineDashOffset:p,label:this.getTargetLabel(e)})}return{itemId:e,nodeData:S,needleData:A,targetData:M,labelData:k,scaleData:w}}async updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(null!=e&&e.series===this&&1===e.type)return e}async update(e){let{seriesRect:t}=e;const{datumSelection:i,labelSelection:n,needleSelection:o,targetSelection:a,targetLabelSelection:r,scaleSelection:s,highlightTargetSelection:l}=this,c=this.checkResize(t);await this.updateSelections(c),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const d=this.contextNodeData?.nodeData??[],u=this.contextNodeData?.labelData??[],h=this.contextNodeData?.needleData??[],p=this.contextNodeData?.targetData??[],g=this.contextNodeData?.scaleData??[],f=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=await this.updateScaleSelection({scaleData:g,scaleSelection:s}),await this.updateScaleNodes({scaleSelection:s}),this.needleSelection=await this.updateNeedleSelection({needleData:h,needleSelection:o}),await this.updateNeedleNodes({needleSelection:o}),this.targetSelection=await this.updateTargetSelection({targetData:p,targetSelection:a}),await this.updateTargetNodes({targetSelection:a,isHighlight:!1}),this.targetLabelSelection=await this.updateTargetLabelSelection({targetData:p,targetLabelSelection:r}),await this.updateTargetLabelNodes({targetLabelSelection:r}),this.datumSelection=await this.updateDatumSelection({nodeData:d,datumSelection:i}),await this.updateDatumNodes({datumSelection:i}),this.labelSelection=await this.updateLabelSelection({labelData:u,labelSelection:n}),await this.updateLabelNodes({labelSelection:n}),this.highlightTargetSelection=await this.updateTargetSelection({targetData:null!=f?[f]:[],targetSelection:l}),await this.updateTargetNodes({targetSelection:l,isHighlight:!0}),c&&this.animationState.transition("resize"),this.animationState.transition("update")}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(t=>mde(e.nodeData.length,t.itemId)))}async updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:n}=this,{bar:o,segmentation:a}=n,r=a.spacing??0,{fillOpacity:s,stroke:l,strokeOpacity:c,lineDash:d,lineDashOffset:u}=o,h=this.getStrokeWidth(o.strokeWidth),p=i.animationManager.isSkipped();t.each(((e,t)=>{const{centerX:i,centerY:n,innerRadius:o,outerRadius:a,startCornerRadius:g,endCornerRadius:f,fill:m}=t;e.centerX=i,e.centerY=n,e.innerRadius=o,e.outerRadius=a,e.fill=m,e.fillOpacity=s,e.stroke=l,e.strokeOpacity=c,e.strokeWidth=h,e.lineDash=d,e.lineDashOffset=u,e.startOuterCornerRadius=g,e.startInnerCornerRadius=g,e.endOuterCornerRadius=f,e.endInnerCornerRadius=f,e.radialEdgeInset=(r+e.strokeWidth)/2,e.concentricEdgeInset=e.strokeWidth/2,(p||null==e.previousDatum)&&e.setProperties(cde(0,t))}))}async updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,(t=>mde(e.scaleData.length,t.itemId)))}async updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i,segmentation:n}=this.properties,o=n.spacing??0,{fillOpacity:a,stroke:r,strokeOpacity:s,strokeWidth:l,lineDash:c,lineDashOffset:d}=i;t.each(((e,t)=>{const{centerX:i,centerY:n,innerRadius:u,outerRadius:h,startCornerRadius:p,endCornerRadius:g,fill:f}=t;e.centerX=i,e.centerY=n,e.innerRadius=u,e.outerRadius=h,e.fill=f,e.fillOpacity=a,e.stroke=r,e.strokeOpacity=s,e.strokeWidth=l,e.lineDash=c,e.lineDashOffset=d,e.startOuterCornerRadius=p,e.startInnerCornerRadius=p,e.endOuterCornerRadius=g,e.endInnerCornerRadius=g,e.radialEdgeInset=(o+e.strokeWidth)/2,e.concentricEdgeInset=e.strokeWidth/2,e.setProperties(cde(0,t))}))}async updateNeedleSelection(e){return e.needleSelection.update(e.needleData,void 0,(()=>mde([])))}async updateNeedleNodes(e){const{needleSelection:t}=e,{fill:i,fillOpacity:n,stroke:o,strokeOpacity:a,strokeWidth:r,lineDash:s,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();t.each(((e,t)=>{const{centerX:d,centerY:u,radius:h}=t,p=2*h;e.d=Nce.defaultPathData,e.fill=i,e.fillOpacity=n,e.stroke=o,e.strokeOpacity=a,e.strokeWidth=r/p,e.lineDash=s.map((e=>e/p)),e.lineDashOffset=l/p,e.translationX=d,e.translationY=u,e.scalingX=p,e.scalingY=p,c&&e.setProperties(dde(0,t))}))}async updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,(e=>e.itemId))}async updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,n=i?this.properties.highlightStyle.item:void 0;t.each(((e,t)=>{const{centerX:i,centerY:o,angle:a,radius:r,size:s,rotation:l,fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,strokeWidth:p,lineDash:g,lineDashOffset:f}=t;e.size=s,e.fill=n?.fill??c,e.fillOpacity=n?.fillOpacity??d,e.stroke=n?.stroke??u,e.strokeOpacity=n?.strokeOpacity??h,e.strokeWidth=n?.strokeWidth??p,e.lineDash=n?.lineDash??g,e.lineDashOffset=n?.lineDashOffset??f,e.translationX=i+r*Math.cos(a),e.translationY=o+r*Math.sin(a),e.rotation=a+l}))}async updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData,void 0,(e=>e.itemId))}async updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each(((e,t)=>{const{centerX:i,centerY:n,radius:o,angle:a,text:r}=t,{offsetX:s,offsetY:l,fill:c,fontStyle:d,fontWeight:u,fontSize:h,fontFamily:p,textAlign:g,textBaseline:f}=t.label;null!=r?(e.visible=!0,e.x=i+o*Math.cos(a)+s,e.y=n+o*Math.sin(a)+l,e.text=r,e.fill=c,e.fontStyle=d,e.fontWeight=u,e.fontSize=h,e.fontFamily=p,e.textAlign=g,e.textBaseline=f):e.visible=!1}))}async updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,(e=>e.label))}async updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each(((e,t)=>{e.fill=t.fill,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontFamily=t.fontFamily})),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(null==e.text)return!1;return!0}formatLabelText(e){if(null==this.axes[yde.X])return;const{labelSelection:t,radius:i,textAlign:n,verticalAlign:o}=this,{spacing:a,innerRadiusRatio:r}=this.properties;!function(e,t,i,n,o){const{padding:a,textAlign:r,verticalAlign:s}=i;let l,c;if(t.each(((e,t)=>{"primary"===t.label?l=t:"secondary"===t.label&&(c=t)})),null==l)return;const d=See(e,l,o?.label);if(null==d)return;const u=null!=c?See(e,c,o?.secondaryLabel):void 0,h={padding:a},p="center"===r?2:1,g="middle"===s?2:1,f=e=>({width:Math.sqrt(Math.max(n**2-(e/g)**2,0))*p,height:Math.min(e,g*n),meta:null});let m,y,v;if(null!=c&&null!=u){const e=w7(d,l,u,c,h,f);m=e?.label,y=e?.secondaryLabel,v=e?.height??0}else{const e=C7(d,l,h,f);m=e?.[0],y=void 0,v=e?.[0].height??0}const b=v*ude[s];t.each(((e,t)=>{let i;if("primary"===t.label?i=m:"secondary"===t.label&&(i=y),null==i)return void(e.visible=!1);e.visible=!0,e.text=i.text,e.fontSize=i.fontSize,e.lineHeight=i.lineHeight,e.textAlign=r,e.textBaseline="middle";const n="primary"===t.label?i.height/2:v-i.height/2;e.y=t.centerY+n-b,e.x=t.centerX}))}(this,t,{padding:a,textAlign:n,verticalAlign:o},i*r,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),pde([this.datumSelection],cde),pde([this.needleSelection],dde),this.formatLabelText()}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}animateLabelText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{animationManager:t}=this.ctx;let i,n,o,a;if(this.labelSelection.each(((t,r)=>{t.opacity=1,"primary"===r.label?(i=t.previousDatum?.value??e.from??r.value,n=r.value):"secondary"===r.label&&(o=t.previousDatum?.value??e.from??r.value,a=r.value)})),this.labelsHaveExplicitText());else if(null==n||null==a)this.formatLabelText();else if(i===n&&o===a)this.formatLabelText({label:n,secondaryLabel:a});else{const r=`${this.id}_labels`;t.animate({id:r,groupId:"label",from:{label:i,secondaryLabel:o},to:{label:n,secondaryLabel:a},phase:e.phase??"update",onUpdate:e=>this.formatLabelText(e)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=lde(!0,this.axes[yde.X]?.range[0]??0);hde(this.id,"node",e,[this.datumSelection],t,((e,t)=>t.itemId)),hde(this.id,"needle",e,[this.needleSelection],i,(()=>"needle")),hde(this.id,"label",e,[this.labelSelection],bee,((e,t)=>t.label)),this.animateLabelText({from:this.axes[yde.X]?.scale.domain[0]??0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=lde(!1,this.axes[yde.X]?.range[0]??0);hde(this.id,"node",e,[this.datumSelection],t,((e,t)=>t.itemId)),hde(this.id,"needle",e,[this.needleSelection],i,(()=>"needle")),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}pickNode(e,t){switch(t){case"event":case"context-menu":{const t=this.scaleGroup.pickNode(e.x,e.y);return null!=t?{pickMode:MW.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:t.datum,distance:0}:void 0}case"tooltip":case"highlight":case"highlight-tooltip":{const t=this.itemTargetGroup.pickNode(e.x,e.y);return null!=t?{pickMode:MW.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:t.datum,distance:0}:{pickMode:MW.SeriesNodePickMode.NEAREST_NODE,match:this.nodeDatum,distance:0}}}}getTooltipHtml(e){const{id:t,properties:i}=this;if(!i.isValid())return vde;const n=this.highlightDatum(e),o=n?.value??i.value,a=n?.text,{tooltip:r}=i,s=a??"",l=this.formatLabel(o),c=n?.itemId,d=n?.fill;return r.toTooltipHtml({title:s,content:l,backgroundColor:d},{seriesId:t,itemId:c,title:s,datum:void 0,color:d,value:o,...this.getModuleTooltipParams()})}pickFocus(e){const t=this.contextNodeData?.targetData;if(null==t||0===t.length)return;const i=Math.min(Math.max(e.datumIndex,0),t.length-1),n=t[i];for(const o of this.targetSelection)if(o.datum===n){return{bounds:o.node,showFocusBox:!0,datum:n,datumIndex:i}}}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),this.labelSelection.each(((e,i)=>{const n=See(this,i);null!=n&&t.push(n)})),t.join(". ")}};Rde.className="RadialGaugeSeries",Rde.type="radial-gauge";var{FONT_WEIGHT:Pde,DEFAULT_FONT_FAMILY:zde,DEFAULT_HIERARCHY_FILLS:jde,DEFAULT_LABEL_COLOUR:Bde,DEFAULT_MUTED_LABEL_COLOUR:$de,POLAR_AXIS_TYPE:Fde}=vW,_de={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"radial-gauge",moduleFactory:e=>new Rde(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:Fde.ANGLE_NUMBER,line:{enabled:!1}},{type:Fde.RADIUS_NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,series:{outerRadiusRatio:1,innerRadiusRatio:.8,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:Bde,stroke:Bde,size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:Pde.NORMAL,fontSize:12,fontFamily:zde,color:Bde,spacing:5}},needle:{enabled:!1,fill:Bde,spacing:10},label:{enabled:!0,fontWeight:Pde.NORMAL,fontSize:56,minimumFontSize:18,fontFamily:zde,color:Bde},secondaryLabel:{enabled:!0,fontWeight:Pde.NORMAL,fontSize:14,minimumFontSize:12,fontFamily:zde,color:$de},tooltip:{enabled:!1}},axes:{[vW.POLAR_AXIS_TYPE.ANGLE_NUMBER]:{startAngle:270,endAngle:450,nice:!1,line:{enabled:!1}}}},paletteFactory(e){const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:o}=e,{fills:a}=t(i),r=o.get(vW.DEFAULT_GAUGE_SERIES_COLOR_RANGE),s=o.get(jde),l="inbuilt"===n?r:[a[0],a[1]];return{scale:{defaultFill:s?.[1],stroke:s?.[2]},defaultColorRange:vee(l)}}},{DropShadow:Hde,Label:Wde}=rW,{CartesianSeriesProperties:Gde,InterpolationProperties:Vde,SeriesMarker:Ude,SeriesTooltip:Kde,Validate:Yde,BOOLEAN:Xde,COLOR_STRING:Zde,LINE_DASH:qde,OBJECT:Qde,PLACEMENT:Jde,POSITIVE_NUMBER:eue,RATIO:tue,STRING:iue}=MW,nue=class extends Wde{constructor(){super(...arguments),this.placement="outside",this.padding=6}};GW([Yde(Jde)],nue.prototype,"placement",2),GW([Yde(eue)],nue.prototype,"padding",2);var oue=class extends Gde{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Vde,this.shadow=(new Hde).set({enabled:!1}),this.marker=new Ude,this.label=new nue,this.tooltip=new Kde,this.connectMissingData=!1}};GW([Yde(iue)],oue.prototype,"xKey",2),GW([Yde(iue)],oue.prototype,"yLowKey",2),GW([Yde(iue)],oue.prototype,"yHighKey",2),GW([Yde(iue,{optional:!0})],oue.prototype,"xName",2),GW([Yde(iue,{optional:!0})],oue.prototype,"yName",2),GW([Yde(iue,{optional:!0})],oue.prototype,"yLowName",2),GW([Yde(iue,{optional:!0})],oue.prototype,"yHighName",2),GW([Yde(Zde)],oue.prototype,"fill",2),GW([Yde(tue)],oue.prototype,"fillOpacity",2),GW([Yde(Zde)],oue.prototype,"stroke",2),GW([Yde(eue)],oue.prototype,"strokeWidth",2),GW([Yde(tue)],oue.prototype,"strokeOpacity",2),GW([Yde(qde)],oue.prototype,"lineDash",2),GW([Yde(eue)],oue.prototype,"lineDashOffset",2),GW([Yde(Qde)],oue.prototype,"interpolation",2),GW([Yde(Qde)],oue.prototype,"shadow",2),GW([Yde(Qde)],oue.prototype,"marker",2),GW([Yde(Qde)],oue.prototype,"label",2),GW([Yde(Qde)],oue.prototype,"tooltip",2),GW([Yde(Xde)],oue.prototype,"connectMissingData",2);var{valueProperty:aue,keyProperty:rue,ChartAxisDirection:sue,mergeDefaults:lue,updateLabelNode:cue,fixNumericExtent:due,buildResetPathFn:uue,resetLabelFn:hue,resetMarkerFn:pue,resetMarkerPositionFn:gue,pathSwipeInAnimation:fue,resetMotion:mue,markerSwipeScaleInAnimation:yue,seriesLabelFadeInAnimation:vue,animationValidation:bue,diff:xue,updateClipPath:Sue,formatValue:Mue,computeMarkerFocusBounds:Aue,plotPath:kue,pathRanges:wue,pathRangePoints:Cue,pathRangePointsReverse:Iue}=MW,{getMarker:Due,PointerEvents:Nue}=rW,{sanitizeHtml:Eue,extent:Oue}=SW,Lue=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},Tue=class extends MW.CartesianSeries{constructor(e){super({moduleCtx:e,hasMarkers:!0,pathsPerSeries:["fill","stroke"],pickModes:[MW.SeriesNodePickMode.AXIS_ALIGNED],directionKeys:{[sue.X]:["xKey"],[sue.Y]:["yLowKey","yHighKey"]},directionNames:{[sue.X]:["xName"],[sue.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:uue({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:hue,marker:(e,t)=>({...pue(e),...gue(e,t)})}}),this.properties=new oue,this.NodeEvent=Lue}async processData(e){if(!this.properties.isValid()||!this.visible)return;const{xKey:t,yLowKey:i,yHighKey:n}=this.properties,o=this.axes[sue.X]?.scale,a=this.axes[sue.Y]?.scale,{xScaleType:r,yScaleType:s}=this.getScaleInformation({xScale:o,yScale:a}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(xue(this.processedData)),c&&l.push(bue()),await this.requestDataModel(e,this.data,{props:[rue(t,r,{id:"xValue"}),aue(i,s,{id:"yLowValue",invalidValue:void 0}),aue(n,s,{id:"yHighValue",invalidValue:void 0}),...l]}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{domain:{keys:[n],values:o}}=t;if(e===sue.X){const e=i.resolveProcessedDataDefById(this,"xValue");return"key"===e?.def.type&&"category"===e.def.valueType?n:due(Oue(n))}{const e=o[i.resolveProcessedDataIndexById(this,"yLowValue")],t=o[i.resolveProcessedDataIndexById(this,"yHighValue")],n=[e[0]>t[0]?t[0]:e[0],t[1]<e[1]?e[1]:t[1]];return due(n)}}async createNodeData(){const{data:e,dataModel:t,axes:i,visible:n}=this,o=i[sue.X],a=i[sue.Y];if(!(e&&n&&o&&a&&t))return;const r=o.scale,s=a.scale,{xKey:l,yLowKey:c,yHighKey:d,connectMissingData:u,marker:h}=this.properties,p=`${c}-${d}`,g=(r.bandwidth??0)/2,f=t.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue"]),m=(e,t,i,n)=>{const o=r.convert(e)+g,a=s.convert(t),l=s.convert(i),{size:c}=h;return[{point:{x:o,y:a,moveTo:n},size:c,itemId:"high",yValue:t,xValue:e,enabled:!0},{point:{x:o,y:l,moveTo:n},size:c,itemId:"low",yValue:i,xValue:e,enabled:!1}]},y=[],v=[],b={itemId:p,highPoints:[],lowPoints:[]},x={itemId:p,highPoints:[],lowPoints:[]},S={itemId:p,labelData:y,nodeData:v,fillData:x,strokeData:b,scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return S;const M=x.highPoints,A=x.lowPoints,k=b.highPoints,w=b.lowPoints;let C=!0;return this.processedData?.data.forEach(((e,i)=>{let{keys:n,datum:o,values:a}=e;const r=t.resolveProcessedDataDefsValues(f,{keys:n,values:a}),{xValue:s,yHighValue:h,yLowValue:p}=r,g=null==h||null==p?[]:m(s,h,p,!1),b=p>h;g.forEach((e=>{let{point:{x:t,y:n},enabled:a,size:r,itemId:u="",yValue:g}=e;v.push({index:i,series:this,itemId:u,datum:o,midPoint:{x:t,y:n},yHighValue:h,yLowValue:p,xValue:s,xKey:l,yLowKey:c,yHighKey:d,point:{x:t,y:n,size:r},enabled:a});const f=this.createLabelData({point:{x:t,y:n},value:g,yLowValue:p,yHighValue:h,itemId:u,inverted:b,datum:o,series:this});y.push(f)}));const x=null!=s,S=null!=h&&null!=p,[I,D]=m(s,h??0,p??0,C);x&&S?(M.push(I),A.push(D),k.push(I),w.push(D),C=!1):u||(C=!0)})),S}createLabelData(e){let{point:t,value:i,itemId:n,inverted:o,datum:a,series:r}=e;const{xKey:s,yLowKey:l,yHighKey:c,xName:d,yName:u,yLowName:h,yHighName:p,label:g}=this.properties,{placement:f,padding:m=10}=g;let y=n;o&&(y="low"===n?"high":"low");const v="outside"===f&&"high"===y||"inside"===f&&"low"===y?-1:1;return{x:t.x,y:t.y+m*v,series:r,itemId:n,datum:a,text:this.getLabelText(g,{value:i,datum:a,itemId:n,xKey:s,yLowKey:l,yHighKey:c,xName:d,yLowName:h,yHighName:p,yName:u},Mue),textAlign:"center",textBaseline:-1===v?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(Due(e))}async updatePathNodes(e){const{opacity:t,visible:i}=e,[n,o]=e.paths,a=this.getStrokeWidth(this.properties.strokeWidth);o.setProperties({fill:void 0,lineJoin:o.lineCap="round",pointerEvents:Nue.None,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i}),n.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:Nue.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:a,opacity:t,visible:i}),Sue(this,o),Sue(this,n)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){this.updateFillPath(e,t),this.updateStrokePath(e,t)}updateFillPath(e,t){const{interpolation:i}=this.properties,{fillData:n}=t,[o]=e;o.path.clear();for(const a of wue(n.highPoints))kue(Cue(n.highPoints,a),o,i),kue(Iue(n.lowPoints,a),o,i,!0),o.path.closePath();o.checkPathDirty()}updateStrokePath(e,t){const{interpolation:i}=this.properties,{strokeData:n}=t,[,o]=e;o.path.clear(!0);for(const a of wue(n.highPoints))kue(Cue(n.highPoints,a),o,i),kue(Cue(n.lowPoints,a),o,i);o.checkPathDirty()}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yLowKey:o,yHighKey:a,marker:r,fill:s,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u}=this.properties,h=lue(i&&this.properties.highlightStyle.item,r.getStyle(),{fill:s,fillOpacity:d,stroke:l,strokeWidth:c,strokeOpacity:u});t.each(((e,t)=>{this.updateMarkerStyle(e,r,{datum:t,highlighted:i,xKey:n,yHighKey:a,yLowKey:o},h)})),i||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,(e=>{e.pointerEvents=Nue.None}))}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{cue(e,this.properties.label,t)}))}getHighlightLabelData(e,t){const i=e.filter((e=>e.datum===t.datum));return i.length>0?i:void 0}getHighlightData(e,t){const i=e.filter((e=>e.datum===t.datum));return i.length>0?i:void 0}getTooltipHtml(e){const t=this.axes[sue.X],i=this.axes[sue.Y];if(!this.properties.isValid()||!t||!i)return MW.EMPTY_TOOLTIP_CONTENT;const{id:n}=this,{xKey:o,yLowKey:a,yHighKey:r,xName:s,yName:l,yLowName:c,yHighName:d,fill:u,tooltip:h}=this.properties,{datum:p,itemId:g,xValue:f,yLowValue:m,yHighValue:y}=e,v=u??"gray",b=Eue(t.formatDatum(f)),x=Eue(i.formatDatum(m)),S=Eue(i.formatDatum(y)),M=s??o,A=c??a,k=d??r,w=Eue(l),C=l?`<b>${Eue(M)}</b>: ${b}<br><b>${Eue(A)}</b>: ${x}<br><b>${Eue(k)}</b>: ${S}<br>`:`${b}: ${x} - ${S}`;return h.toTooltipHtml({title:w,content:C,backgroundColor:v},{seriesId:n,itemId:g,datum:p,xKey:o,yLowKey:a,yHighKey:r,xName:s,yLowName:c,yHighName:d,yName:l,color:v,title:w,yHighValue:y,yLowValue:m})}getLegendData(e){if("category"!==e)return[];const{yLowKey:t,yHighKey:i,yName:n,yLowName:o,yHighName:a,fill:r,stroke:s,strokeWidth:l,strokeOpacity:c,lineDash:d,visible:u,marker:h}=this.properties,p=n??`${o??t} - ${a??i}`;return[{legendType:"category",id:this.id,itemId:`${t}-${i}`,seriesId:this.id,enabled:u,label:{text:`${p}`},symbols:[{marker:{shape:h.shape,fill:h.fill??r,stroke:h.stroke??s,fillOpacity:h.fillOpacity,strokeOpacity:h.strokeOpacity,strokeWidth:h.strokeWidth},line:{stroke:s,strokeOpacity:c,strokeWidth:l,lineDash:d}}]}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new rW.Group}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:o}=e,{animationManager:a}=this.ctx;this.updateAreaPaths(o,n),fue(this,a,...o),mue([t],gue),yue(this,a,t),vue(this,"labels",a,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{contextData:t,paths:i}=e;super.animateWaitingUpdateReady(e),this.updateAreaPaths(i,t)}getFormattedMarkerStyle(e){const{xKey:t,yLowKey:i,yHighKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yLowKey:i,yHighKey:n,highlighted:!0})}computeFocusBounds(e){const t=Aue(this,e),i=Aue(this,{...e,datumIndex:e.datumIndex+1});if(t&&i)return rW.BBox.merge([t,i])}};Tue.className="RangeAreaSeries",Tue.type="range-area";var Rue={series:{fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,size:6,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR},interpolation:{type:"linear",tension:1,position:"end"}},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{markerPaletteFactory:Pue}=MW,zue={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:e=>new Tue(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.BOTTOM}],themeTemplate:Rue,paletteFactory:e=>{const{marker:t}=Pue(e);return{fill:t.fill,stroke:t.stroke,marker:t}}},{DropShadow:jue,Label:Bue}=rW,{AbstractBarSeriesProperties:$ue,SeriesTooltip:Fue,Validate:_ue,COLOR_STRING:Hue,FUNCTION:Wue,LINE_DASH:Gue,OBJECT:Vue,PLACEMENT:Uue,POSITIVE_NUMBER:Kue,RATIO:Yue,STRING:Xue}=MW,Zue=class extends Bue{constructor(){super(...arguments),this.placement="inside",this.padding=6}};GW([_ue(Uue)],Zue.prototype,"placement",2),GW([_ue(Kue)],Zue.prototype,"padding",2);var que=class extends $ue{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=(new jue).set({enabled:!1}),this.label=new Zue,this.tooltip=new Fue}};GW([_ue(Xue)],que.prototype,"xKey",2),GW([_ue(Xue)],que.prototype,"yLowKey",2),GW([_ue(Xue)],que.prototype,"yHighKey",2),GW([_ue(Xue,{optional:!0})],que.prototype,"xName",2),GW([_ue(Xue,{optional:!0})],que.prototype,"yName",2),GW([_ue(Xue,{optional:!0})],que.prototype,"yLowName",2),GW([_ue(Xue,{optional:!0})],que.prototype,"yHighName",2),GW([_ue(Hue)],que.prototype,"fill",2),GW([_ue(Yue)],que.prototype,"fillOpacity",2),GW([_ue(Hue)],que.prototype,"stroke",2),GW([_ue(Kue)],que.prototype,"strokeWidth",2),GW([_ue(Yue)],que.prototype,"strokeOpacity",2),GW([_ue(Gue)],que.prototype,"lineDash",2),GW([_ue(Kue)],que.prototype,"lineDashOffset",2),GW([_ue(Kue)],que.prototype,"cornerRadius",2),GW([_ue(Wue,{optional:!0})],que.prototype,"itemStyler",2),GW([_ue(Vue)],que.prototype,"shadow",2),GW([_ue(Vue)],que.prototype,"label",2),GW([_ue(Vue)],que.prototype,"tooltip",2);var{SeriesNodePickMode:Que,valueProperty:Jue,keyProperty:ehe,ChartAxisDirection:the,getRectConfig:ihe,updateRect:nhe,checkCrisp:ohe,updateLabelNode:ahe,SMALLEST_KEY_INTERVAL:rhe,LARGEST_KEY_INTERVAL:she,diff:lhe,prepareBarAnimationFunctions:che,midpointStartingBarPosition:dhe,resetBarSelectionsFn:uhe,fixNumericExtent:hhe,seriesLabelFadeInAnimation:phe,resetLabelFn:ghe,animationValidation:fhe,createDatumId:mhe,formatValue:yhe,computeBarFocusBounds:vhe}=MW,{Rect:bhe,PointerEvents:xhe,motion:She}=rW,{sanitizeHtml:Mhe}=SW,{ContinuousScale:Ahe}=xW,khe=class extends MW.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},whe=class extends MW.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[Que.AXIS_ALIGNED,Que.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:uhe,label:ghe}}),this.properties=new que,this.NodeEvent=khe}async processData(e){if(!this.properties.isValid())return;const{xKey:t,yLowKey:i,yHighKey:n}=this.properties,o=this.getCategoryAxis()?.scale,a=this.getValueAxis()?.scale,{isContinuousX:r,xScaleType:s,yScaleType:l}=this.getScaleInformation({xScale:o,yScale:a}),c=[];this.ctx.animationManager.isSkipped()||(this.processedData&&c.push(lhe(this.processedData)),c.push(fhe()));const d=this.visible?{}:{forceValue:0},{processedData:u}=await this.requestDataModel(e,this.data,{props:[ehe(t,s,{id:"xValue"}),Jue(i,l,{id:"yLowValue",invalidValue:null,...d}),Jue(n,l,{id:"yHighValue",invalidValue:null,...d}),...r?[rhe,she]:[],...c],groupByKeys:!0});this.smallestDataInterval=u.reduced?.smallestKeyInterval,this.largestDataInterval=u.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[n],values:o}=t.domain;if(e===this.getCategoryDirection()){const e=i.resolveProcessedDataDefById(this,"xValue");return"key"===e?.def.type&&"category"===e?.def.valueType?n:this.padBandExtent(n)}{const e=o[i.resolveProcessedDataIndexById(this,"yLowValue")],t=o[i.resolveProcessedDataIndexById(this,"yHighValue")],n=[e[0]>t[0]?t[0]:e[0],t[1]<e[1]?e[1]:t[1]];return hhe(n)}}async createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:n,properties:{visible:o}}=this,a=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&a&&r&&t))return;const s=a.scale,l=r.scale,c=this.getBarDirection()===the.X,{xKey:d,yLowKey:u,yHighKey:h,fill:p,stroke:g,strokeWidth:f}=this.properties,m=`${u}-${h}`,y={itemId:m,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!o)return y;const v=t.resolveProcessedDataIndexById(this,"yLowValue"),b=t.resolveProcessedDataIndexById(this,"yHighValue"),x=t.resolveProcessedDataIndexById(this,"xValue"),{barWidth:S,groupIndex:M}=this.updateGroupScale(a),A=Ahe.is(s)?-.5*S:0;return n?.data.forEach(((e,t)=>{let{keys:n,datum:o,values:a}=e;a.forEach(((e,a)=>{const r=n[x],k=Math.round(s.convert(r))+i.convert(String(M))+A,w=e[v],C=e[b],I=Math.min(w,C),D=Math.max(w,C),N=Math.round(l.convert(I)),E=Math.round(l.convert(D)),O=N,L=Math.max(f,Math.abs(O-E)),T={x:c?Math.min(E,O):k,y:c?k:Math.min(E,O),width:c?L:S,height:c?S:L},R={x:T.x+T.width/2,y:T.y+T.height/2},P=this.createLabelData({rect:T,barAlongX:c,yLowValue:I,yHighValue:D,datum:o[a],series:this}),z={index:t,valueIndex:a,series:this,itemId:m,datum:o[a],xValue:r,yLowValue:w,yHighValue:C,yLowKey:u,yHighKey:h,xKey:d,x:T.x,y:T.y,width:T.width,height:T.height,midPoint:R,fill:p,stroke:g,strokeWidth:f,opacity:1,labels:P};y.nodeData.push(z),y.labelData.push(...P)}))})),y}createLabelData(e){let{rect:t,barAlongX:i,yLowValue:n,yHighValue:o,datum:a,series:r}=e;const{xKey:s,yLowKey:l,yHighKey:c,xName:d,yLowName:u,yHighName:h,yName:p,label:g}=this.properties,f={datum:a,xKey:s,yLowKey:l,yHighKey:c,xName:d,yLowName:u,yHighName:h,yName:p},{placement:m,padding:y}=g,v=y*("outside"===m?1:-1),b={x:t.x+(i?-v:t.width/2),y:t.y+(i?t.height/2:t.height+v),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(g,{itemId:"low",value:n,...f},yhe),itemId:"low",datum:a,series:r},x={x:t.x+(i?t.width+v:t.width/2),y:t.y+(i?t.height/2:-v),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(g,{itemId:"high",value:o,...f},yhe),itemId:"high",datum:a,series:r};return"outside"===m&&(b.textAlign=i?"right":"center",b.textBaseline=i?"middle":"top",x.textAlign=i?"left":"center",x.textBaseline=i?"middle":"bottom"),[b,x]}nodeFactory(){return new bhe}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n,void 0,(e=>this.getDatumId(e)))}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,ctx:o}=this,{yLowKey:a,yHighKey:r,highlightStyle:{item:s},fillOpacity:l,strokeOpacity:c,strokeWidth:d,lineDash:u,lineDashOffset:h,itemStyler:p,shadow:g}=this.properties,f=this.axes[the.X],m=ohe(f?.scale,f?.visibleRange,this.smallestDataInterval,this.largestDataInterval),y=this.getCategoryDirection()===the.X;t.each(((e,t)=>{const f={fill:t.fill,stroke:t.stroke,fillOpacity:l,strokeOpacity:c,lineDash:u,lineDashOffset:h,fillShadow:g,strokeWidth:this.getStrokeWidth(d),cornerRadius:this.properties.cornerRadius},v=y?t.width>0:t.height>0,b=ihe({datum:t,isHighlighted:i,style:f,highlightStyle:s,itemStyler:p,seriesId:n,ctx:o,yLowKey:a,yHighKey:r});b.crisp=m,b.visible=v,nhe(e,b)}))}getHighlightLabelData(e,t){const i=e.filter((e=>e.datum===t.datum));return i.length>0?i:void 0}async updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,(e=>{e.pointerEvents=xhe.None}))}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{ahe(e,this.properties.label,t)}))}getTooltipHtml(e){const{id:t,ctx:{callbackCache:i}}=this,n=this.getCategoryAxis(),o=this.getValueAxis();if(!this.properties.isValid()||!n||!o)return MW.EMPTY_TOOLTIP_CONTENT;const{xKey:a,yLowKey:r,yHighKey:s,xName:l,yLowName:c,yHighName:d,yName:u,fill:h,strokeWidth:p,itemStyler:g,tooltip:f,fillOpacity:m,stroke:y,strokeOpacity:v,lineDash:b,lineDashOffset:x,cornerRadius:S}=this.properties,{datum:M,xValue:A,yLowValue:k,yHighValue:w}=e;let C;g&&(C=i.call(g,{highlighted:!1,seriesId:t,datum:M,xKey:a,yLowKey:r,yHighKey:s,fill:h,fillOpacity:m,stroke:y,strokeWidth:p,strokeOpacity:v,lineDash:b,lineDashOffset:x,cornerRadius:S}));const I=C?.fill??h??"gray",D=Mhe(n.formatDatum(A)),N=Mhe(o.formatDatum(k)),E=Mhe(o.formatDatum(w)),O=l??a,L=c??r,T=d??s,R=Mhe(u),P={title:R,content:u?`<b>${Mhe(O)}</b>: ${D}<br><b>${Mhe(L)}</b>: ${N}<br><b>${Mhe(T)}</b>: ${E}<br>`:`${D}: ${N} - ${E}`,backgroundColor:I};return f.toTooltipHtml(P,{itemId:void 0,datum:M,xKey:a,xName:l,yLowKey:r,yLowName:c,yHighKey:s,yHighName:d,yName:u,color:I,seriesId:t,title:R})}getLegendData(e){const{id:t,visible:i}=this;if("category"!==e)return[];const{fill:n,stroke:o,strokeWidth:a,fillOpacity:r,strokeOpacity:s,yName:l,yLowName:c,yHighName:d,yLowKey:u,yHighKey:h}=this.properties;return[{legendType:"category",id:t,itemId:`${u}-${h}`,seriesId:t,enabled:i,label:{text:`${l??`${c??u} - ${d??h}`}`},symbols:[{marker:{fill:n,stroke:o,fillOpacity:r,strokeOpacity:s,strokeWidth:a}}]}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i}=e;const n=che(dhe(this.isVertical(),"normal"));She.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],n),phe(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i}=e,{processedData:n}=this,o=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=che(dhe(this.isVertical(),"fade"));She.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],a,((e,t)=>mhe(t.xValue,t.valueIndex)),o),phe(this,"labels",this.ctx.animationManager,i)}getDatumId(e){return`${e.xValue}-${e.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return vhe(this.contextNodeData?.nodeData[t],this.contentGroup,i)}};whe.className="RangeBarSeries",whe.type="range-bar";var Che={series:{direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,placement:"inside"}},axes:{[vW.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},Ihe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:e=>new whe(e),tooltipDefaults:{range:"exact"},defaultAxes:vW.swapAxisCondition([{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.BOTTOM}],(e=>"horizontal"===e?.direction)),themeTemplate:Che,paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}},groupable:!0};function Dhe(e){e.nodes.sort(((e,t)=>Math.round(100*(e.datum.y-t.datum.y))/100||-(e.datum.size-t.datum.size)))}function Nhe(e,t,i,n,o,a,r,s){const l=(i-e)/(n-t),c=(r-o)/(s-a),d=(l*c*(a-t)+e*c-o*l)/(c-l);return e<i?d>e&&d<Math.min(i,r):d<e&&d>Math.max(i,r)}function Ehe(e,t){let i=!1;const n=e.nodes.filter((e=>1===t(e).length));let o=!0;for(let a=0;o&&a<n.length;a+=1){o=!1;for(let e=0;e<n.length-1;e+=1){const{datum:a}=n[e],r=t(n[e])[0].node.datum,{datum:s}=n[e+1],l=t(n[e+1])[0].node.datum;if(!(Nhe(a.x,a.y,r.x,r.y,s.x,s.y,l.x,l.y)||Nhe(a.x,a.y+a.height/2,r.x,r.y+r.height/2,s.x,s.y+s.height/2,l.x,l.y+l.height/2)||Nhe(a.x,a.y+a.height,r.x,r.y+r.height,s.x,s.y+s.height,l.x,l.y+l.height)))continue;const c=n[e];n[e]=n[e+1],n[e+1]=c;const d=a.y;a.y=s.y+s.height-a.height,s.y=d,i=!0,o=!0}}return i}function Ohe(e){let t=!1;return Dhe(e),t=Ehe(e,(e=>e.linksBefore))||t,t=Ehe(e,(e=>e.linksAfter))||t,t}function Lhe(e,t,i,n){return e.nodes.forEach((e=>{let{datum:t,linksBefore:o,linksAfter:a}=e;const r=1===n?a:o,s=function(e){if(0===e.length)return;let t=0,i=0;for(const{node:{datum:n}}of e)t+=n.y*n.size,i+=n.size;return t/i}(1===n?o:a);if(null!=s){const e=0!==r.length?i:1;t.y=t.y+(s-t.y)*e}})),function(e,t){const{nodes:i}=e,{seriesRectHeight:n,nodeSpacing:o}=t;Dhe(e);let a=0,r=0;for(const{datum:l}of i){const e=Math.max(r-l.y,0);l.y+=e,a+=e,r=l.y+l.height+o}if(r-o<n)return a>0;let s=n;for(let l=i.length-1;l>=0;l-=1){const{datum:e}=i[l],t=e.y+e.height,n=Math.min(s-t,0);e.y+=n,a+=n,s=e.y-o}return!0}(e,t)}function The(e,t,i){let n=!1;for(const o of e)n=Lhe(o,t,i,1)||n;return n}function Rhe(e,t,i){let n=!1;for(let o=e.length-1;o>=0;o-=1)n=Lhe(e[o],t,i,-1)||n;return n}function Phe(e){let t=!1;for(let i=e.length-1;i>=0;i-=1)t=Ohe(e[i])||t;return t}var{BBox:zhe,Path:jhe,ScenePathChangeDetection:Bhe,splitBezier:$he}=rW;function Fhe(e,t,i,n,o,a,r,s,l,c){let d,u;if(o!==i&&l!==r){const e=-(n-t)/(o-i),c=-(s-a)/(l-r);d=(r-i+e*t-c*a)/(e-c),u=e*(d-t)+i}else if(o===i&&l!==r){d=t;u=-(s-a)/(l-r)*(d-s)+l}else{if(o===i||l!==r)throw new Error("Offsetting flat bezier curve");d=s;u=-(n-t)/(o-i)*(d-t)+i}const h=Math.hypot(i-u,t-d),p=(h+c)/h,g=Math.hypot(l-u,s-d),f=(g+c)/g,m=d+(n-d)*p,y=u+(o-u)*p,v=d+(a-d)*f,b=u+(r-u)*f,x=d+(s-d)*f,S=u+(l-u)*f;e.cubicCurveTo(m,y,v,b,x,S)}var _he=class extends jhe{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const e=Math.min(this.x1,this.x2),t=Math.max(this.x1,this.x2)-e,i=Math.min(this.y1,this.y2),n=Math.max(this.y1,this.y2)-i+this.height;return new zhe(e,i,t,n)}updatePath(){const{path:e,inset:t}=this;e.clear();const i=this.x1+t,n=this.x2-t,o=this.y1+t,a=this.y2+t,r=this.height-2*t;if(r<0||i>n)return;const s=i,l=o+r/2,c=(i+n)/2,d=o+r/2,u=(i+n)/2,h=a+r/2,p=n,g=a+r/2;if(e.moveTo(s,l-r/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)e.cubicCurveTo(c,d-r/2,u,h-r/2,p,g-r/2),e.lineTo(p,g+r/2),e.cubicCurveTo(u,h+r/2,c,d+r/2,s,l+r/2);else{const[t,i]=$he(s,l,c,d,u,h,p,g,.5),n=(a>o?1:-1)*r/2;Fhe(e,t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y,n),Fhe(e,i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y,-n),e.lineTo(p,g+r/2),Fhe(e,i[3].x,i[3].y,i[2].x,i[2].y,i[1].x,i[1].y,i[0].x,i[0].y,n),Fhe(e,t[3].x,t[3].y,t[2].x,t[2].y,t[1].x,t[1].y,t[0].x,t[0].y,-n)}e.closePath()}};GW([Bhe()],_he.prototype,"x1",2),GW([Bhe()],_he.prototype,"x2",2),GW([Bhe()],_he.prototype,"y1",2),GW([Bhe()],_he.prototype,"y2",2),GW([Bhe()],_he.prototype,"height",2),GW([Bhe()],_he.prototype,"inset",2);var{BaseProperties:Hhe,SeriesTooltip:Whe,SeriesProperties:Ghe,ARRAY:Vhe,COLOR_STRING:Uhe,COLOR_STRING_ARRAY:Khe,FUNCTION:Yhe,LINE_DASH:Xhe,OBJECT:Zhe,POSITIVE_NUMBER:qhe,RATIO:Qhe,STRING:Jhe,UNION:epe,Validate:tpe}=MW,{Label:ipe}=rW,npe=epe(["left","right","center","justify"],"a justification value"),ope=class extends ipe{constructor(){super(...arguments),this.spacing=1}};GW([tpe(qhe)],ope.prototype,"spacing",2);var ape=class extends Hhe{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};GW([tpe(Uhe,{optional:!0})],ape.prototype,"fill",2),GW([tpe(Qhe)],ape.prototype,"fillOpacity",2),GW([tpe(Uhe,{optional:!0})],ape.prototype,"stroke",2),GW([tpe(Qhe)],ape.prototype,"strokeOpacity",2),GW([tpe(qhe)],ape.prototype,"strokeWidth",2),GW([tpe(Xhe)],ape.prototype,"lineDash",2),GW([tpe(qhe)],ape.prototype,"lineDashOffset",2),GW([tpe(Yhe,{optional:!0})],ape.prototype,"itemStyler",2);var rpe=class extends Hhe{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};GW([tpe(qhe)],rpe.prototype,"spacing",2),GW([tpe(qhe)],rpe.prototype,"width",2),GW([tpe(npe)],rpe.prototype,"alignment",2),GW([tpe(Uhe,{optional:!0})],rpe.prototype,"fill",2),GW([tpe(Qhe)],rpe.prototype,"fillOpacity",2),GW([tpe(Uhe,{optional:!0})],rpe.prototype,"stroke",2),GW([tpe(Qhe)],rpe.prototype,"strokeOpacity",2),GW([tpe(qhe)],rpe.prototype,"strokeWidth",2),GW([tpe(Xhe)],rpe.prototype,"lineDash",2),GW([tpe(qhe)],rpe.prototype,"lineDashOffset",2),GW([tpe(Yhe,{optional:!0})],rpe.prototype,"itemStyler",2);var spe=class extends Ghe{constructor(){super(...arguments),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fills=[],this.strokes=[],this.label=new ope,this.link=new ape,this.node=new rpe,this.tooltip=new Whe}};GW([tpe(Vhe,{optional:!0})],spe.prototype,"nodes",2),GW([tpe(Jhe)],spe.prototype,"fromKey",2),GW([tpe(Jhe)],spe.prototype,"toKey",2),GW([tpe(Jhe)],spe.prototype,"idKey",2),GW([tpe(Jhe,{optional:!0})],spe.prototype,"idName",2),GW([tpe(Jhe,{optional:!0})],spe.prototype,"labelKey",2),GW([tpe(Jhe,{optional:!0})],spe.prototype,"labelName",2),GW([tpe(Jhe,{optional:!0})],spe.prototype,"sizeKey",2),GW([tpe(Jhe,{optional:!0})],spe.prototype,"sizeName",2),GW([tpe(Khe)],spe.prototype,"fills",2),GW([tpe(Khe)],spe.prototype,"strokes",2),GW([tpe(Zhe)],spe.prototype,"label",2),GW([tpe(Zhe)],spe.prototype,"link",2),GW([tpe(Zhe)],spe.prototype,"node",2),GW([tpe(Zhe)],spe.prototype,"tooltip",2);var{SeriesNodePickMode:lpe,CachedTextMeasurerPool:cpe,TextWrapper:dpe,TextUtils:upe,createDatumId:hpe,EMPTY_TOOLTIP_CONTENT:ppe}=MW,{sanitizeHtml:gpe,Logger:fpe}=SW,{Rect:mpe,BBox:ype}=rW,vpe=class extends q6{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,pickModes:[lpe.NEAREST_NODE,lpe.EXACT_SHAPE_MATCH]}),this.properties=new spe}isLabelEnabled(){return(null!=this.properties.labelKey||null==this.nodes)&&this.properties.label.enabled}linkFactory(){return new _he}nodeFactory(){return new mpe}async createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:o,sizeKey:a,label:{spacing:r},node:{spacing:s,width:l,alignment:c}}=this.properties,{nodeGraph:d,links:u,maxPathLength:h}=this.getNodeGraph((e=>({...e,size:0,x:NaN,y:NaN,width:l,height:NaN})),(e=>({...e,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN})),{includeCircularReferences:!1}),p=d,g=this.isLabelEnabled()?(t-l)*(1-h/(h+1)):0,f=(t-l-2*g)/(h-1),m=[];for(let A=0;A<h;A+=1){const e=g+A*f;m.push({index:A,size:0,nodes:[],x:e})}p.forEach((e=>{const{datum:t,linksBefore:i,linksAfter:r,maxPathLengthBefore:s,maxPathLengthAfter:l}=e,d=Math.max(i.reduce(((e,t)=>{let{link:i}=t;return e+i.size}),0),r.reduce(((e,t)=>{let{link:i}=t;return e+i.size}),0));if(0===i.length&&0===r.length||0===d)return void(e.columnIndex=-1);let u;switch(c){case"left":u=m[s];break;case"right":u=m[h-1-l];break;case"center":if(0!==i.length)u=m[s];else if(0!==r.length){const e=r.reduce(((e,t)=>Math.min(e,t.node.maxPathLengthBefore)),h)-1;u=m[e]}else u=m[0];break;case"justify":u=0===r.length?m[h-1]:m[s]}t.x=u.x,t.size=d;const p=this.getLabelText(this.properties.label,{datum:t.datum,value:t.label,fromKey:n,toKey:o,sizeKey:a,size:d},(e=>String(e)));t.label=String(p),u.nodes.push(e),u.size+=d,e.columnIndex=u.index})),p.forEach((e=>{let t=1/0,i=0;e.linksAfter.forEach((e=>{const n=e.node,{columnIndex:o}=n;o<t?(t=o,i=n.datum.size):o===t&&(i=Math.max(i,n.datum.size))})),e.closestColumnIndex=t,e.maxSizeOfClosestNodesAfter=i}));const y=m.reduce(((e,t)=>{let{size:n,nodes:o}=t;const a=(1-(o.length-1)*(s/i))/n;return Math.min(e,a)}),1/0);for(let A=m.length-1;A>=0;A-=1){m[A].nodes.sort(((e,t)=>e.closestColumnIndex-t.closestColumnIndex||e.maxSizeOfClosestNodesAfter-t.maxSizeOfClosestNodesAfter||e.datum.size-t.datum.size))}!function(e,t){e.forEach((e=>{!function(e,t){let{nodes:i,size:n}=e,{seriesRectHeight:o,nodeSpacing:a,sizeScale:r}=t,s=(o-(o*n*r+a*(i.length-1)))/2;i.forEach((e=>{let{datum:t}=e;const i=o*t.size*r;t.y=s,t.height=i,s+=i+a}))}(e,t)}));let i=!1;for(let n=0;n<6;n+=1){const n=The(e,t,1);i=Rhe(e,t,.5);const o=Phe(e);if(!n&&!i&&!o)break}i&&(The(e,t,1),Phe(e))}(m,{seriesRectHeight:i,nodeSpacing:s,sizeScale:y});let v=!1;if(p.forEach((e=>{let{datum:t,linksBefore:n,linksAfter:o}=e;v||(v=t.height<0);const a=t.y+t.height,r=e=>e.sort(((e,i)=>{const n=e.node.datum,o=i.node.datum,r=n.y+n.height,s=o.y+o.height;return Math.atan2(n.y-t.y,Math.abs(n.x-t.x))-Math.atan2(o.y-t.y,Math.abs(o.x-t.x))+(Math.atan2(r-a,Math.abs(n.x-t.x))-Math.atan2(s-a,Math.abs(o.x-t.x)))}));let s=t.y;r(n).forEach((e=>{let{link:t}=e;t.y2=s,s+=t.size*i*y}));let l=t.y;r(o).forEach((e=>{let{link:t}=e;t.y1=l,l+=t.size*i*y}))})),v)return void fpe.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");const b=[],x=[],{fontSize:S}=this.properties.label,M=this.properties.label.getFont();return m.forEach(((e,i)=>{const n=0===i,o=i===m.length-1;let a=-1/0;e.nodes.sort(((e,t)=>e.datum.y-t.datum.y)),e.nodes.forEach((e=>{let{datum:i}=e;if(i.midPoint={x:i.x+i.width/2,y:i.y+i.height/2},b.push(i),null==i.label)return;const s=n?i.x-r:i.x+i.width+r,l=i.y+i.height/2;let c;if(!n&&!o){const e=l-upe.getLineHeight(S),n=l+upe.getLineHeight(S);let o=t;p.forEach((t=>{let{datum:a}=t;a.x>i.x&&Math.max(a.y,e)<=Math.min(a.y+a.height,n)&&(o=Math.min(o,a.x-r))}));const a=o-i.x-2*r;c=dpe.wrapText(i.label,{maxWidth:a,maxHeight:i.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(null==c||""===c){const e=n||o?r:2*r;c=dpe.wrapText(i.label,{maxWidth:f-e,maxHeight:i.height,font:this.properties.label,textWrap:"never"})}if(""===c)return;const{height:d}=cpe.measureText(c,{font:M,textAlign:"left",textBaseline:"middle"}),u=l+d/2;l-d/2>=a&&(x.push({x:s,y:l,leading:n,text:c}),a=u)}))})),u.forEach((e=>{const{fromNode:t,toNode:n,size:o}=e;e.height=i*o*y,e.x1=t.x+l,e.x2=n.x,e.midPoint={x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2+e.height/2},b.push(e)})),{itemId:e,nodeData:b,labelData:x}}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:r}=this.properties.label;t.each(((e,t)=>{let{x:s,y:l,leading:c,text:d}=t;e.visible=!0,e.x=s,e.y=l,e.text=d,e.fill=i,e.fontStyle=n,e.fontWeight=o,e.fontSize=a,e.fontFamily=r,e.textAlign=c?"right":"left",e.textBaseline="middle"}))}async updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>hpe([e.type,e.id])))}async updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:o,ctx:{callbackCache:a}}=this,{fromKey:r,toKey:s,sizeKey:l}=this.properties,{fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,itemStyler:f}=this.properties.node,m=i?o.highlightStyle.item:void 0,y=this.getStrokeWidth(o.node.strokeWidth);t.each(((e,t)=>{const o=c??t.fill,v=u??t.stroke;let b;if(null!=f){const{label:e,size:c}=t;b=a.call(f,{seriesId:n,datum:t.datum,label:e,size:c,fromKey:r,toKey:s,sizeKey:l,fill:o,fillOpacity:d,strokeOpacity:h,stroke:v,strokeWidth:y,lineDash:p,lineDashOffset:g,highlighted:i})}e.x=t.x,e.y=t.y,e.width=Math.max(t.width,0),e.height=Math.max(t.height,0),e.fill=m?.fill??b?.fill??o,e.fillOpacity=m?.fillOpacity??b?.fillOpacity??d,e.stroke=m?.stroke??b?.stroke??v,e.strokeOpacity=m?.strokeOpacity??b?.strokeOpacity??h,e.strokeWidth=m?.strokeWidth??b?.strokeWidth??y,e.lineDash=m?.lineDash??b?.lineDash??p,e.lineDashOffset=m?.lineDashOffset??b?.lineDashOffset??g}))}async updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>hpe([e.type,e.index,e.fromNode.id,e.toNode.id])))}async updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:o,ctx:{callbackCache:a}}=this,{fromKey:r,toKey:s,sizeKey:l}=o,{fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:p,lineDashOffset:g,itemStyler:f}=o.link,m=i?o.highlightStyle.item:void 0,y=this.getStrokeWidth(o.link.strokeWidth);t.each(((e,t)=>{const o=c??t.fromNode.fill,v=u??t.fromNode.stroke;let b;null!=f&&(b=a.call(f,{seriesId:n,datum:t.datum,fromKey:r,toKey:s,sizeKey:l,fill:o,fillOpacity:d,strokeOpacity:h,stroke:v,strokeWidth:y,lineDash:p,lineDashOffset:g,highlighted:i})),e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.height=t.height,e.fill=m?.fill??b?.fill??o,e.fillOpacity=m?.fillOpacity??b?.fillOpacity??d,e.stroke=m?.stroke??b?.stroke??v,e.strokeOpacity=m?.strokeOpacity??b?.strokeOpacity??h,e.strokeWidth=Math.min(m?.strokeWidth??b?.strokeWidth??y,t.height/2),e.lineDash=m?.lineDash??b?.lineDash??p,e.lineDashOffset=m?.lineDashOffset??b?.lineDashOffset??g,e.inset=e.strokeWidth/2}))}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:o}=this;if(!i||!o.isValid())return ppe;const{fromKey:a,toKey:r,sizeKey:s,sizeName:l,tooltip:c}=o,{datum:d,itemId:u,size:h}=e;let p;const g=[];let f;if(0===e.type){const{fillOpacity:i,strokeOpacity:c,strokeWidth:u,lineDash:m,lineDashOffset:y,itemStyler:v}=o.link,{fromNode:b,toNode:x}=e;p=`${b.label??b.id} - ${x.label??x.id}`,null!=s&&g.push(gpe(`${l??s}: `+h)),f=o.link.fill??b.fill;const S=o.link.stroke??b.stroke;let M;null!=v&&(M=n.call(v,{seriesId:t,datum:d.datum,fromKey:a,toKey:r,sizeKey:s,fill:f,fillOpacity:i,strokeOpacity:c,stroke:S,strokeWidth:u,lineDash:m,lineDashOffset:y,highlighted:!0})),f=M?.fill??f}else{const{fillOpacity:i,strokeOpacity:c,strokeWidth:u,lineDash:m,lineDashOffset:y,itemStyler:v}=o.node,{id:b,label:x}=e;p=x??b,null!=s&&g.push(gpe(`${l??s}: `+h)),f=o.link.fill??d.fill;const S=o.link.stroke??d.stroke;let M;null!=v&&(M=n.call(v,{seriesId:t,datum:d.datum,label:x,size:h,fromKey:a,toKey:r,sizeKey:s,fill:f,fillOpacity:i,strokeOpacity:c,stroke:S,strokeWidth:u,lineDash:m,lineDashOffset:y,highlighted:!0})),f=M?.fill??f}const m=g.join("<br>"),y=f;return c.toTooltipHtml({title:p,content:m,backgroundColor:y},{seriesId:t,datum:d,size:h,title:p,color:y,itemId:u,fromKey:a,toKey:r,sizeKey:s,sizeName:l,...this.getModuleTooltipParams()})}getLabelData(){return[]}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;const n=this.contextNodeData?.nodeData[t];if(1===n?.type){const{x:e,y:t,width:o,height:a}=n,r=new ype(e,t,o,a);return rW.Transformable.toCanvas(this.contentGroup,r).clip(i)}if(0!==n?.type);else for(const o of this.linkSelection)if(o.datum===n)return o.node}};vpe.className="SankeySeries",vpe.type="sankey";var{DEFAULT_FONT_FAMILY:bpe,DEFAULT_LABEL_COLOUR:xpe}=vW,Spe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"sankey",moduleFactory:e=>new vpe(e),tooltipDefaults:{range:"exact"},themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:bpe,color:xpe,fontSize:12,spacing:10},node:{spacing:20,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory(e){let{takeColors:t,colorsCount:i}=e;return t(i)}},{HierarchySeriesProperties:Mpe,HighlightStyle:Ape,SeriesTooltip:kpe,Validate:wpe,COLOR_STRING:Cpe,FUNCTION:Ipe,NUMBER:Dpe,OBJECT:Npe,POSITIVE_NUMBER:Epe,RATIO:Ope,STRING:Lpe}=MW,Tpe=class extends Ape{constructor(){super(...arguments),this.label=new z7,this.secondaryLabel=new z7}};GW([wpe(Lpe,{optional:!0})],Tpe.prototype,"fill",2),GW([wpe(Ope,{optional:!0})],Tpe.prototype,"fillOpacity",2),GW([wpe(Cpe,{optional:!0})],Tpe.prototype,"stroke",2),GW([wpe(Epe,{optional:!0})],Tpe.prototype,"strokeWidth",2),GW([wpe(Ope,{optional:!0})],Tpe.prototype,"strokeOpacity",2),GW([wpe(Npe)],Tpe.prototype,"label",2),GW([wpe(Npe)],Tpe.prototype,"secondaryLabel",2);var Rpe=class extends Mpe{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new Tpe,this.label=new z7,this.secondaryLabel=new j7,this.tooltip=new kpe}};GW([wpe(Lpe,{optional:!0})],Rpe.prototype,"sizeName",2),GW([wpe(Lpe,{optional:!0})],Rpe.prototype,"labelKey",2),GW([wpe(Lpe,{optional:!0})],Rpe.prototype,"secondaryLabelKey",2),GW([wpe(Ope)],Rpe.prototype,"fillOpacity",2),GW([wpe(Epe)],Rpe.prototype,"strokeWidth",2),GW([wpe(Ope)],Rpe.prototype,"strokeOpacity",2),GW([wpe(Epe)],Rpe.prototype,"cornerRadius",2),GW([wpe(Dpe,{optional:!0})],Rpe.prototype,"sectorSpacing",2),GW([wpe(Dpe,{optional:!0})],Rpe.prototype,"padding",2),GW([wpe(Ipe,{optional:!0})],Rpe.prototype,"itemStyler",2),GW([wpe(Npe)],Rpe.prototype,"highlightStyle",2),GW([wpe(Npe)],Rpe.prototype,"label",2),GW([wpe(Npe)],Rpe.prototype,"secondaryLabel",2),GW([wpe(Npe)],Rpe.prototype,"tooltip",2);var{fromToMotion:Ppe,formatValue:zpe}=MW,{Sector:jpe,ScalableGroup:Bpe,Selection:$pe,TransformableText:Fpe}=rW,{sanitizeHtml:_pe}=SW,Hpe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*Math.PI/e.sumSize,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Array.from(e,(()=>{})),o=t;for(const a of e.children){const e=o,t=o+a.sumSize*i;n[a.index]={start:e,end:t},Hpe(a,e,i,n),o=t}return n},Wpe=class extends MW.HierarchySeries{constructor(){super(...arguments),this.properties=new Rpe,this.groupSelection=$pe.select(this.contentGroup,Bpe),this.highlightSelection=$pe.select(this.highlightGroup,Bpe),this.angleData=[]}async processData(){const{childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:o,sizeKey:a,sizeName:r}=this.properties;await super.processData(),this.angleData=Hpe(this.rootNode),this.labelData=Array.from(this.rootNode,(s=>{let l,c,{datum:d,depth:u}=s;if(null!=d&&null!=u&&null!=n){const s=d[n];l=this.getLabelText(this.properties.label,{depth:u,datum:d,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:o,sizeKey:a,sizeName:r,value:s},zpe)}if(""===l&&(l=void 0),null!=d&&null!=u&&null!=o){const s=d[o];c=this.getLabelText(this.properties.secondaryLabel,{depth:u,datum:d,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:o,sizeKey:a,sizeName:r,value:s},zpe)}return""===c&&(c=void 0),null!=l||null!=c?{label:l,secondaryLabel:c}:void 0}))}async updateSelections(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:e}=this;if(null==e)return;if(null==e.seriesRect)return;const t=Array.from(this.rootNode),i=e=>{e.append([new jpe,new Fpe({tag:0}),new Fpe({tag:1})])};this.groupSelection.update(t,i,(e=>this.getDatumId(e))),this.highlightSelection.update(t,i,(e=>this.getDatumId(e)))}async updateNodes(){const{chart:e,data:t,maxDepth:i,labelData:n}=this;if(null==e||null==t||null==n)return;const{width:o,height:a}=e.seriesRect,{sectorSpacing:r=0,padding:s=0,cornerRadius:l,highlightStyle:c}=this.properties;this.contentGroup.translationX=o/2,this.contentGroup.translationY=a/2,this.highlightGroup.translationX=o/2,this.highlightGroup.translationY=a/2;const d=.5*r,u=Math.min(o,a)/2/(i+1),h=-Math.PI/2,p=this.ctx.highlightManager?.getActiveHighlight();(new Fpe).setFont(this.properties.label),this.rootNode.walk((e=>{const t=this.angleData[e.index];if(null!=e.depth&&null!=t){const i=t.end-t.start,n=(e.depth+.5)*u;e.midPoint.x=Math.cos(i)*n,e.midPoint.y=Math.sin(i)*n}}));const g=(e,t,i)=>{const{depth:n}=e,o=this.angleData[e.index];if(null==n||null==o)return void(t.visible=!1);let a,r,s,p,g;t.visible=!0,i&&(a=c.fill,r=c.fillOpacity,s=c.stroke,p=c.strokeWidth,g=c.strokeOpacity);const f=this.getSectorFormat(e,i),m=f?.fill??a??e.fill,y=f?.fillOpacity??r??this.properties.fillOpacity,v=f?.stroke??s??e.stroke,b=f?.strokeWidth??p??this.properties.strokeWidth,x=f?.strokeOpacity??g??this.properties.strokeOpacity;t.fill=m,t.fillOpacity=y,t.stroke=v,t.strokeWidth=b,t.strokeOpacity=x,t.centerX=0,t.centerY=0,t.innerRadius=n*u,t.outerRadius=(n+1)*u,t.startAngle=o.start+h,t.endAngle=o.end+h,t.inset=d+.5*b,t.cornerRadius=l};this.groupSelection.selectByClass(jpe).forEach((e=>{g(e.datum,e,!1)})),this.highlightSelection.selectByClass(jpe).forEach((e=>{const t=e.datum,i=p===t;e.visible=i,e.visible&&g(e.datum,e,i)}));const f=Array.from(this.rootNode,((e,t)=>{const{depth:i}=e,o=n[t],a=this.angleData[t];if(null==i||null==a)return;const r=i*u+d,l=(i+1)*u-d,c=r>d?d/r:d,p=l>d?d/l:d,g=a.start+c,f=a.end+c-g,m=a.start+p,y=a.end+p-m,v=D7(o?.label,this.properties.label,o?.secondaryLabel,this.properties.secondaryLabel,{padding:s},(t=>{if(0===i&&e.parent?.sumSize===e.sumSize){return{width:2*Math.sqrt(l**2-(.5*t)**2),height:t,meta:0}}const n=t,o=2*Math.sqrt(l**2-(r+n)**2),a=f<Math.PI?2*r*Math.tan(.5*f):1/0,s=Math.min(o,a),c=Math.PI/4;let d,u;return 0===i?(d=t,u=Math.sqrt(l**2-(d/2)**2)-t/(2*Math.tan(.5*y))):SW.normalizeAngle360(f)<c?(d=2*r*Math.tan(.5*f),u=Math.sqrt(l**2-(d/2)**2)-r):(u=0,d=0),s>=u?{width:s,height:n,meta:1}:{width:u,height:d,meta:2}}));if(null==v)return;const{width:b,height:x,meta:S,label:M,secondaryLabel:A}=v,k=h+(a.start+a.end)/2,w=(Math.sin(k)>=0?3:12)&(Math.cos(k)>=0?6:9);let C;switch(S){case 0:C=0;break;case 1:{const e=l-(u-x)*.58,t=Math.sqrt((l-s)**2-(b/2)**2);C=Math.min(e,t);break}case 2:if(0===i){C=.5*(x/(2*Math.tan(.5*f))+.5*b+(Math.sqrt(l**2-(.5*x)**2)-.5*b))}else C=.5*(r+l)}return{width:b,height:x,labelPlacement:S,circleQuarter:w,radius:C,theta:k,label:M,secondaryLabel:A}})),m=(e,t,i,n)=>{const{index:o,depth:a}=e,r=f?.[o],s=0===i?this.properties.label:this.properties.secondaryLabel,l=0===i?r?.label:r?.secondaryLabel;if(null==a||null==r||null==l)return void(t.visible=!1);const{height:c,labelPlacement:d,circleQuarter:u,radius:h,theta:p}=r;let g;if(n){g=(0===i?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color}switch(t.text=l.text,t.fontSize=l.fontSize,t.lineHeight=l.lineHeight,t.fontStyle=s.fontStyle,t.fontFamily=s.fontFamily,t.fontWeight=s.fontWeight,t.fill=g??s.color,d){case 0:t.textAlign="center",t.textBaseline="top",t.translationX=0,t.translationY=(0===i?0:c-l.height)-.5*c,t.rotation=0;break;case 1:{const e=0!==(3&u),n=0===i===!e?h:h-(c-l.height);t.textAlign="center",t.textBaseline=e?"bottom":"top",t.translationX=Math.cos(p)*n,t.translationY=Math.sin(p)*n,t.rotation=e?p-.5*Math.PI:p+.5*Math.PI;break}case 2:{const e=0!==(6&u),n=0===i===!e?.5*(c-l.height):.5*(l.height-c);t.textAlign="center",t.textBaseline="middle",t.translationX=Math.cos(p)*h+Math.cos(p+Math.PI/2)*n,t.translationY=Math.sin(p)*h+Math.sin(p+Math.PI/2)*n,t.rotation=e?p:p+Math.PI;break}}t.visible=!0};this.groupSelection.selectByClass(Fpe).forEach((e=>{m(e.datum,e,e.tag,!1)})),this.highlightSelection.selectByClass(Fpe).forEach((e=>{const t=e.datum,i=p===t;e.visible=i,e.visible&&m(e.datum,e,e.tag,i)}))}getSectorFormat(e,t){const{datum:i,fill:n,stroke:o,depth:a}=e,{ctx:{callbackCache:r},properties:{itemStyler:s}}=this;if(!s||null==i||null==a)return{};const{colorKey:l,childrenKey:c,labelKey:d,secondaryLabelKey:u,sizeKey:h,strokeWidth:p,fillOpacity:g,strokeOpacity:f}=this.properties;return r.call(s,{seriesId:this.id,highlighted:t,datum:i,depth:a,colorKey:l,childrenKey:c,labelKey:d,secondaryLabelKey:u,sizeKey:h,fill:n,fillOpacity:g,stroke:o,strokeWidth:p,strokeOpacity:f})}getTooltipHtml(e){const{id:t}=this,{tooltip:i,colorKey:n,colorName:o=n,labelKey:a,secondaryLabelKey:r,sizeKey:s,sizeName:l=s,childrenKey:c}=this.properties,{datum:d,depth:u}=e;if(null==d||null==u)return MW.EMPTY_TOOLTIP_CONTENT;const h=null!=a?d[a]:void 0,p=this.getSectorFormat(e,!1),g=p?.fill??e.fill;if(!i.renderer&&!h)return MW.EMPTY_TOOLTIP_CONTENT;const f=[],m=null!=r?d[r]:void 0;null!=m&&r!==n&&r!==s&&f.push(_pe(m));const y=null!=s?d[s]:void 0;null!=y&&f.push(`${l}: ${_pe(y)}`);const v=null!=n?d[n]:void 0;null!=v&&f.push(`${o}: ${_pe(v)}`);const b=f.join("<br>"),x={title:h,color:this.properties.label.color,backgroundColor:g,content:b};return i.toTooltipHtml(x,{depth:u,datum:d,colorKey:n,labelKey:a,secondaryLabelKey:r,sizeKey:s,title:h,color:g,seriesId:t,childrenKey:c,colorName:o,itemId:void 0,sizeName:l})}async createNodeData(){}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.groupSelection.selectByClass(jpe))}animateEmptyUpdateReady(e){let{datumSelections:t}=e;Ppe(this.id,"nodes",this.ctx.animationManager,t,{toFn:(e,t,i)=>({scalingX:1,scalingY:1}),fromFn:(e,t,i)=>"unknown"===i&&null!=t&&null==e.previousDatum?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}})}computeFocusBounds(e){let t;for(const{node:i,datum:n}of this.groupSelection)n===e&&(t=rW.Selection.selectByClass(i,rW.Sector)[0]);return t}};Wpe.className="SunburstSeries",Wpe.type="sunburst";var{DEFAULT_INSIDE_SERIES_LABEL_COLOUR:Gpe}=vW,Vpe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",moduleFactory:e=>new Wpe(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{label:{fontSize:14,minimumFontSize:9,color:Gpe,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:Gpe,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:Gpe},secondaryLabel:{color:Gpe},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:e=>{let{takeColors:t,colorsCount:i,themeTemplateParameters:n}=e;const{fills:o,strokes:a}=t(i);return{fills:o,strokes:a,colorRange:n.get(vW.DEFAULT_DIVERGING_SERIES_COLOR_RANGE)}}},{Label:Upe}=rW,{BaseProperties:Kpe,HierarchySeriesProperties:Ype,HighlightStyle:Xpe,SeriesTooltip:Zpe,Validate:qpe,BOOLEAN:Qpe,COLOR_STRING:Jpe,FUNCTION:ege,NUMBER:tge,OBJECT:ige,POSITIVE_NUMBER:nge,RATIO:oge,STRING:age,STRING_ARRAY:rge,TEXT_ALIGN:sge,VERTICAL_ALIGN:lge}=MW,cge=class extends Upe{constructor(){super(...arguments),this.spacing=0}};GW([qpe(tge)],cge.prototype,"spacing",2);var dge=class extends Kpe{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new cge}};GW([qpe(age,{optional:!0})],dge.prototype,"fill",2),GW([qpe(oge)],dge.prototype,"fillOpacity",2),GW([qpe(Jpe,{optional:!0})],dge.prototype,"stroke",2),GW([qpe(nge)],dge.prototype,"strokeWidth",2),GW([qpe(oge)],dge.prototype,"strokeOpacity",2),GW([qpe(nge)],dge.prototype,"cornerRadius",2),GW([qpe(sge)],dge.prototype,"textAlign",2),GW([qpe(nge)],dge.prototype,"gap",2),GW([qpe(nge)],dge.prototype,"padding",2),GW([qpe(Qpe)],dge.prototype,"interactive",2),GW([qpe(ige)],dge.prototype,"label",2);var uge=class extends Kpe{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new z7,this.secondaryLabel=new j7}};GW([qpe(age,{optional:!0})],uge.prototype,"fill",2),GW([qpe(oge)],uge.prototype,"fillOpacity",2),GW([qpe(Jpe,{optional:!0})],uge.prototype,"stroke",2),GW([qpe(nge,{optional:!0})],uge.prototype,"strokeWidth",2),GW([qpe(oge)],uge.prototype,"strokeOpacity",2),GW([qpe(nge)],uge.prototype,"cornerRadius",2),GW([qpe(sge)],uge.prototype,"textAlign",2),GW([qpe(lge)],uge.prototype,"verticalAlign",2),GW([qpe(nge)],uge.prototype,"gap",2),GW([qpe(nge)],uge.prototype,"padding",2),GW([qpe(ige)],uge.prototype,"label",2),GW([qpe(ige)],uge.prototype,"secondaryLabel",2);var hge=class extends Kpe{constructor(){super(...arguments),this.label=new z7}};GW([qpe(age,{optional:!0})],hge.prototype,"fill",2),GW([qpe(oge,{optional:!0})],hge.prototype,"fillOpacity",2),GW([qpe(Jpe,{optional:!0})],hge.prototype,"stroke",2),GW([qpe(nge,{optional:!0})],hge.prototype,"strokeWidth",2),GW([qpe(oge,{optional:!0})],hge.prototype,"strokeOpacity",2),GW([qpe(ige)],hge.prototype,"label",2);var pge=class extends Kpe{constructor(){super(...arguments),this.label=new z7,this.secondaryLabel=new j7}};GW([qpe(age,{optional:!0})],pge.prototype,"fill",2),GW([qpe(oge,{optional:!0})],pge.prototype,"fillOpacity",2),GW([qpe(Jpe,{optional:!0})],pge.prototype,"stroke",2),GW([qpe(nge,{optional:!0})],pge.prototype,"strokeWidth",2),GW([qpe(oge,{optional:!0})],pge.prototype,"strokeOpacity",2),GW([qpe(ige)],pge.prototype,"label",2),GW([qpe(ige)],pge.prototype,"secondaryLabel",2);var gge=class extends Xpe{constructor(){super(...arguments),this.group=new hge,this.tile=new pge}};GW([qpe(ige)],gge.prototype,"group",2),GW([qpe(ige)],gge.prototype,"tile",2);var fge=class extends Ype{constructor(){super(...arguments),this.highlightStyle=new gge,this.tooltip=new Zpe,this.group=new dge,this.tile=new uge,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};GW([qpe(age,{optional:!0})],fge.prototype,"sizeName",2),GW([qpe(age,{optional:!0})],fge.prototype,"labelKey",2),GW([qpe(age,{optional:!0})],fge.prototype,"secondaryLabelKey",2),GW([qpe(ege,{optional:!0})],fge.prototype,"itemStyler",2),GW([qpe(ige)],fge.prototype,"highlightStyle",2),GW([qpe(ige)],fge.prototype,"tooltip",2),GW([qpe(ige)],fge.prototype,"group",2),GW([qpe(ige)],fge.prototype,"tile",2),GW([qpe(rge)],fge.prototype,"undocumentedGroupFills",2),GW([qpe(rge)],fge.prototype,"undocumentedGroupStrokes",2);var{TextUtils:mge,TextWrapper:yge,formatValue:vge}=MW,{Rect:bge,Group:xge,BBox:Sge,Selection:Mge,Text:Age}=rW,{Color:kge,Logger:wge,clamp:Cge,isEqual:Ige,sanitizeHtml:Dge}=SW,Nge=new Age;function Ege(e){if("string"===typeof e&&!kge.validColorString(e)){const t="black";return wge.warnOnce(`invalid Treemap tile colour string "${e}". Affected treemap tiles will be coloured ${t}.`),t}return e}function Oge(e){return e.children.length>0?e.sumSize-e.size:e.size}var Lge={left:0,center:.5,right:1},Tge={top:0,middle:.5,bottom:1},Rge=class extends rW.Group{distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}},Pge=class extends MW.HierarchySeries{constructor(){super(...arguments),this.properties=new fge,this.groupSelection=Mge.select(this.contentGroup,Rge),this.highlightSelection=Mge.select(this.highlightGroup,xge)}groupTitleHeight(e,t){const i=this.labelData?.[e.index]?.label,{label:n}=this.properties.group;if(null!=i&&!(n.fontSize>t.width/3||n.fontSize>t.height/3)){const{height:e}=function(e,t){const{fontStyle:i,fontWeight:n,fontSize:o,fontFamily:a}=t;Nge.setProperties({text:e,fontStyle:i,fontWeight:n,fontSize:o,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:r,height:s}=Nge.getBBox();return{width:r,height:s}}(i,n);return Math.max(e,n.fontSize)}}getNodePadding(e,t){if(0===e.index)return{top:0,right:0,bottom:0,left:0};if(0===e.children.length){const{padding:e}=this.properties.tile;return{top:e,right:e,bottom:e,left:e}}const{label:{spacing:i},padding:n}=this.properties.group,o=this.groupTitleHeight(e,t);return{top:n+(null!=o?o+i:0),right:n,bottom:n,left:n}}async processData(){await super.processData();const{childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:o,sizeKey:a,sizeName:r,tile:s,group:l}=this.properties;this.data?.length?this.labelData=Array.from(this.rootNode,(c=>{let{datum:d,depth:u,children:h}=c;const p=0===h.length,g=p?s.label:l.label;let f,m;if(null!=d&&null!=u&&null!=n){const s=d[n];f=this.getLabelText(g,{depth:u,datum:d,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:o,sizeKey:a,sizeName:r,value:s},vge)}if(""===f&&(f=void 0),p&&null!=d&&null!=u&&null!=o){const l=d[o];m=this.getLabelText(s.secondaryLabel,{depth:u,datum:d,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:o,sizeKey:a,sizeName:r,value:l},vge)}return""===m&&(m=void 0),null!=f||null!=m?{label:f,secondaryLabel:m}:void 0})):this.labelData=void 0}sortChildren(e){let{children:t}=e;const i=Array.from(t,((e,t)=>t)).filter((e=>Oge(t[e])>0)).sort(((e,i)=>Oge(t[i])-Oge(t[e])));return{sortedChildrenIndices:i,childAt:e=>{const n=i[e];return t[n]}}}squarify(e,t,i,n){const{index:o,datum:a,children:r}=e;if(t.width<=0||t.height<=0)return i[o]=void 0,void(n[o]=void 0);const s=null!=a?this.getNodePadding(e,t):{top:0,right:0,bottom:0,left:0};i[o]=0===o?void 0:t,n[o]=0===o?void 0:s;const{sortedChildrenIndices:l,childAt:c}=this.sortChildren(e),d=l.every((e=>0===r[e].children.length)),u=t.width-s.left-s.right,h=t.height-s.top-s.bottom;if(u<=0||h<=0)return;const p=l.length;let g=0,f=0,m=1/0,y=l.reduce(((e,t)=>e+Oge(r[t])),0);const v=new Sge(t.x+s.left,t.y+s.top,u,h),b=v.clone();let x=0;for(;x<p;){const e=Oge(c(x)),t=Oge(c(f)),o=b.width<b.height;g+=e;const a=o?b.height:b.width,r=o?b.width:b.height,s=r*t/g;let l=a*g/y;const u=Math.max(s,l)/Math.min(s,l),h=Math.abs(1-u);if(h<m){m=h,x++;continue}g-=e,l=a*g/y;let p=o?b.x:b.y;for(let m=f;m<x;m++){const e=c(m),t=Oge(e),a=o?p:b.x,s=o?b.y:p,u=r*t/g,h=new Sge(a,s,o?u:l,o?l:u);this.applyGap(v,h,d),this.squarify(e,h,i,n),y-=t,p+=u}o?(b.y+=l,b.height-=l):(b.x+=l,b.width-=l),f=x,g=0,m=1/0}const S=b.width<b.height;let M=S?b.x:b.y;for(let A=f;A<p;A++){const e=c(A),t=S?M:b.x,o=S?b.y:M,a=Oge(e)/y,r=b.width*(S?a:1),s=b.height*(S?1:a),l=new Sge(t,o,r,s);this.applyGap(v,l,d),this.squarify(e,l,i,n),M+=S?r:s}}applyGap(e,t,i){const n=i?.5*this.properties.tile.gap:.5*this.properties.group.gap,o=e=>({left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height}),a=o(e),r=o(t);["top","right","bottom","left"].forEach((e=>{Ige(a[e],r[e])||t.shrink(n,e)}))}async createNodeData(){}async updateSelections(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:e}=this.chart??{};if(!e)return;const t=Array.from(this.rootNode),i=e=>{e.append([new bge,new Age({tag:0}),new Age({tag:1})])};this.groupSelection.update(t,i,(e=>this.getDatumId(e))),this.highlightSelection.update(t,i,(e=>this.getDatumId(e)))}getTileFormat(e,t){const{datum:i,depth:n,children:o}=e,{colorKey:a,childrenKey:r,labelKey:s,secondaryLabelKey:l,sizeKey:c,tile:d,group:u,itemStyler:h}=this.properties;if(!h||null==i||null==n)return{};const p=0===o.length,g=this.getNodeFill(e),f=this.getNodeStroke(e),m=p?d.strokeWidth:u.strokeWidth;return this.ctx.callbackCache.call(h,{seriesId:this.id,highlighted:t,datum:i,depth:n,colorKey:a,childrenKey:r,labelKey:s,secondaryLabelKey:l,sizeKey:c,fill:g,fillOpacity:1,stroke:f,strokeWidth:m,strokeOpacity:1})}getNodeFill(e){if(0===e.children.length)return this.properties.tile.fill??e.fill;const{undocumentedGroupFills:t}=this.properties,i=t[Math.min(e.depth??0,t.length)];return this.properties.group.fill??i}getNodeStroke(e){if(0===e.children.length)return this.properties.tile.stroke??e.stroke;const{undocumentedGroupStrokes:t}=this.properties,i=t[Math.min(e.depth??0,t.length)];return this.properties.group.stroke??i}async updateNodes(){const{rootNode:e,data:t}=this,{highlightStyle:i,tile:n,group:o}=this.properties,{seriesRect:a}=this.chart??{};if(!a||!t)return;const{width:r,height:s}=a,l=Array.from(this.rootNode,(()=>{})),c=Array.from(this.rootNode,(()=>{}));this.squarify(e,new Sge(0,0,r,s),l,c);let d=this.ctx.highlightManager?.getActiveHighlight();null==d||this.properties.group.interactive||0===d.children.length||(d=void 0),this.updateNodeMidPoint(l);const u=(e,t,a)=>{const r=l[e.index];if(null==r)return void(t.visible=!1);const s=0===e.children.length;let d,u,h,p,g;if(a){const{tile:e,group:t}=i;d=s?e.fill:t.fill,u=s?e.fillOpacity:t.fillOpacity,h=s?e.stroke:t.stroke,p=s?e.strokeWidth:t.strokeWidth,g=s?e.strokeOpacity:t.strokeOpacity}const f=this.getTileFormat(e,a),m=f?.fill??d??this.getNodeFill(e),y=f?.fillOpacity??u??(s?n.fillOpacity:o.fillOpacity),v=f?.stroke??h??this.getNodeStroke(e),b=f?.strokeWidth??p??(s?n.strokeWidth:o.strokeWidth),x=f?.strokeOpacity??g??(s?n.strokeOpacity:o.strokeOpacity);t.crisp=!0,t.fill=Ege(m),t.fillOpacity=y,t.stroke=Ege(v),t.strokeWidth=b,t.strokeOpacity=x,t.cornerRadius=s?n.cornerRadius:o.cornerRadius;const S=e.parent?.children.every((e=>0===e.children.length)),M=null!=e.parent?l[e.parent.index]:void 0,A=null!=e.parent?c[e.parent.index]:void 0;!0===S&&null!=M&&null!=A?(t.clipBBox=r,t.x=M.x+A.left,t.y=M.y+A.top,t.width=M.width-(A.left+A.right),t.height=M.height-(A.top+A.bottom)):(t.clipBBox=void 0,t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height),t.visible=!0};this.groupSelection.selectByClass(bge).forEach((e=>u(e.datum,e,!1))),this.highlightSelection.selectByClass(bge).forEach((e=>{const t=e.datum===d;e.visible=t||(d?.contains(e.datum)??!1),e.visible&&u(e.datum,e,t)}));const h=Array.from(this.rootNode,(e=>{const{index:t,children:i}=e,a=l[t],r=this.labelData?.[t];if(null!=a&&null!=r){if(0===i.length){const e={width:a.width,height:a.height,meta:null},t=D7(r.label,this.properties.tile.label,r.secondaryLabel,this.properties.tile.secondaryLabel,{padding:n.padding},(()=>e));if(null==t)return;const{height:i,label:o,secondaryLabel:s}=t,{textAlign:l,verticalAlign:c,padding:d}=n,u=Lge[l]??.5,h=a.x+d+(a.width-2*d)*u,p=Tge[c]??.5,g=a.y+d+.5*i+(a.height-2*d-i)*p;return{label:null!=o?{text:o.text,fontSize:o.fontSize,lineHeight:o.lineHeight,style:this.properties.tile.label,x:h,y:g-.5*(i-o.height)}:void 0,secondaryLabel:null!=s?{text:s.text,fontSize:s.fontSize,lineHeight:s.fontSize,style:this.properties.tile.secondaryLabel,x:h,y:g+.5*(i-s.height)}:void 0,verticalAlign:"middle",textAlign:l}}if(null!=r?.label){const{padding:t,textAlign:i}=o,n=this.groupTitleHeight(e,a);if(null==n)return;const s=a.width-2*t,l=yge.wrapText(r.label,{maxWidth:a.width-2*t,font:o.label,textWrap:"never"}),c=Lge[i]??.5;return{label:{text:l,fontSize:o.label.fontSize,lineHeight:mge.getLineHeight(o.label.fontSize),style:this.properties.group.label,x:a.x+t+s*c,y:a.y+t+.5*n},secondaryLabel:void 0,verticalAlign:"middle",textAlign:i}}}})),p=(e,t,n,o)=>{const a=0===e.children.length,r=h[e.index],s=0===n?r?.label:r?.secondaryLabel;if(null==r||null==s)return void(t.visible=!1);let l;if(o){const{tile:e,group:t}=i;l=e.secondaryLabel.color,a?0===n&&(l=e.label.color):l=t.label.color}t.text=s.text,t.fontSize=s.fontSize,t.lineHeight=s.lineHeight,t.fontStyle=s.style.fontStyle,t.fontFamily=s.style.fontFamily,t.fontWeight=s.style.fontWeight,t.fill=l??s.style.color,t.textAlign=r.textAlign,t.textBaseline=r.verticalAlign,t.x=s.x,t.y=s.y,t.visible=!0};this.groupSelection.selectByClass(Age).forEach((e=>{p(e.datum,e,e.tag,!1)})),this.highlightSelection.selectByClass(Age).forEach((e=>{const t=e.datum===d;e.visible=t||(d?.contains(e.datum)??!1),e.visible&&p(e.datum,e,e.tag,t)}))}updateNodeMidPoint(e){this.rootNode.walk((t=>{const i=e[t.index];null!=i&&(t.midPoint.x=i.x+i.width/2,t.midPoint.y=i.y)}))}pickNodeClosestDatum(e){const t=this.pickNodeExactShape(e);return void 0!==t?t:this.pickNodeNearestDistantObject(e,this.groupSelection.nodes())}getTooltipHtml(e){const{datum:t,depth:i}=e,{id:n}=this,{tooltip:o,colorKey:a,colorName:r=a,labelKey:s,secondaryLabelKey:l,sizeKey:c,sizeName:d=c,childrenKey:u}=this.properties,h=0===e.children.length,p=h||this.properties.group.interactive;if(null==t||null==i||!p)return MW.EMPTY_TOOLTIP_CONTENT;const g=null!=s?t[s]:void 0,f=this.getTileFormat(e,!1),m=f?.fill??this.getNodeFill(e);if(!o.renderer&&!g)return MW.EMPTY_TOOLTIP_CONTENT;const y=[],v=null!=l?t[l]:void 0;null!=v&&l!==a&&l!==c&&y.push(Dge(v));const b=null!=c?t[c]:void 0;null!=b&&y.push(`${d}: ${Dge(b)}`);const x=null!=a?t[a]:void 0;null!=x&&y.push(`${r}: ${Dge(x)}`);const S=y.join("<br>"),M={title:g,color:h?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:m,content:S};return o.toTooltipHtml(M,{depth:i,datum:t,colorKey:a,labelKey:s,secondaryLabelKey:l,sizeKey:c,title:g,color:m,seriesId:n,childrenKey:u,colorName:r,itemId:void 0,sizeName:d})}pickFocus(e){const{focusPath:t}=this;(t.length<2||null==this.focusSorted)&&(t.length=1,this.focusSorted=this.sortChildren(t[0].nodeDatum),t.push({nodeDatum:this.focusSorted.childAt(0),childIndex:0}));const{datumIndexDelta:i,otherIndexDelta:n}=e,o=t[t.length-1];if(1===n){if(o.nodeDatum.children.length>0){this.focusSorted=this.sortChildren(o.nodeDatum);const e={nodeDatum:this.focusSorted.childAt(0),childIndex:0};return t.push(e),this.computeFocusOutputs(e)}}else if(0!==i){const e=o.childIndex+i,t=(o.nodeDatum.parent?.children.length??1)-1;return o.childIndex=Cge(0,e,t),o.nodeDatum=this.focusSorted.childAt(o.childIndex),this.computeFocusOutputs(o)}const a=super.pickFocus(e);return n<0&&(this.focusSorted=this.sortChildren(t[t.length-1].nodeDatum.parent)),a}computeFocusBounds(e){const t=this.groupSelection.selectByClass(bge);return rW.Transformable.toCanvas(t[e.index])}};Pge.className="TreemapSeries",Pge.type="treemap";var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:zge,DEFAULT_FONT_FAMILY:jge,DEFAULT_HIERARCHY_FILLS:Bge,DEFAULT_HIERARCHY_STROKES:$ge,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:Fge,DEFAULT_LABEL_COLOUR:_ge,FONT_WEIGHT:Hge}=vW,Wge={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",moduleFactory:e=>new Pge(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{group:{label:{enabled:!0,color:_ge,fontStyle:void 0,fontWeight:Hge.NORMAL,fontSize:12,fontFamily:jge,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:Fge,fontStyle:void 0,fontWeight:Hge.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:jge,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:Fge,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:jge,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:_ge},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:Fge},secondaryLabel:{color:Fge},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:e=>{let{takeColors:t,colorsCount:i,themeTemplateParameters:n}=e;const{fills:o,strokes:a}=t(i);return{fills:o,strokes:a,colorRange:n.get(zge),undocumentedGroupFills:n.get(Bge),undocumentedGroupStrokes:n.get($ge)}}},{DropShadow:Gge,Label:Vge}=rW,{AbstractBarSeriesProperties:Uge,BaseProperties:Kge,PropertiesArray:Yge,SeriesTooltip:Xge,Validate:Zge,BOOLEAN:qge,COLOR_STRING:Qge,FUNCTION:Jge,LINE_DASH:efe,NUMBER:tfe,OBJECT:ife,OBJECT_ARRAY:nfe,POSITIVE_NUMBER:ofe,RATIO:afe,STRING:rfe,UNION:sfe}=MW,lfe=class extends Kge{};GW([Zge(sfe(["subtotal","total"],"a total type"))],lfe.prototype,"totalType",2),GW([Zge(tfe)],lfe.prototype,"index",2),GW([Zge(rfe)],lfe.prototype,"axisLabel",2);var cfe=class extends Kge{};GW([Zge(Jge,{optional:!0})],cfe.prototype,"renderer",2);var dfe=class extends Vge{constructor(){super(...arguments),this.placement="outside-end",this.padding=6}};GW([Zge(sfe(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"start",deprecatedTo:"outside-start"},{value:"end",deprecatedTo:"outside-end"}],"a placement"))],dfe.prototype,"placement",2),GW([Zge(ofe)],dfe.prototype,"padding",2);var ufe=class extends Kge{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=(new Gge).set({enabled:!1}),this.label=new dfe,this.tooltip=new cfe}};GW([Zge(rfe,{optional:!0})],ufe.prototype,"name",2),GW([Zge(Qge)],ufe.prototype,"fill",2),GW([Zge(Qge)],ufe.prototype,"stroke",2),GW([Zge(afe)],ufe.prototype,"fillOpacity",2),GW([Zge(afe)],ufe.prototype,"strokeOpacity",2),GW([Zge(efe)],ufe.prototype,"lineDash",2),GW([Zge(ofe)],ufe.prototype,"lineDashOffset",2),GW([Zge(ofe)],ufe.prototype,"strokeWidth",2),GW([Zge(ofe)],ufe.prototype,"cornerRadius",2),GW([Zge(Jge,{optional:!0})],ufe.prototype,"itemStyler",2),GW([Zge(ife)],ufe.prototype,"shadow",2),GW([Zge(ife)],ufe.prototype,"label",2),GW([Zge(ife)],ufe.prototype,"tooltip",2);var hfe=class extends Kge{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};GW([Zge(qge)],hfe.prototype,"enabled",2),GW([Zge(Qge)],hfe.prototype,"stroke",2),GW([Zge(afe)],hfe.prototype,"strokeOpacity",2),GW([Zge(efe)],hfe.prototype,"lineDash",2),GW([Zge(ofe)],hfe.prototype,"lineDashOffset",2),GW([Zge(ofe)],hfe.prototype,"strokeWidth",2);var pfe=class extends Kge{constructor(){super(...arguments),this.positive=new ufe,this.negative=new ufe,this.total=new ufe}};GW([Zge(ife)],pfe.prototype,"positive",2),GW([Zge(ife)],pfe.prototype,"negative",2),GW([Zge(ife)],pfe.prototype,"total",2);var gfe=class extends Uge{constructor(){super(...arguments),this.item=new pfe,this.totals=new Yge(lfe),this.line=new hfe,this.tooltip=new Xge}};GW([Zge(rfe)],gfe.prototype,"xKey",2),GW([Zge(rfe)],gfe.prototype,"yKey",2),GW([Zge(rfe,{optional:!0})],gfe.prototype,"xName",2),GW([Zge(rfe,{optional:!0})],gfe.prototype,"yName",2),GW([Zge(ife)],gfe.prototype,"item",2),GW([Zge(nfe)],gfe.prototype,"totals",2),GW([Zge(ife)],gfe.prototype,"line",2),GW([Zge(ife)],gfe.prototype,"tooltip",2);var{adjustLabelPlacement:ffe,SeriesNodePickMode:mfe,fixNumericExtent:yfe,valueProperty:vfe,keyProperty:bfe,accumulativeValueProperty:xfe,trailingAccumulatedValueProperty:Sfe,ChartAxisDirection:Mfe,getRectConfig:Afe,updateRect:kfe,checkCrisp:wfe,updateLabelNode:Cfe,prepareBarAnimationFunctions:Ife,collapsedStartingBarPosition:Dfe,resetBarSelectionsFn:Nfe,seriesLabelFadeInAnimation:Efe,resetLabelFn:Ofe,animationValidation:Lfe,DEFAULT_CARTESIAN_DIRECTION_KEYS:Tfe,DEFAULT_CARTESIAN_DIRECTION_NAMES:Rfe,formatValue:Pfe,computeBarFocusBounds:zfe}=MW,{Rect:jfe,motion:Bfe}=rW,{sanitizeHtml:$fe,isContinuous:Ffe}=SW,_fe={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",start:"outside-start",end:"outside-end"},Hfe=class extends MW.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:Tfe,directionNames:Rfe,pickModes:[mfe.NEAREST_NODE,mfe.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:Nfe,label:Ofe}}),this.properties=new gfe,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(e){const{xKey:t,yKey:i,totals:n}=this.properties,{data:o=[]}=this;if(!this.properties.isValid()||!this.visible)return;const a={missingValue:void 0,invalidValue:void 0},r=[],s=n.reduce(((e,t)=>{const i=e.get(t.index);return i?i.push(t):e.set(t.index,[t]),e}),new Map);o.forEach(((e,i)=>{r.push(e),s.get(i)?.forEach((e=>r.push({...e.toJson(),[t]:e.axisLabel})))}));const l=[];this.ctx.animationManager.isSkipped()||l.push(Lfe());const c=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:u,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:c,yScale:d}),{processedData:g}=await this.requestDataModel(e,r,{props:[bfe(t,h,{id:"xValue"}),xfe(i,p,{...a,id:"yCurrent"}),xfe(i,p,{...a,missingValue:0,id:"yCurrentTotal"}),xfe(i,p,{...a,id:"yCurrentPositive",validation:e=>Ffe(e)&&Number(e)>=0}),xfe(i,p,{...a,id:"yCurrentNegative",validation:e=>Ffe(e)&&Number(e)>=0}),Sfe(i,p,{...a,id:"yPrevious"}),vfe(i,p,{id:"yRaw"}),vfe("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:e=>"total"===e||"subtotal"===e}),...u?[MW.SMALLEST_KEY_INTERVAL,MW.LARGEST_KEY_INTERVAL]:[],...l]});this.smallestDataInterval=g.reduced?.smallestKeyInterval,this.largestDataInterval=g.reduced?.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[n],values:o}=t.domain;if(e===this.getCategoryDirection()){const t=i.resolveProcessedDataDefById(this,"xValue");if("key"===t?.def.type&&"category"===t?.def.valueType)return n;const o=e===Mfe.Y,a=this.getCategoryAxis().isReversed();return this.padBandExtent(n,a!==o)}{const e=o[i.resolveProcessedDataIndexById(this,"yCurrent")],t=[Math.min(0,e[0]),Math.max(0,e[1])];return yfe(t)}}async createNodeData(){const{data:e,dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!e||!i||!n||!t)return;const{line:o}=this.properties,a=i.scale,r=n.scale,s=this.getBarDirection()===Mfe.X,l=this.getBandwidth(i)??10,c=i.isReversed(),d=n.isReversed();if("ungrouped"!==this.processedData?.type)return;const u={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return u;const h=t.resolveProcessedDataIndexById(this,"yRaw"),p=t.resolveProcessedDataIndexById(this,"xValue"),g=t.resolveProcessedDataIndexById(this,"totalTypeValue"),f=[],m=t.resolveProcessedDataIndexById(this,"yCurrent"),y=t.resolveProcessedDataIndexById(this,"yPrevious"),v=t.resolveProcessedDataIndexById(this,"yCurrentTotal");let b=0;const{xKey:x,yKey:S,xName:M,yName:A}=this.properties;this.processedData?.data.forEach(((e,t)=>{let{keys:i,datum:n,values:k}=e;const w=k[g],C=this.isSubtotal(w),I=this.isTotal(w),D=I||C,N=i[p],E=Math.round(a.convert(N)),O=k[h],{cumulativeValue:L,trailingValue:T}=function(e,t,i){return e||t?{cumulativeValue:i[v],trailingValue:t?b:0}:{cumulativeValue:i[m],trailingValue:i[y]}}(I,C,k);D&&(b=L??0);const R=Math.round(r.convert(L)),P=Math.round(r.convert(T)),z=function(e,t,i,n,o){return e?n:t?(n??0)-(o??0):i}(I,C,O,L,T),j=(z??0)>=0,B=this.getSeriesItemType(j,w),{fill:$,stroke:F,strokeWidth:_,label:H}=this.getItemConfig(B),W=j?R:P,G=j?P:R,V=Math.max(_,Math.abs(G-W)),U={x:s?Math.min(W,G):E,y:s?E:Math.min(W,G),width:s?V:l,height:s?l:V},K={x:U.x+U.width/2,y:U.y+U.height/2},Y=D?R:P,X=Math.floor(o.strokeWidth)%2/2,Z=c?R:Y,q=c?Y:R;let Q,J;s?(Q={x:Z+X,y:U.y},J={x:q+X,y:U.y+U.height}):(Q={x:U.x,y:Z+X},J={x:U.x+U.width,y:q+X});const ee={x:c?J.x:Q.x,y:c?J.y:Q.y,x2:c?Q.x:J.x,y2:c?Q.y:J.y,size:0};f.push(ee);const te="subtotal"===B?"total":B,ie=this.getLabelText(H,{itemId:te,value:z,datum:n,xKey:x,yKey:S,xName:M,yName:A},Pfe),ne={index:t,series:this,itemId:B,datum:n,cumulativeValue:L??0,xValue:N,yValue:z,yKey:S,xKey:x,x:U.x,y:U.y,width:U.width,height:U.height,midPoint:K,fill:$,stroke:F,strokeWidth:_,opacity:1,label:{text:ie,...ffe({isUpward:(z??-1)>=0!==d,isVertical:!s,placement:_fe[H.placement],padding:H.padding,rect:U})}};u.nodeData.push(ne),u.labelData.push(ne)}));const k=this.properties.line.enabled;return void 0!==m&&k&&(u.pointData=f),u}updateSeriesItemTypes(){const{dataModel:e,seriesItemTypes:t,processedData:i}=this;if(!e||!i)return;t.clear();const n=e.resolveProcessedDataIndexById(this,"yCurrentPositive"),o=e.resolveProcessedDataIndexById(this,"yCurrentNegative"),a=e.resolveProcessedDataIndexById(this,"totalTypeValue"),r=i.domain.values[n]??[],s=i.domain.values[o]??[];r.length>0&&t.add("positive"),s.length>0&&t.add("negative");const l=i?.domain.values[a];l&&l.forEach((e=>{"total"!==e&&"subtotal"!==e||t.add("total")}))}isSubtotal(e){return"subtotal"===e}isTotal(e){return"total"===e}nodeFactory(){return new jfe}getSeriesItemType(e,t){return t??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n)}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,ctx:o}=this,{yKey:a,highlightStyle:{item:r}}=this.properties,s=this.getCategoryAxis(),l=wfe(s?.scale,s?.visibleRange,this.smallestDataInterval,this.largestDataInterval),c=this.getCategoryDirection()===Mfe.X;t.each(((e,t)=>{const s=t.itemId,{fillOpacity:d,strokeOpacity:u,strokeWidth:h,lineDash:p,lineDashOffset:g,cornerRadius:f,itemStyler:m,shadow:y}=this.getItemConfig(s),v={fill:t.fill,stroke:t.stroke,fillOpacity:d,strokeOpacity:u,lineDash:p,lineDashOffset:g,fillShadow:y,strokeWidth:this.getStrokeWidth(h),cornerRadius:f},b=c?t.width>0:t.height>0,x=Afe({datum:t,isHighlighted:i,style:v,highlightStyle:r,itemStyler:m,seriesId:n,itemId:t.itemId,ctx:o,value:t.yValue,yKey:a});x.crisp=l,x.visible=b,kfe(e,x)}))}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;if(0===t.length)return i.update([]);const n=t.filter((e=>{const{label:t}=this.getItemConfig(e.itemId);return t.enabled}));return i.update(n)}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{Cfe(e,this.getItemConfig(t.itemId).label,t.label)}))}getTooltipHtml(e){const t=this.getCategoryAxis(),i=this.getValueAxis();if(!this.properties.isValid()||!t||!i)return MW.EMPTY_TOOLTIP_CONTENT;const{id:n}=this,{xKey:o,yKey:a,xName:r,yName:s,tooltip:l}=this.properties,{datum:c,itemId:d,xValue:u,yValue:h}=e,{fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v=[],lineDashOffset:b,cornerRadius:x,name:S,itemStyler:M}=this.getItemConfig(d);let A;M&&(A=this.ctx.callbackCache.call(M,{datum:c,xKey:o,yKey:a,fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:b,cornerRadius:x,highlighted:!1,seriesId:n,itemId:e.itemId}));const k=A?.fill??p??"gray",w=$fe(t.formatDatum(u)),C=$fe(i.formatDatum(h)),I=this.isTotal(d),D=this.isSubtotal(d);let N;N=I?"Total":D?"Subtotal":S??s??a;const E=$fe(s),O=`<b>${$fe(r??o)}</b>: ${w}<br/><b>${$fe(N)}</b>: ${C}`;return l.toTooltipHtml({title:E,content:O,backgroundColor:k},{seriesId:n,itemId:d,datum:c,xKey:o,yKey:a,xName:r,yName:s,color:k,title:E})}getLegendData(e){if("category"!==e)return[];const{id:t,seriesItemTypes:i}=this,n=[];return i.forEach((e=>{const{fill:i,stroke:o,fillOpacity:a,strokeOpacity:r,strokeWidth:s,name:l}=this.getItemConfig(e);var c;n.push({legendType:"category",id:t,itemId:e,seriesId:t,enabled:!0,label:{text:l??(c=e,c.charAt(0).toUpperCase()+c.substring(1))},symbols:[{marker:{fill:i,stroke:o,fillOpacity:a,strokeOpacity:r,strokeWidth:s}}]})})),n}toggleSeriesItem(){}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i,contextData:n,paths:o}=e;const a=Ife(Dfe(this.isVertical(),this.axes,"normal"));Bfe.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],a),Efe(this,"labels",this.ctx.animationManager,i);const{pointData:r}=n;if(!r)return;const[s]=o;this.isVertical()?this.animateConnectorLinesVertical(s,r):this.animateConnectorLinesHorizontal(s,r)}animateConnectorLinesHorizontal(e,t){const{path:i}=e;this.updateLineNode(e);const n=this.getValueAxis(),o=n?.isReversed(),a=o?(e,t)=>e<t:(e,t)=>e>t,r=n?.scale.convert(0),s=t.reduce(((e,t)=>(a(t.x,e)&&(e=t.x),e)),o?1/0:0),l=(e,t,i,n,o)=>(e-t)/(i-t)*(o-n)+n;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:r,to:s,ease:MW.Motion.easeOut,collapsable:!1,onUpdate(n){i.clear(!0),t.forEach(((e,t)=>{const o=l(n,r,s,r,e.x),a=l(n,r,s,r,e.x2);0!==t&&i.lineTo(o,e.y),i.moveTo(a,e.y2)})),e.checkPathDirty()}})}animateConnectorLinesVertical(e,t){const{path:i}=e;this.updateLineNode(e);const n=this.getValueAxis(),o=n?.isReversed(),a=o?(e,t)=>e>t:(e,t)=>e<t,r=n?.scale.convert(0),s=t.reduce(((e,t)=>(a(t.y,e)&&(e=t.y),e)),o?0:1/0),l=(e,t,i,n,o)=>(e-t)/(i-t)*(o-n)+n;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:r,to:s,ease:MW.Motion.easeOut,collapsable:!1,onUpdate(n){i.clear(!0),t.forEach(((e,t)=>{const o=l(n,r,s,r,e.y),a=l(n,r,s,r,e.y2);0!==t&&i.lineTo(e.x,o),i.moveTo(e.x2,a)})),e.checkPathDirty()}})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}async updatePaths(e){this.resetConnectorLinesPath({contextData:e.contextData,paths:e.paths})}resetConnectorLinesPath(e){let{contextData:t,paths:i}=e;if(0===i.length)return;const[n]=i;this.updateLineNode(n);const{path:o}=n;o.clear(!0);const{pointData:a}=t;a&&(a.forEach(((e,t)=>{0!==t&&o.lineTo(e.x,e.y),o.moveTo(e.x2,e.y2)})),n.checkPathDirty())}updateLineNode(e){const{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:o,lineDashOffset:a}=this.properties.line;e.setProperties({fill:void 0,stroke:t,strokeWidth:this.getStrokeWidth(i),strokeOpacity:n,lineDash:o,lineDashOffset:a,lineJoin:"round",pointerEvents:rW.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:t,total:i}=this.properties.item;return e.label.enabled||t.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return zfe(this.contextNodeData?.nodeData[t],this.contentGroup,i)}};Hfe.className="WaterfallSeries",Hfe.type="waterfall";var Wfe={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:vW.FONT_WEIGHT.NORMAL,fontSize:12,fontFamily:vW.DEFAULT_FONT_FAMILY,color:vW.DEFAULT_LABEL_COLOUR,formatter:void 0,placement:"outside-end"}},Gfe={series:{item:{positive:Wfe,negative:Wfe,total:Wfe},line:{stroke:vW.PALETTE_NEUTRAL_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,toggleSeries:!1}},Vfe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:e=>new Hfe(e),tooltipDefaults:{range:"exact"},defaultAxes:vW.swapAxisCondition([{type:vW.CARTESIAN_AXIS_TYPE.NUMBER,position:vW.CARTESIAN_POSITION.LEFT},{type:vW.CARTESIAN_AXIS_TYPE.CATEGORY,position:vW.CARTESIAN_POSITION.BOTTOM}],(e=>"horizontal"===e?.direction)),themeTemplate:Gfe,paletteFactory:e=>{let{takeColors:t,colorsCount:i,userPalette:n,palette:o}=e;if("user-indexed"===n){const{fills:e,strokes:n}=t(i);return{line:{stroke:o.neutral.stroke},item:{positive:{fill:e[0],stroke:n[0]},negative:{fill:e[1],stroke:n[1]},total:{fill:e[2],stroke:n[2]}}}}return{line:{stroke:o.neutral.stroke},item:{positive:{fill:o.altUp.fill,stroke:o.altUp.stroke,label:{color:vW.DEFAULT_LABEL_COLOUR}},negative:{fill:o.altDown.fill,stroke:o.altDown.stroke,label:{color:vW.DEFAULT_LABEL_COLOUR}},total:{fill:o.neutral.fill,stroke:o.neutral.stroke,label:{color:vW.DEFAULT_LABEL_COLOUR}}}}}};MW.moduleRegistry.register(eV,bV,bU,EJ,VJ,I1,h5,j6,B8,B9,v7,Ure,U5,JJ,u0,j0,W0,v1,nie,Pne,Jie,Doe,Pae,Xoe,U1,p2,y3,mee,Ore,AV,Mle,kle,gce,kce,nU,_de,pU,Ihe,zue,Ase,Spe,Vpe,N2,Wge,Vfe,q4),MW.enterpriseModule.isEnterprise=!0,MW.enterpriseModule.styles='.ag-watermark{position:absolute;bottom:20px;right:25px;font-weight:700;font-family:Impact,sans-serif;font-size:19px;opacity:.7;animation:1s ease-out 3s ag-watermark-fadeout;color:#9b9b9b;pointer-events:none;&:before{content:"";display:block;height:40px;width:170px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);background-repeat:no-repeat;background-size:170px 40px}>span{padding-left:.7rem}}@keyframes ag-watermark-fadeout{0%{opacity:.5}to{opacity:0}}.ag-charts-popover{position:absolute;border:var(--ag-charts-popover-border);border-radius:var(--ag-charts-popover-border-radius);background:var(--ag-charts-popover-background-color);color:var(--ag-charts-popover-foreground-color);font-family:var(--ag-charts-font-family);font-size:var(--ag-charts-popover-font-size);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{display:grid;grid:auto-flow auto / 1fr;column-gap:12px;min-width:200px;font-size:var(--ag-charts-popover-font-size-small);--item-padding: 6px 12px;--icon-color: var(--ag-charts-popover-foreground-color)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-popover-hover-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-popover-active-color);background:var(--ag-charts-popover-active-background-color);color:var(--ag-charts-popover-active-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-dialog{display:flex;flex-direction:column;font-size:14px}.ag-charts-dialog__tabs{display:flex;flex-direction:column}.ag-charts-dialog__header{border-bottom:1px solid var(--ag-charts-border-color);display:flex}.ag-charts-dialog__tab-list{display:flex;gap:var(--ag-charts-input-spacing)}.ag-charts-dialog__drag-handle{align-items:center;color:inherit;cursor:grab;display:flex;padding:1px 6px;text-align:center}.ag-charts-dialog__drag-handle--dragging{cursor:grabbing}.ag-charts-dialog__tab-button{background:none;border:0;border-bottom:2px solid transparent;border-radius:0;color:var(--ag-charts-dialog-tab-color--inactive);margin-bottom:-1px;padding:var(--ag-charts-input-padding) calc(var(--ag-charts-input-padding) / 2)}.ag-charts-dialog__tab-button:hover{background:none}.ag-charts-dialog__tab-button--active{border-color:currentColor;color:inherit}.ag-charts-dialog__drag-handle+.ag-charts-dialog__tab-button{margin-left:calc(var(--ag-charts-input-spacing) * -1)}.ag-charts-button.ag-charts-dialog__close-button{background:none;border:0;margin-left:auto;padding:1px 6px}.ag-charts-dialog__close-button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-dialog__tab-panel{display:none;flex-direction:column;gap:calc(var(--ag-charts-input-spacing) * 2);margin:0 calc(var(--ag-charts-input-spacing) * 2);padding:calc(var(--ag-charts-input-spacing) * 2) 0}.ag-charts-dialog__tab-panel--active{display:flex}.ag-charts-dialog__input-group-line{display:flex;gap:18px}.ag-charts-dialog__input-group{align-items:center;display:flex;font-size:12px}.ag-charts-dialog__input-group-label{color:var(--ag-charts-dialog-input-group-label-color);margin-right:5px}.ag-charts-dialog__input-group-label[for]{cursor:pointer}.ag-charts-dialog__button{border-radius:0;margin-right:-1px}.ag-charts-dialog__button.ag-charts-dialog__button--active{background:var(--ag-charts-input-background-color--active);border-color:var(--ag-charts-input-border-color--active);color:var(--ag-charts-input-color--active);z-index:var(--input-layer-active)}.ag-charts-dialog__button:first-child,.ag-charts-dialog__input-group-label+.ag-charts-dialog__button{border-bottom-left-radius:var(--ag-charts-input-border-radius);border-top-left-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__button:last-child{border-bottom-right-radius:var(--ag-charts-input-border-radius);border-top-right-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__color-picker-button{--color: #000;background:var(--color);border:none;color:transparent;height:26px;width:26px}.ag-charts-dialog__color-picker-button:hover{background:var(--color)}.ag-charts-color-picker{width:190px;padding:8px;--h: 0;--s: 0;--v: 0;--a: 0;--color: #000;--color-a: #000;--thumb-size: 18px;--inner-width: 172px;--track-height: 12px;--palette-height: 136px;--checker: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>\')}.ag-charts-color-picker__content{display:flex;flex-direction:column}.ag-charts-color-picker__palette{position:relative;width:100%;height:var(--palette-height);margin-bottom:8px;background:linear-gradient(to bottom,#0000,#000),linear-gradient(to right,#fff,#fff0) hsl(var(--h),100%,50%);border-radius:6px;box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__palette:after{content:"";position:absolute;display:block;top:calc(var(--thumb-size) * -.5 + (1 - var(--v)) * 100%);left:calc(var(--thumb-size) * -.5 + var(--s) * 100%);background:var(--color);width:var(--thumb-size);height:var(--thumb-size);border-radius:99px;box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038}.ag-charts-color-picker__palette:focus-visible:after{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),0 0 0 2px #fff8,var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__hue-input,.ag-charts-color-picker__alpha-input{-webkit-appearance:none;display:block;position:relative;padding:0;margin:0 calc(var(--inset) * -1);border:0;height:var(--thumb-size);width:auto;background:transparent;--inset: calc((var(--thumb-size) - var(--track-height)) / 2)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{-webkit-appearance:none;width:var(--thumb-size);height:var(--thumb-size);border-radius:99px;box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038;transform:translateZ(0)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb{background:hsl(var(--h),100%,50%)}.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{background:transparent}.ag-charts-color-picker__alpha-input--opaque::-webkit-slider-thumb{background:var(--color)}.ag-charts-color-picker__hue-input:focus-visible::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input:focus-visible::-webkit-slider-thumb{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__hue-input:before,.ag-charts-color-picker__alpha-input:before{position:absolute;content:"";display:block;top:calc(50% - var(--track-height) / 2);left:var(--inset);right:var(--inset);height:var(--track-height);border-radius:99px;box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__hue-input{margin-bottom:4px}.ag-charts-color-picker__hue-input:before{background:linear-gradient(to right,red,red calc((100% - var(--track-height)) * 0 / 6 + var(--track-height) / 2),#ff0 calc((100% - var(--track-height)) * 1 / 6 + var(--track-height) / 2),#0f0 calc((100% - var(--track-height)) * 2 / 6 + var(--track-height) / 2),#0ff calc((100% - var(--track-height)) * 3 / 6 + var(--track-height) / 2),#00f calc((100% - var(--track-height)) * 4 / 6 + var(--track-height) / 2),#f0f calc((100% - var(--track-height)) * 5 / 6 + var(--track-height) / 2),red calc((100% - var(--track-height)) * 6 / 6 + var(--track-height) / 2))}.ag-charts-color-picker__alpha-input{margin-bottom:7px}.ag-charts-color-picker__alpha-input:before{background:linear-gradient(to right,transparent,var(--color)),var(--checker) top left / 4px 4px}.ag-charts-color-picker__color-field{display:flex;border:var(--ag-charts-border);background:var(--ag-charts-background-color);border-radius:4px;overflow:hidden}.ag-charts-color-picker__color-field:has(:focus-visible){border-color:var(--ag-charts-active-color);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__color-label{width:16px;height:16px;margin:7px 0 7px 7px;color:transparent;background:linear-gradient(to right,var(--color-a),var(--color-a)),var(--checker) top left / 4px 4px;border-radius:2px;box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__color-input{flex:1;min-width:0;padding:7px 7px 7px 8px;border:0;margin:0;color:inherit;background:transparent;font-variant:tabular-nums}.ag-charts-color-picker__color-input:focus-visible{border:none;outline:none}.ag-charts-annotations__axis-button-wrapper{position:absolute;left:0;top:0;user-select:none;font:16px Verdana,sans-serif;overflow:hidden;white-space:nowrap;z-index:var(--ag-charts-layer-annotations);box-sizing:border-box}.ag-charts-annotations__axis-button-wrapper--hidden{display:none}.ag-charts-annotations__axis-button{cursor:pointer;border:none;border-radius:2px;padding:0;line-height:16px;background-color:var(--ag-charts-axis-label-background-color);color:var(--ag-charts-axis-label-color)}.ag-charts-annotations__axis-button:hover{opacity:.8;color:var(--ag-charts-axis-label-color)}.annotations__text-size{width:34px;min-width:0;border-top-left-radius:0;border-top-right-radius:0;--item-padding: 4px 8px}.annotations__line-stroke-width{min-width:0;--item-padding: 6px;column-gap:var(--item-padding)}.annotations__line-style-type{min-width:0;--item-padding: 6px;column-gap:0}.ag-charts-dialog--annotation-settings{min-height:233px;width:289px}.ag-charts-dialog--annotation-settings .ag-charts-textarea{height:calc(10px * 2 + var(--line-height) * 1em * 3 + 2px);overflow-y:auto;resize:vertical}.ag-charts-annotations-text-size-menu{border-top-left-radius:0;border-top-right-radius:0;min-width:0;width:34px;--item-padding: 4px 8px}.ag-chart-context-menu{background:#f8f8f8;border:1px solid #babfc7;border-radius:5px;box-shadow:0 1px 4px 1px #babfc766;color:#181d1f;font:13px Verdana,sans-serif;transition:transform .1s ease;white-space:nowrap;z-index:var(--ag-charts-layer-ui-overlay)}.ag-chart-context-menu.ag-charts-dark-context-menu{color:#fff;background:#15181c}.ag-chart-context-menu__cover{position:fixed;left:0;top:0}.ag-chart-context-menu__menu{display:flex;flex-direction:column;padding:.5em 0}.ag-chart-context-menu__menu:focus{outline:none}.ag-chart-context-menu__item{background:none;border:none;box-sizing:border-box;font:inherit;padding:.5em 1em;text-align:left;-webkit-appearance:none;-moz-appearance:none}.ag-chart-context-menu__item.ag-charts-dark-context-menu{color:#fff}.ag-chart-context-menu__item:focus{background:#2196f31a}.ag-chart-context-menu__item:focus.ag-charts-dark-context-menu{background:#2196f31a}.ag-chart-context-menu__item:active{background:#2196f333}.ag-chart-context-menu__item:active.ag-charts-dark-context-menu{background:#2196f31a}.ag-chart-context-menu__item:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-chart-context-menu__item[aria-disabled=true]{border:none;opacity:.5;text-align:left}.ag-chart-context-menu__item[aria-disabled=true]:focus{background:inherit;cursor:inherit}.ag-chart-context-menu__divider{margin:5px 0;background:#babfc7;height:1px}.ag-chart-context-menu__divider.ag-charts-dark-context-menu{background:#2196f31a}.ag-crosshair-label{position:absolute;left:0;top:0;user-select:none;pointer-events:none;font:12px Verdana,sans-serif;overflow:hidden;white-space:nowrap;z-index:var(--ag-charts-layer-crosshair);box-sizing:border-box}.ag-crosshair-label-content{padding:0 8px;border-radius:2px;line-height:20px;background-color:var(--ag-charts-axis-label-background-color);color:var(--ag-charts-axis-label-color)}.ag-crosshair-label-hidden{visibility:hidden!important}.ag-charts-text-input{position:absolute}.ag-charts-text-input__textarea{display:block;height:100%;width:100%;border:0;background:none;line-height:1.38;transform:translateY(.09em)}.ag-charts-text-input__textarea[placeholder]:empty:before{content:attr(placeholder);color:var(--ag-charts-input-placeholder-color);font-weight:400}.ag-charts-text-input__textarea[placeholder]:not(:empty):before{content:""}\n',MW.enterpriseModule.licenseManager=e=>new A3(e.container?.ownerDocument??("undefined"===typeof document?void 0:document)),MW.enterpriseModule.injectWatermark=w3;const{Content:Ufe,Footer:Kfe}=me,Yfe=()=>{const[t,i]=(0,e.useState)(Re),[n,o]=(0,e.useState)(!1),[a,r]=(0,e.useState)(0),{token:{colorBgContainer:s}}=Te.useToken();return(0,Ad.jsxs)(me,{children:[(0,Ad.jsx)(Jf,{data:t,setState:i,style:{background:s}}),(0,Ad.jsxs)(Ufe,{style:{padding:"48px"},children:[(0,Ad.jsx)("div",{className:"dashboardWrapper",children:(0,Ad.jsx)(Cd,{open:n,state:t,setState:i,setOpen:o,openAddWidget:e=>{r(e),o(!n)}})}),(0,Ad.jsx)("div",{className:"popUpdWrapper",children:n&&(0,Ad.jsx)(cA,{setOpen:o,state:t,setState:i,id:a,setId:r})})]}),(0,Ad.jsxs)(Kfe,{style:{textAlign:"center"},children:["Ant Design \xa9",(new Date).getFullYear()," Created by Ant UED Ant"]})]})},Xfe=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,6453)).then((t=>{let{getCLS:i,getFID:n,getFCP:o,getLCP:a,getTTFB:r}=t;i(e),n(e),o(e),a(e),r(e)}))};n.createRoot(document.getElementById("root")).render((0,Ad.jsx)(e.StrictMode,{children:(0,Ad.jsx)(Yfe,{})})),Xfe()})()})();
//# sourceMappingURL=main.e486a47f.js.map